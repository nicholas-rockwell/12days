/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var ZY=Object.create;var Xl=Object.defineProperty;var e5=Object.getOwnPropertyDescriptor;var t5=Object.getOwnPropertyNames;var r5=Object.getPrototypeOf,n5=Object.prototype.hasOwnProperty;var L=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var v=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Fe=(e,t)=>{for(var r in t)Xl(e,r,{get:t[r],enumerable:!0})},_C=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of t5(t))!n5.call(e,o)&&o!==r&&Xl(e,o,{get:()=>t[o],enumerable:!(n=e5(t,o))||n.enumerable});return e};var P=(e,t,r)=>(r=e!=null?ZY(r5(e)):{},_C(t||!e||!e.__esModule?Xl(r,"default",{value:e,enumerable:!0}):r,e)),V=e=>_C(Xl({},"__esModule",{value:!0}),e);import{createRequire as o5}from"node:module";import s5 from"node:path";import i5 from"node:url";var a=v(()=>{global.require=o5(import.meta.url);global.__filename=i5.fileURLToPath(import.meta.url);global.__dirname=s5.dirname(__filename)});var or=b((Oke,xC)=>{a();var Ql=Object.defineProperty,a5=Object.getOwnPropertyDescriptor,c5=Object.getOwnPropertyNames,l5=Object.prototype.hasOwnProperty,Zl=(e,t)=>Ql(e,"name",{value:t,configurable:!0}),u5=(e,t)=>{for(var r in t)Ql(e,r,{get:t[r],enumerable:!0})},d5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c5(t))!l5.call(e,o)&&o!==r&&Ql(e,o,{get:()=>t[o],enumerable:!(n=a5(t,o))||n.enumerable});return e},p5=e=>d5(Ql({},"__esModule",{value:!0}),e),EC={};u5(EC,{AlgorithmId:()=>TC,EndpointURLScheme:()=>bC,FieldPosition:()=>wC,HttpApiKeyAuthLocation:()=>SC,HttpAuthLocation:()=>vC,IniSectionType:()=>PC,RequestHandlerProtocol:()=>CC,SMITHY_CONTEXT_KEY:()=>y5,getDefaultClientConfiguration:()=>h5,resolveDefaultRuntimeConfig:()=>g5});xC.exports=p5(EC);var vC=(e=>(e.HEADER="header",e.QUERY="query",e))(vC||{}),SC=(e=>(e.HEADER="header",e.QUERY="query",e))(SC||{}),bC=(e=>(e.HTTP="http",e.HTTPS="https",e))(bC||{}),TC=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(TC||{}),f5=Zl(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),m5=Zl(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),h5=Zl(e=>f5(e),"getDefaultClientConfiguration"),g5=Zl(e=>m5(e),"resolveDefaultRuntimeConfig"),wC=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(wC||{}),y5="__smithy_context",PC=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(PC||{}),CC=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(CC||{})});var sr=b((Ake,IC)=>{a();var eu=Object.defineProperty,_5=Object.getOwnPropertyDescriptor,E5=Object.getOwnPropertyNames,v5=Object.prototype.hasOwnProperty,RC=(e,t)=>eu(e,"name",{value:t,configurable:!0}),S5=(e,t)=>{for(var r in t)eu(e,r,{get:t[r],enumerable:!0})},b5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E5(t))!v5.call(e,o)&&o!==r&&eu(e,o,{get:()=>t[o],enumerable:!(n=_5(t,o))||n.enumerable});return e},T5=e=>b5(eu({},"__esModule",{value:!0}),e),AC={};S5(AC,{getSmithyContext:()=>w5,normalizeProvider:()=>P5});IC.exports=T5(AC);var OC=or(),w5=RC(e=>e[OC.SMITHY_CONTEXT_KEY]||(e[OC.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),P5=RC(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});function _s(e){return NC.includes(e)}var zi,NC,tu=v(()=>{a();zi="preferred",NC=["disabled","preferred","required"]});var DC,C5,MC=v(()=>{a();DC=P(sr());tu();C5=e=>{let{accountIdEndpointMode:t}=e,r=(0,DC.normalizeProvider)(t??zi);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!_s(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var kC,LC,UC,FC,x5,BC=v(()=>{a();tu();kC="Invalid AccountIdEndpointMode value",LC=e=>{throw new Error(e)},UC="AWS_ACCOUNT_ID_ENDPOINT_MODE",FC="account_id_endpoint_mode",x5={environmentVariableSelector:e=>{let t=e[UC];return t&&!_s(t)&&LC(kC),t},configFileSelector:e=>{let t=e[FC];return t&&!_s(t)&&LC(kC),t},default:zi}});var qg={};Fe(qg,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>NC,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>FC,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>zi,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>UC,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>x5,resolveAccountIdEndpointModeConfig:()=>C5,validateAccountIdEndpointMode:()=>_s});var Gg=v(()=>{a();MC();tu();BC()});var JC=b((Gke,KC)=>{a();var ru=Object.defineProperty,O5=Object.getOwnPropertyDescriptor,R5=Object.getOwnPropertyNames,A5=Object.prototype.hasOwnProperty,nu=(e,t)=>ru(e,"name",{value:t,configurable:!0}),I5=(e,t)=>{for(var r in t)ru(e,r,{get:t[r],enumerable:!0})},N5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R5(t))!A5.call(e,o)&&o!==r&&ru(e,o,{get:()=>t[o],enumerable:!(n=O5(t,o))||n.enumerable});return e},D5=e=>N5(ru({},"__esModule",{value:!0}),e),jC={};I5(jC,{AlgorithmId:()=>GC,EndpointURLScheme:()=>qC,FieldPosition:()=>zC,HttpApiKeyAuthLocation:()=>$C,HttpAuthLocation:()=>HC,IniSectionType:()=>VC,RequestHandlerProtocol:()=>WC,SMITHY_CONTEXT_KEY:()=>F5,getDefaultClientConfiguration:()=>L5,resolveDefaultRuntimeConfig:()=>U5});KC.exports=D5(jC);var HC=(e=>(e.HEADER="header",e.QUERY="query",e))(HC||{}),$C=(e=>(e.HEADER="header",e.QUERY="query",e))($C||{}),qC=(e=>(e.HTTP="http",e.HTTPS="https",e))(qC||{}),GC=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(GC||{}),M5=nu(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),k5=nu(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),L5=nu(e=>M5(e),"getDefaultClientConfiguration"),U5=nu(e=>k5(e),"resolveDefaultRuntimeConfig"),zC=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(zC||{}),F5="__smithy_context",VC=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(VC||{}),WC=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(WC||{})});var tx=b((Vke,ex)=>{a();var ou=Object.defineProperty,B5=Object.getOwnPropertyDescriptor,j5=Object.getOwnPropertyNames,H5=Object.prototype.hasOwnProperty,gn=(e,t)=>ou(e,"name",{value:t,configurable:!0}),$5=(e,t)=>{for(var r in t)ou(e,r,{get:t[r],enumerable:!0})},q5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j5(t))!H5.call(e,o)&&o!==r&&ou(e,o,{get:()=>t[o],enumerable:!(n=B5(t,o))||n.enumerable});return e},G5=e=>q5(ou({},"__esModule",{value:!0}),e),YC={};$5(YC,{Field:()=>W5,Fields:()=>K5,HttpRequest:()=>J5,HttpResponse:()=>Y5,IHttpRequest:()=>XC.HttpRequest,getHttpHandlerExtensionConfiguration:()=>z5,isValidHostname:()=>ZC,resolveHttpHandlerRuntimeConfig:()=>V5});ex.exports=G5(YC);var z5=gn(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),V5=gn(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),XC=JC(),W5=class{static{gn(this,"Field")}constructor({name:e,kind:t=XC.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},K5=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{gn(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},J5=class zg{static{gn(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new zg({...t,headers:{...t.headers}});return r.query&&(r.query=QC(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return zg.clone(this)}};function QC(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}gn(QC,"cloneQuery");var Y5=class{static{gn(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function ZC(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}gn(ZC,"isValidHostname")});var nx=b((Xke,rx)=>{a();function $r(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}$r.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&($r.prototype[Symbol.iterator]=function(){return this});$r.of=function(){var e=arguments,t=e.length,r=0;return new $r(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};$r.empty=function(){var e=new $r(null);return e.done=!0,e};$r.is=function(e){return e instanceof $r?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};rx.exports=$r});var Vg=b((Zke,ax)=>{a();var ox=typeof ArrayBuffer<"u",sx=typeof Symbol<"u";function ix(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||ox&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(sx&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}ix.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||ox&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(c){t(c,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(sx&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};ax.exports=ix});var Wg=b(ir=>{a();var X5=Math.pow(2,8)-1,Q5=Math.pow(2,16)-1,Z5=Math.pow(2,32)-1,eX=Math.pow(2,7)-1,tX=Math.pow(2,15)-1,rX=Math.pow(2,31)-1;ir.getPointerArray=function(e){var t=e-1;return t<=X5?Uint8Array:t<=Q5?Uint16Array:t<=Z5?Uint32Array:Float64Array};ir.getSignedPointerArray=function(e){var t=e-1;return t<=eX?Int8Array:t<=tX?Int16Array:t<=rX?Int32Array:Float64Array};ir.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var nX={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};ir.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,c,l;for(c=0,l=e.length;c<l;c++)i=t?t(e[c]):e[c],s=ir.getNumberType(i),o=nX[s.name],o>n&&(n=o,r=s);return r};ir.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};ir.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};ir.indices=function(e){for(var t=ir.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var ux=b(Vi=>{a();var cx=Vg(),lx=Wg();function oX(e){return Array.isArray(e)||lx.isTypedArray(e)}function Kg(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function sX(e){var t=Kg(e),r=typeof t=="number"?new Array(t):[],n=0;return cx(e,function(o){r[n++]=o}),r}function iX(e){var t=Kg(e),r=typeof t=="number"?lx.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return cx(e,function(i){n[s]=i,o[s]=s++}),[n,o]}Vi.isArrayLike=oX;Vi.guessLength=Kg;Vi.toArray=sX;Vi.toArrayWithIndices=iX});var px=b((s1e,dx)=>{a();var Jg=nx(),aX=Vg(),cX=Wg(),lX=ux();function xe(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=cX.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}xe.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};xe.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};xe.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};xe.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};xe.prototype.has=function(e){return e in this.items};xe.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};xe.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};xe.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,c=this.forward;r<n;)e.call(t,i[o],s[o],this),o=c[o],r++};xe.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new Jg(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};xe.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new Jg(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};xe.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new Jg(function(){if(e>=t)return{done:!0};var i=n[r],c=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,c]}})};typeof Symbol<"u"&&(xe.prototype[Symbol.iterator]=xe.prototype.entries);xe.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:xe,enumerable:!1}),e};typeof Symbol<"u"&&(xe.prototype[Symbol.for("nodejs.util.inspect.custom")]=xe.prototype.inspect);xe.from=function(e,t,r,n){if(arguments.length<2){if(n=lX.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new xe(t,r,n);return aX(e,function(s,i){o.set(i,s)}),o};dx.exports=xe});var gx=b((a1e,hx)=>{"use strict";a();var uX=Object.create,Wi=Object.defineProperty,dX=Object.getOwnPropertyDescriptor,pX=Object.getOwnPropertyNames,fX=Object.getPrototypeOf,mX=Object.prototype.hasOwnProperty,hX=(e,t)=>Wi(e,"name",{value:t,configurable:!0}),gX=(e,t)=>{for(var r in t)Wi(e,r,{get:t[r],enumerable:!0})},fx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pX(t))!mX.call(e,o)&&o!==r&&Wi(e,o,{get:()=>t[o],enumerable:!(n=dX(t,o))||n.enumerable});return e},yX=(e,t,r)=>(r=e!=null?uX(fX(e)):{},fx(t||!e||!e.__esModule?Wi(r,"default",{value:e,enumerable:!0}):r,e)),_X=e=>fx(Wi({},"__esModule",{value:!0}),e),mx={};gX(mx,{EndpointCache:()=>vX});hx.exports=_X(mx);var EX=yX(px()),vX=class{static{hX(this,"EndpointCache")}cache;constructor(e){this.cache=new EX.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var Qg=b((u1e,Sx)=>{"use strict";a();var su=Object.defineProperty,SX=Object.getOwnPropertyDescriptor,bX=Object.getOwnPropertyNames,TX=Object.prototype.hasOwnProperty,_t=(e,t)=>su(e,"name",{value:t,configurable:!0}),wX=(e,t)=>{for(var r in t)su(e,r,{get:t[r],enumerable:!0})},PX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bX(t))!TX.call(e,o)&&o!==r&&su(e,o,{get:()=>t[o],enumerable:!(n=SX(t,o))||n.enumerable});return e},CX=e=>PX(su({},"__esModule",{value:!0}),e),vx={};wX(vx,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>xX,endpointDiscoveryMiddlewareOptions:()=>iu,getEndpointDiscoveryOptionalPlugin:()=>NX,getEndpointDiscoveryPlugin:()=>AX,getEndpointDiscoveryRequiredPlugin:()=>IX,resolveEndpointDiscoveryConfig:()=>MX});Sx.exports=CX(vx);var yx=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Yg="endpoint_discovery_enabled",_x=_t(e=>["false","0"].indexOf(e)>=0,"isFalsy"),xX={environmentVariableSelector:_t(e=>{for(let t=0;t<yx.length;t++){let r=yx[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!_x(n)}}},"environmentVariableSelector"),configFileSelector:_t(e=>{if(Yg in e){let t=e[Yg];if(t===void 0)throw Error(`Shared config entry ${Yg} can't be undefined, got "${t}"`);return!_x(t)}},"configFileSelector"),default:void 0},OX=tx(),RX=_t(async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,c])=>({...s,[i]:c}),{})}})},"getCacheKey"),qr={},Ex=_t(async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:c}=t,l=o.get(s);if(l&&l.length===1&&l[0].Address==="")t.isDiscoveredEndpointRequired?(qr[s]||(qr[s]=[]),qr[s].push({resolve:r,reject:n})):r();else if(l&&l.length>0)r();else{let u=[{Address:"",CachePeriodInMinutes:1}];o.set(s,u);let d=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:c});d.resolveMiddleware(t.clientStack,e,t.options)(d).then(h=>{o.set(s,h.output.Endpoints),qr[s]&&(qr[s].forEach(({resolve:g})=>{g()}),delete qr[s]),r()}).catch(h=>{o.delete(s);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:h});qr[s]&&(qr[s].forEach(({reject:y})=>{y(g)}),delete qr[s]),t.isDiscoveredEndpointRequired?n(g):(o.set(s,u),r())})}}),"updateDiscoveredEndpointInCache"),Xg=_t((e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:c}=t,l=n.clientName,u=n.commandName,d=await e.endpointDiscoveryEnabled(),f=await RX(u,e,{identifiers:c});if(i){if(d===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${l} requires it. Please check your configurations.`);await Ex(e,{...t,commandName:u,cacheKey:f,endpointDiscoveryCommandCtor:s})}else d&&Ex(e,{...t,commandName:u,cacheKey:f,endpointDiscoveryCommandCtor:s});let{request:h}=o;if(f&&OX.HttpRequest.isInstance(h)){let g=e.endpointCache.getEndpoint(f);g&&(h.hostname=g)}return r(o)},"endpointDiscoveryMiddleware"),iu={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},AX=_t((e,t)=>({applyToStack:_t(r=>{r.add(Xg(e,t),iu)},"applyToStack")}),"getEndpointDiscoveryPlugin"),IX=_t((e,t)=>({applyToStack:_t(r=>{r.add(Xg(e,{...t,isDiscoveredEndpointRequired:!0}),iu)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),NX=_t((e,t)=>({applyToStack:_t(r=>{r.add(Xg(e,{...t,isDiscoveredEndpointRequired:!1}),iu)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),DX=gx(),MX=_t((e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new DX.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var ye=b((p1e,Cx)=>{a();var au=Object.defineProperty,kX=Object.getOwnPropertyDescriptor,LX=Object.getOwnPropertyNames,UX=Object.prototype.hasOwnProperty,yn=(e,t)=>au(e,"name",{value:t,configurable:!0}),FX=(e,t)=>{for(var r in t)au(e,r,{get:t[r],enumerable:!0})},BX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LX(t))!UX.call(e,o)&&o!==r&&au(e,o,{get:()=>t[o],enumerable:!(n=kX(t,o))||n.enumerable});return e},jX=e=>BX(au({},"__esModule",{value:!0}),e),bx={};FX(bx,{Field:()=>qX,Fields:()=>GX,HttpRequest:()=>zX,HttpResponse:()=>VX,IHttpRequest:()=>Tx.HttpRequest,getHttpHandlerExtensionConfiguration:()=>HX,isValidHostname:()=>Px,resolveHttpHandlerRuntimeConfig:()=>$X});Cx.exports=jX(bx);var HX=yn(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),$X=yn(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),Tx=or(),qX=class{static{yn(this,"Field")}constructor({name:e,kind:t=Tx.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},GX=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{yn(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},zX=class Zg{static{yn(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Zg({...t,headers:{...t.headers}});return r.query&&(r.query=wx(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Zg.clone(this)}};function wx(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}yn(wx,"cloneQuery");var VX=class{static{yn(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Px(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}yn(Px,"isValidHostname")});var ey=b((y1e,Ix)=>{"use strict";a();var lu=Object.defineProperty,WX=Object.getOwnPropertyDescriptor,KX=Object.getOwnPropertyNames,JX=Object.prototype.hasOwnProperty,cu=(e,t)=>lu(e,"name",{value:t,configurable:!0}),YX=(e,t)=>{for(var r in t)lu(e,r,{get:t[r],enumerable:!0})},XX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KX(t))!JX.call(e,o)&&o!==r&&lu(e,o,{get:()=>t[o],enumerable:!(n=WX(t,o))||n.enumerable});return e},QX=e=>XX(lu({},"__esModule",{value:!0}),e),xx={};YX(xx,{getHostHeaderPlugin:()=>eQ,hostHeaderMiddleware:()=>Rx,hostHeaderMiddlewareOptions:()=>Ax,resolveHostHeaderConfig:()=>Ox});Ix.exports=QX(xx);var ZX=ye();function Ox(e){return e}cu(Ox,"resolveHostHeaderConfig");var Rx=cu(e=>t=>async r=>{if(!ZX.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),Ax={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},eQ=cu(e=>({applyToStack:cu(t=>{t.add(Rx(e),Ax)},"applyToStack")}),"getHostHeaderPlugin")});var ry=b((E1e,kx)=>{"use strict";a();var uu=Object.defineProperty,tQ=Object.getOwnPropertyDescriptor,rQ=Object.getOwnPropertyNames,nQ=Object.prototype.hasOwnProperty,ty=(e,t)=>uu(e,"name",{value:t,configurable:!0}),oQ=(e,t)=>{for(var r in t)uu(e,r,{get:t[r],enumerable:!0})},sQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rQ(t))!nQ.call(e,o)&&o!==r&&uu(e,o,{get:()=>t[o],enumerable:!(n=tQ(t,o))||n.enumerable});return e},iQ=e=>sQ(uu({},"__esModule",{value:!0}),e),Nx={};oQ(Nx,{getLoggerPlugin:()=>aQ,loggerMiddleware:()=>Dx,loggerMiddlewareOptions:()=>Mx});kx.exports=iQ(Nx);var Dx=ty(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=c,d=l??t.inputFilterSensitiveLog,f=u??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:d(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l}=c,u=l??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),Mx={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},aQ=ty(e=>({applyToStack:ty(t=>{t.add(Dx(),Mx)},"applyToStack")}),"getLoggerPlugin")});var oy=b((S1e,Bx)=>{"use strict";a();var pu=Object.defineProperty,cQ=Object.getOwnPropertyDescriptor,lQ=Object.getOwnPropertyNames,uQ=Object.prototype.hasOwnProperty,du=(e,t)=>pu(e,"name",{value:t,configurable:!0}),dQ=(e,t)=>{for(var r in t)pu(e,r,{get:t[r],enumerable:!0})},pQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lQ(t))!uQ.call(e,o)&&o!==r&&pu(e,o,{get:()=>t[o],enumerable:!(n=cQ(t,o))||n.enumerable});return e},fQ=e=>pQ(pu({},"__esModule",{value:!0}),e),Lx={};dQ(Lx,{addRecursionDetectionMiddlewareOptions:()=>Fx,getRecursionDetectionPlugin:()=>yQ,recursionDetectionMiddleware:()=>Ux});Bx.exports=fQ(Lx);var mQ=ye(),ny="X-Amzn-Trace-Id",hQ="AWS_LAMBDA_FUNCTION_NAME",gQ="_X_AMZN_TRACE_ID",Ux=du(e=>t=>async r=>{let{request:n}=r;if(!mQ.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(l=>l.toLowerCase()===ny.toLowerCase())??ny;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[hQ],i=process.env[gQ],c=du(l=>typeof l=="string"&&l.length>0,"nonEmptyString");return c(s)&&c(i)&&(n.headers[ny]=i),t({...r,request:n})},"recursionDetectionMiddleware"),Fx={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},yQ=du(e=>({applyToStack:du(t=>{t.add(Ux(e),Fx)},"applyToStack")}),"getRecursionDetectionPlugin")});var sy,_Q,jx=v(()=>{a();sy=P(or()),_Q=e=>e[sy.SMITHY_CONTEXT_KEY]||(e[sy.SMITHY_CONTEXT_KEY]={})});var Hx,$x=v(()=>{a();Hx=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function EQ(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var x1e,qx,Ki,fu=v(()=>{a();x1e=P(or()),qx=P(sr());$x();Ki=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],c=Hx(s,i),l=EQ(e.httpAuthSchemes),u=(0,qx.getSmithyContext)(n),d=[];for(let f of c){let h=l.get(f.schemeId);if(!h){d.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){d.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:_={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},y),f.signingProperties=Object.assign(f.signingProperties||{},_),u.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)}});var Gx,vQ,zx=v(()=>{a();fu();Gx={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},vQ=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ki(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Gx)}})});var Ji=b((k1e,Qx)=>{a();var mu=Object.defineProperty,SQ=Object.getOwnPropertyDescriptor,bQ=Object.getOwnPropertyNames,TQ=Object.prototype.hasOwnProperty,hu=(e,t)=>mu(e,"name",{value:t,configurable:!0}),wQ=(e,t)=>{for(var r in t)mu(e,r,{get:t[r],enumerable:!0})},PQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bQ(t))!TQ.call(e,o)&&o!==r&&mu(e,o,{get:()=>t[o],enumerable:!(n=SQ(t,o))||n.enumerable});return e},CQ=e=>PQ(mu({},"__esModule",{value:!0}),e),Vx={};wQ(Vx,{deserializerMiddleware:()=>Wx,deserializerMiddlewareOption:()=>Jx,getSerdePlugin:()=>Xx,serializerMiddleware:()=>Kx,serializerMiddlewareOption:()=>Yx});Qx.exports=CQ(Vx);var xQ=ye(),Wx=hu((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(xQ.HttpResponse.isInstance(s)){let{headers:l={}}=s,u=Object.entries(l);i.$metadata={httpStatusCode:s.statusCode,requestId:iy(/^x-[\w-]+-request-?id$/,u),extendedRequestId:iy(/^x-[\w-]+-id-2$/,u),cfId:iy(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},"deserializerMiddleware"),iy=hu((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),Kx=hu((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let c=await t(o.input,{...e,endpoint:i});return r({...o,request:c})},"serializerMiddleware"),Jx={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Yx={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Xx(e,t,r){return{applyToStack:n=>{n.add(Wx(e,r),Jx),n.add(Kx(e,t),Yx)}}}hu(Xx,"getSerdePlugin")});var Zx,eO,OQ,tO=v(()=>{a();Zx=P(Ji());fu();eO={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Zx.serializerMiddlewareOption.name},OQ=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ki(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),eO)}})});var rO=v(()=>{a();fu();zx();tO()});var nO,z1e,oO,RQ,AQ,ay,cy=v(()=>{a();nO=P(ye()),z1e=P(or()),oO=P(sr()),RQ=e=>t=>{throw t},AQ=(e,t)=>{},ay=e=>(t,r)=>async n=>{if(!nO.HttpRequest.isInstance(n.request))return t(n);let s=(0,oO.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:c,signer:l}=s,u=await t({...n,request:await l.sign(n.request,c,i)}).catch((l.errorHandler||RQ)(i));return(l.successHandler||AQ)(u.response,i),u}});var sO,IQ,iO=v(()=>{a();cy();sO={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},IQ=e=>({applyToStack:t=>{t.addRelativeTo(ay(e),sO)}})});var aO=v(()=>{a();cy();iO()});var _n,cO=v(()=>{a();_n=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function lO(e,t,r,n,o){return async function*(i,c,...l){let u=c,d=i.startingToken??u[r],f=!0,h;for(;f;){if(u[r]=d,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)h=await NQ(t,i.client,c,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=d;d=DQ(h,n),f=!!(d&&(!i.stopOnSameToken||d!==g))}return void 0}}var NQ,DQ,uO=v(()=>{a();NQ=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};DQ=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var ly=b((iLe,pO)=>{a();var gu=Object.defineProperty,MQ=Object.getOwnPropertyDescriptor,kQ=Object.getOwnPropertyNames,LQ=Object.prototype.hasOwnProperty,UQ=(e,t)=>gu(e,"name",{value:t,configurable:!0}),FQ=(e,t)=>{for(var r in t)gu(e,r,{get:t[r],enumerable:!0})},BQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kQ(t))!LQ.call(e,o)&&o!==r&&gu(e,o,{get:()=>t[o],enumerable:!(n=MQ(t,o))||n.enumerable});return e},jQ=e=>BQ(gu({},"__esModule",{value:!0}),e),dO={};FQ(dO,{isArrayBuffer:()=>HQ});pO.exports=jQ(dO);var HQ=UQ(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Es=b((cLe,hO)=>{a();var yu=Object.defineProperty,$Q=Object.getOwnPropertyDescriptor,qQ=Object.getOwnPropertyNames,GQ=Object.prototype.hasOwnProperty,fO=(e,t)=>yu(e,"name",{value:t,configurable:!0}),zQ=(e,t)=>{for(var r in t)yu(e,r,{get:t[r],enumerable:!0})},VQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qQ(t))!GQ.call(e,o)&&o!==r&&yu(e,o,{get:()=>t[o],enumerable:!(n=$Q(t,o))||n.enumerable});return e},WQ=e=>VQ(yu({},"__esModule",{value:!0}),e),mO={};zQ(mO,{fromArrayBuffer:()=>JQ,fromString:()=>YQ});hO.exports=WQ(mO);var KQ=ly(),uy=L("buffer"),JQ=fO((e,t=0,r=e.byteLength-t)=>{if(!(0,KQ.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return uy.Buffer.from(e,t,r)},"fromArrayBuffer"),YQ=fO((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?uy.Buffer.from(e,t):uy.Buffer.from(e)},"fromString")});var gO=b(_u=>{"use strict";a();Object.defineProperty(_u,"__esModule",{value:!0});_u.fromBase64=void 0;var XQ=Es(),QQ=/^[A-Za-z0-9+/]*={0,2}$/,ZQ=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!QQ.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,XQ.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};_u.fromBase64=ZQ});var tt=b((pLe,vO)=>{a();var Eu=Object.defineProperty,e9=Object.getOwnPropertyDescriptor,t9=Object.getOwnPropertyNames,r9=Object.prototype.hasOwnProperty,dy=(e,t)=>Eu(e,"name",{value:t,configurable:!0}),n9=(e,t)=>{for(var r in t)Eu(e,r,{get:t[r],enumerable:!0})},o9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of t9(t))!r9.call(e,o)&&o!==r&&Eu(e,o,{get:()=>t[o],enumerable:!(n=e9(t,o))||n.enumerable});return e},s9=e=>o9(Eu({},"__esModule",{value:!0}),e),yO={};n9(yO,{fromUtf8:()=>EO,toUint8Array:()=>i9,toUtf8:()=>a9});vO.exports=s9(yO);var _O=Es(),EO=dy(e=>{let t=(0,_O.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),i9=dy(e=>typeof e=="string"?EO(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),a9=dy(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,_O.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var SO=b(vu=>{"use strict";a();Object.defineProperty(vu,"__esModule",{value:!0});vu.toBase64=void 0;var c9=Es(),l9=tt(),u9=e=>{let t;if(typeof e=="string"?t=(0,l9.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,c9.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};vu.toBase64=u9});var Et=b((gLe,Su)=>{a();var bO=Object.defineProperty,d9=Object.getOwnPropertyDescriptor,p9=Object.getOwnPropertyNames,f9=Object.prototype.hasOwnProperty,py=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of p9(t))!f9.call(e,o)&&o!==r&&bO(e,o,{get:()=>t[o],enumerable:!(n=d9(t,o))||n.enumerable});return e},TO=(e,t,r)=>(py(e,t,"default"),r&&py(r,t,"default")),m9=e=>py(bO({},"__esModule",{value:!0}),e),fy={};Su.exports=m9(fy);TO(fy,gO(),Su.exports);TO(fy,SO(),Su.exports)});var hy=b(bu=>{"use strict";a();Object.defineProperty(bu,"__esModule",{value:!0});bu.ChecksumStream=void 0;var h9=Et(),g9=L("stream"),my=class extends g9.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,c;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(c=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&c!==void 0?c:n} in ChecksumStream.`);this.base64Encoder=s??h9.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};bu.ChecksumStream=my});var En=b(vs=>{"use strict";a();Object.defineProperty(vs,"__esModule",{value:!0});vs.isBlob=vs.isReadableStream=void 0;var y9=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};vs.isReadableStream=y9;var _9=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};vs.isBlob=_9});var wO=b(Tu=>{"use strict";a();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.ChecksumStream=void 0;var E9=typeof ReadableStream=="function"?ReadableStream:function(){},gy=class extends E9{};Tu.ChecksumStream=gy});var PO=b(wu=>{"use strict";a();Object.defineProperty(wu,"__esModule",{value:!0});wu.createChecksumStream=void 0;var v9=Et(),S9=En(),b9=wO(),T9=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,S9.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let c=o??v9.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let l=new TransformStream({start(){},async transform(d,f){t.update(d),f.enqueue(d)},async flush(d){let f=await t.digest(),h=c(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);d.error(g)}else d.terminate()}});r.pipeThrough(l);let u=l.readable;return Object.setPrototypeOf(u,b9.ChecksumStream.prototype),u};wu.createChecksumStream=T9});var CO=b(yy=>{"use strict";a();Object.defineProperty(yy,"__esModule",{value:!0});yy.createChecksumStream=x9;var w9=En(),P9=hy(),C9=PO();function x9(e){return typeof ReadableStream=="function"&&(0,w9.isReadableStream)(e.source)?(0,C9.createChecksumStream)(e):new P9.ChecksumStream(e)}});var Ey=b(Pu=>{"use strict";a();Object.defineProperty(Pu,"__esModule",{value:!0});Pu.ByteArrayCollector=void 0;var _y=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Pu.ByteArrayCollector=_y});var AO=b(Gr=>{"use strict";a();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.createBufferedReadable=void 0;Gr.createBufferedReadableStream=xO;Gr.merge=OO;Gr.flush=Cu;Gr.sizeOf=Ss;Gr.modeOf=RO;var O9=Ey();function xO(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new O9.ByteArrayCollector(u=>new Uint8Array(u))],c=-1,l=async u=>{let{value:d,done:f}=await n.read(),h=d;if(f){if(c!==-1){let g=Cu(i,c);Ss(g)>0&&u.enqueue(g)}u.close()}else{let g=RO(h,!1);if(c!==g&&(c>=0&&u.enqueue(Cu(i,c)),c=g),c===-1){u.enqueue(h);return}let y=Ss(h);s+=y;let _=Ss(i[c]);if(y>=t&&_===0)u.enqueue(h);else{let S=OO(i,c,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),S>=t?u.enqueue(Cu(i,c)):await l(u)}}};return new ReadableStream({pull:l})}Gr.createBufferedReadable=xO;function OO(e,t,r){switch(t){case 0:return e[0]+=r,Ss(e[0]);case 1:case 2:return e[t].push(r),Ss(e[t])}}function Cu(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Ss(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function RO(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var NO=b(vy=>{"use strict";a();Object.defineProperty(vy,"__esModule",{value:!0});vy.createBufferedReadable=I9;var R9=L("node:stream"),IO=Ey(),zr=AO(),A9=En();function I9(e,t,r){if((0,A9.isReadableStream)(e))return(0,zr.createBufferedReadableStream)(e,t,r);let n=new R9.Readable({read(){}}),o=!1,s=0,i=["",new IO.ByteArrayCollector(l=>new Uint8Array(l)),new IO.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let u=(0,zr.modeOf)(l,!0);if(c!==u&&(c>=0&&n.push((0,zr.flush)(i,c)),c=u),c===-1){n.push(l);return}let d=(0,zr.sizeOf)(l);s+=d;let f=(0,zr.sizeOf)(i[c]);if(d>=t&&f===0)n.push(l);else{let h=(0,zr.merge)(i,c,l);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,zr.flush)(i,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,zr.flush)(i,c);(0,zr.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var DO=b(xu=>{"use strict";a();Object.defineProperty(xu,"__esModule",{value:!0});xu.getAwsChunkedEncodingStream=void 0;var N9=L("stream"),D9=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,c=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,l=c?i(o,e):void 0,u=new N9.Readable({read:()=>{}});return e.on("data",d=>{let f=n(d)||0;u.push(`${f.toString(16)}\r
`),u.push(d),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),c){let d=r(await l);u.push(`${s}:${d}\r
`),u.push(`\r
`)}u.push(null)}),u};xu.getAwsChunkedEncodingStream=D9});var MO=b(Sy=>{"use strict";a();Object.defineProperty(Sy,"__esModule",{value:!0});Sy.headStream=M9;async function M9(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:u,value:d}=await s.read();if(d&&(o.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=u}s.releaseLock();let c=new Uint8Array(Math.min(t,n)),l=0;for(let u of o){if(u.byteLength>c.byteLength-l){c.set(u.subarray(0,c.byteLength-l),l);break}else c.set(u,l);l+=u.length}return c}});var kO=b(Ou=>{"use strict";a();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.headStream=void 0;var k9=L("stream"),L9=MO(),U9=En(),F9=(e,t)=>(0,U9.isReadableStream)(e)?(0,L9.headStream)(e,t):new Promise((r,n)=>{let o=new by;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});Ou.headStream=F9;var by=class extends k9.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var wy=b((jLe,FO)=>{a();var Ru=Object.defineProperty,B9=Object.getOwnPropertyDescriptor,j9=Object.getOwnPropertyNames,H9=Object.prototype.hasOwnProperty,Ty=(e,t)=>Ru(e,"name",{value:t,configurable:!0}),$9=(e,t)=>{for(var r in t)Ru(e,r,{get:t[r],enumerable:!0})},q9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j9(t))!H9.call(e,o)&&o!==r&&Ru(e,o,{get:()=>t[o],enumerable:!(n=B9(t,o))||n.enumerable});return e},G9=e=>q9(Ru({},"__esModule",{value:!0}),e),LO={};$9(LO,{escapeUri:()=>UO,escapeUriPath:()=>V9});FO.exports=G9(LO);var UO=Ty(e=>encodeURIComponent(e).replace(/[!'()*]/g,z9),"escapeUri"),z9=Ty(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),V9=Ty(e=>e.split("/").map(UO).join("/"),"escapeUriPath")});var Cy=b(($Le,HO)=>{a();var Au=Object.defineProperty,W9=Object.getOwnPropertyDescriptor,K9=Object.getOwnPropertyNames,J9=Object.prototype.hasOwnProperty,Y9=(e,t)=>Au(e,"name",{value:t,configurable:!0}),X9=(e,t)=>{for(var r in t)Au(e,r,{get:t[r],enumerable:!0})},Q9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K9(t))!J9.call(e,o)&&o!==r&&Au(e,o,{get:()=>t[o],enumerable:!(n=W9(t,o))||n.enumerable});return e},Z9=e=>Q9(Au({},"__esModule",{value:!0}),e),BO={};X9(BO,{buildQueryString:()=>jO});HO.exports=Z9(BO);var Py=wy();function jO(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Py.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,Py.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Py.escapeUri)(n)}`),t.push(o)}}return t.join("&")}Y9(jO,"buildQueryString")});var Xi=b((GLe,rR)=>{a();var e7=Object.create,Yi=Object.defineProperty,t7=Object.getOwnPropertyDescriptor,r7=Object.getOwnPropertyNames,n7=Object.getPrototypeOf,o7=Object.prototype.hasOwnProperty,pe=(e,t)=>Yi(e,"name",{value:t,configurable:!0}),s7=(e,t)=>{for(var r in t)Yi(e,r,{get:t[r],enumerable:!0})},VO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r7(t))!o7.call(e,o)&&o!==r&&Yi(e,o,{get:()=>t[o],enumerable:!(n=t7(t,o))||n.enumerable});return e},i7=(e,t,r)=>(r=e!=null?e7(n7(e)):{},VO(t||!e||!e.__esModule?Yi(r,"default",{value:e,enumerable:!0}):r,e)),a7=e=>VO(Yi({},"__esModule",{value:!0}),e),WO={};s7(WO,{DEFAULT_REQUEST_TIMEOUT:()=>ZO,NodeHttp2Handler:()=>y7,NodeHttpHandler:()=>f7,streamCollector:()=>E7});rR.exports=a7(WO);var KO=ye(),JO=Cy(),xy=L("http"),Oy=L("https"),c7=["ECONNRESET","EPIPE","ETIMEDOUT"],YO=pe(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),dt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},$O=1e3,l7=pe((e,t,r=0)=>{if(!r)return-1;let n=pe(o=>{let s=dt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=pe(c=>{c?.connecting?c.on("connect",()=>{dt.clearTimeout(s)}):dt.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):dt.setTimeout(n.bind(null,$O),$O)},"setConnectionTimeout"),u7=3e3,d7=pe((e,{keepAlive:t,keepAliveMsecs:r},n=u7)=>{if(t!==!0)return-1;let o=pe(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):dt.setTimeout(o,n)},"setSocketKeepAlive"),qO=3e3,p7=pe((e,t,r=ZO)=>{let n=pe(o=>{let s=r-o,i=pe(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):dt.setTimeout(n.bind(null,r===0?0:qO),qO)},"setSocketTimeout"),XO=L("stream"),GO=6e3;async function Ay(e,t,r=GO){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(c=>{s=Number(dt.setTimeout(()=>c(!0),Math.max(GO,r)))}),new Promise(c=>{e.on("continue",()=>{dt.clearTimeout(s),c(!0)}),e.on("response",()=>{dt.clearTimeout(s),c(!1)}),e.on("error",()=>{dt.clearTimeout(s),c(!1)})})])),i&&QO(e,t.body)}pe(Ay,"writeRequestBody");function QO(e,t){if(t instanceof XO.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}pe(QO,"writeBody");var ZO=0,f7=class Ry{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{pe(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Ry(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let l in o){let u=o[l]?.length??0,d=s[l]?.length??0;if(u>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:c}=t||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof xy.Agent||typeof i?.destroy=="function"?i:new xy.Agent({keepAlive:l,maxSockets:u,...i}),httpsAgent:c instanceof Oy.Agent||typeof c?.destroy=="function"?c:new Oy.Agent({keepAlive:l,maxSockets:u,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,c=[],l=pe(async x=>{await i,c.forEach(dt.clearTimeout),o(x)},"resolve"),u=pe(async x=>{await i,c.forEach(dt.clearTimeout),s(x)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let x=new Error("Request aborted");x.name="AbortError",u(x);return}let d=t.protocol==="https:",f=d?this.config.httpsAgent:this.config.httpAgent;c.push(dt.setTimeout(()=>{this.socketWarningTimestamp=Ry.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,JO.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let x=t.username??"",A=t.password??"";g=`${x}:${A}`}let y=t.path;h&&(y+=`?${h}`),t.fragment&&(y+=`#${t.fragment}`);let _=t.hostname??"";_[0]==="["&&_.endsWith("]")?_=t.hostname.slice(1,-1):_=t.hostname;let S={headers:t.headers,host:_,method:t.method,path:y,port:t.port,agent:f,auth:g},w=(d?Oy.request:xy.request)(S,x=>{let A=new KO.HttpResponse({statusCode:x.statusCode||-1,reason:x.statusMessage,headers:YO(x.headers),body:x});l({response:A})});if(w.on("error",x=>{c7.includes(x.code)?u(Object.assign(x,{name:"TimeoutError"})):u(x)}),r){let x=pe(()=>{w.destroy();let A=new Error("Request aborted");A.name="AbortError",u(A)},"onAbort");if(typeof r.addEventListener=="function"){let A=r;A.addEventListener("abort",x,{once:!0}),w.once("close",()=>A.removeEventListener("abort",x))}else r.onabort=x}let C=n??this.config.requestTimeout;c.push(l7(w,u,this.config.connectionTimeout)),c.push(p7(w,u,C));let O=S.agent;typeof O=="object"&&"keepAlive"in O&&c.push(d7(w,{keepAlive:O.keepAlive,keepAliveMsecs:O.keepAliveMsecs})),i=Ay(w,t,C).catch(x=>(c.forEach(dt.clearTimeout),s(x)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},zO=L("http2"),m7=i7(L("http2")),h7=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{pe(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},g7=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{pe(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let c=n.poll();if(c&&!this.config.disableConcurrency)return c}let o=m7.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=pe(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new h7;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},y7=class eR{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new g7({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{pe(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new eR(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((c,l)=>{let u=!1,d,f=pe(async q=>{await d,c(q)},"resolve"),h=pe(async q=>{await d,l(q)},"reject");if(r?.aborted){u=!0;let q=new Error("Request aborted");q.name="AbortError",h(q);return}let{hostname:g,method:y,port:_,protocol:S,query:T}=t,w="";if(t.username!=null||t.password!=null){let q=t.username??"",ue=t.password??"";w=`${q}:${ue}@`}let C=`${S}//${w}${g}${_?`:${_}`:""}`,O={destination:new URL(C)},x=this.connectionManager.lease(O,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),A=pe(q=>{s&&this.destroySession(x),u=!0,h(q)},"rejectWithDestroy"),le=(0,JO.buildQueryString)(T||{}),oe=t.path;le&&(oe+=`?${le}`),t.fragment&&(oe+=`#${t.fragment}`);let te=x.request({...t.headers,[zO.constants.HTTP2_HEADER_PATH]:oe,[zO.constants.HTTP2_HEADER_METHOD]:y});if(x.ref(),te.on("response",q=>{let ue=new KO.HttpResponse({statusCode:q[":status"]||-1,headers:YO(q),body:te});u=!0,f({response:ue}),s&&(x.close(),this.connectionManager.deleteSession(C,x))}),i&&te.setTimeout(i,()=>{te.close();let q=new Error(`Stream timed out because of no activity for ${i} ms`);q.name="TimeoutError",A(q)}),r){let q=pe(()=>{te.close();let ue=new Error("Request aborted");ue.name="AbortError",A(ue)},"onAbort");if(typeof r.addEventListener=="function"){let ue=r;ue.addEventListener("abort",q,{once:!0}),te.once("close",()=>ue.removeEventListener("abort",q))}else r.onabort=q}te.on("frameError",(q,ue,nr)=>{A(new Error(`Frame type id ${q} in stream id ${nr} has failed with code ${ue}.`))}),te.on("error",A),te.on("aborted",()=>{A(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${te.rstCode}.`))}),te.on("close",()=>{x.unref(),s&&x.destroy(),u||A(new Error("Unexpected error: http2 request did not get a response"))}),d=Ay(te,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},_7=class extends XO.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{pe(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},E7=pe(e=>v7(e)?tR(e):new Promise((t,r)=>{let n=new _7;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),v7=pe(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function tR(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=c}let s=new Uint8Array(o),i=0;for(let c of t)s.set(c,i),i+=c.length;return s}pe(tR,"collectReadableStream")});var dR=b((JLe,uR)=>{a();var Nu=Object.defineProperty,S7=Object.getOwnPropertyDescriptor,b7=Object.getOwnPropertyNames,T7=Object.prototype.hasOwnProperty,ar=(e,t)=>Nu(e,"name",{value:t,configurable:!0}),w7=(e,t)=>{for(var r in t)Nu(e,r,{get:t[r],enumerable:!0})},P7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b7(t))!T7.call(e,o)&&o!==r&&Nu(e,o,{get:()=>t[o],enumerable:!(n=S7(t,o))||n.enumerable});return e},C7=e=>P7(Nu({},"__esModule",{value:!0}),e),oR={};w7(oR,{FetchHttpHandler:()=>O7,keepAliveSupport:()=>Iu,streamCollector:()=>A7});uR.exports=C7(oR);var nR=ye(),x7=Cy();function Iy(e,t){return new Request(e,t)}ar(Iy,"createRequest");function sR(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}ar(sR,"requestTimeout");var Iu={supported:void 0},O7=class iR{static{ar(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new iR(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Iu.supported===void 0&&(Iu.supported=typeof Request<"u"&&"keepalive"in Iy("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let c=t.path,l=(0,x7.buildQueryString)(t.query||{});l&&(c+=`?${l}`),t.fragment&&(c+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let w=t.username??"",C=t.password??"";u=`${w}:${C}@`}let{port:d,method:f}=t,h=`${t.protocol}//${u}${t.hostname}${d?`:${d}`:""}${c}`,g=f==="GET"||f==="HEAD"?void 0:t.body,y={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(y.cache=this.config.cache),g&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),Iu.supported&&(y.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let _=ar(()=>{},"removeSignalEventListener"),S=Iy(h,y),T=[fetch(S).then(w=>{let C=w.headers,O={};for(let A of C.entries())O[A[0]]=A[1];return w.body!=null?{response:new nR.HttpResponse({headers:O,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(A=>({response:new nR.HttpResponse({headers:O,reason:w.statusText,statusCode:w.status,body:A})}))}),sR(o)];return r&&T.push(new Promise((w,C)=>{let O=ar(()=>{let x=new Error("Request aborted");x.name="AbortError",C(x)},"onAbort");if(typeof r.addEventListener=="function"){let x=r;x.addEventListener("abort",O,{once:!0}),_=ar(()=>x.removeEventListener("abort",O),"removeSignalEventListener")}else r.onabort=O})),Promise.race(T).finally(_)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},R7=Et(),A7=ar(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):aR(e):cR(e),"streamCollector");async function aR(e){let t=await lR(e),r=(0,R7.fromBase64)(t);return new Uint8Array(r)}ar(aR,"collectBlob");async function cR(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=c}let s=new Uint8Array(o),i=0;for(let c of t)s.set(c,i),i+=c.length;return s}ar(cR,"collectStream");function lR(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}ar(lR,"readToBase64")});var Dy=b((XLe,yR)=>{a();var Du=Object.defineProperty,I7=Object.getOwnPropertyDescriptor,N7=Object.getOwnPropertyNames,D7=Object.prototype.hasOwnProperty,pR=(e,t)=>Du(e,"name",{value:t,configurable:!0}),M7=(e,t)=>{for(var r in t)Du(e,r,{get:t[r],enumerable:!0})},k7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N7(t))!D7.call(e,o)&&o!==r&&Du(e,o,{get:()=>t[o],enumerable:!(n=I7(t,o))||n.enumerable});return e},L7=e=>k7(Du({},"__esModule",{value:!0}),e),fR={};M7(fR,{fromHex:()=>hR,toHex:()=>gR});yR.exports=L7(fR);var mR={},Ny={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),mR[e]=t,Ny[t]=e}function hR(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Ny)t[r/2]=Ny[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}pR(hR,"fromHex");function gR(e){let t="";for(let r=0;r<e.byteLength;r++)t+=mR[e[r]];return t}pR(gR,"toHex")});var SR=b(Mu=>{"use strict";a();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.sdkStreamMixin=void 0;var U7=dR(),F7=Et(),B7=Dy(),j7=tt(),_R=En(),ER="The stream has already been transformed.",H7=e=>{var t,r;if(!vR(e)&&!(0,_R.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(ER);return n=!0,await(0,U7.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let c=await o();if(i==="base64")return(0,F7.toBase64)(c);if(i==="hex")return(0,B7.toHex)(c);if(i===void 0||i==="utf8"||i==="utf-8")return(0,j7.toUtf8)(c);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(c);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(ER);if(n=!0,vR(e))return s(e);if((0,_R.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Mu.sdkStreamMixin=H7;var vR=e=>typeof Blob=="function"&&e instanceof Blob});var TR=b(ku=>{"use strict";a();Object.defineProperty(ku,"__esModule",{value:!0});ku.sdkStreamMixin=void 0;var $7=Xi(),q7=Es(),My=L("stream"),G7=SR(),bR="The stream has already been transformed.",z7=e=>{var t,r;if(!(e instanceof My.Readable))try{return(0,G7.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(bR);return n=!0,await(0,$7.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,q7.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(bR);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof My.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,My.Readable.toWeb(e)}})};ku.sdkStreamMixin=z7});var wR=b(ky=>{"use strict";a();Object.defineProperty(ky,"__esModule",{value:!0});ky.splitStream=V7;async function V7(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var xR=b(Ly=>{"use strict";a();Object.defineProperty(Ly,"__esModule",{value:!0});Ly.splitStream=K7;var PR=L("stream"),W7=wR(),CR=En();async function K7(e){if((0,CR.isReadableStream)(e)||(0,CR.isBlob)(e))return(0,W7.splitStream)(e);let t=new PR.PassThrough,r=new PR.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Uu=b((aUe,lr)=>{a();var Lu=Object.defineProperty,J7=Object.getOwnPropertyDescriptor,Y7=Object.getOwnPropertyNames,X7=Object.prototype.hasOwnProperty,By=(e,t)=>Lu(e,"name",{value:t,configurable:!0}),Q7=(e,t)=>{for(var r in t)Lu(e,r,{get:t[r],enumerable:!0})},Uy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Y7(t))!X7.call(e,o)&&o!==r&&Lu(e,o,{get:()=>t[o],enumerable:!(n=J7(t,o))||n.enumerable});return e},vn=(e,t,r)=>(Uy(e,t,"default"),r&&Uy(r,t,"default")),Z7=e=>Uy(Lu({},"__esModule",{value:!0}),e),cr={};Q7(cr,{Uint8ArrayBlobAdapter:()=>Fy});lr.exports=Z7(cr);var OR=Et(),RR=tt();function AR(e,t="utf-8"){return t==="base64"?(0,OR.toBase64)(e):(0,RR.toUtf8)(e)}By(AR,"transformToString");function IR(e,t){return t==="base64"?Fy.mutate((0,OR.fromBase64)(e)):Fy.mutate((0,RR.fromUtf8)(e))}By(IR,"transformFromString");var Fy=class NR extends Uint8Array{static{By(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return IR(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,NR.prototype),t}transformToString(t="utf-8"){return AR(this,t)}};vn(cr,hy(),lr.exports);vn(cr,CO(),lr.exports);vn(cr,NO(),lr.exports);vn(cr,DO(),lr.exports);vn(cr,kO(),lr.exports);vn(cr,TR(),lr.exports);vn(cr,xR(),lr.exports);vn(cr,En(),lr.exports)});var Fu,Ct,Qi=v(()=>{a();Fu=P(Uu()),Ct=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Fu.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Fu.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Fu.Uint8ArrayBlobAdapter.mutate(await r)}});function ur(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Bu=v(()=>{a()});var Vr,jy=v(()=>{a();Vr=e=>typeof e=="function"?e():e});var DR=v(()=>{a()});var rt,MR=v(()=>{a();rt=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};rt.registries=new Map});var dr,bs=v(()=>{a();dr=class{constructor(t,r){this.name=t,this.traits=r}}});var Zi,Hy=v(()=>{a();bs();Zi=class e extends dr{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Zi.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var ea,$y=v(()=>{a();bs();ea=class e extends dr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ea.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var kR=v(()=>{a()});var Eo,ju=v(()=>{a();bs();Eo=class e extends dr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Eo.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var qy,LR=v(()=>{a();ju();qy=class e extends Eo{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};qy.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var N,Gy=v(()=>{a();N={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var ta,zy=v(()=>{a();bs();ta=class e extends dr{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ta.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var G,UR=v(()=>{a();jy();Hy();$y();Gy();zy();ju();G=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Vr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let c=n[i];Object.assign(this.memberTraits,e.translateTraits(c))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Vr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof ta?Vr(this.schema.schemaRef):Vr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=N.LIST_MODIFIER&&t<N.MAP_MODIFIER:t instanceof Zi}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=N.MAP_MODIFIER&&t<=255:t instanceof ea}isDocumentSchema(){return this.getSchema()===N.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Eo}isBlobSchema(){return this.getSchema()===N.BLOB||this.getSchema()===N.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=N.TIMESTAMP_DEFAULT&&t<=N.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===N.STRING}isBooleanSchema(){return this.getSchema()===N.BOOLEAN}isNumericSchema(){return this.getSchema()===N.NUMERIC}isBigIntegerSchema(){return this.getSchema()===N.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===N.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===N.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([N.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([N.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([N.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(N).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case N.MAP_MODIFIER:return`${o}Map`;case N.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};G.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var ke=v(()=>{a();jy();DR();Hy();$y();kR();LR();UR();bs();zy();ju();Gy();MR()});var ra,FR=v(()=>{a();ke();ra=(e,t,r=n=>n)=>{let n=G.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let c of e)s[i++]=ra(c,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=ra(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=ra(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=ra(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var eZ,tZ,na,rZ,Hu,oa,nZ,Vy,Wy,Ky,Jy,oZ,sZ,BR,iZ,aZ,qu,cZ,Yy,lZ,Ts,Xy,uZ,dZ,pZ,jR,HR,fZ,mZ,vo,Qy,$u,sa,Zy=v(()=>{a();eZ=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},tZ=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&sa.warn($u(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&sa.warn($u(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},na=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&sa.warn($u(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},rZ=Math.ceil(34028234663852886e22),Hu=e=>{let t=na(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>rZ)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},oa=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},nZ=oa,Vy=e=>Jy(e,32),Wy=e=>Jy(e,16),Ky=e=>Jy(e,8),Jy=(e,t)=>{let r=oa(e);if(r!==void 0&&oZ(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},oZ=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},sZ=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},BR=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},iZ=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return sa.warn($u(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},aZ=e=>{if(e==null)return;let t=BR(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},qu=e=>na(typeof e=="string"?Ts(e):e),cZ=qu,Yy=e=>Hu(typeof e=="string"?Ts(e):e),lZ=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ts=e=>{let t=e.match(lZ);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Xy=e=>typeof e=="string"?jR(e):na(e),uZ=Xy,dZ=Xy,pZ=e=>typeof e=="string"?jR(e):Hu(e),jR=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},HR=e=>oa(typeof e=="string"?Ts(e):e),fZ=HR,mZ=e=>Vy(typeof e=="string"?Ts(e):e),vo=e=>Wy(typeof e=="string"?Ts(e):e),Qy=e=>Ky(typeof e=="string"?Ts(e):e),$u=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),sa={warn:console.warn}});function aa(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),c=e.getUTCSeconds(),l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,f=c<10?`0${c}`:`${c}`;return`${hZ[n]}, ${l} ${t_[r]} ${t} ${u}:${d}:${f} GMT`}var hZ,t_,gZ,yZ,_Z,ca,EZ,vZ,SZ,la,ua,ia,bZ,TZ,wZ,e_,PZ,CZ,xZ,pr,OZ,RZ,ws,$R=v(()=>{a();Zy();hZ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];gZ=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),yZ=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=gZ.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,c,l,u]=t,d=vo(ws(n)),f=pr(o,"month",1,12),h=pr(s,"day",1,31);return ia(d,f,h,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u})},_Z=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ca=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=_Z.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,c,l,u,d]=t,f=vo(ws(n)),h=pr(o,"month",1,12),g=pr(s,"day",1,31),y=ia(f,h,g,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&y.setTime(y.getTime()-RZ(d)),y},EZ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),vZ=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),SZ=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),la=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=EZ.exec(e);if(t){let[r,n,o,s,i,c,l,u]=t;return ia(vo(ws(s)),e_(o),pr(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u})}if(t=vZ.exec(e),t){let[r,n,o,s,i,c,l,u]=t;return wZ(ia(bZ(s),e_(o),pr(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u}))}if(t=SZ.exec(e),t){let[r,n,o,s,i,c,l,u]=t;return ia(vo(ws(u)),e_(n),pr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},ua=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=qu(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ia=(e,t,r,n)=>{let o=t-1;return CZ(e,o,r),new Date(Date.UTC(e,o,r,pr(n.hours,"hour",0,23),pr(n.minutes,"minute",0,59),pr(n.seconds,"seconds",0,60),OZ(n.fractionalMilliseconds)))},bZ=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+vo(ws(e));return r<t?r+100:r},TZ=50*365*24*60*60*1e3,wZ=e=>e.getTime()-new Date().getTime()>TZ?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,e_=e=>{let t=t_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},PZ=[31,28,31,30,31,30,31,31,30,31,30,31],CZ=(e,t,r)=>{let n=PZ[t];if(t===1&&xZ(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${t_[t]} in ${e}: ${r}`)},xZ=e=>e%4===0&&(e%100!==0||e%400===0),pr=(e,t,r,n)=>{let o=Qy(ws(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},OZ=e=>e==null?0:Yy("0."+e)*1e3,RZ=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},ws=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var nt,qR=v(()=>{a();nt=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};nt.from=e=>e&&typeof e=="object"&&(e instanceof nt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?nt(String(e)):nt(JSON.stringify(e));nt.fromObject=nt.from});function r_(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var GR=v(()=>{a()});function n_(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var zR=v(()=>{a()});var da,VR=v(()=>{a();da=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let c=e[i];switch(c){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=c}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let c=i.length;return c<2?i:(i[0]==='"'&&i[c-1]==='"'&&(i=i.slice(1,c-1)),i.replace(/\\"/g,'"'))})}});function AZ(e){return new He(String(e),"bigDecimal")}var He,WR=v(()=>{a();He=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var KR={};Fe(KR,{LazyJsonString:()=>nt,NumericValue:()=>He,copyDocumentWithTransform:()=>ra,dateToUtcString:()=>aa,expectBoolean:()=>tZ,expectByte:()=>Ky,expectFloat32:()=>Hu,expectInt:()=>nZ,expectInt32:()=>Vy,expectLong:()=>oa,expectNonNull:()=>sZ,expectNumber:()=>na,expectObject:()=>BR,expectShort:()=>Wy,expectString:()=>iZ,expectUnion:()=>aZ,handleFloat:()=>uZ,limitedParseDouble:()=>Xy,limitedParseFloat:()=>dZ,limitedParseFloat32:()=>pZ,logger:()=>sa,nv:()=>AZ,parseBoolean:()=>eZ,parseEpochTimestamp:()=>ua,parseRfc3339DateTime:()=>yZ,parseRfc3339DateTimeWithOffset:()=>ca,parseRfc7231DateTime:()=>la,quoteHeader:()=>r_,splitEvery:()=>n_,splitHeader:()=>da,strictParseByte:()=>Qy,strictParseDouble:()=>qu,strictParseFloat:()=>cZ,strictParseFloat32:()=>Yy,strictParseInt:()=>fZ,strictParseInt32:()=>mZ,strictParseLong:()=>HR,strictParseShort:()=>vo});var xt=v(()=>{a();FR();$R();qR();Zy();GR();zR();VR();WR()});var Gu,JR,Ps,o_=v(()=>{a();ke();xt();Gu=P(ye()),JR=P(Uu());Qi();Ps=class{constructor(t){this.options=t}getRequestType(){return Gu.HttpRequest}getResponseType(){return Gu.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=G.of(r),s=G.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let c=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let c=this.deserializer,l=G.of(t),u=[];for(let[d,f]of l.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let _=this.serdeContext;if(!_.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[d]=_.eventStreamMarshaller.deserialize(n.body,async T=>{let w=Object.keys(T).find(C=>C!=="__type")??"";if(w in S){let C=S[w];return{[w]:await c.read(C,T[w].body)}}else return{$unknown:T}})}else i[d]=(0,JR.sdkStreamMixin)(n.body);else if(n.body){let y=await Ct(n.body,r);y.byteLength>0&&(i[d]=await c.read(f,y))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),y=n.headers[g];if(y!=null)if(f.isListSchema()){let _=f.getValueSchema(),S;_.isTimestampSchema()&&_.getSchema()===N.TIMESTAMP_DEFAULT?S=n_(y,",",2):S=da(y);let T=[];for(let w of S)T.push(await c.read([_,{httpHeader:g}],w.trim()));i[d]=T}else i[d]=await c.read(f,y)}else if(h.httpPrefixHeaders!==void 0){i[d]={};for(let[g,y]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[d][g.slice(h.httpPrefixHeaders.length)]=await c.read([f.getValueSchema(),{httpHeader:g}],y))}else h.httpResponseCode?i[d]=n.statusCode:u.push(d)}return u}}});var YR,So,XR=v(()=>{a();ke();YR=P(ye());Qi();Bu();o_();So=class extends Ps{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},c={},l=await n.endpoint(),u=G.of(t?.input),d=u.getSchema(),f=!1,h,g=new YR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:c,body:void 0});if(l){this.updateServiceEndpoint(g,l),this.setHostPrefix(g,t,o);let y=G.translateTraits(t.traits);if(y.http){g.method=y.http[0];let[_,S]=y.http[1].split("?");g.path=="/"?g.path=_:g.path+=_;let T=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(T))}}for(let[y,_]of u.structIterator()){let S=_.getMergedTraits()??{},T=o[y];if(T!=null)if(S.httpPayload){if(_.isStreaming()){if(_.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=T}else s.write(_,T),h=s.flush();delete o[y]}else if(S.httpLabel){s.write(_,T);let w=s.flush();g.path.includes(`{${y}+}`)?g.path=g.path.replace(`{${y}+}`,w.split("/").map(ur).join("/")):g.path.includes(`{${y}}`)&&(g.path=g.path.replace(`{${y}}`,ur(w))),delete o[y]}else if(S.httpHeader)s.write(_,T),c[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[y];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,C]of Object.entries(T)){let O=S.httpPrefixHeaders+w;s.write([_.getValueSchema(),{httpHeader:O}],C),c[O.toLowerCase()]=s.flush()}delete o[y]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(_,T,i),delete o[y]):f=!0}return f&&o&&(s.write(d,o),h=s.flush()),g.headers=c,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,c]of Object.entries(r))i in n||this.serializeQuery(G.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),c,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,c=[];for(let l of r){o.write([t.getValueSchema(),s],l);let u=o.flush();(i||u!==void 0)&&c.push(u)}n[s.httpQuery]=c}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=G.of(t.output),i={};if(n.statusCode>=300){let u=await Ct(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(N.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let c=await this.deserializeHttpMessage(s,r,n,i);if(c.length){let u=await Ct(n.body,r);if(u.byteLength>0){let d=await o.read(s,u);for(let f of c)i[f]=d[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var QR,bo,ZR=v(()=>{a();ke();QR=P(ye());Qi();o_();bo=class extends Ps{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},c=await n.endpoint(),u=G.of(t?.input).getSchema(),d,f=new QR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});c&&(this.updateServiceEndpoint(f,c),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(u,h),d=o.flush()),f.headers=i,f.query=s,f.body=d,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=G.of(t.output),i={};if(n.statusCode>=300){let u=await Ct(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(N.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let c=await Ct(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c)),{$metadata:this.deserializeMetadata(n),...i}}}});var s_,i_=v(()=>{a();Bu();s_=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(c=>ur(c)).join("/"):ur(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function a_(e,t){return new zu(e,t)}var eA,zu,tA=v(()=>{a();eA=P(ye());i_();zu=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new eA.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=s_(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function To(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===N.TIMESTAMP_DATE_TIME||e.getSchema()===N.TIMESTAMP_HTTP_DATE||e.getSchema()===N.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?N.TIMESTAMP_HTTP_DATE:s||r?N.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var Vu=v(()=>{a();ke()});var c_,rA,wo,l_=v(()=>{a();ke();xt();c_=P(Et()),rA=P(tt());Vu();wo=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=G.of(t);if(n.isListSchema())return da(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??c_.fromBase64)(r);if(n.isTimestampSchema())switch(To(n,this.settings)){case N.TIMESTAMP_DATE_TIME:return ca(r);case N.TIMESTAMP_HTTP_DATE:return la(r);case N.TIMESTAMP_EPOCH_SECONDS:return ua(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=nt.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new He(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??rA.toUtf8)((this.serdeContext?.base64Decoder??c_.fromBase64)(t))}}});var Wu,Po,nA=v(()=>{a();ke();Wu=P(tt());l_();Po=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new wo(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=G.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Wu.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Wu.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var u_,pa,d_=v(()=>{a();ke();xt();u_=P(Et());Vu();pa=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=G.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(To(n,this.settings)){case N.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case N.TIMESTAMP_HTTP_DATE:this.stringBuffer=aa(r);break;case N.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??u_.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let c of r){this.write([n.getValueSchema(),n.getMergedTraits()],c);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:r_(l);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=nt.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??u_.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Co,oA=v(()=>{a();ke();d_();Co=class{constructor(t,r,n=new pa(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=G.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var sA={};Fe(sA,{FromStringShapeDeserializer:()=>wo,HttpBindingProtocol:()=>So,HttpInterceptingShapeDeserializer:()=>Po,HttpInterceptingShapeSerializer:()=>Co,RequestBuilder:()=>zu,RpcProtocol:()=>bo,ToStringShapeSerializer:()=>pa,collectBody:()=>Ct,determineTimestampFormat:()=>To,extendedEncodeURIComponent:()=>ur,requestBuilder:()=>a_,resolvedPath:()=>s_});var Wr=v(()=>{a();Qi();Bu();XR();ZR();tA();i_();l_();nA();oA();d_();Vu()});var iA=v(()=>{a();Wr()});function IZ(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var aA=v(()=>{a()});var p_,cA=v(()=>{a();p_=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var lA,f_,m_,uA=v(()=>{a();lA=P(ye()),f_=P(or()),m_=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=lA.HttpRequest.clone(t);if(n.in===f_.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===f_.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var dA,h_,pA=v(()=>{a();dA=P(ye()),h_=class{async sign(t,r,n){let o=dA.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var g_,fA=v(()=>{a();g_=class{async sign(t,r,n){return t}}});var mA=v(()=>{a();uA();pA();fA()});var hA,NZ,y_,Ku,__,gA=v(()=>{a();hA=e=>t=>Ku(t)&&t.expiration.getTime()-Date.now()<e,NZ=3e5,y_=hA(3e5),Ku=e=>e.expiration!==void 0,__=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,c=!1,l=async u=>{s||(s=n(u));try{o=await s,i=!0,c=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await l(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await l(u)),c?o:r(o)?(t(o)&&await l(u),o):(c=!0,o))}});var yA=v(()=>{a();cA();mA();gA()});var Ot={};Fe(Ot,{DefaultIdentityProviderConfig:()=>p_,EXPIRATION_MS:()=>NZ,HttpApiKeyAuthSigner:()=>m_,HttpBearerAuthSigner:()=>h_,NoAuthSigner:()=>g_,createIsIdentityExpiredFunction:()=>hA,createPaginator:()=>lO,doesIdentityRequireRefresh:()=>Ku,getHttpAuthSchemeEndpointRuleSetPlugin:()=>vQ,getHttpAuthSchemePlugin:()=>OQ,getHttpSigningPlugin:()=>IQ,getSmithyContext:()=>_Q,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Gx,httpAuthSchemeMiddleware:()=>Ki,httpAuthSchemeMiddlewareOptions:()=>eO,httpSigningMiddleware:()=>ay,httpSigningMiddlewareOptions:()=>sO,isIdentityExpired:()=>y_,memoizeIdentityProvider:()=>__,normalizeProvider:()=>_n,requestBuilder:()=>a_,setFeature:()=>IZ});var pt=v(()=>{a();jx();rO();aO();cO();uO();iA();aA();yA()});var Xu=b((gje,CA)=>{a();var Ju=Object.defineProperty,DZ=Object.getOwnPropertyDescriptor,MZ=Object.getOwnPropertyNames,kZ=Object.prototype.hasOwnProperty,ie=(e,t)=>Ju(e,"name",{value:t,configurable:!0}),LZ=(e,t)=>{for(var r in t)Ju(e,r,{get:t[r],enumerable:!0})},UZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of MZ(t))!kZ.call(e,o)&&o!==r&&Ju(e,o,{get:()=>t[o],enumerable:!(n=DZ(t,o))||n.enumerable});return e},FZ=e=>UZ(Ju({},"__esModule",{value:!0}),e),_A={};LZ(_A,{EndpointCache:()=>BZ,EndpointError:()=>ft,customEndpointFunctions:()=>v_,isIpAddress:()=>EA,isValidHostLabel:()=>b_,resolveEndpoint:()=>oee});CA.exports=FZ(_A);var BZ=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{ie(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},jZ=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),EA=ie(e=>jZ.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),HZ=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),b_=ie((e,t=!1)=>{if(!t)return HZ.test(e);let r=e.split(".");for(let n of r)if(!b_(n))return!1;return!0},"isValidHostLabel"),v_={},fa="endpoints";function Kr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Kr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Kr).join(", ")})`:JSON.stringify(e,null,2)}ie(Kr,"toDebugString");var ft=class extends Error{static{ie(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},$Z=ie((e,t)=>e===t,"booleanEquals"),qZ=ie(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new ft(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new ft(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),vA=ie((e,t)=>qZ(t).reduce((r,n)=>{if(typeof r!="object")throw new ft(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),GZ=ie(e=>e!=null,"isSet"),zZ=ie(e=>!e,"not"),S_=or(),E_={[S_.EndpointURLScheme.HTTP]:80,[S_.EndpointURLScheme.HTTPS]:443},VZ=ie(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:y="",path:_="",query:S={}}=e,T=new URL(`${y}//${h}${g?`:${g}`:""}${_}`);return T.search=Object.entries(S).map(([w,C])=>`${w}=${C}`).join("&"),T}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:c}=t;if(c)return null;let l=i.slice(0,-1);if(!Object.values(S_.EndpointURLScheme).includes(l))return null;let u=EA(o),d=r.includes(`${n}:${E_[l]}`)||typeof e=="string"&&e.includes(`${n}:${E_[l]}`),f=`${n}${d?`:${E_[l]}`:""}`;return{scheme:l,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},"parseURL"),WZ=ie((e,t)=>e===t,"stringEquals"),KZ=ie((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),JZ=ie(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),YZ={booleanEquals:$Z,getAttr:vA,isSet:GZ,isValidHostLabel:b_,not:zZ,parseURL:VZ,stringEquals:WZ,substring:KZ,uriEncode:JZ},SA=ie((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let c=e.substring(s+1,i);if(c.includes("#")){let[l,u]=c.split("#");r.push(vA(n[l],u))}else r.push(n[c]);o=i+1}return r.join("")},"evaluateTemplate"),XZ=ie(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Yu=ie((e,t,r)=>{if(typeof e=="string")return SA(e,r);if(e.fn)return bA(e,r);if(e.ref)return XZ(e,r);throw new ft(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),bA=ie(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Yu(s,"arg",r)),o=e.split(".");return o[0]in v_&&o[1]!=null?v_[o[0]][o[1]](...n):YZ[e](...n)},"callFunction"),QZ=ie(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new ft(`'${e}' is already defined in Reference Record.`);let n=bA(t,r);return r.logger?.debug?.(`${fa} evaluateCondition: ${Kr(t)} = ${Kr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),T_=ie((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=QZ(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${fa} assign: ${s.name} := ${Kr(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),ZZ=ie((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Yu(s,"Header value entry",t);if(typeof i!="string")throw new ft(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),TA=ie((e,t)=>{if(Array.isArray(e))return e.map(r=>TA(r,t));switch(typeof e){case"string":return SA(e,t);case"object":if(e===null)throw new ft(`Unexpected endpoint property: ${e}`);return wA(e,t);case"boolean":return e;default:throw new ft(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),wA=ie((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:TA(o,t)}),{}),"getEndpointProperties"),eee=ie((e,t)=>{let r=Yu(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new ft(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),tee=ie((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=T_(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:c,properties:l,headers:u}=n;return t.logger?.debug?.(`${fa} Resolving endpoint from template: ${Kr(n)}`),{...u!=null&&{headers:ZZ(u,i)},...l!=null&&{properties:wA(l,i)},url:eee(c,i)}},"evaluateEndpointRule"),ree=ie((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=T_(r,t);if(o)throw new ft(Yu(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),nee=ie((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=T_(r,t);if(o)return PA(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),PA=ie((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=tee(r,t);if(n)return n}else if(r.type==="error")ree(r,t);else if(r.type==="tree"){let n=nee(r,t);if(n)return n}else throw new ft(`Unknown endpoint rule: ${r}`);throw new ft("Rules evaluation failed")},"evaluateRules"),oee=ie((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${fa} Initial EndpointParams: ${Kr(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,d])=>[u,d.default]);if(i.length>0)for(let[u,d]of i)r[u]=r[u]??d;let c=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of c)if(r[u]==null)throw new ft(`Missing required parameter: '${u}'`);let l=PA(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${fa} Resolved endpoint: ${Kr(l)}`),l},"resolveEndpoint")});var AA=b((vje,RA)=>{a();var Qu=Object.defineProperty,see=Object.getOwnPropertyDescriptor,iee=Object.getOwnPropertyNames,aee=Object.prototype.hasOwnProperty,cee=(e,t)=>Qu(e,"name",{value:t,configurable:!0}),lee=(e,t)=>{for(var r in t)Qu(e,r,{get:t[r],enumerable:!0})},uee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iee(t))!aee.call(e,o)&&o!==r&&Qu(e,o,{get:()=>t[o],enumerable:!(n=see(t,o))||n.enumerable});return e},dee=e=>uee(Qu({},"__esModule",{value:!0}),e),xA={};lee(xA,{parseQueryString:()=>OA});RA.exports=dee(xA);function OA(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}cee(OA,"parseQueryString")});var Cs=b((bje,DA)=>{a();var Zu=Object.defineProperty,pee=Object.getOwnPropertyDescriptor,fee=Object.getOwnPropertyNames,mee=Object.prototype.hasOwnProperty,hee=(e,t)=>Zu(e,"name",{value:t,configurable:!0}),gee=(e,t)=>{for(var r in t)Zu(e,r,{get:t[r],enumerable:!0})},yee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fee(t))!mee.call(e,o)&&o!==r&&Zu(e,o,{get:()=>t[o],enumerable:!(n=pee(t,o))||n.enumerable});return e},_ee=e=>yee(Zu({},"__esModule",{value:!0}),e),IA={};gee(IA,{parseUrl:()=>NA});DA.exports=_ee(IA);var Eee=AA(),NA=hee(e=>{if(typeof e=="string")return NA(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,Eee.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var td=b((wje,GA)=>{"use strict";a();var ed=Object.defineProperty,vee=Object.getOwnPropertyDescriptor,See=Object.getOwnPropertyNames,bee=Object.prototype.hasOwnProperty,Sn=(e,t)=>ed(e,"name",{value:t,configurable:!0}),Tee=(e,t)=>{for(var r in t)ed(e,r,{get:t[r],enumerable:!0})},wee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of See(t))!bee.call(e,o)&&o!==r&&ed(e,o,{get:()=>t[o],enumerable:!(n=vee(t,o))||n.enumerable});return e},Pee=e=>wee(ed({},"__esModule",{value:!0}),e),kA={};Tee(kA,{ConditionObject:()=>me.ConditionObject,DeprecatedObject:()=>me.DeprecatedObject,EndpointError:()=>me.EndpointError,EndpointObject:()=>me.EndpointObject,EndpointObjectHeaders:()=>me.EndpointObjectHeaders,EndpointObjectProperties:()=>me.EndpointObjectProperties,EndpointParams:()=>me.EndpointParams,EndpointResolverOptions:()=>me.EndpointResolverOptions,EndpointRuleObject:()=>me.EndpointRuleObject,ErrorRuleObject:()=>me.ErrorRuleObject,EvaluateOptions:()=>me.EvaluateOptions,Expression:()=>me.Expression,FunctionArgv:()=>me.FunctionArgv,FunctionObject:()=>me.FunctionObject,FunctionReturn:()=>me.FunctionReturn,ParameterObject:()=>me.ParameterObject,ReferenceObject:()=>me.ReferenceObject,ReferenceRecord:()=>me.ReferenceRecord,RuleSetObject:()=>me.RuleSetObject,RuleSetRules:()=>me.RuleSetRules,TreeRuleObject:()=>me.TreeRuleObject,awsEndpointFunctions:()=>$A,getUserAgentPrefix:()=>Ree,isIpAddress:()=>me.isIpAddress,partition:()=>jA,resolveDefaultAwsRegionalEndpointsConfig:()=>Iee,resolveEndpoint:()=>me.resolveEndpoint,setPartitionInfo:()=>HA,toEndpointV1:()=>qA,useDefaultPartitionInfo:()=>Oee});GA.exports=Pee(kA);var me=Xu(),LA=Sn((e,t=!1)=>{if(t){for(let r of e.split("."))if(!LA(r))return!1;return!0}return!(!(0,me.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,me.isIpAddress)(e))},"isVirtualHostableS3Bucket"),MA=":",Cee="/",xee=Sn(e=>{let t=e.split(MA);if(t.length<6)return null;let[r,n,o,s,i,...c]=t;if(r!=="arn"||n===""||o===""||c.join(MA)==="")return null;let l=c.map(u=>u.split(Cee)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:l}},"parseArn"),UA={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},FA=UA,BA="",jA=Sn(e=>{let{partitions:t}=FA;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,c]of Object.entries(o))if(i===e)return{...s,...c}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),HA=Sn((e,t="")=>{FA=e,BA=t},"setPartitionInfo"),Oee=Sn(()=>{HA(UA,"")},"useDefaultPartitionInfo"),Ree=Sn(()=>BA,"getUserAgentPrefix"),$A={isVirtualHostableS3Bucket:LA,parseArn:xee,partition:jA};me.customEndpointFunctions.aws=$A;var Aee=Cs(),Iee=Sn(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>qA(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),qA=Sn(e=>(0,Aee.parseUrl)(e.url),"toEndpointV1")});var rd,zA,VA=v(()=>{a();rd={warningEmitted:!1},zA=e=>{e&&!rd.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(rd.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function nd(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var WA=v(()=>{a()});function KA(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var JA=v(()=>{a()});function YA(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var XA=v(()=>{a()});var bn={};Fe(bn,{emitWarningIfUnsupportedVersion:()=>zA,setCredentialFeature:()=>nd,setFeature:()=>KA,setTokenFeature:()=>YA,state:()=>rd});var fr=v(()=>{a();VA();WA();JA();XA()});var QA,w_,ZA=v(()=>{a();QA=P(ye()),w_=e=>QA.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var xs,P_=v(()=>{a();xs=e=>new Date(Date.now()+e)});var eI,tI=v(()=>{a();P_();eI=(e,t)=>Math.abs(xs(t).getTime()-e)>=3e5});var C_,rI=v(()=>{a();tI();C_=(e,t)=>{let r=Date.parse(e);return eI(r,t)?r-Date.now():t}});var x_=v(()=>{a();ZA();P_();rI()});var nI,ma,Os,Tn,O_,R_=v(()=>{a();nI=P(ye());x_();ma=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Os=async e=>{let t=ma("context",e.context),r=ma("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await ma("signer",r.signer)(n),i=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:c,signingName:l}},Tn=class{async sign(t,r,n){if(!nI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Os(n),{config:s,signer:i}=o,{signingRegion:c,signingName:l}=o,u=n.context;if(u?.authSchemes?.length??!1){let[f,h]=u.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(c=h?.signingRegion??c,l=h?.signingName??l)}return await i.sign(t,{signingDate:xs(s.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??w_(r.$response);if(n){let o=ma("config",t.config),s=o.systemClockOffset;o.systemClockOffset=C_(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=w_(t);if(n){let o=ma("config",r.config);o.systemClockOffset=C_(n,o.systemClockOffset)}}},O_=Tn});var oI,ha,sI=v(()=>{a();oI=P(ye());x_();R_();ha=class extends Tn{async sign(t,r,n){if(!oI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:c,signingName:l}=await Os(n),d=(await o.sigv4aSigningRegionSet?.()??c??[i]).join(",");return await s.sign(t,{signingDate:xs(o.systemClockOffset),signingRegion:d,signingService:l})}}});var A_,iI=v(()=>{a();A_=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var od,I_=v(()=>{a();od=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var aI,cI,lI,uI=v(()=>{a();iI();I_();aI="AWS_AUTH_SCHEME_PREFERENCE",cI="auth_scheme_preference",lI={environmentVariableSelector:(e,t)=>{if(t?.signingName&&od(t.signingName)in e)return["httpBearerAuth"];if(aI in e)return A_(e[aI])},configFileSelector:e=>{if(cI in e)return A_(e[cI])},default:[]}});var ot=b((hHe,hI)=>{a();var sd=Object.defineProperty,Nee=Object.getOwnPropertyDescriptor,Dee=Object.getOwnPropertyNames,Mee=Object.prototype.hasOwnProperty,xo=(e,t)=>sd(e,"name",{value:t,configurable:!0}),kee=(e,t)=>{for(var r in t)sd(e,r,{get:t[r],enumerable:!0})},Lee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Dee(t))!Mee.call(e,o)&&o!==r&&sd(e,o,{get:()=>t[o],enumerable:!(n=Nee(t,o))||n.enumerable});return e},Uee=e=>Lee(sd({},"__esModule",{value:!0}),e),dI={};kee(dI,{CredentialsProviderError:()=>Fee,ProviderError:()=>id,TokenProviderError:()=>Bee,chain:()=>jee,fromStatic:()=>Hee,memoize:()=>$ee});hI.exports=Uee(dI);var id=class pI extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,pI.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{xo(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},Fee=class fI extends id{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,fI.prototype)}static{xo(this,"CredentialsProviderError")}},Bee=class mI extends id{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,mI.prototype)}static{xo(this,"TokenProviderError")}},jee=xo((...e)=>async()=>{if(e.length===0)throw new id("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),Hee=xo(e=>()=>Promise.resolve(e),"fromStatic"),$ee=xo((e,t,r)=>{let n,o,s,i=!1,c=xo(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(n=await c()),n):async l=>((!s||l?.forceRefresh)&&(n=await c()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await c(),n))},"memoize")});var N_,gI,yI,_I=v(()=>{a();pt();N_=P(ot()),gI=e=>(e.sigv4aSigningRegionSet=_n(e.sigv4aSigningRegionSet),e),yI={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new N_.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new N_.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var WI=b((vHe,VI)=>{a();var fd=Object.defineProperty,qee=Object.getOwnPropertyDescriptor,Gee=Object.getOwnPropertyNames,zee=Object.prototype.hasOwnProperty,$e=(e,t)=>fd(e,"name",{value:t,configurable:!0}),Vee=(e,t)=>{for(var r in t)fd(e,r,{get:t[r],enumerable:!0})},Wee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gee(t))!zee.call(e,o)&&o!==r&&fd(e,o,{get:()=>t[o],enumerable:!(n=qee(t,o))||n.enumerable});return e},Kee=e=>Wee(fd({},"__esModule",{value:!0}),e),TI={};Vee(TI,{ALGORITHM_IDENTIFIER:()=>ad,ALGORITHM_IDENTIFIER_V4A:()=>Qee,ALGORITHM_QUERY_PARAM:()=>wI,ALWAYS_UNSIGNABLE_HEADERS:()=>NI,AMZ_DATE_HEADER:()=>j_,AMZ_DATE_QUERY_PARAM:()=>L_,AUTH_HEADER:()=>B_,CREDENTIAL_QUERY_PARAM:()=>PI,DATE_HEADER:()=>OI,EVENT_ALGORITHM_IDENTIFIER:()=>kI,EXPIRES_QUERY_PARAM:()=>xI,GENERATED_HEADERS:()=>RI,HOST_HEADER:()=>Yee,KEY_TYPE_IDENTIFIER:()=>H_,MAX_CACHE_SIZE:()=>UI,MAX_PRESIGNED_TTL:()=>FI,PROXY_HEADER_PATTERN:()=>DI,REGION_SET_PARAM:()=>Jee,SEC_HEADER_PATTERN:()=>MI,SHA256_HEADER:()=>pd,SIGNATURE_HEADER:()=>AI,SIGNATURE_QUERY_PARAM:()=>U_,SIGNED_HEADERS_QUERY_PARAM:()=>CI,SignatureV4:()=>lte,SignatureV4Base:()=>zI,TOKEN_HEADER:()=>II,TOKEN_QUERY_PARAM:()=>F_,UNSIGNABLE_PATTERNS:()=>Xee,UNSIGNED_PAYLOAD:()=>LI,clearCredentialCache:()=>ete,createScope:()=>ld,getCanonicalHeaders:()=>D_,getCanonicalQuery:()=>GI,getPayloadHash:()=>ud,getSigningKey:()=>BI,hasHeader:()=>HI,moveHeadersToQuery:()=>qI,prepareRequest:()=>k_,signatureV4aContainer:()=>ute});VI.exports=Kee(TI);var EI=tt(),wI="X-Amz-Algorithm",PI="X-Amz-Credential",L_="X-Amz-Date",CI="X-Amz-SignedHeaders",xI="X-Amz-Expires",U_="X-Amz-Signature",F_="X-Amz-Security-Token",Jee="X-Amz-Region-Set",B_="authorization",j_=L_.toLowerCase(),OI="date",RI=[B_,j_,OI],AI=U_.toLowerCase(),pd="x-amz-content-sha256",II=F_.toLowerCase(),Yee="host",NI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},DI=/^proxy-/,MI=/^sec-/,Xee=[/^proxy-/i,/^sec-/i],ad="AWS4-HMAC-SHA256",Qee="AWS4-ECDSA-P256-SHA256",kI="AWS4-HMAC-SHA256-PAYLOAD",LI="UNSIGNED-PAYLOAD",UI=50,H_="aws4_request",FI=3600*24*7,wn=Dy(),Zee=tt(),Rs={},cd=[],ld=$e((e,t,r)=>`${e}/${t}/${r}/${H_}`,"createScope"),BI=$e(async(e,t,r,n,o)=>{let s=await vI(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,wn.toHex)(s)}:${t.sessionToken}`;if(i in Rs)return Rs[i];for(cd.push(i);cd.length>UI;)delete Rs[cd.shift()];let c=`AWS4${t.secretAccessKey}`;for(let l of[r,n,o,H_])c=await vI(e,c,l);return Rs[i]=c},"getSigningKey"),ete=$e(()=>{cd.length=0,Object.keys(Rs).forEach(e=>{delete Rs[e]})},"clearCredentialCache"),vI=$e((e,t,r)=>{let n=new e(t);return n.update((0,Zee.toUint8Array)(r)),n.digest()},"hmac"),D_=$e(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in NI||t?.has(s)||DI.test(s)||MI.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),tte=ly(),rte=tt(),ud=$e(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===pd)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,tte.isArrayBuffer)(t)){let n=new r;return n.update((0,rte.toUint8Array)(t)),(0,wn.toHex)(await n.digest())}return LI},"getPayloadHash"),SI=tt(),nte=class{static{$e(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,SI.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,SI.fromUtf8)(e.value),c=new DataView(new ArrayBuffer(3+i.byteLength));c.setUint8(0,7),c.setUint16(1,i.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(i,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(ste.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!ote.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,wn.fromHex)(e.value.replace(/\-/g,"")),1),d}}},ote=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ste=class jI{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{$e(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&M_(r),new jI(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&M_(t),parseInt((0,wn.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function M_(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}$e(M_,"negate");var HI=$e((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),$I=ye(),qI=$e((e,t={})=>{let{headers:r,query:n={}}=$I.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),k_=$e(e=>{e=$I.HttpRequest.clone(e);for(let t of Object.keys(e.headers))RI.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),bI=sr(),ite=tt(),dd=wy(),GI=$e(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===AI)continue;let o=(0,dd.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,dd.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,c)=>i.concat([`${o}=${(0,dd.escapeUri)(c)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),ate=$e(e=>cte(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),cte=$e(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),zI=class{static{$e(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,bI.normalizeProvider)(r),this.credentialProvider=(0,bI.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${GI(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,ite.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,wn.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,dd.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=ate(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},lte=class extends zI{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new nte}static{$e(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:c,signingRegion:l,signingService:u}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let f=l??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>FI)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=ld(g,f,u??this.service),_=qI(k_(e),{unhoistableHeaders:s,hoistableHeaders:c});d.sessionToken&&(_.query[F_]=d.sessionToken),_.query[wI]=ad,_.query[PI]=`${d.accessKeyId}/${y}`,_.query[L_]=h,_.query[xI]=n.toString(10);let S=D_(_,o,i);return _.query[CI]=this.getCanonicalHeaderList(S),_.query[U_]=await this.getSignature(h,y,this.getSigningKey(d,f,g,u),this.createCanonicalRequest(_,S,await ud(e,this.sha256))),_}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(r),u=ld(c,i,s??this.service),d=await ud({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,wn.toHex)(await f.digest()),g=[kI,l,u,n,h,d].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),c=new this.sha256(await this.getSigningKey(o,s,i,n));return c.update((0,EI.toUint8Array)(e)),(0,wn.toHex)(await c.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let c=o??await this.regionProvider(),l=k_(e),{longDate:u,shortDate:d}=this.formatDate(t),f=ld(d,c,s??this.service);l.headers[j_]=u,i.sessionToken&&(l.headers[II]=i.sessionToken);let h=await ud(l,this.sha256);!HI(pd,l.headers)&&this.applyChecksum&&(l.headers[pd]=h);let g=D_(l,n,r),y=await this.getSignature(u,f,this.getSigningKey(i,c,d,s),this.createCanonicalRequest(l,g,h));return l.headers[B_]=`${ad} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${y}`,l}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,ad),s=new this.sha256(await r);return s.update((0,EI.toUint8Array)(o)),(0,wn.toHex)(await s.digest())}getSigningKey(e,t,r,n){return BI(this.sha256,e,r,t,n||this.service)}},ute={SignatureV4a:null}});function dte(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=__(t,y_,Ku):r?n=_n(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function pte(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var $_,q_,KI,JI=v(()=>{a();fr();pt();$_=P(WI()),q_=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let d=dte(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=pte(e,d);r&&!f.attributed?(n=async h=>f(h).then(g=>nd(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,c;return e.signer?c=_n(e.signer):e.regionInfoProvider?c=()=>_n(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,d])=>{let{signingRegion:f,signingService:h}=u;e.signingRegion=e.signingRegion||f||d,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},y=e.signerConstructor||$_.SignatureV4;return new y(g)}):c=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await _n(e.region)(),properties:{}},u);let d=u.signingRegion,f=u.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||$_.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:c})},KI=q_});var YI=v(()=>{a();R_();sI();uI();_I();JI()});var XI={};Fe(XI,{AWSSDKSigV4Signer:()=>O_,AwsSdkSigV4ASigner:()=>ha,AwsSdkSigV4Signer:()=>Tn,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>lI,NODE_SIGV4A_CONFIG_OPTIONS:()=>yI,getBearerTokenEnvKey:()=>od,resolveAWSSDKSigV4Config:()=>KI,resolveAwsSdkSigV4AConfig:()=>gI,resolveAwsSdkSigV4Config:()=>q_,validateSigningProperties:()=>Os});var G_=v(()=>{a();YI();I_()});var fte,mte,hte,QI=v(()=>{a();fte=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},mte=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},hte=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ga=b((HHe,t0)=>{a();var md=Object.defineProperty,gte=Object.getOwnPropertyDescriptor,yte=Object.getOwnPropertyNames,_te=Object.prototype.hasOwnProperty,Ete=(e,t)=>md(e,"name",{value:t,configurable:!0}),vte=(e,t)=>{for(var r in t)md(e,r,{get:t[r],enumerable:!0})},Ste=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yte(t))!_te.call(e,o)&&o!==r&&md(e,o,{get:()=>t[o],enumerable:!(n=gte(t,o))||n.enumerable});return e},bte=e=>Ste(md({},"__esModule",{value:!0}),e),e0={};vte(e0,{calculateBodyLength:()=>Tte});t0.exports=bte(e0);var ZI=typeof TextEncoder=="function"?new TextEncoder:null,Tte=Ete(e=>{if(typeof e=="string"){if(ZI)return ZI.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Qe,Pn=v(()=>{a();Qe=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function r0(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new He(n,"bigDecimal"):BigInt(n)}return t}var n0=v(()=>{a();xt()});var c0=b((KHe,a0)=>{a();var hd=Object.defineProperty,wte=Object.getOwnPropertyDescriptor,Pte=Object.getOwnPropertyNames,Cte=Object.prototype.hasOwnProperty,Rt=(e,t)=>hd(e,"name",{value:t,configurable:!0}),xte=(e,t)=>{for(var r in t)hd(e,r,{get:t[r],enumerable:!0})},Ote=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pte(t))!Cte.call(e,o)&&o!==r&&hd(e,o,{get:()=>t[o],enumerable:!(n=wte(t,o))||n.enumerable});return e},Rte=e=>Ote(hd({},"__esModule",{value:!0}),e),i0={};xte(i0,{constructStack:()=>z_});a0.exports=Rte(i0);var Oo=Rt((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Cn=Rt((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),z_=Rt(()=>{let e=[],t=[],r=!1,n=new Set,o=Rt(f=>f.sort((h,g)=>o0[g.step]-o0[h.step]||s0[g.priority||"normal"]-s0[h.priority||"normal"]),"sort"),s=Rt(f=>{let h=!1,g=Rt(y=>{let _=Oo(y.name,y.aliases);if(_.includes(f)){h=!0;for(let S of _)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=Rt(f=>{let h=!1,g=Rt(y=>{if(y.middleware===f){h=!0;for(let _ of Oo(y.name,y.aliases))n.delete(_);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),c=Rt(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(d.identifyOnResolve()),f),"cloneTo"),l=Rt(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h},"expandRelativeMiddlewareList"),u=Rt((f=!1)=>{let h=[],g=[],y={};return e.forEach(S=>{let T={...S,before:[],after:[]};for(let w of Oo(T.name,T.aliases))y[w]=T;h.push(T)}),t.forEach(S=>{let T={...S,before:[],after:[]};for(let w of Oo(T.name,T.aliases))y[w]=T;g.push(T)}),g.forEach(S=>{if(S.toMiddleware){let T=y[S.toMiddleware];if(T===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${Cn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&T.after.push(S),S.relation==="before"&&T.before.push(S)}}),o(h).map(l).reduce((S,T)=>(S.push(...T),S),[])},"getMiddlewareList"),d={add:(f,h={})=>{let{name:g,override:y,aliases:_}=h,S={step:"initialize",priority:"normal",middleware:f,...h},T=Oo(g,_);if(T.length>0){if(T.some(w=>n.has(w))){if(!y)throw new Error(`Duplicate middleware name '${Cn(g,_)}'`);for(let w of T){let C=e.findIndex(x=>x.name===w||x.aliases?.some(A=>A===w));if(C===-1)continue;let O=e[C];if(O.step!==S.step||S.priority!==O.priority)throw new Error(`"${Cn(O.name,O.aliases)}" middleware with ${O.priority} priority in ${O.step} step cannot be overridden by "${Cn(g,_)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(C,1)}}for(let w of T)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:y,aliases:_}=h,S={middleware:f,...h},T=Oo(g,_);if(T.length>0){if(T.some(w=>n.has(w))){if(!y)throw new Error(`Duplicate middleware name '${Cn(g,_)}'`);for(let w of T){let C=t.findIndex(x=>x.name===w||x.aliases?.some(A=>A===w));if(C===-1)continue;let O=t[C];if(O.toMiddleware!==S.toMiddleware||O.relation!==S.relation)throw new Error(`"${Cn(O.name,O.aliases)}" middleware ${O.relation} "${O.toMiddleware}" middleware cannot be overridden by "${Cn(g,_)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(C,1)}}for(let w of T)n.add(w)}t.push(S)},clone:()=>c(z_()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=Rt(y=>{let{tags:_,name:S,aliases:T}=y;if(_&&_.includes(f)){let w=Oo(S,T);for(let C of w)n.delete(C);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=c(z_());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:c,identify:()=>u(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Cn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of u().map(y=>y.middleware).reverse())f=g(f,h);return r&&console.log(d.identify()),f}};return d},"constructStack"),o0={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},s0={high:3,normal:2,low:1}});var qe=b((YHe,Q_)=>{a();var gd=Object.defineProperty,Ate=Object.getOwnPropertyDescriptor,Ite=Object.getOwnPropertyNames,Nte=Object.prototype.hasOwnProperty,re=(e,t)=>gd(e,"name",{value:t,configurable:!0}),Dte=(e,t)=>{for(var r in t)gd(e,r,{get:t[r],enumerable:!0})},W_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ite(t))!Nte.call(e,o)&&o!==r&&gd(e,o,{get:()=>t[o],enumerable:!(n=Ate(t,o))||n.enumerable});return e},Mte=(e,t,r)=>(W_(e,t,"default"),r&&W_(r,t,"default")),kte=e=>W_(gd({},"__esModule",{value:!0}),e),Y_={};Dte(Y_,{Client:()=>Lte,Command:()=>d0,NoOpLogger:()=>Zte,SENSITIVE_STRING:()=>Fte,ServiceException:()=>jte,_json:()=>J_,collectBody:()=>V_.collectBody,convertMap:()=>ere,createAggregatedClient:()=>Bte,decorateServiceException:()=>p0,emitWarningIfUnsupportedVersion:()=>Gte,extendedEncodeURIComponent:()=>V_.extendedEncodeURIComponent,getArrayIfSingleItem:()=>Xte,getDefaultClientConfiguration:()=>Jte,getDefaultExtensionConfiguration:()=>m0,getValueFromTextNode:()=>h0,isSerializableHeaderValue:()=>Qte,loadConfigsForDefaultMode:()=>qte,map:()=>X_,resolveDefaultRuntimeConfig:()=>Yte,resolvedPath:()=>V_.resolvedPath,serializeDateTime:()=>ire,serializeFloat:()=>sre,take:()=>tre,throwDefaultError:()=>f0,withBaseException:()=>Hte});Q_.exports=kte(Y_);var u0=c0(),Lte=class{constructor(e){this.config=e,this.middlewareStack=(0,u0.constructStack)()}static{re(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?i=c.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),c.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return i(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},V_=(Wr(),V(sA)),K_=or(),d0=class{constructor(){this.middlewareStack=(0,u0.constructStack)()}static{re(this,"Command")}static classBuilder(){return new Ute}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:d}){for(let _ of n.bind(this)(d,e,t,r))this.middlewareStack.use(_);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:c,[K_.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...u},{requestHandler:y}=t;return f.resolve(_=>y.handle(_.request,r||{}),g)}},Ute=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{re(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends d0{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{re(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},Fte="***SensitiveInformation***",Bte=re((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=re(async function(i,c,l){let u=new n(i);if(typeof c=="function")this.send(u,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(u,c||{},l)}else return this.send(u,c)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),jte=class ya extends Error{static{re(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return ya.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===ya?ya.isInstance(t):ya.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},p0=re((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),f0=re(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=$te(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw p0(i,t)},"throwDefaultError"),Hte=re(e=>({output:t,parsedBody:r,errorCode:n})=>{f0({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),$te=re(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),qte=re(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),l0=!1,Gte=re(e=>{e&&!l0&&parseInt(e.substring(1,e.indexOf(".")))<16&&(l0=!0)},"emitWarningIfUnsupportedVersion"),zte=re(e=>{let t=[];for(let r in K_.AlgorithmId){let n=K_.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),Vte=re(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Wte=re(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),Kte=re(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),m0=re(e=>Object.assign(zte(e),Wte(e)),"getDefaultExtensionConfiguration"),Jte=m0,Yte=re(e=>Object.assign(Vte(e),Kte(e)),"resolveDefaultRuntimeConfig"),Xte=re(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),h0=re(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=h0(e[r]));return e},"getValueFromTextNode"),Qte=re(e=>e!=null,"isSerializableHeaderValue"),Zte=class{static{re(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function X_(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,rre(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}g0(n,null,s,i)}return n}re(X_,"map");var ere=re(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),tre=re((e,t)=>{let r={};for(let n in t)g0(r,e,t,n);return r},"take"),rre=re((e,t,r)=>X_(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),g0=re((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[c=nre,l=ore,u=n]=i;(typeof c=="function"&&c(t[u])||typeof c!="function"&&c)&&(e[n]=l(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,c=o===void 0&&(i=s())!=null,l=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;c?e[n]=i:l&&(e[n]=s())}else{let i=o===void 0&&s!=null,c=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||c)&&(e[n]=s)}},"applyInstruction"),nre=re(e=>e!=null,"nonNullish"),ore=re(e=>e,"pass"),sre=re(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),ire=re(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),J_=re(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(J_);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=J_(e[r]));return t}return e},"_json");Mte(Y_,(xt(),V(KR)),Q_.exports)});var y0,yd,Z_=v(()=>{a();y0=P(qe()),yd=(e,t)=>(0,y0.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var _d,are,_a,Ea=v(()=>{a();Z_();_d=(e,t)=>yd(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),are=async(e,t)=>{let r=await _d(e,t);return r.message=r.message??r.Message,r},_a=(e,t)=>{let r=(s,i)=>Object.keys(s).find(c=>c.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var _0,va,eE=v(()=>{a();ke();xt();_0=P(Et());Pn();n0();Ea();va=class extends Qe{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,r0):await _d(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=G.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&c.push(this._read(i,u));return c}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(l||d!=null)&&(c[u]=this._read(i,d));return c}else if(o.isStructSchema()&&n){let i={};for(let[c,l]of o.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,d=this._read(l,r[u]);d!=null&&(i[c]=d)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,_0.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return nt.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===N.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case N.TIMESTAMP_DATE_TIME:return ca(r);case N.TIMESTAMP_HTTP_DATE:return la(r);case N.TIMESTAMP_EPOCH_SECONDS:return ua(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof He?r:new He(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var E0,Ed,v0=v(()=>{a();xt();E0="\u039D",Ed=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof He){let n=`${E0+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${E0+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Sa,tE=v(()=>{a();ke();xt();xt();Pn();v0();Sa=class extends Qe{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=G.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Ed;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=G.of(t);if(s.isListSchema()&&Array.isArray(r)){let c=s.getValueSchema(),l=[],u=!!s.getMergedTraits().sparse;for(let d of r)(u||d!=null)&&l.push(this._write(c,d));return l}else if(s.isMapSchema()&&o){let c=s.getValueSchema(),l={},u=!!s.getMergedTraits().sparse;for(let[d,f]of Object.entries(r))(u||f!=null)&&(l[d]=this._write(c,f));return l}else if(s.isStructSchema()&&o){let c={};for(let[l,u]of s.structIterator()){let d=this.settings.jsonName?u.getMergedTraits().jsonName??l:l,f=this._write(u,r[l],s);f!==void 0&&(c[d]=f)}return c}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let c=this.settings.timestampFormat;switch(c.useTrait?s.getSchema()===N.TIMESTAMP_DEFAULT?c.default:s.getSchema()??c.default:c.default){case N.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case N.TIMESTAMP_HTTP_DATE:return aa(r);case N.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?nt.from(r):r}}});var Ro,vd=v(()=>{a();Pn();eE();tE();Ro=class extends Qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Sa(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new va(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var S0,Ao,Sd=v(()=>{a();Wr();ke();S0=P(ga());vd();Ea();Ao=class extends bo{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new Ro({timestampFormat:{useTrait:!0,default:N.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+G.of(t).getName()}),(Vr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,S0.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=_a(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=rt.for(c),d;try{d=u.getSchema(i)}catch{let S=rt.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let T=S.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let f=G.of(d),h=o.message??o.Message??"Unknown",g=new d.ctor(h);await this.deserializeHttpMessage(d,r,n,o);let y={};for(let[_,S]of f.structIterator()){let T=S.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(S,o[T])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,...y}),g}}});var rE,b0=v(()=>{a();Sd();rE=class extends Ao{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var nE,T0=v(()=>{a();Sd();nE=class extends Ao{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var w0,oE,P0=v(()=>{a();Wr();ke();w0=P(ga());vd();Ea();oE=class extends So{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:N.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Ro(r),this.serializer=new Co(this.codec.createSerializer(),r),this.deserializer=new Po(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=G.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let c=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:d,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:y}=u.getMergedTraits();return!d&&!f&&!h&&!g&&y===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,w0.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=_a(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=rt.for(c),d;try{d=u.getSchema(i)}catch{let S=rt.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let T=S.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let f=G.of(d),h=o.message??o.Message??"Unknown",g=new d.ctor(h);await this.deserializeHttpMessage(d,r,n,o);let y={};for(let[_,S]of f.structIterator()){let T=S.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(S,o[T])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,...y}),g}}});var C0,cre,x0=v(()=>{a();C0=P(qe()),cre=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,C0.expectUnion)(e)}});function bd(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function R0(e){return typeof e<"u"}var O0,lre,ure,dre,ba,Td=v(()=>{"use strict";a();O0=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",lre=O0+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",ure="["+O0+"]["+lre+"]*",dre=new RegExp("^"+ure+"$");ba=function(e){let t=dre.exec(e);return!(t===null||typeof t>"u")}});function M0(e,t){t=Object.assign({},pre,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=I0(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=N0(e,s);continue}else{let c=!1;e[s]==="/"&&(c=!0,s++);let l="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)l+=e[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!vre(l)){let f;return l.trim().length===0?f="Invalid space after '<'.":f="Tag '"+l+"' is an invalid name.",be("InvalidTag",f,st(e,s))}let u=hre(e,s);if(u===!1)return be("InvalidAttr","Attributes for '"+l+"' have open quote.",st(e,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){let f=s-d.length;d=d.substring(0,d.length-1);let h=D0(d,t);if(h===!0)n=!0;else return be(h.err.code,h.err.msg,st(e,f+h.err.line))}else if(c)if(u.tagClosed){if(d.trim().length>0)return be("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",st(e,i));if(r.length===0)return be("InvalidTag","Closing tag '"+l+"' has not been opened.",st(e,i));{let f=r.pop();if(l!==f.tagName){let h=st(e,f.tagStartPos);return be("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+l+"'.",st(e,i))}r.length==0&&(o=!0)}}else return be("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",st(e,s));else{let f=D0(d,t);if(f!==!0)return be(f.err.code,f.err.msg,st(e,s-d.length+f.err.line));if(o===!0)return be("InvalidXml","Multiple possible root nodes found.",st(e,s));t.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=N0(e,s);continue}else if(e[s+1]==="?"){if(s=I0(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=_re(e,s);if(f==-1)return be("InvalidChar","char '&' is not expected.",st(e,s));s=f}else if(o===!0&&!A0(e[s]))return be("InvalidXml","Extra text at the end",st(e,s));e[s]==="<"&&s--}}else{if(A0(e[s]))continue;return be("InvalidChar","char '"+e[s]+"' is not expected.",st(e,s))}if(n){if(r.length==1)return be("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",st(e,r[0].tagStartPos));if(r.length>0)return be("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return be("InvalidXml","Start tag expected.",1);return!0}function A0(e){return e===" "||e==="	"||e===`
`||e==="\r"}function I0(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return be("InvalidXml","XML declaration allowed only at the start of the document.",st(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function N0(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function hre(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===fre||e[t]===mre)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function D0(e,t){let r=bd(e,gre),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return be("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Ta(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return be("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Ta(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return be("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Ta(r[o]));let s=r[o][2];if(!Ere(s))return be("InvalidAttr","Attribute '"+s+"' is an invalid name.",Ta(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return be("InvalidAttr","Attribute '"+s+"' is repeated.",Ta(r[o]))}return!0}function yre(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function _re(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,yre(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function be(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Ere(e){return ba(e)}function vre(e){return ba(e)}function st(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ta(e){return e.startIndex+e[1].length}var pre,fre,mre,gre,k0=v(()=>{"use strict";a();Td();pre={allowBooleanAttributes:!1,unpairedTags:[]};fre='"',mre="'";gre=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var Sre,L0,U0=v(()=>{a();Sre={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},L0=function(e){return Object.assign({},Sre,e)}});var wd,vt,Pd=v(()=>{"use strict";a();typeof Symbol!="function"?wd="@@xmlMetadata":wd=Symbol("XML Node Metadata");vt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][wd]={startIndex:r})}static getMetaDataSymbol(){return wd}}});function sE(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&Io(e,"!ENTITY",t)){t+=7;let c,l;[c,l,t]=bre(e,t+1),l.indexOf("&")===-1&&(r[c]={regx:RegExp(`&${c};`,"g"),val:l})}else if(o&&Io(e,"!ELEMENT",t)){t+=8;let{index:c}=wre(e,t+1);t=c}else if(o&&Io(e,"!ATTLIST",t))t+=8;else if(o&&Io(e,"!NOTATION",t)){t+=9;let{index:c}=Tre(e,t+1);t=c}else if(Io(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function bre(e,t){t=xn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(iE(r),t=xn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Cd(e,t,"entity"),t--,[r,n,t]}function Tre(e,t){t=xn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;iE(r),t=xn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=xn(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Cd(e,t,"publicIdentifier"),t=xn(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Cd(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Cd(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Cd(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function wre(e,t){t=xn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!iE(r))throw new Error(`Invalid element name: "${r}"`);t=xn(e,t);let n="";if(e[t]==="E"&&Io(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Io(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Io(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function iE(e){if(ba(e))return e;throw new Error(`Invalid entity name ${e}`)}var xn,F0=v(()=>{a();Td();xn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function aE(e,t={}){if(t=Object.assign({},xre,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&Pre.test(r))return Ire(r,16);if(r.search(/.+[eE].+/)!==-1)return Rre(e,r,t);{let n=Cre.exec(r);if(n){let o=n[1]||"",s=n[2],i=Are(n[3]),c=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!c))return e;{let l=Number(r),u=String(l);if(l===0)return l;if(u.search(/[eE]/)!==-1)return t.eNotation?l:e;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${o}${i}`?l:e;let d=s?i:r;return s?d===u||o+d===u?l:e:d===u||d===o+u?l:e}}else return e}}function Rre(e,t,r){if(!r.eNotation)return e;let n=t.match(Ore);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],c=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&c?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!c?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function Are(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function Ire(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var Pre,Cre,xre,Ore,B0=v(()=>{a();Pre=/^[-+]?0x[a-fA-F0-9]+$/,Cre=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,xre={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Ore=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function cE(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var j0=v(()=>{a()});function Nre(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Dre(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let c=this.options.tagValueProcessor(t,e,r,o,s);return c==null?e:typeof c!=typeof e||c!==e?c:this.options.trimValues?uE(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?uE(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Mre(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function Lre(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=bd(e,kre),o=n.length,s={};for(let i=0;i<o;i++){let c=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(c,t))continue;let l=n[i][4],u=this.options.attributeNamePrefix+c;if(c.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);let d=this.options.attributeValueProcessor(c,l,t);d==null?s[u]=l:typeof d!=typeof l||d!==l?s[u]=d:s[u]=uE(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function Fre(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function jre(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Hre(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function $re(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function No(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function lE(e,t,r,n=">"){let o=$re(e,t+1,n);if(!o)return;let s=o.data,i=o.index,c=s.search(/\s/),l=s,u=!0;c!==-1&&(l=s.substring(0,c),s=s.substring(c+1).trimStart());let d=l;if(r){let f=l.indexOf(":");f!==-1&&(l=l.substr(f+1),u=l!==o.data.substr(f+1))}return{tagName:l,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:d}}function qre(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=No(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=No(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=No(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=No(e,"]]>",r,"StopNode is not closed.")-2;else{let s=lE(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function uE(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:aE(e,r)}else return R0(e)?e:""}var wa,kre,Ure,Bre,H0=v(()=>{"use strict";a();Td();Pd();F0();B0();j0();wa=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Nre,this.parseXml=Ure,this.parseTextData=Dre,this.resolveNameSpace=Mre,this.buildAttributesMap=Lre,this.isItStopNode=Hre,this.replaceEntitiesValue=Bre,this.readStopNodeData=qre,this.saveTextToParentTag=jre,this.addChild=Fre,this.ignoreAttributesFn=cE(this.options.ignoreAttributes)}};kre=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");Ure=function(e){e=e.replace(/\r\n?/g,`
`);let t=new vt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let c=No(e,">",s,"Closing Tag is not closed."),l=e.substring(s+2,c).trim();if(this.options.removeNSPrefix){let f=l.indexOf(":");f!==-1&&(l=l.substr(f+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(n=this.saveTextToParentTag(n,r,o));let u=o.substring(o.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=o.lastIndexOf("."),o=o.substring(0,d),r=this.tagsNodeStack.pop(),n="",s=c}else if(e[s+1]==="?"){let c=lE(e,s,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){let l=new vt(c.tagName);l.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(l[":@"]=this.buildAttributesMap(c.tagExp,o,c.tagName)),this.addChild(r,l,o,s)}s=c.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let c=No(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let l=e.substring(s+4,c-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=c}else if(e.substr(s+1,2)==="!D"){let c=sE(e,s);this.docTypeEntities=c.entities,s=c.i}else if(e.substr(s+1,2)==="!["){let c=No(e,"]]>",s,"CDATA is not closed.")-2,l=e.substring(s+9,c);n=this.saveTextToParentTag(n,r,o);let u=this.parseTextData(l,r.tagname,o,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):r.add(this.options.textNodeName,u),s=c+2}else{let c=lE(e,s,this.options.removeNSPrefix),l=c.tagName,u=c.rawTagName,d=c.tagExp,f=c.attrExpPresent,h=c.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),l!==t.tagname&&(o+=o?"."+l:l);let y=s;if(this.isItStopNode(this.options.stopNodes,o,l)){let _="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),d=l):d=d.substr(0,d.length-1),s=c.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=c.closeIndex;else{let T=this.readStopNodeData(e,u,h+1);if(!T)throw new Error(`Unexpected end of ${u}`);s=T.i,_=T.tagContent}let S=new vt(l);l!==d&&f&&(S[":@"]=this.buildAttributesMap(d,o,l)),_&&(_=this.parseTextData(_,l,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,_),this.addChild(r,S,o,y)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),d=l):d=d.substr(0,d.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let _=new vt(l);l!==d&&f&&(_[":@"]=this.buildAttributesMap(d,o,l)),this.addChild(r,_,o,y),o=o.substr(0,o.lastIndexOf("."))}else{let _=new vt(l);this.tagsNodeStack.push(r),l!==d&&f&&(_[":@"]=this.buildAttributesMap(d,o,l)),this.addChild(r,_,o,y),r=_}n="",s=h}}else n+=e[s];return t.child};Bre=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function pE(e,t){return $0(e,t)}function $0(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],c=Gre(i),l="";if(r===void 0?l=c:l=r+"."+c,c===t.textNodeName)n===void 0?n=i[c]:n+=""+i[c];else{if(c===void 0)continue;if(i[c]){let u=$0(i[c],t,l),d=Vre(u,t);i[dE]!==void 0&&(u[dE]=i[dE]),i[":@"]?zre(u,i[":@"],l,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),o[c]!==void 0&&o.hasOwnProperty(c)?(Array.isArray(o[c])||(o[c]=[o[c]]),o[c].push(u)):t.isArray(c,l,d)?o[c]=[u]:o[c]=u}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function Gre(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function zre(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let c=o[i];n.isArray(c,r+"."+c,!0,!0)?e[c]=[t[c]]:e[c]=t[c]}}}function Vre(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var dE,q0=v(()=>{"use strict";a();Pd();dE=vt.getMetaDataSymbol()});var On,G0=v(()=>{a();U0();H0();q0();k0();Pd();On=class{constructor(t){this.externalEntities={},this.options=L0(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=M0(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new wa(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:pE(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return vt.getMetaDataSymbol()}}});var fE=v(()=>{"use strict";a();G0()});var z0,V0,Do,xd=v(()=>{a();Wr();ke();z0=P(qe()),V0=P(tt());fE();Pn();Do=class extends Qe{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new wo(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=G.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},d=Object.keys(s)[0];return s[d].isBlobSchema()?u[d]=r:u[d]=this.read(s[d],r),u}let c=(this.serdeContext?.utf8Encoder??V0.toUtf8)(r),l=this.parseXml(c);return this.readSchema(t,n?l[n]:l)}readSchema(t,r){let n=G.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),u=[],d=l.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[d],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&u.push(this.readSchema(l,g));return u}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),u=n.getValueSchema(),d;i?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let f=l.getMergedTraits().xmlName??"key",h=u.getMergedTraits().xmlName??"value";for(let g of d){let y=g[f],_=g[h];(_!=null||s)&&(c[y]=this.readSchema(u,_))}return c}if(n.isStructSchema()){for(let[l,u]of n.structIterator()){let d=u.getMergedTraits(),f=d.httpPayload?d.xmlName??u.getName():u.getMemberTraits().xmlName??l;r[f]!=null&&(c[l]=this.readSchema(u,r[f]))}return c}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new On({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,z0.getValueFromTextNode)(i)}return{}}}});var W0,K0,Od,J0=v(()=>{a();Wr();ke();xt();W0=P(qe()),K0=P(Et());Pn();Od=class extends Qe{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=G.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??K0.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof He?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),To(o,this.settings)){case N.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case N.TIMESTAMP_HTTP_DATE:this.writeValue((0,W0.dateToUtcString)(r));break;case N.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,c=1;for(let l of r){if(l==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),d=i?`${n}${c}`:`${n}${u}.${c}`;this.write(s,l,d),++c}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),c=o.getMergedTraits().xmlFlattened,l=1;for(let[u,d]of Object.entries(r)){if(d==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=c?`${n}${l}.${f}`:`${n}entry.${l}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),y=c?`${n}${l}.${g}`:`${n}entry.${l}.${g}`;this.write(s,u,h),this.write(i,d,y),++l}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let c=this.getKey(s,i.getMergedTraits().xmlName),l=`${n}${c}`;this.write(i,r[s],l)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${ur(t)}=`}writeValue(t){this.buffer+=ur(t)}}});var Y0,Pa,mE=v(()=>{a();Wr();ke();Y0=P(ga());xd();J0();Pa=class extends bo{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:N.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Od(r),this.deserializer=new Do(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Vr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,Y0.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=G.of(t.output),i={};if(n.statusCode>=300){let d=await Ct(n.body,r);d.byteLength>0&&Object.assign(i,await o.read(N.DOCUMENT,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let f=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=f}let c=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,l=await Ct(n.body,r);return l.byteLength>0&&Object.assign(i,await o.read(s,l,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=this.loadQueryError(o),d=rt.for(c),f;try{f=d.find(S=>G.of(S).getMergedTraits().awsQueryError?.[0]===l),f||(f=d.getSchema(i))}catch{let T=rt.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(T){let w=T.ctor;throw Object.assign(new w(l),u)}throw new Error(l)}let h=G.of(f),g=this.loadQueryErrorMessage(o),y=new f.ctor(g),_={};for(let[S,T]of h.structIterator()){let w=T.getMergedTraits().xmlName??S,C=u[w]??o[w];_[S]=this.deserializer.readSchema(T,C)}throw Object.assign(y,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,..._}),y}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var hE,X0=v(()=>{a();mE();hE=class extends Pa{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Q0,Z0,Wre,gE,yE=v(()=>{a();Q0=P(qe());fE();Z_();Z0=(e,t)=>yd(e,t).then(r=>{if(r.length){let n=new On({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:r}),l}let s="#text",i=Object.keys(o)[0],c=o[i];return c[s]&&(c[i]=c[s],delete c[s]),(0,Q0.getValueFromTextNode)(c)}return{}}),Wre=async(e,t)=>{let r=await Z0(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},gE=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var _E=b((nGe,oN)=>{"use strict";a();var Ad=Object.defineProperty,Kre=Object.getOwnPropertyDescriptor,Jre=Object.getOwnPropertyNames,Yre=Object.prototype.hasOwnProperty,Id=(e,t)=>Ad(e,"name",{value:t,configurable:!0}),Xre=(e,t)=>{for(var r in t)Ad(e,r,{get:t[r],enumerable:!0})},Qre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jre(t))!Yre.call(e,o)&&o!==r&&Ad(e,o,{get:()=>t[o],enumerable:!(n=Kre(t,o))||n.enumerable});return e},Zre=e=>Qre(Ad({},"__esModule",{value:!0}),e),eN={};Xre(eN,{XmlNode:()=>ene,XmlText:()=>nN});oN.exports=Zre(eN);function tN(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Id(tN,"escapeAttribute");function rN(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Id(rN,"escapeElement");var nN=class{constructor(e){this.value=e}static{Id(this,"XmlText")}toString(){return rN(""+this.value)}},ene=class Rd{constructor(t,r=[]){this.name=t,this.children=r}static{Id(this,"XmlNode")}attributes={};static of(t,r,n){let o=new Rd(t);return r!==void 0&&o.addChildNode(new nN(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=Rd.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new Rd(n);s.map(c=>{i.c(c)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${tN(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var At,EE,Nd,Ca,vE=v(()=>{a();At=P(_E());ke();xt();EE=P(qe()),Nd=P(Et());Pn();Ca=class extends Qe{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=G.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Nd.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=At.XmlNode.of(s),[c,l]=this.getXmlnsAttribute(t,n);l&&i.addAttribute(c,l);for(let[u,d]of t.structIterator()){let f=r[u];if(f!=null){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??u,this.writeSimple(d,f));continue}if(d.isListSchema())this.writeList(d,f,i,l);else if(d.isMapSchema())this.writeMap(d,f,i,l);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,f,l));else{let h=At.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,f,h,l),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),c=i.getMergedTraits(),l=!!c.sparse,u=!!s.xmlFlattened,[d,f]=this.getXmlnsAttribute(t,o),h=(g,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],g,f);else if(i.isMapSchema())this.writeMap(i,y,g,f);else if(i.isStructSchema()){let _=this.writeStruct(i,y,f);g.addChildNode(_.withName(u?s.xmlName??t.getMemberName():c.xmlName??"member"))}else{let _=At.XmlNode.of(u?s.xmlName??t.getMemberName():c.xmlName??"member");this.writeSimpleInto(i,y,_,f),g.addChildNode(_)}};if(u)for(let g of r)(l||g!=null)&&h(n,g);else{let g=At.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(d,f);for(let y of r)(l||y!=null)&&h(g,y);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),c=t.getKeySchema(),u=c.getMergedTraits().xmlName??"key",d=t.getValueSchema(),f=d.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,y=!!i.xmlFlattened,[_,S]=this.getXmlnsAttribute(t,o),T=(w,C,O)=>{let x=At.XmlNode.of(u,C),[A,le]=this.getXmlnsAttribute(c,S);le&&x.addAttribute(A,le),w.addChildNode(x);let oe=At.XmlNode.of(h);d.isListSchema()?this.writeList(d,O,oe,S):d.isMapSchema()?this.writeMap(d,O,oe,S,!0):d.isStructSchema()?oe=this.writeStruct(d,O,S):this.writeSimpleInto(d,O,oe,S),w.addChildNode(oe)};if(y){for(let[w,C]of Object.entries(r))if(g||C!=null){let O=At.XmlNode.of(i.xmlName??t.getMemberName());T(O,w,C),n.addChildNode(O)}}else{let w;s||(w=At.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(_,S),n.addChildNode(w));for(let[C,O]of Object.entries(r))if(g||O!=null){let x=At.XmlNode.of("entry");T(x,C,O),(s?n:w).addChildNode(x)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=G.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Nd.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===N.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case N.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case N.TIMESTAMP_HTTP_DATE:o=(0,EE.dateToUtcString)(r);break;case N.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,EE.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof He?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=G.of(t),c=new At.XmlText(s),[l,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(l,u),n.addChildNode(c)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var xa,SE=v(()=>{a();Pn();xd();vE();xa=class extends Qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ca(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Do(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var sN,bE,iN=v(()=>{a();Wr();ke();sN=P(ga());yE();SE();bE=class extends So{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:N.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new xa(r),this.serializer=new Co(this.codec.createSerializer(),r),this.deserializer=new Po(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=G.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(c=>c!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let c=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:d,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:y}=u.getMergedTraits();return!d&&!f&&!h&&!g&&y===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,sN.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=gE(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=rt.for(c),d;try{d=u.getSchema(i)}catch{let S=rt.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let T=S.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let f=G.of(d),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new d.ctor(h);await this.deserializeHttpMessage(d,r,n,o);let y={};for(let[_,S]of f.structIterator()){let T=S.getMergedTraits().xmlName??_,w=o.Error?.[T]??o[T];y[_]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,...y}),g}}});var aN=v(()=>{a();QI();b0();T0();Sd();P0();vd();eE();tE();x0();Ea();X0();mE();iN();SE();xd();vE();yE()});var mr={};Fe(mr,{AWSSDKSigV4Signer:()=>O_,AwsEc2QueryProtocol:()=>hE,AwsJson1_0Protocol:()=>rE,AwsJson1_1Protocol:()=>nE,AwsJsonRpcProtocol:()=>Ao,AwsQueryProtocol:()=>Pa,AwsRestJsonProtocol:()=>oE,AwsRestXmlProtocol:()=>bE,AwsSdkSigV4ASigner:()=>ha,AwsSdkSigV4Signer:()=>Tn,JsonCodec:()=>Ro,JsonShapeDeserializer:()=>va,JsonShapeSerializer:()=>Sa,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>lI,NODE_SIGV4A_CONFIG_OPTIONS:()=>yI,XmlCodec:()=>xa,XmlShapeDeserializer:()=>Do,XmlShapeSerializer:()=>Ca,_toBool:()=>mte,_toNum:()=>hte,_toStr:()=>fte,awsExpectUnion:()=>cre,emitWarningIfUnsupportedVersion:()=>zA,getBearerTokenEnvKey:()=>od,loadRestJsonErrorCode:()=>_a,loadRestXmlErrorCode:()=>gE,parseJsonBody:()=>_d,parseJsonErrorBody:()=>are,parseXmlBody:()=>Z0,parseXmlErrorBody:()=>Wre,resolveAWSSDKSigV4Config:()=>KI,resolveAwsSdkSigV4AConfig:()=>gI,resolveAwsSdkSigV4Config:()=>q_,setCredentialFeature:()=>nd,setFeature:()=>KA,setTokenFeature:()=>YA,state:()=>rd,validateSigningProperties:()=>Os});var hr=v(()=>{a();fr();G_();aN()});var kd=b((zGe,EN)=>{"use strict";a();var Md=Object.defineProperty,tne=Object.getOwnPropertyDescriptor,rne=Object.getOwnPropertyNames,nne=Object.prototype.hasOwnProperty,Jr=(e,t)=>Md(e,"name",{value:t,configurable:!0}),one=(e,t)=>{for(var r in t)Md(e,r,{get:t[r],enumerable:!0})},sne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rne(t))!nne.call(e,o)&&o!==r&&Md(e,o,{get:()=>t[o],enumerable:!(n=tne(t,o))||n.enumerable});return e},ine=e=>sne(Md({},"__esModule",{value:!0}),e),dN={};one(dN,{DEFAULT_UA_APP_ID:()=>pN,getUserAgentMiddlewareOptions:()=>_N,getUserAgentPlugin:()=>mne,resolveUserAgentConfig:()=>mN,userAgentMiddleware:()=>yN});EN.exports=ine(dN);var ane=(pt(),V(Ot)),pN=void 0;function fN(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Jr(fN,"isValidUserAgentAppId");function mN(e){let t=(0,ane.normalizeProvider)(e.userAgentAppId??pN),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Jr(async()=>{let n=await t();if(!fN(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Jr(mN,"resolveUserAgentConfig");var cne=td(),lne=ye(),gr=(hr(),V(mr)),une=/\d{12}\.ddb/;async function hN(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,gr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,gr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,gr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,gr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(une)&&(0,gr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,gr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,gr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,gr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,gr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,c]of Object.entries(s.$source??{}))(0,gr.setFeature)(e,i,c)}}Jr(hN,"checkFeatures");var cN="user-agent",TE="x-amz-user-agent",lN=" ",wE="/",dne=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,pne=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,uN="-",fne=1024;function gN(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=fne){t.length?t+=","+n:t+=n;continue}break}return t}Jr(gN,"encodeFeatures");var yN=Jr(e=>(t,r)=>async n=>{let{request:o}=n;if(!lne.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Dd)||[],c=(await e.defaultUserAgentProvider()).map(Dd);await hN(r,e,n);let l=r;c.push(`m/${gN(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(Dd)||[],d=await e.userAgentAppId();d&&c.push(Dd([`app/${d}`]));let f=(0,cne.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...c,...i,...u]).join(lN),g=[...c.filter(y=>y.startsWith("aws-sdk-")),...u].join(lN);return e.runtime!=="browser"?(g&&(s[TE]=s[TE]?`${s[cN]} ${g}`:g),s[cN]=h):s[TE]=h,t({...n,request:o})},"userAgentMiddleware"),Dd=Jr(e=>{let t=e[0].split(wE).map(i=>i.replace(dne,uN)).join(wE),r=e[1]?.replace(pne,uN),n=t.indexOf(wE),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,c,l)=>{switch(l){case 0:return c;case 1:return`${i}/${c}`;default:return`${i}#${c}`}},"")},"escapeUserAgent"),_N={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},mne=Jr(e=>({applyToStack:Jr(t=>{t.add(yN(e),_N)},"applyToStack")}),"getUserAgentPlugin")});var wN=b((WGe,TN)=>{a();var Ld=Object.defineProperty,hne=Object.getOwnPropertyDescriptor,gne=Object.getOwnPropertyNames,yne=Object.prototype.hasOwnProperty,vN=(e,t)=>Ld(e,"name",{value:t,configurable:!0}),_ne=(e,t)=>{for(var r in t)Ld(e,r,{get:t[r],enumerable:!0})},Ene=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gne(t))!yne.call(e,o)&&o!==r&&Ld(e,o,{get:()=>t[o],enumerable:!(n=hne(t,o))||n.enumerable});return e},vne=e=>Ene(Ld({},"__esModule",{value:!0}),e),SN={};_ne(SN,{SelectorType:()=>bN,booleanSelector:()=>Sne,numberSelector:()=>bne});TN.exports=vne(SN);var Sne=vN((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),bne=vN((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),bN=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(bN||{})});var As=b((JGe,kN)=>{a();var Fd=Object.defineProperty,Tne=Object.getOwnPropertyDescriptor,wne=Object.getOwnPropertyNames,Pne=Object.prototype.hasOwnProperty,Vt=(e,t)=>Fd(e,"name",{value:t,configurable:!0}),Cne=(e,t)=>{for(var r in t)Fd(e,r,{get:t[r],enumerable:!0})},xne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wne(t))!Pne.call(e,o)&&o!==r&&Fd(e,o,{get:()=>t[o],enumerable:!(n=Tne(t,o))||n.enumerable});return e},One=e=>xne(Fd({},"__esModule",{value:!0}),e),xN={};Cne(xN,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>RN,CONFIG_USE_FIPS_ENDPOINT:()=>IN,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Rne,DEFAULT_USE_FIPS_ENDPOINT:()=>Ine,ENV_USE_DUALSTACK_ENDPOINT:()=>ON,ENV_USE_FIPS_ENDPOINT:()=>AN,NODE_REGION_CONFIG_FILE_OPTIONS:()=>Une,NODE_REGION_CONFIG_OPTIONS:()=>Lne,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>Ane,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>Nne,REGION_ENV_NAME:()=>NN,REGION_INI_NAME:()=>DN,getRegionInfo:()=>$ne,resolveCustomEndpointsConfig:()=>Dne,resolveEndpointsConfig:()=>kne,resolveRegionConfig:()=>Fne});kN.exports=One(xN);var Rn=wN(),ON="AWS_USE_DUALSTACK_ENDPOINT",RN="use_dualstack_endpoint",Rne=!1,Ane={environmentVariableSelector:e=>(0,Rn.booleanSelector)(e,ON,Rn.SelectorType.ENV),configFileSelector:e=>(0,Rn.booleanSelector)(e,RN,Rn.SelectorType.CONFIG),default:!1},AN="AWS_USE_FIPS_ENDPOINT",IN="use_fips_endpoint",Ine=!1,Nne={environmentVariableSelector:e=>(0,Rn.booleanSelector)(e,AN,Rn.SelectorType.ENV),configFileSelector:e=>(0,Rn.booleanSelector)(e,IN,Rn.SelectorType.CONFIG),default:!1},Ud=sr(),Dne=Vt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Ud.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ud.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),Mne=Vt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),kne=Vt(e=>{let t=(0,Ud.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Ud.normalizeProvider)(typeof r=="string"?o(r):r):()=>Mne({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),NN="AWS_REGION",DN="region",Lne={environmentVariableSelector:e=>e[NN],configFileSelector:e=>e[DN],default:()=>{throw new Error("Region is missing")}},Une={preferredFile:"credentials"},MN=Vt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),PN=Vt(e=>MN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Fne=Vt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return PN(t);let n=await t();return PN(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return MN(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),CN=Vt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),Bne=Vt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),jne=Vt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),Hne=Vt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),$ne=Vt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=jne(e,{partitionHash:s}),c=e in o?e:s[i]?.endpoint??e,l={useFipsEndpoint:t,useDualstackEndpoint:r},u=CN(o[c]?.variants,l),d=CN(s[i]?.variants,l),f=Bne(c,{regionHostname:u,partitionHostname:d});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=Hne(f,{signingRegion:o[c]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[c]?.signingService&&{signingService:o[c].signingService}}},"getRegionInfo")});var CE=b((XGe,jN)=>{a();var Bd=Object.defineProperty,qne=Object.getOwnPropertyDescriptor,Gne=Object.getOwnPropertyNames,zne=Object.prototype.hasOwnProperty,UN=(e,t)=>Bd(e,"name",{value:t,configurable:!0}),Vne=(e,t)=>{for(var r in t)Bd(e,r,{get:t[r],enumerable:!0})},Wne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gne(t))!zne.call(e,o)&&o!==r&&Bd(e,o,{get:()=>t[o],enumerable:!(n=qne(t,o))||n.enumerable});return e},Kne=e=>Wne(Bd({},"__esModule",{value:!0}),e),FN={};Vne(FN,{contentLengthMiddleware:()=>PE,contentLengthMiddlewareOptions:()=>BN,getContentLengthPlugin:()=>Yne});jN.exports=Kne(FN);var Jne=ye(),LN="content-length";function PE(e){return t=>async r=>{let n=r.request;if(Jne.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(LN)===-1)try{let i=e(o);n.headers={...n.headers,[LN]:String(i)}}catch{}}return t({...r,request:n})}}UN(PE,"contentLengthMiddleware");var BN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Yne=UN(e=>({applyToStack:t=>{t.add(PE(e.bodyLengthChecker),BN)}}),"getContentLengthPlugin")});import Xne from"crypto";function Oa(){return jd>Hd.length-16&&(Xne.randomFillSync(Hd),jd=0),Hd.slice(jd,jd+=16)}var Hd,jd,xE=v(()=>{a();Hd=new Uint8Array(256),jd=Hd.length});var HN,$N=v(()=>{a();HN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Qne(e){return typeof e=="string"&&HN.test(e)}var An,Ra=v(()=>{a();$N();An=Qne});function Mo(e,t=0){return Ge[e[t+0]]+Ge[e[t+1]]+Ge[e[t+2]]+Ge[e[t+3]]+"-"+Ge[e[t+4]]+Ge[e[t+5]]+"-"+Ge[e[t+6]]+Ge[e[t+7]]+"-"+Ge[e[t+8]]+Ge[e[t+9]]+"-"+Ge[e[t+10]]+Ge[e[t+11]]+Ge[e[t+12]]+Ge[e[t+13]]+Ge[e[t+14]]+Ge[e[t+15]]}function Zne(e,t=0){let r=Mo(e,t);if(!An(r))throw TypeError("Stringified UUID is invalid");return r}var Ge,qN,Aa=v(()=>{a();Ra();Ge=[];for(let e=0;e<256;++e)Ge.push((e+256).toString(16).slice(1));qN=Zne});function eoe(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||GN,i=e.clockseq!==void 0?e.clockseq:OE;if(s==null||i==null){let h=e.random||(e.rng||Oa)();s==null&&(s=GN=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=OE=(h[6]<<8|h[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:AE+1,u=c-RE+(l-AE)/1e4;if(u<0&&e.clockseq===void 0&&(i=i+1&16383),(u<0||c>RE)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");RE=c,AE=l,OE=i,c+=122192928e5;let d=((c&268435455)*1e4+l)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=d&255;let f=c/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||Mo(o)}var GN,OE,RE,AE,zN,VN=v(()=>{a();xE();Aa();RE=0,AE=0;zN=eoe});function toe(e){if(!An(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var $d,IE=v(()=>{a();Ra();$d=toe});function roe(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Ia(e,t,r){function n(o,s,i,c){var l;if(typeof o=="string"&&(o=roe(o)),typeof s=="string"&&(s=$d(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(s),u.set(o,s.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,i){c=c||0;for(let d=0;d<16;++d)i[c+d]=u[d];return i}return Mo(u)}try{n.name=e}catch{}return n.DNS=noe,n.URL=ooe,n}var noe,ooe,NE=v(()=>{a();Aa();IE();noe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ooe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import soe from"crypto";function ioe(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),soe.createHash("md5").update(e).digest()}var WN,KN=v(()=>{a();WN=ioe});var aoe,JN,YN=v(()=>{a();NE();KN();aoe=Ia("v3",48,WN),JN=aoe});import coe from"crypto";var DE,XN=v(()=>{a();DE={randomUUID:coe.randomUUID}});function loe(e,t,r){if(DE.randomUUID&&!t&&!e)return DE.randomUUID();e=e||{};let n=e.random||(e.rng||Oa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Mo(n)}var QN,ZN=v(()=>{a();XN();xE();Aa();QN=loe});import uoe from"crypto";function doe(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),uoe.createHash("sha1").update(e).digest()}var eD,tD=v(()=>{a();eD=doe});var poe,rD,nD=v(()=>{a();NE();tD();poe=Ia("v5",80,eD),rD=poe});var oD,sD=v(()=>{a();oD="00000000-0000-0000-0000-000000000000"});function foe(e){if(!An(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var iD,aD=v(()=>{a();Ra();iD=foe});var ME={};Fe(ME,{NIL:()=>oD,parse:()=>$d,stringify:()=>qN,v1:()=>zN,v3:()=>JN,v4:()=>QN,v5:()=>rD,validate:()=>An,version:()=>iD});var kE=v(()=>{a();VN();YN();ZN();nD();sD();aD();Ra();Aa();IE()});var UE=b((oVe,dD)=>{a();var qd=Object.defineProperty,moe=Object.getOwnPropertyDescriptor,hoe=Object.getOwnPropertyNames,goe=Object.prototype.hasOwnProperty,ko=(e,t)=>qd(e,"name",{value:t,configurable:!0}),yoe=(e,t)=>{for(var r in t)qd(e,r,{get:t[r],enumerable:!0})},_oe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hoe(t))!goe.call(e,o)&&o!==r&&qd(e,o,{get:()=>t[o],enumerable:!(n=moe(t,o))||n.enumerable});return e},Eoe=e=>_oe(qd({},"__esModule",{value:!0}),e),cD={};yoe(cD,{isBrowserNetworkError:()=>uD,isClockSkewCorrectedError:()=>lD,isClockSkewError:()=>xoe,isRetryableByTrait:()=>Coe,isServerError:()=>Roe,isThrottlingError:()=>Ooe,isTransientError:()=>LE});dD.exports=Eoe(cD);var voe=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Soe=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],boe=["TimeoutError","RequestTimeout","RequestTimeoutException"],Toe=[500,502,503,504],woe=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Poe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Coe=ko(e=>e.$retryable!==void 0,"isRetryableByTrait"),xoe=ko(e=>voe.includes(e.name),"isClockSkewError"),lD=ko(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),uD=ko(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),Ooe=ko(e=>e.$metadata?.httpStatusCode===429||Soe.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),LE=ko((e,t=0)=>lD(e)||boe.includes(e.name)||woe.includes(e?.code||"")||Poe.includes(e?.code||"")||Toe.includes(e.$metadata?.httpStatusCode||0)||uD(e)||e.cause!==void 0&&t<=10&&LE(e.cause,t+1),"isTransientError"),Roe=ko(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!LE(e)}return!1},"isServerError")});var zd=b((iVe,SD)=>{a();var Gd=Object.defineProperty,Aoe=Object.getOwnPropertyDescriptor,Ioe=Object.getOwnPropertyNames,Noe=Object.prototype.hasOwnProperty,Wt=(e,t)=>Gd(e,"name",{value:t,configurable:!0}),Doe=(e,t)=>{for(var r in t)Gd(e,r,{get:t[r],enumerable:!0})},Moe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ioe(t))!Noe.call(e,o)&&o!==r&&Gd(e,o,{get:()=>t[o],enumerable:!(n=Aoe(t,o))||n.enumerable});return e},koe=e=>Moe(Gd({},"__esModule",{value:!0}),e),fD={};Doe(fD,{AdaptiveRetryStrategy:()=>Hoe,ConfiguredRetryStrategy:()=>$oe,DEFAULT_MAX_ATTEMPTS:()=>FE,DEFAULT_RETRY_DELAY_BASE:()=>Na,DEFAULT_RETRY_MODE:()=>Loe,DefaultRateLimiter:()=>hD,INITIAL_RETRY_TOKENS:()=>BE,INVOCATION_ID_HEADER:()=>Foe,MAXIMUM_RETRY_DELAY:()=>jE,NO_RETRY_INCREMENT:()=>vD,REQUEST_HEADER:()=>Boe,RETRY_COST:()=>_D,RETRY_MODES:()=>mD,StandardRetryStrategy:()=>HE,THROTTLING_RETRY_DELAY_BASE:()=>yD,TIMEOUT_RETRY_COST:()=>ED});SD.exports=koe(fD);var mD=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(mD||{}),FE=3,Loe="standard",Uoe=UE(),hD=class gD{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Wt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>gD.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Uoe.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Na=100,jE=20*1e3,yD=500,BE=500,_D=5,ED=10,vD=1,Foe="amz-sdk-invocation-id",Boe="amz-sdk-request",joe=Wt(()=>{let e=Na;return{computeNextBackoffDelay:Wt(n=>Math.floor(Math.min(jE,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Wt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),pD=Wt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Wt(()=>t,"getRetryCount"),getRetryDelay:Wt(()=>Math.min(jE,e),"getRetryDelay"),getRetryCost:Wt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),HE=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=BE,this.retryBackoffStrategy=joe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{Wt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return pD({retryDelay:Na,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?yD:Na);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,pD({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(BE,this.capacity+(e.getRetryCost()??vD))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${FE}`),FE}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?ED:_D}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},Hoe=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new hD,this.standardRetryStrategy=new HE(e)}static{Wt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},$oe=class extends HE{static{Wt(this,"ConfiguredRetryStrategy")}constructor(e,t=Na){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var bD=b(Vd=>{"use strict";a();Object.defineProperty(Vd,"__esModule",{value:!0});Vd.isStreamingPayload=void 0;var qoe=L("stream"),Goe=e=>e?.body instanceof qoe.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Vd.isStreamingPayload=Goe});var Da=b((fVe,UD)=>{a();var Wd=Object.defineProperty,zoe=Object.getOwnPropertyDescriptor,Voe=Object.getOwnPropertyNames,Woe=Object.prototype.hasOwnProperty,Oe=(e,t)=>Wd(e,"name",{value:t,configurable:!0}),Koe=(e,t)=>{for(var r in t)Wd(e,r,{get:t[r],enumerable:!0})},Joe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Voe(t))!Woe.call(e,o)&&o!==r&&Wd(e,o,{get:()=>t[o],enumerable:!(n=zoe(t,o))||n.enumerable});return e},Yoe=e=>Joe(Wd({},"__esModule",{value:!0}),e),wD={};Koe(wD,{AdaptiveRetryStrategy:()=>Zoe,CONFIG_MAX_ATTEMPTS:()=>qE,CONFIG_RETRY_MODE:()=>ID,ENV_MAX_ATTEMPTS:()=>$E,ENV_RETRY_MODE:()=>AD,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>ese,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>rse,StandardRetryStrategy:()=>RD,defaultDelayDecider:()=>CD,defaultRetryDecider:()=>xD,getOmitRetryHeadersPlugin:()=>nse,getRetryAfterHint:()=>LD,getRetryPlugin:()=>lse,omitRetryHeadersMiddleware:()=>ND,omitRetryHeadersMiddlewareOptions:()=>DD,resolveRetryConfig:()=>tse,retryMiddleware:()=>MD,retryMiddlewareOptions:()=>kD});UD.exports=Yoe(wD);var Is=ye(),PD=(kE(),V(ME)),_e=zd(),Xoe=Oe((e,t)=>{let r=e,n=t?.noRetryIncrement??_e.NO_RETRY_INCREMENT,o=t?.retryCost??_e.RETRY_COST,s=t?.timeoutRetryCost??_e.TIMEOUT_RETRY_COST,i=e,c=Oe(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),l=Oe(f=>c(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:Oe(f=>{if(!l(f))throw new Error("No retry token available");let h=c(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:Oe(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),CD=Oe((e,t)=>Math.floor(Math.min(_e.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),In=UE(),xD=Oe(e=>e?(0,In.isRetryableByTrait)(e)||(0,In.isClockSkewError)(e)||(0,In.isThrottlingError)(e)||(0,In.isTransientError)(e):!1,"defaultRetryDecider"),OD=Oe(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),RD=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=_e.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??xD,this.delayDecider=t?.delayDecider??CD,this.retryQuota=t?.retryQuota??Xoe(_e.INITIAL_RETRY_TOKENS)}static{Oe(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=_e.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:c}=t;for(Is.HttpRequest.isInstance(c)&&(c.headers[_e.INVOCATION_ID_HEADER]=(0,PD.v4)());;)try{Is.HttpRequest.isInstance(c)&&(c.headers[_e.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:l,output:u}=await e(t);return r?.afterRequest&&r.afterRequest(l),this.retryQuota.releaseRetryTokens(n),u.$metadata.attempts=o+1,u.$metadata.totalRetryDelay=s,{response:l,output:u}}catch(l){let u=OD(l);if(o++,this.shouldRetry(u,o,i)){n=this.retryQuota.retrieveRetryTokens(u);let d=this.delayDecider((0,In.isThrottlingError)(u)?_e.THROTTLING_RETRY_DELAY_BASE:_e.DEFAULT_RETRY_DELAY_BASE,o),f=Qoe(u.$response),h=Math.max(f||0,d);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=o,u.$metadata.totalRetryDelay=s,u}}},Qoe=Oe(e=>{if(!Is.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Zoe=class extends RD{static{Oe(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new _e.DefaultRateLimiter,this.mode=_e.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},TD=sr(),$E="AWS_MAX_ATTEMPTS",qE="max_attempts",ese={environmentVariableSelector:e=>{let t=e[$E];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${$E} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[qE];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${qE} mast be a number, got "${t}"`);return r},default:_e.DEFAULT_MAX_ATTEMPTS},tse=Oe(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,TD.normalizeProvider)(n??_e.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,TD.normalizeProvider)(r)()===_e.RETRY_MODES.ADAPTIVE?new _e.AdaptiveRetryStrategy(o):new _e.StandardRetryStrategy(o))})},"resolveRetryConfig"),AD="AWS_RETRY_MODE",ID="retry_mode",rse={environmentVariableSelector:e=>e[AD],configFileSelector:e=>e[ID],default:_e.DEFAULT_RETRY_MODE},ND=Oe(()=>e=>async t=>{let{request:r}=t;return Is.HttpRequest.isInstance(r)&&(delete r.headers[_e.INVOCATION_ID_HEADER],delete r.headers[_e.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),DD={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},nse=Oe(e=>({applyToStack:t=>{t.addRelativeTo(ND(),DD)}}),"getOmitRetryHeadersPlugin"),ose=qe(),sse=bD(),MD=Oe(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(ise(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,u=0,{request:d}=n,f=Is.HttpRequest.isInstance(d);for(f&&(d.headers[_e.INVOCATION_ID_HEADER]=(0,PD.v4)());;)try{f&&(d.headers[_e.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=l+1,g.$metadata.totalRetryDelay=u,{response:h,output:g}}catch(h){let g=ase(h);if(c=OD(h),f&&(0,sse.isStreamingPayload)(d))throw(r.logger instanceof ose.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=u,c}l=i.getRetryCount();let y=i.getRetryDelay();u+=y,await new Promise(_=>setTimeout(_,y))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),ise=Oe(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),ase=Oe(e=>{let t={error:e,errorType:cse(e)},r=LD(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),cse=Oe(e=>(0,In.isThrottlingError)(e)?"THROTTLING":(0,In.isTransientError)(e)?"TRANSIENT":(0,In.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),kD={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},lse=Oe(e=>({applyToStack:t=>{t.add(MD(e),kD)}}),"getRetryPlugin"),LD=Oe(e=>{if(!Is.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var zE=b(Nn=>{"use strict";a();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.resolveHttpAuthSchemeConfig=Nn.defaultDynamoDBHttpAuthSchemeProvider=Nn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var use=(hr(),V(mr)),GE=sr(),dse=async(e,t,r)=>({operation:(0,GE.getSmithyContext)(t).operation,region:await(0,GE.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Nn.defaultDynamoDBHttpAuthSchemeParametersProvider=dse;function pse(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var fse=e=>{let t=[];switch(e.operation){default:t.push(pse(e))}return t};Nn.defaultDynamoDBHttpAuthSchemeProvider=fse;var mse=e=>{let t=(0,use.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,GE.normalizeProvider)(e.authSchemePreference??[])})};Nn.resolveHttpAuthSchemeConfig=mse});var Ns=b(Kd=>{"use strict";a();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.getHomeDir=void 0;var hse=L("os"),gse=L("path"),VE={},yse=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",_se=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${gse.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=yse();return VE[o]||(VE[o]=(0,hse.homedir)()),VE[o]};Kd.getHomeDir=_se});var WE=b(Jd=>{"use strict";a();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.getSSOTokenFilepath=void 0;var Ese=L("crypto"),vse=L("path"),Sse=Ns(),bse=e=>{let r=(0,Ese.createHash)("sha1").update(e).digest("hex");return(0,vse.join)((0,Sse.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Jd.getSSOTokenFilepath=bse});var FD=b(Yd=>{"use strict";a();Object.defineProperty(Yd,"__esModule",{value:!0});Yd.getSSOTokenFromFile=void 0;var Tse=L("fs"),wse=WE(),{readFile:Pse}=Tse.promises,Cse=async e=>{let t=(0,wse.getSSOTokenFilepath)(e),r=await Pse(t,"utf8");return JSON.parse(r)};Yd.getSSOTokenFromFile=Cse});var JE=b(Xd=>{"use strict";a();Object.defineProperty(Xd,"__esModule",{value:!0});Xd.slurpFile=void 0;var xse=L("fs"),{readFile:Ose}=xse.promises,KE={},Rse=(e,t)=>((!KE[e]||t?.ignoreCache)&&(KE[e]=Ose(e,"utf8")),KE[e]);Xd.slurpFile=Rse});var Dn=b((xVe,ka)=>{a();var ep=Object.defineProperty,Ase=Object.getOwnPropertyDescriptor,Ise=Object.getOwnPropertyNames,Nse=Object.prototype.hasOwnProperty,It=(e,t)=>ep(e,"name",{value:t,configurable:!0}),Dse=(e,t)=>{for(var r in t)ep(e,r,{get:t[r],enumerable:!0})},YE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ise(t))!Nse.call(e,o)&&o!==r&&ep(e,o,{get:()=>t[o],enumerable:!(n=Ase(t,o))||n.enumerable});return e},QE=(e,t,r)=>(YE(e,t,"default"),r&&YE(r,t,"default")),Mse=e=>YE(ep({},"__esModule",{value:!0}),e),Ma={};Dse(Ma,{CONFIG_PREFIX_SEPARATOR:()=>Lo,DEFAULT_PROFILE:()=>$D,ENV_PROFILE:()=>HD,getProfileName:()=>kse,loadSharedConfigFiles:()=>GD,loadSsoSessionData:()=>Kse,parseKnownFiles:()=>Yse});ka.exports=Mse(Ma);QE(Ma,Ns(),ka.exports);var HD="AWS_PROFILE",$D="default",kse=It(e=>e.profile||process.env[HD]||$D,"getProfileName");QE(Ma,WE(),ka.exports);QE(Ma,FD(),ka.exports);var Qd=or(),Lse=It(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Lo);return r===-1?!1:Object.values(Qd.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Lo),s=r.substring(0,o)===Qd.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Zd=L("path"),Use=Ns(),Fse="AWS_CONFIG_FILE",qD=It(()=>process.env[Fse]||(0,Zd.join)((0,Use.getHomeDir)(),".aws","config"),"getConfigFilepath"),Bse=Ns(),jse="AWS_SHARED_CREDENTIALS_FILE",Hse=It(()=>process.env[jse]||(0,Zd.join)((0,Bse.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),$se=Ns(),qse=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Gse=["__proto__","profile __proto__"],XE=It(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let c=s.substring(1,s.length-1),l=qse.exec(c);if(l){let[,u,,d]=l;Object.values(Qd.IniSectionType).includes(u)&&(r=[u,d].join(Lo))}else r=c;if(Gse.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=s.indexOf("=");if(![0,-1].includes(c)){let[l,u]=[s.substring(0,c).trim(),s.substring(c+1).trim()];if(u==="")n=l;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let d=n?[n,l].join(Lo):l;t[r][d]=u}}}}return t},"parseIni"),BD=JE(),jD=It(()=>({}),"swallowError"),Lo=".",GD=It(async(e={})=>{let{filepath:t=Hse(),configFilepath:r=qD()}=e,n=(0,$se.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,Zd.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,Zd.join)(n,r.slice(2)));let c=await Promise.all([(0,BD.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(XE).then(Lse).catch(jD),(0,BD.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(XE).catch(jD)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),zse=It(e=>Object.entries(e).filter(([t])=>t.startsWith(Qd.IniSectionType.SSO_SESSION+Lo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Lo)+1)]:n}),{}),"getSsoSessionData"),Vse=JE(),Wse=It(()=>({}),"swallowError"),Kse=It(async(e={})=>(0,Vse.slurpFile)(e.configFilepath??qD()).then(XE).then(zse).catch(Wse),"loadSsoSessionData"),Jse=It((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),Yse=It(async e=>{let t=await GD(e);return Jse(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Ms=b((RVe,WD)=>{a();var tp=Object.defineProperty,Xse=Object.getOwnPropertyDescriptor,Qse=Object.getOwnPropertyNames,Zse=Object.prototype.hasOwnProperty,Ds=(e,t)=>tp(e,"name",{value:t,configurable:!0}),eie=(e,t)=>{for(var r in t)tp(e,r,{get:t[r],enumerable:!0})},tie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qse(t))!Zse.call(e,o)&&o!==r&&tp(e,o,{get:()=>t[o],enumerable:!(n=Xse(t,o))||n.enumerable});return e},rie=e=>tie(tp({},"__esModule",{value:!0}),e),VD={};eie(VD,{loadConfig:()=>aie});WD.exports=rie(VD);var La=ot();function ZE(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Ds(ZE,"getSelectorName");var nie=Ds((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new La.CredentialsProviderError(r.message||`Not found in ENV: ${ZE(e.toString())}`,{logger:t?.logger})}},"fromEnv"),zD=Dn(),oie=Ds((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,zD.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,zD.loadSharedConfigFiles)(r),i=s[n]||{},c=o[n]||{},l=t==="config"?{...i,...c}:{...c,...i};try{let d=e(l,t==="config"?o:s);if(d===void 0)throw new Error;return d}catch(u){throw new La.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${ZE(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),sie=Ds(e=>typeof e=="function","isFunction"),iie=Ds(e=>sie(e)?async()=>await e():(0,La.fromStatic)(e),"fromStatic"),aie=Ds(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,La.memoize)((0,La.chain)(nie(e,i),oie(t,n),iie(r)))},"loadConfig")});var XD=b(rp=>{"use strict";a();Object.defineProperty(rp,"__esModule",{value:!0});rp.getEndpointUrlConfig=void 0;var KD=Dn(),JD="AWS_ENDPOINT_URL",YD="endpoint_url",cie=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[JD,...r].join("_")];if(n)return n;let o=t[JD];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(KD.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(c=>c.toLowerCase()),i=o[[s.join("_"),YD].join(KD.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[YD];if(n)return n},default:void 0});rp.getEndpointUrlConfig=cie});var ev=b(np=>{"use strict";a();Object.defineProperty(np,"__esModule",{value:!0});np.getEndpointFromConfig=void 0;var lie=Ms(),uie=XD(),die=async e=>(0,lie.loadConfig)((0,uie.getEndpointUrlConfig)(e??""))();np.getEndpointFromConfig=die});var rv=b((kVe,oM)=>{a();var sp=Object.defineProperty,pie=Object.getOwnPropertyDescriptor,fie=Object.getOwnPropertyNames,mie=Object.prototype.hasOwnProperty,Nt=(e,t)=>sp(e,"name",{value:t,configurable:!0}),hie=(e,t)=>{for(var r in t)sp(e,r,{get:t[r],enumerable:!0})},gie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fie(t))!mie.call(e,o)&&o!==r&&sp(e,o,{get:()=>t[o],enumerable:!(n=pie(t,o))||n.enumerable});return e},yie=e=>gie(sp({},"__esModule",{value:!0}),e),ZD={};hie(ZD,{endpointMiddleware:()=>rM,endpointMiddlewareOptions:()=>nM,getEndpointFromInstructions:()=>eM,getEndpointPlugin:()=>Oie,resolveEndpointConfig:()=>Aie,resolveEndpointRequiredConfig:()=>Iie,resolveParams:()=>tM,toEndpointV1:()=>tv});oM.exports=yie(ZD);var _ie=Nt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Tie(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!bie(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),Eie=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,vie=/(\d+\.){3}\d+/,Sie=/\.\./,bie=Nt(e=>Eie.test(e)&&!vie.test(e)&&!Sie.test(e),"isDnsCompatibleBucketName"),Tie=Nt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),wie=Nt((e,t,r)=>{let n=Nt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:c,path:l}=o;return`${s}//${i}${c?":"+c:""}${l}`}}return o}:n},"createConfigValueProvider"),Pie=ev(),QD=Cs(),tv=Nt(e=>typeof e=="object"?"url"in e?(0,QD.parseUrl)(e.url):e:(0,QD.parseUrl)(e),"toEndpointV1"),eM=Nt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,Pie.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(tv(i)),r.isCustomEndpoint=!0)}let o=await tM(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),tM=Nt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await wie(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await _ie(n),n},"resolveParams"),Cie=(pt(),V(Ot)),op=sr(),rM=Nt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,Cie.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await eM(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=(0,op.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),xie=Ji(),nM={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:xie.serializerMiddlewareOption.name},Oie=Nt((e,t)=>({applyToStack:r=>{r.addRelativeTo(rM({config:e,instructions:t}),nM)}}),"getEndpointPlugin"),Rie=ev(),Aie=Nt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>tv(await(0,op.normalizeProvider)(r)()):void 0,c=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,op.normalizeProvider)(n??!1),useFipsEndpoint:(0,op.normalizeProvider)(o??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=(0,Rie.getEndpointFromConfig)(e.serviceId)),l),c},"resolveEndpointConfig"),Iie=Nt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var lp={};Fe(lp,{__addDisposableResource:()=>RM,__assign:()=>ip,__asyncDelegator:()=>SM,__asyncGenerator:()=>vM,__asyncValues:()=>bM,__await:()=>ks,__awaiter:()=>mM,__classPrivateFieldGet:()=>CM,__classPrivateFieldIn:()=>OM,__classPrivateFieldSet:()=>xM,__createBinding:()=>cp,__decorate:()=>aM,__disposeResources:()=>AM,__esDecorate:()=>lM,__exportStar:()=>gM,__extends:()=>sM,__generator:()=>hM,__importDefault:()=>PM,__importStar:()=>wM,__makeTemplateObject:()=>TM,__metadata:()=>fM,__param:()=>cM,__propKey:()=>dM,__read:()=>iv,__rest:()=>iM,__rewriteRelativeImportExtension:()=>IM,__runInitializers:()=>uM,__setFunctionName:()=>pM,__spread:()=>yM,__spreadArray:()=>EM,__spreadArrays:()=>_M,__values:()=>ap,default:()=>Mie});function sM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ov(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function iM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function aM(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function cM(e,t){return function(r,n){t(r,n,e)}}function lM(e,t,r,n,o,s){function i(T){if(T!==void 0&&typeof T!="function")throw new TypeError("Function expected");return T}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,g=r.length-1;g>=0;g--){var y={};for(var _ in n)y[_]=_==="access"?{}:n[_];for(var _ in n.access)y.access[_]=n.access[_];y.addInitializer=function(T){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(T||null))};var S=(0,r[g])(c==="accessor"?{get:d.get,set:d.set}:d[l],y);if(c==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=i(S.get))&&(d.get=f),(f=i(S.set))&&(d.set=f),(f=i(S.init))&&o.unshift(f)}else(f=i(S))&&(c==="field"?o.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function uM(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function dM(e){return typeof e=="symbol"?e:"".concat(e)}function pM(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function fM(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function mM(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):o(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})}function hM(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function gM(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cp(t,e,r)}function ap(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function iv(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function yM(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(iv(arguments[t]));return e}function _M(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,c=s.length;i<c;i++,o++)n[o]=s[i];return n}function EM(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ks(e){return this instanceof ks?(this.v=e,this):new ks(e)}function vM(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(y){return Promise.resolve(y).then(g,f)}}function c(g,y){n[g]&&(o[g]=function(_){return new Promise(function(S,T){s.push([g,_,S,T])>1||l(g,_)})},y&&(o[g]=y(o[g])))}function l(g,y){try{u(n[g](y))}catch(_){h(s[0][3],_)}}function u(g){g.value instanceof ks?Promise.resolve(g.value.v).then(d,f):h(s[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function h(g,y){g(y),s.shift(),s.length&&l(s[0][0],s[0][1])}}function SM(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:ks(e[o](i)),done:!1}:s?s(i):i}:s}}function bM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ap=="function"?ap(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(c,l){i=e[s](i),o(c,l,i.done,i.value)})}}function o(s,i,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},i)}}function TM(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function wM(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=sv(e),n=0;n<r.length;n++)r[n]!=="default"&&cp(t,e,r[n]);return Nie(t,e),t}function PM(e){return e&&e.__esModule?e:{default:e}}function CM(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function xM(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function OM(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function RM(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function AM(e){function t(s){e.error=e.hasError?new Die(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function IM(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var ov,ip,cp,Nie,sv,Die,Mie,up=v(()=>{a();ov=function(e,t){return ov=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},ov(e,t)};ip=function(){return ip=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ip.apply(this,arguments)};cp=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};Nie=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},sv=function(e){return sv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},sv(e)};Die=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};Mie={__extends:sM,__assign:ip,__rest:iM,__decorate:aM,__param:cM,__esDecorate:lM,__runInitializers:uM,__propKey:dM,__setFunctionName:pM,__metadata:fM,__awaiter:mM,__generator:hM,__createBinding:cp,__exportStar:gM,__values:ap,__read:iv,__spread:yM,__spreadArrays:_M,__spreadArray:EM,__await:ks,__asyncGenerator:vM,__asyncDelegator:SM,__asyncValues:bM,__makeTemplateObject:TM,__importStar:wM,__importDefault:PM,__classPrivateFieldGet:CM,__classPrivateFieldSet:xM,__classPrivateFieldIn:OM,__addDisposableResource:RM,__disposeResources:AM,__rewriteRelativeImportExtension:IM}});var NM=b((FVe,kie)=>{kie.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/credential-provider-node":"3.848.0","@aws-sdk/middleware-endpoint-discovery":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.6","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var av=b((BVe,jM)=>{"use strict";a();var dp=Object.defineProperty,Lie=Object.getOwnPropertyDescriptor,Uie=Object.getOwnPropertyNames,Fie=Object.prototype.hasOwnProperty,Bie=(e,t)=>dp(e,"name",{value:t,configurable:!0}),jie=(e,t)=>{for(var r in t)dp(e,r,{get:t[r],enumerable:!0})},Hie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uie(t))!Fie.call(e,o)&&o!==r&&dp(e,o,{get:()=>t[o],enumerable:!(n=Lie(t,o))||n.enumerable});return e},$ie=e=>Hie(dp({},"__esModule",{value:!0}),e),DM={};jie(DM,{ENV_ACCOUNT_ID:()=>BM,ENV_CREDENTIAL_SCOPE:()=>FM,ENV_EXPIRATION:()=>UM,ENV_KEY:()=>MM,ENV_SECRET:()=>kM,ENV_SESSION:()=>LM,fromEnv:()=>zie});jM.exports=$ie(DM);var qie=(fr(),V(bn)),Gie=ot(),MM="AWS_ACCESS_KEY_ID",kM="AWS_SECRET_ACCESS_KEY",LM="AWS_SESSION_TOKEN",UM="AWS_CREDENTIAL_EXPIRATION",FM="AWS_CREDENTIAL_SCOPE",BM="AWS_ACCOUNT_ID",zie=Bie(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[MM],r=process.env[kM],n=process.env[LM],o=process.env[UM],s=process.env[FM],i=process.env[BM];if(t&&r){let c={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,qie.setCredentialFeature)(c,"CREDENTIALS_ENV_VARS","g"),c}throw new Gie.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Ua=b((HVe,ek)=>{a();var mp=Object.defineProperty,Vie=Object.getOwnPropertyDescriptor,Wie=Object.getOwnPropertyNames,Kie=Object.prototype.hasOwnProperty,Re=(e,t)=>mp(e,"name",{value:t,configurable:!0}),Jie=(e,t)=>{for(var r in t)mp(e,r,{get:t[r],enumerable:!0})},Yie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wie(t))!Kie.call(e,o)&&o!==r&&mp(e,o,{get:()=>t[o],enumerable:!(n=Vie(t,o))||n.enumerable});return e},Xie=e=>Yie(mp({},"__esModule",{value:!0}),e),GM={};Jie(GM,{DEFAULT_MAX_RETRIES:()=>KM,DEFAULT_TIMEOUT:()=>WM,ENV_CMDS_AUTH_TOKEN:()=>uv,ENV_CMDS_FULL_URI:()=>pp,ENV_CMDS_RELATIVE_URI:()=>fp,Endpoint:()=>YM,fromContainerMetadata:()=>tae,fromInstanceMetadata:()=>bae,getInstanceMetadataEndpoint:()=>QM,httpRequest:()=>Ls,providerConfigFromInit:()=>dv});ek.exports=Xie(GM);var Qie=L("url"),yr=ot(),Zie=L("buffer"),eae=L("http");function Ls(e){return new Promise((t,r)=>{let n=(0,eae.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new yr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new yr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new yr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",c=>{i.push(c)}),o.on("end",()=>{t(Zie.Buffer.concat(i)),n.destroy()})}),n.end()})}Re(Ls,"httpRequest");var zM=Re(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),VM=Re(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),WM=1e3,KM=0,dv=Re(({maxRetries:e=KM,timeout:t=WM})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),lv=Re((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),pp="AWS_CONTAINER_CREDENTIALS_FULL_URI",fp="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",uv="AWS_CONTAINER_AUTHORIZATION_TOKEN",tae=Re((e={})=>{let{timeout:t,maxRetries:r}=dv(e);return()=>lv(async()=>{let n=await iae({logger:e.logger}),o=JSON.parse(await rae(t,n));if(!zM(o))throw new yr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return VM(o)},r)},"fromContainerMetadata"),rae=Re(async(e,t)=>(process.env[uv]&&(t.headers={...t.headers,Authorization:process.env[uv]}),(await Ls({...t,timeout:e})).toString()),"requestFromEcsImds"),nae="169.254.170.2",oae={localhost:!0,"127.0.0.1":!0},sae={"http:":!0,"https:":!0},iae=Re(async({logger:e})=>{if(process.env[fp])return{hostname:nae,path:process.env[fp]};if(process.env[pp]){let t=(0,Qie.parse)(process.env[pp]);if(!t.hostname||!(t.hostname in oae))throw new yr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in sae))throw new yr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new yr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${fp} or ${pp} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),aae=class JM extends yr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,JM.prototype)}static{Re(this,"InstanceMetadataV1FallbackError")}},pv=Ms(),cae=Cs(),YM=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(YM||{}),lae="AWS_EC2_METADATA_SERVICE_ENDPOINT",uae="ec2_metadata_service_endpoint",dae={environmentVariableSelector:e=>e[lae],configFileSelector:e=>e[uae],default:void 0},XM=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(XM||{}),pae="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",fae="ec2_metadata_service_endpoint_mode",mae={environmentVariableSelector:e=>e[pae],configFileSelector:e=>e[fae],default:"IPv4"},QM=Re(async()=>(0,cae.parseUrl)(await hae()||await gae()),"getInstanceMetadataEndpoint"),hae=Re(async()=>(0,pv.loadConfig)(dae)(),"getFromEndpointConfig"),gae=Re(async()=>{let e=await(0,pv.loadConfig)(mae)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(XM)}`)}},"getFromEndpointModeConfig"),yae=300,_ae=300,Eae="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",HM=Re((e,t)=>{let r=yae+Math.floor(Math.random()*_ae),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Eae);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),vae=Re((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=HM(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=HM(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),ZM="/latest/meta-data/iam/security-credentials/",Sae="/latest/api/token",cv="AWS_EC2_METADATA_V1_DISABLED",$M="ec2_metadata_v1_disabled",qM="x-aws-ec2-metadata-token",bae=Re((e={})=>vae(Tae(e),{logger:e.logger}),"fromInstanceMetadata"),Tae=Re((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=dv(e),i=Re(async(c,l)=>{if(t||l.headers?.[qM]==null){let f=!1,h=!1,g=await(0,pv.loadConfig)({environmentVariableSelector:y=>{let _=y[cv];if(h=!!_&&_!=="false",_===void 0)throw new yr.CredentialsProviderError(`${cv} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:y=>{let _=y[$M];return f=!!_&&_!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&y.push(`config file profile (${$M})`),h&&y.push(`process environment variable (${cv})`),new aae(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let d=(await lv(async()=>{let f;try{f=await Pae(l)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},c)).trim();return lv(async()=>{let f;try{f=await Cae(d,l,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},c)},"getCredentials");return async()=>{let c=await QM();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...c,timeout:o});{let l;try{l=(await wae({...c,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...c,timeout:o})}return i(s,{...c,headers:{[qM]:l},timeout:o})}}},"getInstanceMetadataProvider"),wae=Re(async e=>Ls({...e,path:Sae,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Pae=Re(async e=>(await Ls({...e,path:ZM})).toString(),"getProfile"),Cae=Re(async(e,t,r)=>{let n=JSON.parse((await Ls({...t,path:ZM+e})).toString());if(!zM(n))throw new yr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return VM(n)},"getCredentialsFromProfile")});var tk=b(hp=>{"use strict";a();Object.defineProperty(hp,"__esModule",{value:!0});hp.checkUrl=void 0;var xae=ot(),Oae="169.254.170.2",Rae="169.254.170.23",Aae="[fd00:ec2::23]",Iae=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Oae||e.hostname===Rae||e.hostname===Aae)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new xae.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};hp.checkUrl=Iae});var rk=b(gp=>{"use strict";a();Object.defineProperty(gp,"__esModule",{value:!0});gp.createGetRequest=kae;gp.getCredentials=Lae;var fv=ot(),Nae=ye(),Dae=qe(),Mae=Uu();function kae(e){return new Nae.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function Lae(e,t){let n=await(0,Mae.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new fv.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,Dae.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new fv.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new fv.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var nk=b(yp=>{"use strict";a();Object.defineProperty(yp,"__esModule",{value:!0});yp.retryWrapper=void 0;var Uae=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};yp.retryWrapper=Uae});var ik=b(_p=>{"use strict";a();Object.defineProperty(_p,"__esModule",{value:!0});_p.fromHttp=void 0;var Fae=(up(),V(lp)),Bae=(fr(),V(bn)),jae=Xi(),ok=ot(),Hae=Fae.__importDefault(L("fs/promises")),$ae=tk(),sk=rk(),qae=nk(),Gae="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",zae="http://169.254.170.2",Vae="AWS_CONTAINER_CREDENTIALS_FULL_URI",Wae="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",Kae="AWS_CONTAINER_AUTHORIZATION_TOKEN",Jae=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[Gae],n=e.awsContainerCredentialsFullUri??process.env[Vae],o=e.awsContainerAuthorizationToken??process.env[Kae],s=e.awsContainerAuthorizationTokenFile??process.env[Wae],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${zae}${r}`;else throw new ok.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(t);(0,$ae.checkUrl)(c,e.logger);let l=new jae.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,qae.retryWrapper)(async()=>{let u=(0,sk.createGetRequest)(c);o?u.headers.Authorization=o:s&&(u.headers.Authorization=(await Hae.default.readFile(s)).toString());try{let d=await l.handle(u);return(0,sk.getCredentials)(d.response).then(f=>(0,Bae.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(d){throw new ok.CredentialsProviderError(String(d),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};_p.fromHttp=Jae});var mv=b(Ep=>{"use strict";a();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.fromHttp=void 0;var Yae=ik();Object.defineProperty(Ep,"fromHttp",{enumerable:!0,get:function(){return Yae.fromHttp}})});var gv=b(Mn=>{"use strict";a();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.resolveHttpAuthSchemeConfig=Mn.defaultSSOHttpAuthSchemeProvider=Mn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Xae=(hr(),V(mr)),hv=sr(),Qae=async(e,t,r)=>({operation:(0,hv.getSmithyContext)(t).operation,region:await(0,hv.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Mn.defaultSSOHttpAuthSchemeParametersProvider=Qae;function Zae(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function vp(e){return{schemeId:"smithy.api#noAuth"}}var ece=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(vp(e));break}case"ListAccountRoles":{t.push(vp(e));break}case"ListAccounts":{t.push(vp(e));break}case"Logout":{t.push(vp(e));break}default:t.push(Zae(e))}return t};Mn.defaultSSOHttpAuthSchemeProvider=ece;var tce=e=>{let t=(0,Xae.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,hv.normalizeProvider)(e.authSchemePreference??[])})};Mn.resolveHttpAuthSchemeConfig=tce});var ak=b((t2e,rce)=>{rce.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var _v=b((r2e,mk)=>{"use strict";a();var bp=Object.defineProperty,nce=Object.getOwnPropertyDescriptor,oce=Object.getOwnPropertyNames,sce=Object.prototype.hasOwnProperty,Sp=(e,t)=>bp(e,"name",{value:t,configurable:!0}),ice=(e,t)=>{for(var r in t)bp(e,r,{get:t[r],enumerable:!0})},ace=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oce(t))!sce.call(e,o)&&o!==r&&bp(e,o,{get:()=>t[o],enumerable:!(n=nce(t,o))||n.enumerable});return e},cce=e=>ace(bp({},"__esModule",{value:!0}),e),lk={};ice(lk,{NODE_APP_ID_CONFIG_OPTIONS:()=>fce,UA_APP_ID_ENV_NAME:()=>pk,UA_APP_ID_INI_NAME:()=>fk,createDefaultUserAgentProvider:()=>dk,crtAvailability:()=>uk,defaultUserAgent:()=>uce});mk.exports=cce(lk);var ck=L("os"),yv=L("process"),uk={isCrtAvailable:!1},lce=Sp(()=>uk.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),dk=Sp(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,ck.platform)()}`,(0,ck.release)()],["lang/js"],["md/nodejs",`${yv.versions.node}`]],o=lce();o&&n.push(o),e&&n.push([`api/${e}`,t]),yv.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${yv.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),uce=dk,dce=kd(),pk="AWS_SDK_UA_APP_ID",fk="sdk_ua_app_id",pce="sdk-ua-app-id",fce={environmentVariableSelector:Sp(e=>e[pk],"environmentVariableSelector"),configFileSelector:Sp(e=>e[fk]??e[pce],"configFileSelector"),default:dce.DEFAULT_UA_APP_ID}});var Sv=b((o2e,_k)=>{a();var Tp=Object.defineProperty,mce=Object.getOwnPropertyDescriptor,hce=Object.getOwnPropertyNames,gce=Object.prototype.hasOwnProperty,gk=(e,t)=>Tp(e,"name",{value:t,configurable:!0}),yce=(e,t)=>{for(var r in t)Tp(e,r,{get:t[r],enumerable:!0})},_ce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hce(t))!gce.call(e,o)&&o!==r&&Tp(e,o,{get:()=>t[o],enumerable:!(n=mce(t,o))||n.enumerable});return e},Ece=e=>_ce(Tp({},"__esModule",{value:!0}),e),yk={};yce(yk,{Hash:()=>bce});_k.exports=Ece(yk);var Ev=Es(),vce=tt(),Sce=L("buffer"),hk=L("crypto"),bce=class{static{gk(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,vce.toUint8Array)(vv(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,hk.createHmac)(this.algorithmIdentifier,vv(this.secret)):(0,hk.createHash)(this.algorithmIdentifier)}};function vv(e,t){return Sce.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Ev.fromString)(e,t):ArrayBuffer.isView(e)?(0,Ev.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Ev.fromArrayBuffer)(e)}gk(vv,"castSourceData")});var bv=b((a2e,Sk)=>{a();var wp=Object.defineProperty,Tce=Object.getOwnPropertyDescriptor,wce=Object.getOwnPropertyNames,Pce=Object.prototype.hasOwnProperty,Cce=(e,t)=>wp(e,"name",{value:t,configurable:!0}),xce=(e,t)=>{for(var r in t)wp(e,r,{get:t[r],enumerable:!0})},Oce=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wce(t))!Pce.call(e,o)&&o!==r&&wp(e,o,{get:()=>t[o],enumerable:!(n=Tce(t,o))||n.enumerable});return e},Rce=e=>Oce(wp({},"__esModule",{value:!0}),e),vk={};xce(vk,{calculateBodyLength:()=>Ace});Sk.exports=Rce(vk);var Ek=L("fs"),Ace=Cce(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,Ek.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,Ek.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Lk=b(Pp=>{"use strict";a();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.ruleSet=void 0;var Nk="required",Mt="fn",kt="argv",Bs="ref",bk=!0,Tk="isSet",Fa="booleanEquals",Us="error",Fs="endpoint",Yr="tree",Tv="PartitionResult",wv="getAttr",wk={[Nk]:!1,type:"String"},Pk={[Nk]:!0,default:!1,type:"Boolean"},Ck={[Bs]:"Endpoint"},Dk={[Mt]:Fa,[kt]:[{[Bs]:"UseFIPS"},!0]},Mk={[Mt]:Fa,[kt]:[{[Bs]:"UseDualStack"},!0]},Dt={},xk={[Mt]:wv,[kt]:[{[Bs]:Tv},"supportsFIPS"]},kk={[Bs]:Tv},Ok={[Mt]:Fa,[kt]:[!0,{[Mt]:wv,[kt]:[kk,"supportsDualStack"]}]},Rk=[Dk],Ak=[Mk],Ik=[{[Bs]:"Region"}],Ice={version:"1.0",parameters:{Region:wk,UseDualStack:Pk,UseFIPS:Pk,Endpoint:wk},rules:[{conditions:[{[Mt]:Tk,[kt]:[Ck]}],rules:[{conditions:Rk,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Us},{conditions:Ak,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Us},{endpoint:{url:Ck,properties:Dt,headers:Dt},type:Fs}],type:Yr},{conditions:[{[Mt]:Tk,[kt]:Ik}],rules:[{conditions:[{[Mt]:"aws.partition",[kt]:Ik,assign:Tv}],rules:[{conditions:[Dk,Mk],rules:[{conditions:[{[Mt]:Fa,[kt]:[bk,xk]},Ok],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dt,headers:Dt},type:Fs}],type:Yr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Us}],type:Yr},{conditions:Rk,rules:[{conditions:[{[Mt]:Fa,[kt]:[xk,bk]}],rules:[{conditions:[{[Mt]:"stringEquals",[kt]:[{[Mt]:wv,[kt]:[kk,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Dt,headers:Dt},type:Fs},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Dt,headers:Dt},type:Fs}],type:Yr},{error:"FIPS is enabled but this partition does not support FIPS",type:Us}],type:Yr},{conditions:Ak,rules:[{conditions:[Ok],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dt,headers:Dt},type:Fs}],type:Yr},{error:"DualStack is enabled but this partition does not support DualStack",type:Us}],type:Yr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Dt,headers:Dt},type:Fs}],type:Yr}],type:Yr},{error:"Invalid Configuration: Missing Region",type:Us}]};Pp.ruleSet=Ice});var Uk=b(Cp=>{"use strict";a();Object.defineProperty(Cp,"__esModule",{value:!0});Cp.defaultEndpointResolver=void 0;var Nce=td(),Pv=Xu(),Dce=Lk(),Mce=new Pv.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),kce=(e,t={})=>Mce.get(e,()=>(0,Pv.resolveEndpoint)(Dce.ruleSet,{endpointParams:e,logger:t.logger}));Cp.defaultEndpointResolver=kce;Pv.customEndpointFunctions.aws=Nce.awsEndpointFunctions});var jk=b(xp=>{"use strict";a();Object.defineProperty(xp,"__esModule",{value:!0});xp.getRuntimeConfig=void 0;var Lce=(hr(),V(mr)),Uce=(pt(),V(Ot)),Fce=qe(),Bce=Cs(),Fk=Et(),Bk=tt(),jce=gv(),Hce=Uk(),$ce=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Fk.fromBase64,base64Encoder:e?.base64Encoder??Fk.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Hce.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??jce.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Lce.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Uce.NoAuthSigner}],logger:e?.logger??new Fce.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Bce.parseUrl,utf8Decoder:e?.utf8Decoder??Bk.fromUtf8,utf8Encoder:e?.utf8Encoder??Bk.toUtf8});xp.getRuntimeConfig=$ce});var xv=b((h2e,Vk)=>{a();var qce=Object.create,Ba=Object.defineProperty,Gce=Object.getOwnPropertyDescriptor,zce=Object.getOwnPropertyNames,Vce=Object.getPrototypeOf,Wce=Object.prototype.hasOwnProperty,Cv=(e,t)=>Ba(e,"name",{value:t,configurable:!0}),Kce=(e,t)=>{for(var r in t)Ba(e,r,{get:t[r],enumerable:!0})},Gk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zce(t))!Wce.call(e,o)&&o!==r&&Ba(e,o,{get:()=>t[o],enumerable:!(n=Gce(t,o))||n.enumerable});return e},Jce=(e,t,r)=>(r=e!=null?qce(Vce(e)):{},Gk(t||!e||!e.__esModule?Ba(r,"default",{value:e,enumerable:!0}):r,e)),Yce=e=>Gk(Ba({},"__esModule",{value:!0}),e),zk={};Kce(zk,{resolveDefaultsModeConfig:()=>ile});Vk.exports=Yce(zk);var Xce=As(),Hk=Ms(),Qce=ot(),Zce="AWS_EXECUTION_ENV",$k="AWS_REGION",qk="AWS_DEFAULT_REGION",ele="AWS_EC2_METADATA_DISABLED",tle=["in-region","cross-region","mobile","standard","legacy"],rle="/latest/meta-data/placement/region",nle="AWS_DEFAULTS_MODE",ole="defaults_mode",sle={environmentVariableSelector:e=>e[nle],configFileSelector:e=>e[ole],default:"legacy"},ile=Cv(({region:e=(0,Hk.loadConfig)(Xce.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,Hk.loadConfig)(sle)}={})=>(0,Qce.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return ale(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${tle.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),ale=Cv(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await cle();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),cle=Cv(async()=>{if(process.env[Zce]&&(process.env[$k]||process.env[qk]))return process.env[$k]??process.env[qk];if(!process.env[ele])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Jce(Ua())),r=await e();return(await t({...r,path:rle})).toString()}catch{}},"inferPhysicalRegion")});var Xk=b(Rp=>{"use strict";a();Object.defineProperty(Rp,"__esModule",{value:!0});Rp.getRuntimeConfig=void 0;var lle=(up(),V(lp)),ule=lle.__importDefault(ak()),Wk=(hr(),V(mr)),Kk=_v(),Op=As(),dle=Sv(),Jk=Da(),Uo=Ms(),Yk=Xi(),ple=bv(),fle=zd(),mle=jk(),hle=qe(),gle=xv(),yle=qe(),_le=e=>{(0,yle.emitWarningIfUnsupportedVersion)(process.version);let t=(0,gle.resolveDefaultsModeConfig)(e),r=()=>t().then(hle.loadConfigsForDefaultMode),n=(0,mle.getRuntimeConfig)(e);(0,Wk.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Uo.loadConfig)(Wk.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??ple.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Kk.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:ule.default.version}),maxAttempts:e?.maxAttempts??(0,Uo.loadConfig)(Jk.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Uo.loadConfig)(Op.NODE_REGION_CONFIG_OPTIONS,{...Op.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Yk.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Uo.loadConfig)({...Jk.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||fle.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??dle.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Yk.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Uo.loadConfig)(Op.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Uo.loadConfig)(Op.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Uo.loadConfig)(Kk.NODE_APP_ID_CONFIG_OPTIONS,o)}};Rp.getRuntimeConfig=_le});var Ov=b((E2e,n1)=>{"use strict";a();var Ap=Object.defineProperty,Ele=Object.getOwnPropertyDescriptor,vle=Object.getOwnPropertyNames,Sle=Object.prototype.hasOwnProperty,_r=(e,t)=>Ap(e,"name",{value:t,configurable:!0}),ble=(e,t)=>{for(var r in t)Ap(e,r,{get:t[r],enumerable:!0})},Tle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vle(t))!Sle.call(e,o)&&o!==r&&Ap(e,o,{get:()=>t[o],enumerable:!(n=Ele(t,o))||n.enumerable});return e},wle=e=>Tle(Ap({},"__esModule",{value:!0}),e),Zk={};ble(Zk,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Ole,NODE_REGION_CONFIG_OPTIONS:()=>xle,REGION_ENV_NAME:()=>e1,REGION_INI_NAME:()=>t1,getAwsRegionExtensionConfiguration:()=>Ple,resolveAwsRegionExtensionConfiguration:()=>Cle,resolveRegionConfig:()=>Rle});n1.exports=wle(Zk);var Ple=_r(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Cle=_r(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),e1="AWS_REGION",t1="region",xle={environmentVariableSelector:_r(e=>e[e1],"environmentVariableSelector"),configFileSelector:_r(e=>e[t1],"configFileSelector"),default:_r(()=>{throw new Error("Region is missing")},"default")},Ole={preferredFile:"credentials"},r1=_r(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Qk=_r(e=>r1(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Rle=_r(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:_r(async()=>{if(typeof t=="string")return Qk(t);let n=await t();return Qk(n)},"region"),useFipsEndpoint:_r(async()=>{let n=typeof t=="string"?t:await t();return r1(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var L1=b((S2e,k1)=>{"use strict";a();var Ip=Object.defineProperty,Ale=Object.getOwnPropertyDescriptor,Ile=Object.getOwnPropertyNames,Nle=Object.prototype.hasOwnProperty,X=(e,t)=>Ip(e,"name",{value:t,configurable:!0}),Dle=(e,t)=>{for(var r in t)Ip(e,r,{get:t[r],enumerable:!0})},Mle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ile(t))!Nle.call(e,o)&&o!==r&&Ip(e,o,{get:()=>t[o],enumerable:!(n=Ale(t,o))||n.enumerable});return e},kle=e=>Mle(Ip({},"__esModule",{value:!0}),e),u1={};Dle(u1,{GetRoleCredentialsCommand:()=>N1,GetRoleCredentialsRequestFilterSensitiveLog:()=>v1,GetRoleCredentialsResponseFilterSensitiveLog:()=>b1,InvalidRequestException:()=>p1,ListAccountRolesCommand:()=>Rv,ListAccountRolesRequestFilterSensitiveLog:()=>T1,ListAccountsCommand:()=>Av,ListAccountsRequestFilterSensitiveLog:()=>w1,LogoutCommand:()=>D1,LogoutRequestFilterSensitiveLog:()=>P1,ResourceNotFoundException:()=>m1,RoleCredentialsFilterSensitiveLog:()=>S1,SSO:()=>M1,SSOClient:()=>Dp,SSOServiceException:()=>js,TooManyRequestsException:()=>g1,UnauthorizedException:()=>_1,__Client:()=>M.Client,paginateListAccountRoles:()=>aue,paginateListAccounts:()=>cue});k1.exports=kle(u1);var o1=ey(),Lle=ry(),Ule=oy(),s1=kd(),Fle=As(),Xr=(pt(),V(Ot)),Ble=CE(),Ha=rv(),i1=Da(),a1=gv(),jle=X(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Np={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Hle=Xk(),c1=Ov(),l1=ye(),M=qe(),$le=X(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),qle=X(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),Gle=X((e,t)=>{let r=Object.assign((0,c1.getAwsRegionExtensionConfiguration)(e),(0,M.getDefaultExtensionConfiguration)(e),(0,l1.getHttpHandlerExtensionConfiguration)(e),$le(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,c1.resolveAwsRegionExtensionConfiguration)(r),(0,M.resolveDefaultRuntimeConfig)(r),(0,l1.resolveHttpHandlerRuntimeConfig)(r),qle(r))},"resolveRuntimeExtensions"),Dp=class extends M.Client{static{X(this,"SSOClient")}config;constructor(...[e]){let t=(0,Hle.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=jle(t),n=(0,s1.resolveUserAgentConfig)(r),o=(0,i1.resolveRetryConfig)(n),s=(0,Fle.resolveRegionConfig)(o),i=(0,o1.resolveHostHeaderConfig)(s),c=(0,Ha.resolveEndpointConfig)(i),l=(0,a1.resolveHttpAuthSchemeConfig)(c),u=Gle(l,e?.extensions||[]);this.config=u,this.middlewareStack.use((0,s1.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,i1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Ble.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,o1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Lle.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Ule.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Xr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:a1.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:X(async d=>new Xr.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Xr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Mp=Ji(),js=class d1 extends M.ServiceException{static{X(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,d1.prototype)}},p1=class f1 extends js{static{X(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,f1.prototype)}},m1=class h1 extends js{static{X(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,h1.prototype)}},g1=class y1 extends js{static{X(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,y1.prototype)}},_1=class E1 extends js{static{X(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,E1.prototype)}},v1=X(e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),S1=X(e=>({...e,...e.secretAccessKey&&{secretAccessKey:M.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:M.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),b1=X(e=>({...e,...e.roleCredentials&&{roleCredentials:S1(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),T1=X(e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),w1=X(e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),P1=X(e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),ja=(hr(),V(mr)),zle=X(async(e,t)=>{let r=(0,Xr.requestBuilder)(e,t),n=(0,M.map)({},M.isSerializableHeaderValue,{[Up]:e[Lp]});r.bp("/federation/credentials");let o=(0,M.map)({[sue]:[,(0,M.expectNonNull)(e[oue],"roleName")],[x1]:[,(0,M.expectNonNull)(e[C1],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),Vle=X(async(e,t)=>{let r=(0,Xr.requestBuilder)(e,t),n=(0,M.map)({},M.isSerializableHeaderValue,{[Up]:e[Lp]});r.bp("/assignment/roles");let o=(0,M.map)({[I1]:[,e[A1]],[R1]:[()=>e.maxResults!==void 0,()=>e[O1].toString()],[x1]:[,(0,M.expectNonNull)(e[C1],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),Wle=X(async(e,t)=>{let r=(0,Xr.requestBuilder)(e,t),n=(0,M.map)({},M.isSerializableHeaderValue,{[Up]:e[Lp]});r.bp("/assignment/accounts");let o=(0,M.map)({[I1]:[,e[A1]],[R1]:[()=>e.maxResults!==void 0,()=>e[O1].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),Kle=X(async(e,t)=>{let r=(0,Xr.requestBuilder)(e,t),n=(0,M.map)({},M.isSerializableHeaderValue,{[Up]:e[Lp]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Jle=X(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kp(e,t);let r=(0,M.map)({$metadata:kn(e)}),n=(0,M.expectNonNull)((0,M.expectObject)(await(0,ja.parseJsonBody)(e.body,t)),"body"),o=(0,M.take)(n,{roleCredentials:M._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),Yle=X(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kp(e,t);let r=(0,M.map)({$metadata:kn(e)}),n=(0,M.expectNonNull)((0,M.expectObject)(await(0,ja.parseJsonBody)(e.body,t)),"body"),o=(0,M.take)(n,{nextToken:M.expectString,roleList:M._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),Xle=X(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kp(e,t);let r=(0,M.map)({$metadata:kn(e)}),n=(0,M.expectNonNull)((0,M.expectObject)(await(0,ja.parseJsonBody)(e.body,t)),"body"),o=(0,M.take)(n,{accountList:M._json,nextToken:M.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),Qle=X(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kp(e,t);let r=(0,M.map)({$metadata:kn(e)});return await(0,M.collectBody)(e.body,t),r},"de_LogoutCommand"),kp=X(async(e,t)=>{let r={...e,body:await(0,ja.parseJsonErrorBody)(e.body,t)},n=(0,ja.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await eue(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await tue(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await rue(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await nue(r,t);default:let o=r.body;return Zle({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),Zle=(0,M.withBaseException)(js),eue=X(async(e,t)=>{let r=(0,M.map)({}),n=e.body,o=(0,M.take)(n,{message:M.expectString});Object.assign(r,o);let s=new p1({$metadata:kn(e),...r});return(0,M.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),tue=X(async(e,t)=>{let r=(0,M.map)({}),n=e.body,o=(0,M.take)(n,{message:M.expectString});Object.assign(r,o);let s=new m1({$metadata:kn(e),...r});return(0,M.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),rue=X(async(e,t)=>{let r=(0,M.map)({}),n=e.body,o=(0,M.take)(n,{message:M.expectString});Object.assign(r,o);let s=new g1({$metadata:kn(e),...r});return(0,M.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),nue=X(async(e,t)=>{let r=(0,M.map)({}),n=e.body,o=(0,M.take)(n,{message:M.expectString});Object.assign(r,o);let s=new _1({$metadata:kn(e),...r});return(0,M.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),kn=X(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),C1="accountId",Lp="accessToken",x1="account_id",O1="maxResults",R1="max_result",A1="nextToken",I1="next_token",oue="roleName",sue="role_name",Up="x-amz-sso_bearer_token",N1=class extends M.Command.classBuilder().ep(Np).m(function(e,t,r,n){return[(0,Mp.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ha.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(v1,b1).ser(zle).de(Jle).build(){static{X(this,"GetRoleCredentialsCommand")}},Rv=class extends M.Command.classBuilder().ep(Np).m(function(e,t,r,n){return[(0,Mp.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ha.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(T1,void 0).ser(Vle).de(Yle).build(){static{X(this,"ListAccountRolesCommand")}},Av=class extends M.Command.classBuilder().ep(Np).m(function(e,t,r,n){return[(0,Mp.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ha.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(w1,void 0).ser(Wle).de(Xle).build(){static{X(this,"ListAccountsCommand")}},D1=class extends M.Command.classBuilder().ep(Np).m(function(e,t,r,n){return[(0,Mp.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ha.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(P1,void 0).ser(Kle).de(Qle).build(){static{X(this,"LogoutCommand")}},iue={GetRoleCredentialsCommand:N1,ListAccountRolesCommand:Rv,ListAccountsCommand:Av,LogoutCommand:D1},M1=class extends Dp{static{X(this,"SSO")}};(0,M.createAggregatedClient)(iue,M1);var aue=(0,Xr.createPaginator)(Dp,Rv,"nextToken","nextToken","maxResults"),cue=(0,Xr.createPaginator)(Dp,Av,"nextToken","nextToken","maxResults")});var Er=b((R2e,z1)=>{a();var Fp=Object.defineProperty,lue=Object.getOwnPropertyDescriptor,uue=Object.getOwnPropertyNames,due=Object.prototype.hasOwnProperty,Bp=(e,t)=>Fp(e,"name",{value:t,configurable:!0}),pue=(e,t)=>{for(var r in t)Fp(e,r,{get:t[r],enumerable:!0})},fue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of uue(t))!due.call(e,o)&&o!==r&&Fp(e,o,{get:()=>t[o],enumerable:!(n=lue(t,o))||n.enumerable});return e},mue=e=>fue(Fp({},"__esModule",{value:!0}),e),U1={};pue(U1,{AlgorithmId:()=>H1,EndpointURLScheme:()=>j1,FieldPosition:()=>$1,HttpApiKeyAuthLocation:()=>B1,HttpAuthLocation:()=>F1,IniSectionType:()=>q1,RequestHandlerProtocol:()=>G1,SMITHY_CONTEXT_KEY:()=>Eue,getDefaultClientConfiguration:()=>yue,resolveDefaultRuntimeConfig:()=>_ue});z1.exports=mue(U1);var F1=(e=>(e.HEADER="header",e.QUERY="query",e))(F1||{}),B1=(e=>(e.HEADER="header",e.QUERY="query",e))(B1||{}),j1=(e=>(e.HTTP="http",e.HTTPS="https",e))(j1||{}),H1=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(H1||{}),hue=Bp(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),gue=Bp(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),yue=Bp(e=>hue(e),"getDefaultClientConfiguration"),_ue=Bp(e=>gue(e),"resolveDefaultRuntimeConfig"),$1=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))($1||{}),Eue="__smithy_context",q1=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(q1||{}),G1=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(G1||{})});var Ee=b((I2e,Y1)=>{a();var jp=Object.defineProperty,vue=Object.getOwnPropertyDescriptor,Sue=Object.getOwnPropertyNames,bue=Object.prototype.hasOwnProperty,Ln=(e,t)=>jp(e,"name",{value:t,configurable:!0}),Tue=(e,t)=>{for(var r in t)jp(e,r,{get:t[r],enumerable:!0})},wue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sue(t))!bue.call(e,o)&&o!==r&&jp(e,o,{get:()=>t[o],enumerable:!(n=vue(t,o))||n.enumerable});return e},Pue=e=>wue(jp({},"__esModule",{value:!0}),e),V1={};Tue(V1,{Field:()=>Oue,Fields:()=>Rue,HttpRequest:()=>Aue,HttpResponse:()=>Iue,IHttpRequest:()=>W1.HttpRequest,getHttpHandlerExtensionConfiguration:()=>Cue,isValidHostname:()=>J1,resolveHttpHandlerRuntimeConfig:()=>xue});Y1.exports=Pue(V1);var Cue=Ln(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),xue=Ln(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),W1=Er(),Oue=class{static{Ln(this,"Field")}constructor({name:e,kind:t=W1.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},Rue=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Ln(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},Aue=class Iv{static{Ln(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Iv({...t,headers:{...t.headers}});return r.query&&(r.query=K1(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Iv.clone(this)}};function K1(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Ln(K1,"cloneQuery");var Iue=class{static{Ln(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function J1(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Ln(J1,"isValidHostname")});var Nv=b((L2e,tL)=>{"use strict";a();var $p=Object.defineProperty,Nue=Object.getOwnPropertyDescriptor,Due=Object.getOwnPropertyNames,Mue=Object.prototype.hasOwnProperty,Hp=(e,t)=>$p(e,"name",{value:t,configurable:!0}),kue=(e,t)=>{for(var r in t)$p(e,r,{get:t[r],enumerable:!0})},Lue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Due(t))!Mue.call(e,o)&&o!==r&&$p(e,o,{get:()=>t[o],enumerable:!(n=Nue(t,o))||n.enumerable});return e},Uue=e=>Lue($p({},"__esModule",{value:!0}),e),X1={};kue(X1,{getHostHeaderPlugin:()=>Bue,hostHeaderMiddleware:()=>Z1,hostHeaderMiddlewareOptions:()=>eL,resolveHostHeaderConfig:()=>Q1});tL.exports=Uue(X1);var Fue=Ee();function Q1(e){return e}Hp(Q1,"resolveHostHeaderConfig");var Z1=Hp(e=>t=>async r=>{if(!Fue.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),eL={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Bue=Hp(e=>({applyToStack:Hp(t=>{t.add(Z1(e),eL)},"applyToStack")}),"getHostHeaderPlugin")});var Mv=b((F2e,sL)=>{"use strict";a();var qp=Object.defineProperty,jue=Object.getOwnPropertyDescriptor,Hue=Object.getOwnPropertyNames,$ue=Object.prototype.hasOwnProperty,Dv=(e,t)=>qp(e,"name",{value:t,configurable:!0}),que=(e,t)=>{for(var r in t)qp(e,r,{get:t[r],enumerable:!0})},Gue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Hue(t))!$ue.call(e,o)&&o!==r&&qp(e,o,{get:()=>t[o],enumerable:!(n=jue(t,o))||n.enumerable});return e},zue=e=>Gue(qp({},"__esModule",{value:!0}),e),rL={};que(rL,{getLoggerPlugin:()=>Vue,loggerMiddleware:()=>nL,loggerMiddlewareOptions:()=>oL});sL.exports=zue(rL);var nL=Dv(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:u}=c,d=l??t.inputFilterSensitiveLog,f=u??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:d(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l}=c,u=l??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:u(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),oL={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Vue=Dv(e=>({applyToStack:Dv(t=>{t.add(nL(),oL)},"applyToStack")}),"getLoggerPlugin")});var Lv=b((j2e,lL)=>{"use strict";a();var zp=Object.defineProperty,Wue=Object.getOwnPropertyDescriptor,Kue=Object.getOwnPropertyNames,Jue=Object.prototype.hasOwnProperty,Gp=(e,t)=>zp(e,"name",{value:t,configurable:!0}),Yue=(e,t)=>{for(var r in t)zp(e,r,{get:t[r],enumerable:!0})},Xue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Kue(t))!Jue.call(e,o)&&o!==r&&zp(e,o,{get:()=>t[o],enumerable:!(n=Wue(t,o))||n.enumerable});return e},Que=e=>Xue(zp({},"__esModule",{value:!0}),e),iL={};Yue(iL,{addRecursionDetectionMiddlewareOptions:()=>cL,getRecursionDetectionPlugin:()=>rde,recursionDetectionMiddleware:()=>aL});lL.exports=Que(iL);var Zue=Ee(),kv="X-Amzn-Trace-Id",ede="AWS_LAMBDA_FUNCTION_NAME",tde="_X_AMZN_TRACE_ID",aL=Gp(e=>t=>async r=>{let{request:n}=r;if(!Zue.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(l=>l.toLowerCase()===kv.toLowerCase())??kv;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[ede],i=process.env[tde],c=Gp(l=>typeof l=="string"&&l.length>0,"nonEmptyString");return c(s)&&c(i)&&(n.headers[kv]=i),t({...r,request:n})},"recursionDetectionMiddleware"),cL={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},rde=Gp(e=>({applyToStack:Gp(t=>{t.add(aL(e),cL)},"applyToStack")}),"getRecursionDetectionPlugin")});var Uv,nde,uL=v(()=>{a();Uv=P(Er()),nde=e=>e[Uv.SMITHY_CONTEXT_KEY]||(e[Uv.SMITHY_CONTEXT_KEY]={})});var Qr=b((G2e,mL)=>{a();var Vp=Object.defineProperty,ode=Object.getOwnPropertyDescriptor,sde=Object.getOwnPropertyNames,ide=Object.prototype.hasOwnProperty,pL=(e,t)=>Vp(e,"name",{value:t,configurable:!0}),ade=(e,t)=>{for(var r in t)Vp(e,r,{get:t[r],enumerable:!0})},cde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sde(t))!ide.call(e,o)&&o!==r&&Vp(e,o,{get:()=>t[o],enumerable:!(n=ode(t,o))||n.enumerable});return e},lde=e=>cde(Vp({},"__esModule",{value:!0}),e),fL={};ade(fL,{getSmithyContext:()=>ude,normalizeProvider:()=>dde});mL.exports=lde(fL);var dL=Er(),ude=pL(e=>e[dL.SMITHY_CONTEXT_KEY]||(e[dL.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),dde=pL(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var hL,gL=v(()=>{a();hL=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function pde(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var K2e,yL,$a,Wp=v(()=>{a();K2e=P(Er()),yL=P(Qr());gL();$a=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],c=hL(s,i),l=pde(e.httpAuthSchemes),u=(0,yL.getSmithyContext)(n),d=[];for(let f of c){let h=l.get(f.schemeId);if(!h){d.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){d.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:_={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},y),f.signingProperties=Object.assign(f.signingProperties||{},_),u.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)}});var _L,qa,EL=v(()=>{a();Wp();_L={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},qa=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo($a(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),_L)}})});var Hs=b((r3e,CL)=>{a();var Kp=Object.defineProperty,fde=Object.getOwnPropertyDescriptor,mde=Object.getOwnPropertyNames,hde=Object.prototype.hasOwnProperty,Jp=(e,t)=>Kp(e,"name",{value:t,configurable:!0}),gde=(e,t)=>{for(var r in t)Kp(e,r,{get:t[r],enumerable:!0})},yde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mde(t))!hde.call(e,o)&&o!==r&&Kp(e,o,{get:()=>t[o],enumerable:!(n=fde(t,o))||n.enumerable});return e},_de=e=>yde(Kp({},"__esModule",{value:!0}),e),vL={};gde(vL,{deserializerMiddleware:()=>SL,deserializerMiddlewareOption:()=>TL,getSerdePlugin:()=>PL,serializerMiddleware:()=>bL,serializerMiddlewareOption:()=>wL});CL.exports=_de(vL);var Ede=Ee(),SL=Jp((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(Ede.HttpResponse.isInstance(s)){let{headers:l={}}=s,u=Object.entries(l);i.$metadata={httpStatusCode:s.statusCode,requestId:Fv(/^x-[\w-]+-request-?id$/,u),extendedRequestId:Fv(/^x-[\w-]+-id-2$/,u),cfId:Fv(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},"deserializerMiddleware"),Fv=Jp((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),bL=Jp((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let c=await t(o.input,{...e,endpoint:i});return r({...o,request:c})},"serializerMiddleware"),TL={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},wL={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function PL(e,t,r){return{applyToStack:n=>{n.add(SL(e,r),TL),n.add(bL(e,t),wL)}}}Jp(PL,"getSerdePlugin")});var xL,OL,vde,RL=v(()=>{a();xL=P(Hs());Wp();OL={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:xL.serializerMiddlewareOption.name},vde=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo($a(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),OL)}})});var AL=v(()=>{a();Wp();EL();RL()});var IL,p3e,NL,Sde,bde,Bv,jv=v(()=>{a();IL=P(Ee()),p3e=P(Er()),NL=P(Qr()),Sde=e=>t=>{throw t},bde=(e,t)=>{},Bv=e=>(t,r)=>async n=>{if(!IL.HttpRequest.isInstance(n.request))return t(n);let s=(0,NL.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:c,signer:l}=s,u=await t({...n,request:await l.sign(n.request,c,i)}).catch((l.errorHandler||Sde)(i));return(l.successHandler||bde)(u.response,i),u}});var DL,Ga,ML=v(()=>{a();jv();DL={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ga=e=>({applyToStack:t=>{t.addRelativeTo(Bv(e),DL)}})});var kL=v(()=>{a();jv();ML()});var Un,LL=v(()=>{a();Un=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function UL(e,t,r,n,o){return async function*(i,c,...l){let u=c,d=i.startingToken??u[r],f=!0,h;for(;f;){if(u[r]=d,o&&(u[o]=u[o]??i.pageSize),i.client instanceof e)h=await Tde(t,i.client,c,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=d;d=wde(h,n),f=!!(d&&(!i.stopOnSameToken||d!==g))}return void 0}}var Tde,wde,FL=v(()=>{a();Tde=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};wde=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Hv=b((x3e,jL)=>{a();var Yp=Object.defineProperty,Pde=Object.getOwnPropertyDescriptor,Cde=Object.getOwnPropertyNames,xde=Object.prototype.hasOwnProperty,Ode=(e,t)=>Yp(e,"name",{value:t,configurable:!0}),Rde=(e,t)=>{for(var r in t)Yp(e,r,{get:t[r],enumerable:!0})},Ade=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cde(t))!xde.call(e,o)&&o!==r&&Yp(e,o,{get:()=>t[o],enumerable:!(n=Pde(t,o))||n.enumerable});return e},Ide=e=>Ade(Yp({},"__esModule",{value:!0}),e),BL={};Rde(BL,{isArrayBuffer:()=>Nde});jL.exports=Ide(BL);var Nde=Ode(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var $s=b((R3e,qL)=>{a();var Xp=Object.defineProperty,Dde=Object.getOwnPropertyDescriptor,Mde=Object.getOwnPropertyNames,kde=Object.prototype.hasOwnProperty,HL=(e,t)=>Xp(e,"name",{value:t,configurable:!0}),Lde=(e,t)=>{for(var r in t)Xp(e,r,{get:t[r],enumerable:!0})},Ude=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Mde(t))!kde.call(e,o)&&o!==r&&Xp(e,o,{get:()=>t[o],enumerable:!(n=Dde(t,o))||n.enumerable});return e},Fde=e=>Ude(Xp({},"__esModule",{value:!0}),e),$L={};Lde($L,{fromArrayBuffer:()=>jde,fromString:()=>Hde});qL.exports=Fde($L);var Bde=Hv(),$v=L("buffer"),jde=HL((e,t=0,r=e.byteLength-t)=>{if(!(0,Bde.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return $v.Buffer.from(e,t,r)},"fromArrayBuffer"),Hde=HL((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?$v.Buffer.from(e,t):$v.Buffer.from(e)},"fromString")});var GL=b(Qp=>{"use strict";a();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.fromBase64=void 0;var $de=$s(),qde=/^[A-Za-z0-9+/]*={0,2}$/,Gde=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!qde.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,$de.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Qp.fromBase64=Gde});var it=b((D3e,KL)=>{a();var Zp=Object.defineProperty,zde=Object.getOwnPropertyDescriptor,Vde=Object.getOwnPropertyNames,Wde=Object.prototype.hasOwnProperty,qv=(e,t)=>Zp(e,"name",{value:t,configurable:!0}),Kde=(e,t)=>{for(var r in t)Zp(e,r,{get:t[r],enumerable:!0})},Jde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vde(t))!Wde.call(e,o)&&o!==r&&Zp(e,o,{get:()=>t[o],enumerable:!(n=zde(t,o))||n.enumerable});return e},Yde=e=>Jde(Zp({},"__esModule",{value:!0}),e),zL={};Kde(zL,{fromUtf8:()=>WL,toUint8Array:()=>Xde,toUtf8:()=>Qde});KL.exports=Yde(zL);var VL=$s(),WL=qv(e=>{let t=(0,VL.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Xde=qv(e=>typeof e=="string"?WL(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Qde=qv(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,VL.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var JL=b(ef=>{"use strict";a();Object.defineProperty(ef,"__esModule",{value:!0});ef.toBase64=void 0;var Zde=$s(),epe=it(),tpe=e=>{let t;if(typeof e=="string"?t=(0,epe.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Zde.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ef.toBase64=tpe});var St=b((U3e,tf)=>{a();var YL=Object.defineProperty,rpe=Object.getOwnPropertyDescriptor,npe=Object.getOwnPropertyNames,ope=Object.prototype.hasOwnProperty,Gv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of npe(t))!ope.call(e,o)&&o!==r&&YL(e,o,{get:()=>t[o],enumerable:!(n=rpe(t,o))||n.enumerable});return e},XL=(e,t,r)=>(Gv(e,t,"default"),r&&Gv(r,t,"default")),spe=e=>Gv(YL({},"__esModule",{value:!0}),e),zv={};tf.exports=spe(zv);XL(zv,GL(),tf.exports);XL(zv,JL(),tf.exports)});var Wv=b(rf=>{"use strict";a();Object.defineProperty(rf,"__esModule",{value:!0});rf.ChecksumStream=void 0;var ipe=St(),ape=L("stream"),Vv=class extends ape.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,c;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(c=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&c!==void 0?c:n} in ChecksumStream.`);this.base64Encoder=s??ipe.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};rf.ChecksumStream=Vv});var Fn=b(qs=>{"use strict";a();Object.defineProperty(qs,"__esModule",{value:!0});qs.isBlob=qs.isReadableStream=void 0;var cpe=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};qs.isReadableStream=cpe;var lpe=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};qs.isBlob=lpe});var QL=b(nf=>{"use strict";a();Object.defineProperty(nf,"__esModule",{value:!0});nf.ChecksumStream=void 0;var upe=typeof ReadableStream=="function"?ReadableStream:function(){},Kv=class extends upe{};nf.ChecksumStream=Kv});var ZL=b(of=>{"use strict";a();Object.defineProperty(of,"__esModule",{value:!0});of.createChecksumStream=void 0;var dpe=St(),ppe=Fn(),fpe=QL(),mpe=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,ppe.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let c=o??dpe.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let l=new TransformStream({start(){},async transform(d,f){t.update(d),f.enqueue(d)},async flush(d){let f=await t.digest(),h=c(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);d.error(g)}else d.terminate()}});r.pipeThrough(l);let u=l.readable;return Object.setPrototypeOf(u,fpe.ChecksumStream.prototype),u};of.createChecksumStream=mpe});var eU=b(Jv=>{"use strict";a();Object.defineProperty(Jv,"__esModule",{value:!0});Jv.createChecksumStream=_pe;var hpe=Fn(),gpe=Wv(),ype=ZL();function _pe(e){return typeof ReadableStream=="function"&&(0,hpe.isReadableStream)(e.source)?(0,ype.createChecksumStream)(e):new gpe.ChecksumStream(e)}});var Xv=b(sf=>{"use strict";a();Object.defineProperty(sf,"__esModule",{value:!0});sf.ByteArrayCollector=void 0;var Yv=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};sf.ByteArrayCollector=Yv});var oU=b(Zr=>{"use strict";a();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.createBufferedReadable=void 0;Zr.createBufferedReadableStream=tU;Zr.merge=rU;Zr.flush=af;Zr.sizeOf=Gs;Zr.modeOf=nU;var Epe=Xv();function tU(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new Epe.ByteArrayCollector(u=>new Uint8Array(u))],c=-1,l=async u=>{let{value:d,done:f}=await n.read(),h=d;if(f){if(c!==-1){let g=af(i,c);Gs(g)>0&&u.enqueue(g)}u.close()}else{let g=nU(h,!1);if(c!==g&&(c>=0&&u.enqueue(af(i,c)),c=g),c===-1){u.enqueue(h);return}let y=Gs(h);s+=y;let _=Gs(i[c]);if(y>=t&&_===0)u.enqueue(h);else{let S=rU(i,c,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),S>=t?u.enqueue(af(i,c)):await l(u)}}};return new ReadableStream({pull:l})}Zr.createBufferedReadable=tU;function rU(e,t,r){switch(t){case 0:return e[0]+=r,Gs(e[0]);case 1:case 2:return e[t].push(r),Gs(e[t])}}function af(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Gs(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function nU(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var iU=b(Qv=>{"use strict";a();Object.defineProperty(Qv,"__esModule",{value:!0});Qv.createBufferedReadable=bpe;var vpe=L("node:stream"),sU=Xv(),en=oU(),Spe=Fn();function bpe(e,t,r){if((0,Spe.isReadableStream)(e))return(0,en.createBufferedReadableStream)(e,t,r);let n=new vpe.Readable({read(){}}),o=!1,s=0,i=["",new sU.ByteArrayCollector(l=>new Uint8Array(l)),new sU.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let u=(0,en.modeOf)(l,!0);if(c!==u&&(c>=0&&n.push((0,en.flush)(i,c)),c=u),c===-1){n.push(l);return}let d=(0,en.sizeOf)(l);s+=d;let f=(0,en.sizeOf)(i[c]);if(d>=t&&f===0)n.push(l);else{let h=(0,en.merge)(i,c,l);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,en.flush)(i,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,en.flush)(i,c);(0,en.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var aU=b(cf=>{"use strict";a();Object.defineProperty(cf,"__esModule",{value:!0});cf.getAwsChunkedEncodingStream=void 0;var Tpe=L("stream"),wpe=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,c=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,l=c?i(o,e):void 0,u=new Tpe.Readable({read:()=>{}});return e.on("data",d=>{let f=n(d)||0;u.push(`${f.toString(16)}\r
`),u.push(d),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),c){let d=r(await l);u.push(`${s}:${d}\r
`),u.push(`\r
`)}u.push(null)}),u};cf.getAwsChunkedEncodingStream=wpe});var cU=b(Zv=>{"use strict";a();Object.defineProperty(Zv,"__esModule",{value:!0});Zv.headStream=Ppe;async function Ppe(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:u,value:d}=await s.read();if(d&&(o.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=u}s.releaseLock();let c=new Uint8Array(Math.min(t,n)),l=0;for(let u of o){if(u.byteLength>c.byteLength-l){c.set(u.subarray(0,c.byteLength-l),l);break}else c.set(u,l);l+=u.length}return c}});var lU=b(lf=>{"use strict";a();Object.defineProperty(lf,"__esModule",{value:!0});lf.headStream=void 0;var Cpe=L("stream"),xpe=cU(),Ope=Fn(),Rpe=(e,t)=>(0,Ope.isReadableStream)(e)?(0,xpe.headStream)(e,t):new Promise((r,n)=>{let o=new eS;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});lf.headStream=Rpe;var eS=class extends Cpe.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var rS=b((aWe,pU)=>{a();var uf=Object.defineProperty,Ape=Object.getOwnPropertyDescriptor,Ipe=Object.getOwnPropertyNames,Npe=Object.prototype.hasOwnProperty,tS=(e,t)=>uf(e,"name",{value:t,configurable:!0}),Dpe=(e,t)=>{for(var r in t)uf(e,r,{get:t[r],enumerable:!0})},Mpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ipe(t))!Npe.call(e,o)&&o!==r&&uf(e,o,{get:()=>t[o],enumerable:!(n=Ape(t,o))||n.enumerable});return e},kpe=e=>Mpe(uf({},"__esModule",{value:!0}),e),uU={};Dpe(uU,{escapeUri:()=>dU,escapeUriPath:()=>Upe});pU.exports=kpe(uU);var dU=tS(e=>encodeURIComponent(e).replace(/[!'()*]/g,Lpe),"escapeUri"),Lpe=tS(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),Upe=tS(e=>e.split("/").map(dU).join("/"),"escapeUriPath")});var oS=b((lWe,hU)=>{a();var df=Object.defineProperty,Fpe=Object.getOwnPropertyDescriptor,Bpe=Object.getOwnPropertyNames,jpe=Object.prototype.hasOwnProperty,Hpe=(e,t)=>df(e,"name",{value:t,configurable:!0}),$pe=(e,t)=>{for(var r in t)df(e,r,{get:t[r],enumerable:!0})},qpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bpe(t))!jpe.call(e,o)&&o!==r&&df(e,o,{get:()=>t[o],enumerable:!(n=Fpe(t,o))||n.enumerable});return e},Gpe=e=>qpe(df({},"__esModule",{value:!0}),e),fU={};$pe(fU,{buildQueryString:()=>mU});hU.exports=Gpe(fU);var nS=rS();function mU(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,nS.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,nS.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,nS.escapeUri)(n)}`),t.push(o)}}return t.join("&")}Hpe(mU,"buildQueryString")});var pf=b((dWe,AU)=>{a();var zpe=Object.create,za=Object.defineProperty,Vpe=Object.getOwnPropertyDescriptor,Wpe=Object.getOwnPropertyNames,Kpe=Object.getPrototypeOf,Jpe=Object.prototype.hasOwnProperty,fe=(e,t)=>za(e,"name",{value:t,configurable:!0}),Ype=(e,t)=>{for(var r in t)za(e,r,{get:t[r],enumerable:!0})},vU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Wpe(t))!Jpe.call(e,o)&&o!==r&&za(e,o,{get:()=>t[o],enumerable:!(n=Vpe(t,o))||n.enumerable});return e},Xpe=(e,t,r)=>(r=e!=null?zpe(Kpe(e)):{},vU(t||!e||!e.__esModule?za(r,"default",{value:e,enumerable:!0}):r,e)),Qpe=e=>vU(za({},"__esModule",{value:!0}),e),SU={};Ype(SU,{DEFAULT_REQUEST_TIMEOUT:()=>xU,NodeHttp2Handler:()=>cfe,NodeHttpHandler:()=>ofe,streamCollector:()=>ufe});AU.exports=Qpe(SU);var bU=Ee(),TU=oS(),sS=L("http"),iS=L("https"),Zpe=["ECONNRESET","EPIPE","ETIMEDOUT"],wU=fe(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),mt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},gU=1e3,efe=fe((e,t,r=0)=>{if(!r)return-1;let n=fe(o=>{let s=mt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=fe(c=>{c?.connecting?c.on("connect",()=>{mt.clearTimeout(s)}):mt.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):mt.setTimeout(n.bind(null,gU),gU)},"setConnectionTimeout"),tfe=3e3,rfe=fe((e,{keepAlive:t,keepAliveMsecs:r},n=tfe)=>{if(t!==!0)return-1;let o=fe(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):mt.setTimeout(o,n)},"setSocketKeepAlive"),yU=3e3,nfe=fe((e,t,r=xU)=>{let n=fe(o=>{let s=r-o,i=fe(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):mt.setTimeout(n.bind(null,r===0?0:yU),yU)},"setSocketTimeout"),PU=L("stream"),_U=6e3;async function cS(e,t,r=_U){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(c=>{s=Number(mt.setTimeout(()=>c(!0),Math.max(_U,r)))}),new Promise(c=>{e.on("continue",()=>{mt.clearTimeout(s),c(!0)}),e.on("response",()=>{mt.clearTimeout(s),c(!1)}),e.on("error",()=>{mt.clearTimeout(s),c(!1)})})])),i&&CU(e,t.body)}fe(cS,"writeRequestBody");function CU(e,t){if(t instanceof PU.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}fe(CU,"writeBody");var xU=0,ofe=class aS{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{fe(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new aS(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let l in o){let u=o[l]?.length??0,d=s[l]?.length??0;if(u>=i&&d>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:c}=t||{},l=!0,u=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof sS.Agent||typeof i?.destroy=="function"?i:new sS.Agent({keepAlive:l,maxSockets:u,...i}),httpsAgent:c instanceof iS.Agent||typeof c?.destroy=="function"?c:new iS.Agent({keepAlive:l,maxSockets:u,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,c=[],l=fe(async x=>{await i,c.forEach(mt.clearTimeout),o(x)},"resolve"),u=fe(async x=>{await i,c.forEach(mt.clearTimeout),s(x)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let x=new Error("Request aborted");x.name="AbortError",u(x);return}let d=t.protocol==="https:",f=d?this.config.httpsAgent:this.config.httpAgent;c.push(mt.setTimeout(()=>{this.socketWarningTimestamp=aS.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,TU.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let x=t.username??"",A=t.password??"";g=`${x}:${A}`}let y=t.path;h&&(y+=`?${h}`),t.fragment&&(y+=`#${t.fragment}`);let _=t.hostname??"";_[0]==="["&&_.endsWith("]")?_=t.hostname.slice(1,-1):_=t.hostname;let S={headers:t.headers,host:_,method:t.method,path:y,port:t.port,agent:f,auth:g},w=(d?iS.request:sS.request)(S,x=>{let A=new bU.HttpResponse({statusCode:x.statusCode||-1,reason:x.statusMessage,headers:wU(x.headers),body:x});l({response:A})});if(w.on("error",x=>{Zpe.includes(x.code)?u(Object.assign(x,{name:"TimeoutError"})):u(x)}),r){let x=fe(()=>{w.destroy();let A=new Error("Request aborted");A.name="AbortError",u(A)},"onAbort");if(typeof r.addEventListener=="function"){let A=r;A.addEventListener("abort",x,{once:!0}),w.once("close",()=>A.removeEventListener("abort",x))}else r.onabort=x}let C=n??this.config.requestTimeout;c.push(efe(w,u,this.config.connectionTimeout)),c.push(nfe(w,u,C));let O=S.agent;typeof O=="object"&&"keepAlive"in O&&c.push(rfe(w,{keepAlive:O.keepAlive,keepAliveMsecs:O.keepAliveMsecs})),i=cS(w,t,C).catch(x=>(c.forEach(mt.clearTimeout),s(x)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},EU=L("http2"),sfe=Xpe(L("http2")),ife=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{fe(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},afe=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{fe(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let c=n.poll();if(c&&!this.config.disableConcurrency)return c}let o=sfe.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=fe(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new ife;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},cfe=class OU{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new afe({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{fe(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new OU(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((c,l)=>{let u=!1,d,f=fe(async q=>{await d,c(q)},"resolve"),h=fe(async q=>{await d,l(q)},"reject");if(r?.aborted){u=!0;let q=new Error("Request aborted");q.name="AbortError",h(q);return}let{hostname:g,method:y,port:_,protocol:S,query:T}=t,w="";if(t.username!=null||t.password!=null){let q=t.username??"",ue=t.password??"";w=`${q}:${ue}@`}let C=`${S}//${w}${g}${_?`:${_}`:""}`,O={destination:new URL(C)},x=this.connectionManager.lease(O,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),A=fe(q=>{s&&this.destroySession(x),u=!0,h(q)},"rejectWithDestroy"),le=(0,TU.buildQueryString)(T||{}),oe=t.path;le&&(oe+=`?${le}`),t.fragment&&(oe+=`#${t.fragment}`);let te=x.request({...t.headers,[EU.constants.HTTP2_HEADER_PATH]:oe,[EU.constants.HTTP2_HEADER_METHOD]:y});if(x.ref(),te.on("response",q=>{let ue=new bU.HttpResponse({statusCode:q[":status"]||-1,headers:wU(q),body:te});u=!0,f({response:ue}),s&&(x.close(),this.connectionManager.deleteSession(C,x))}),i&&te.setTimeout(i,()=>{te.close();let q=new Error(`Stream timed out because of no activity for ${i} ms`);q.name="TimeoutError",A(q)}),r){let q=fe(()=>{te.close();let ue=new Error("Request aborted");ue.name="AbortError",A(ue)},"onAbort");if(typeof r.addEventListener=="function"){let ue=r;ue.addEventListener("abort",q,{once:!0}),te.once("close",()=>ue.removeEventListener("abort",q))}else r.onabort=q}te.on("frameError",(q,ue,nr)=>{A(new Error(`Frame type id ${q} in stream id ${nr} has failed with code ${ue}.`))}),te.on("error",A),te.on("aborted",()=>{A(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${te.rstCode}.`))}),te.on("close",()=>{x.unref(),s&&x.destroy(),u||A(new Error("Unexpected error: http2 request did not get a response"))}),d=cS(te,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},lfe=class extends PU.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{fe(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},ufe=fe(e=>dfe(e)?RU(e):new Promise((t,r)=>{let n=new lfe;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),dfe=fe(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function RU(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=c}let s=new Uint8Array(o),i=0;for(let c of t)s.set(c,i),i+=c.length;return s}fe(RU,"collectReadableStream")});var BU=b((gWe,FU)=>{a();var mf=Object.defineProperty,pfe=Object.getOwnPropertyDescriptor,ffe=Object.getOwnPropertyNames,mfe=Object.prototype.hasOwnProperty,vr=(e,t)=>mf(e,"name",{value:t,configurable:!0}),hfe=(e,t)=>{for(var r in t)mf(e,r,{get:t[r],enumerable:!0})},gfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ffe(t))!mfe.call(e,o)&&o!==r&&mf(e,o,{get:()=>t[o],enumerable:!(n=pfe(t,o))||n.enumerable});return e},yfe=e=>gfe(mf({},"__esModule",{value:!0}),e),NU={};hfe(NU,{FetchHttpHandler:()=>Efe,keepAliveSupport:()=>ff,streamCollector:()=>Sfe});FU.exports=yfe(NU);var IU=Ee(),_fe=oS();function lS(e,t){return new Request(e,t)}vr(lS,"createRequest");function DU(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}vr(DU,"requestTimeout");var ff={supported:void 0},Efe=class MU{static{vr(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new MU(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),ff.supported===void 0&&(ff.supported=typeof Request<"u"&&"keepalive"in lS("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let c=t.path,l=(0,_fe.buildQueryString)(t.query||{});l&&(c+=`?${l}`),t.fragment&&(c+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let w=t.username??"",C=t.password??"";u=`${w}:${C}@`}let{port:d,method:f}=t,h=`${t.protocol}//${u}${t.hostname}${d?`:${d}`:""}${c}`,g=f==="GET"||f==="HEAD"?void 0:t.body,y={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(y.cache=this.config.cache),g&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),ff.supported&&(y.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let _=vr(()=>{},"removeSignalEventListener"),S=lS(h,y),T=[fetch(S).then(w=>{let C=w.headers,O={};for(let A of C.entries())O[A[0]]=A[1];return w.body!=null?{response:new IU.HttpResponse({headers:O,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(A=>({response:new IU.HttpResponse({headers:O,reason:w.statusText,statusCode:w.status,body:A})}))}),DU(o)];return r&&T.push(new Promise((w,C)=>{let O=vr(()=>{let x=new Error("Request aborted");x.name="AbortError",C(x)},"onAbort");if(typeof r.addEventListener=="function"){let x=r;x.addEventListener("abort",O,{once:!0}),_=vr(()=>x.removeEventListener("abort",O),"removeSignalEventListener")}else r.onabort=O})),Promise.race(T).finally(_)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},vfe=St(),Sfe=vr(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):kU(e):LU(e),"streamCollector");async function kU(e){let t=await UU(e),r=(0,vfe.fromBase64)(t);return new Uint8Array(r)}vr(kU,"collectBlob");async function LU(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:c,value:l}=await r.read();l&&(t.push(l),o+=l.length),n=c}let s=new Uint8Array(o),i=0;for(let c of t)s.set(c,i),i+=c.length;return s}vr(LU,"collectStream");function UU(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}vr(UU,"readToBase64")});var dS=b((_We,zU)=>{a();var hf=Object.defineProperty,bfe=Object.getOwnPropertyDescriptor,Tfe=Object.getOwnPropertyNames,wfe=Object.prototype.hasOwnProperty,jU=(e,t)=>hf(e,"name",{value:t,configurable:!0}),Pfe=(e,t)=>{for(var r in t)hf(e,r,{get:t[r],enumerable:!0})},Cfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tfe(t))!wfe.call(e,o)&&o!==r&&hf(e,o,{get:()=>t[o],enumerable:!(n=bfe(t,o))||n.enumerable});return e},xfe=e=>Cfe(hf({},"__esModule",{value:!0}),e),HU={};Pfe(HU,{fromHex:()=>qU,toHex:()=>GU});zU.exports=xfe(HU);var $U={},uS={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),$U[e]=t,uS[t]=e}function qU(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in uS)t[r/2]=uS[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}jU(qU,"fromHex");function GU(e){let t="";for(let r=0;r<e.byteLength;r++)t+=$U[e[r]];return t}jU(GU,"toHex")});var JU=b(gf=>{"use strict";a();Object.defineProperty(gf,"__esModule",{value:!0});gf.sdkStreamMixin=void 0;var Ofe=BU(),Rfe=St(),Afe=dS(),Ife=it(),VU=Fn(),WU="The stream has already been transformed.",Nfe=e=>{var t,r;if(!KU(e)&&!(0,VU.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(WU);return n=!0,await(0,Ofe.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let c=await o();if(i==="base64")return(0,Rfe.toBase64)(c);if(i==="hex")return(0,Afe.toHex)(c);if(i===void 0||i==="utf8"||i==="utf-8")return(0,Ife.toUtf8)(c);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(c);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(WU);if(n=!0,KU(e))return s(e);if((0,VU.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};gf.sdkStreamMixin=Nfe;var KU=e=>typeof Blob=="function"&&e instanceof Blob});var XU=b(yf=>{"use strict";a();Object.defineProperty(yf,"__esModule",{value:!0});yf.sdkStreamMixin=void 0;var Dfe=pf(),Mfe=$s(),pS=L("stream"),kfe=JU(),YU="The stream has already been transformed.",Lfe=e=>{var t,r;if(!(e instanceof pS.Readable))try{return(0,kfe.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(YU);return n=!0,await(0,Dfe.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,Mfe.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(YU);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof pS.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,pS.Readable.toWeb(e)}})};yf.sdkStreamMixin=Lfe});var QU=b(fS=>{"use strict";a();Object.defineProperty(fS,"__esModule",{value:!0});fS.splitStream=Ufe;async function Ufe(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var tF=b(mS=>{"use strict";a();Object.defineProperty(mS,"__esModule",{value:!0});mS.splitStream=Bfe;var ZU=L("stream"),Ffe=QU(),eF=Fn();async function Bfe(e){if((0,eF.isReadableStream)(e)||(0,eF.isBlob)(e))return(0,Ffe.splitStream)(e);let t=new ZU.PassThrough,r=new ZU.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var _S=b((OWe,br)=>{a();var _f=Object.defineProperty,jfe=Object.getOwnPropertyDescriptor,Hfe=Object.getOwnPropertyNames,$fe=Object.prototype.hasOwnProperty,yS=(e,t)=>_f(e,"name",{value:t,configurable:!0}),qfe=(e,t)=>{for(var r in t)_f(e,r,{get:t[r],enumerable:!0})},hS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Hfe(t))!$fe.call(e,o)&&o!==r&&_f(e,o,{get:()=>t[o],enumerable:!(n=jfe(t,o))||n.enumerable});return e},Bn=(e,t,r)=>(hS(e,t,"default"),r&&hS(r,t,"default")),Gfe=e=>hS(_f({},"__esModule",{value:!0}),e),Sr={};qfe(Sr,{Uint8ArrayBlobAdapter:()=>gS});br.exports=Gfe(Sr);var rF=St(),nF=it();function oF(e,t="utf-8"){return t==="base64"?(0,rF.toBase64)(e):(0,nF.toUtf8)(e)}yS(oF,"transformToString");function sF(e,t){return t==="base64"?gS.mutate((0,rF.fromBase64)(e)):gS.mutate((0,nF.fromUtf8)(e))}yS(sF,"transformFromString");var gS=class iF extends Uint8Array{static{yS(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return sF(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,iF.prototype),t}transformToString(t="utf-8"){return oF(this,t)}};Bn(Sr,Wv(),br.exports);Bn(Sr,eU(),br.exports);Bn(Sr,iU(),br.exports);Bn(Sr,aU(),br.exports);Bn(Sr,lU(),br.exports);Bn(Sr,XU(),br.exports);Bn(Sr,tF(),br.exports);Bn(Sr,Fn(),br.exports)});var Ef,Lt,Va=v(()=>{a();Ef=P(_S()),Lt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Ef.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Ef.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Ef.Uint8ArrayBlobAdapter.mutate(await r)}});function Tr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var vf=v(()=>{a()});var tn,ES=v(()=>{a();tn=e=>typeof e=="function"?e():e});var aF=v(()=>{a()});var at,cF=v(()=>{a();at=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};at.registries=new Map});var wr,zs=v(()=>{a();wr=class{constructor(t,r){this.name=t,this.traits=r}}});var Wa,vS=v(()=>{a();zs();Wa=class e extends wr{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Wa.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Ka,SS=v(()=>{a();zs();Ka=class e extends wr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Ka.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var lF=v(()=>{a()});var Fo,Sf=v(()=>{a();zs();Fo=class e extends wr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Fo.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var bS,uF=v(()=>{a();Sf();bS=class e extends Fo{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};bS.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var D,TS=v(()=>{a();D={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Ja,wS=v(()=>{a();zs();Ja=class e extends wr{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Ja.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var z,dF=v(()=>{a();ES();vS();SS();TS();wS();Sf();z=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=tn(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let c=n[i];Object.assign(this.memberTraits,e.translateTraits(c))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=tn(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Ja?tn(this.schema.schemaRef):tn(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=D.LIST_MODIFIER&&t<D.MAP_MODIFIER:t instanceof Wa}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=D.MAP_MODIFIER&&t<=255:t instanceof Ka}isDocumentSchema(){return this.getSchema()===D.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Fo}isBlobSchema(){return this.getSchema()===D.BLOB||this.getSchema()===D.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=D.TIMESTAMP_DEFAULT&&t<=D.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===D.STRING}isBooleanSchema(){return this.getSchema()===D.BOOLEAN}isNumericSchema(){return this.getSchema()===D.NUMERIC}isBigIntegerSchema(){return this.getSchema()===D.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===D.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===D.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([D.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([D.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([D.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(D).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case D.MAP_MODIFIER:return`${o}Map`;case D.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};z.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Le=v(()=>{a();ES();aF();vS();SS();lF();uF();dF();zs();wS();Sf();TS();cF()});var Ya,pF=v(()=>{a();Le();Ya=(e,t,r=n=>n)=>{let n=z.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let c of e)s[i++]=Ya(c,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=Ya(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=Ya(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=Ya(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var zfe,Vfe,Xa,Wfe,bf,Qa,Kfe,PS,CS,xS,OS,Jfe,Yfe,fF,Xfe,Qfe,wf,Zfe,RS,eme,Vs,AS,tme,rme,nme,mF,hF,ome,sme,Bo,IS,Tf,Za,NS=v(()=>{a();zfe=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Vfe=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Za.warn(Tf(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Za.warn(Tf(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Xa=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Za.warn(Tf(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Wfe=Math.ceil(34028234663852886e22),bf=e=>{let t=Xa(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>Wfe)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Qa=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Kfe=Qa,PS=e=>OS(e,32),CS=e=>OS(e,16),xS=e=>OS(e,8),OS=(e,t)=>{let r=Qa(e);if(r!==void 0&&Jfe(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Jfe=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Yfe=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},fF=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Xfe=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Za.warn(Tf(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Qfe=e=>{if(e==null)return;let t=fF(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},wf=e=>Xa(typeof e=="string"?Vs(e):e),Zfe=wf,RS=e=>bf(typeof e=="string"?Vs(e):e),eme=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Vs=e=>{let t=e.match(eme);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},AS=e=>typeof e=="string"?mF(e):Xa(e),tme=AS,rme=AS,nme=e=>typeof e=="string"?mF(e):bf(e),mF=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},hF=e=>Qa(typeof e=="string"?Vs(e):e),ome=hF,sme=e=>PS(typeof e=="string"?Vs(e):e),Bo=e=>CS(typeof e=="string"?Vs(e):e),IS=e=>xS(typeof e=="string"?Vs(e):e),Tf=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Za={warn:console.warn}});function tc(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),c=e.getUTCSeconds(),l=o<10?`0${o}`:`${o}`,u=s<10?`0${s}`:`${s}`,d=i<10?`0${i}`:`${i}`,f=c<10?`0${c}`:`${c}`;return`${ime[n]}, ${l} ${MS[r]} ${t} ${u}:${d}:${f} GMT`}var ime,MS,ame,cme,lme,rc,ume,dme,pme,nc,oc,ec,fme,mme,hme,DS,gme,yme,_me,Pr,Eme,vme,Ws,gF=v(()=>{a();NS();ime=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];ame=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),cme=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=ame.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,c,l,u]=t,d=Bo(Ws(n)),f=Pr(o,"month",1,12),h=Pr(s,"day",1,31);return ec(d,f,h,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u})},lme=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),rc=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=lme.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,c,l,u,d]=t,f=Bo(Ws(n)),h=Pr(o,"month",1,12),g=Pr(s,"day",1,31),y=ec(f,h,g,{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&y.setTime(y.getTime()-vme(d)),y},ume=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),dme=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),pme=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),nc=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=ume.exec(e);if(t){let[r,n,o,s,i,c,l,u]=t;return ec(Bo(Ws(s)),DS(o),Pr(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u})}if(t=dme.exec(e),t){let[r,n,o,s,i,c,l,u]=t;return hme(ec(fme(s),DS(o),Pr(n,"day",1,31),{hours:i,minutes:c,seconds:l,fractionalMilliseconds:u}))}if(t=pme.exec(e),t){let[r,n,o,s,i,c,l,u]=t;return ec(Bo(Ws(u)),DS(n),Pr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},oc=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=wf(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ec=(e,t,r,n)=>{let o=t-1;return yme(e,o,r),new Date(Date.UTC(e,o,r,Pr(n.hours,"hour",0,23),Pr(n.minutes,"minute",0,59),Pr(n.seconds,"seconds",0,60),Eme(n.fractionalMilliseconds)))},fme=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Bo(Ws(e));return r<t?r+100:r},mme=50*365*24*60*60*1e3,hme=e=>e.getTime()-new Date().getTime()>mme?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,DS=e=>{let t=MS.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},gme=[31,28,31,30,31,30,31,31,30,31,30,31],yme=(e,t,r)=>{let n=gme[t];if(t===1&&_me(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${MS[t]} in ${e}: ${r}`)},_me=e=>e%4===0&&(e%100!==0||e%400===0),Pr=(e,t,r,n)=>{let o=IS(Ws(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},Eme=e=>e==null?0:RS("0."+e)*1e3,vme=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Ws=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var ct,yF=v(()=>{a();ct=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};ct.from=e=>e&&typeof e=="object"&&(e instanceof ct||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?ct(String(e)):ct(JSON.stringify(e));ct.fromObject=ct.from});function kS(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var _F=v(()=>{a()});function LS(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var EF=v(()=>{a()});var sc,vF=v(()=>{a();sc=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let c=e[i];switch(c){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=c}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let c=i.length;return c<2?i:(i[0]==='"'&&i[c-1]==='"'&&(i=i.slice(1,c-1)),i.replace(/\\"/g,'"'))})}});function Sme(e){return new ze(String(e),"bigDecimal")}var ze,SF=v(()=>{a();ze=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var bF={};Fe(bF,{LazyJsonString:()=>ct,NumericValue:()=>ze,copyDocumentWithTransform:()=>Ya,dateToUtcString:()=>tc,expectBoolean:()=>Vfe,expectByte:()=>xS,expectFloat32:()=>bf,expectInt:()=>Kfe,expectInt32:()=>PS,expectLong:()=>Qa,expectNonNull:()=>Yfe,expectNumber:()=>Xa,expectObject:()=>fF,expectShort:()=>CS,expectString:()=>Xfe,expectUnion:()=>Qfe,handleFloat:()=>tme,limitedParseDouble:()=>AS,limitedParseFloat:()=>rme,limitedParseFloat32:()=>nme,logger:()=>Za,nv:()=>Sme,parseBoolean:()=>zfe,parseEpochTimestamp:()=>oc,parseRfc3339DateTime:()=>cme,parseRfc3339DateTimeWithOffset:()=>rc,parseRfc7231DateTime:()=>nc,quoteHeader:()=>kS,splitEvery:()=>LS,splitHeader:()=>sc,strictParseByte:()=>IS,strictParseDouble:()=>wf,strictParseFloat:()=>Zfe,strictParseFloat32:()=>RS,strictParseInt:()=>ome,strictParseInt32:()=>sme,strictParseLong:()=>hF,strictParseShort:()=>Bo});var Ut=v(()=>{a();pF();gF();yF();NS();_F();EF();vF();SF()});var Pf,TF,Ks,US=v(()=>{a();Le();Ut();Pf=P(Ee()),TF=P(_S());Va();Ks=class{constructor(t){this.options=t}getRequestType(){return Pf.HttpRequest}getResponseType(){return Pf.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=z.of(r),s=z.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let c=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let u=n[l];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,u)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let c=this.deserializer,l=z.of(t),u=[];for(let[d,f]of l.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let _=this.serdeContext;if(!_.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[d]=_.eventStreamMarshaller.deserialize(n.body,async T=>{let w=Object.keys(T).find(C=>C!=="__type")??"";if(w in S){let C=S[w];return{[w]:await c.read(C,T[w].body)}}else return{$unknown:T}})}else i[d]=(0,TF.sdkStreamMixin)(n.body);else if(n.body){let y=await Lt(n.body,r);y.byteLength>0&&(i[d]=await c.read(f,y))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),y=n.headers[g];if(y!=null)if(f.isListSchema()){let _=f.getValueSchema(),S;_.isTimestampSchema()&&_.getSchema()===D.TIMESTAMP_DEFAULT?S=LS(y,",",2):S=sc(y);let T=[];for(let w of S)T.push(await c.read([_,{httpHeader:g}],w.trim()));i[d]=T}else i[d]=await c.read(f,y)}else if(h.httpPrefixHeaders!==void 0){i[d]={};for(let[g,y]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[d][g.slice(h.httpPrefixHeaders.length)]=await c.read([f.getValueSchema(),{httpHeader:g}],y))}else h.httpResponseCode?i[d]=n.statusCode:u.push(d)}return u}}});var wF,jo,PF=v(()=>{a();Le();wF=P(Ee());Va();vf();US();jo=class extends Ks{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},c={},l=await n.endpoint(),u=z.of(t?.input),d=u.getSchema(),f=!1,h,g=new wF.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:c,body:void 0});if(l){this.updateServiceEndpoint(g,l),this.setHostPrefix(g,t,o);let y=z.translateTraits(t.traits);if(y.http){g.method=y.http[0];let[_,S]=y.http[1].split("?");g.path=="/"?g.path=_:g.path+=_;let T=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(T))}}for(let[y,_]of u.structIterator()){let S=_.getMergedTraits()??{},T=o[y];if(T!=null)if(S.httpPayload){if(_.isStreaming()){if(_.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=T}else s.write(_,T),h=s.flush();delete o[y]}else if(S.httpLabel){s.write(_,T);let w=s.flush();g.path.includes(`{${y}+}`)?g.path=g.path.replace(`{${y}+}`,w.split("/").map(Tr).join("/")):g.path.includes(`{${y}}`)&&(g.path=g.path.replace(`{${y}}`,Tr(w))),delete o[y]}else if(S.httpHeader)s.write(_,T),c[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[y];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,C]of Object.entries(T)){let O=S.httpPrefixHeaders+w;s.write([_.getValueSchema(),{httpHeader:O}],C),c[O.toLowerCase()]=s.flush()}delete o[y]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(_,T,i),delete o[y]):f=!0}return f&&o&&(s.write(d,o),h=s.flush()),g.headers=c,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,c]of Object.entries(r))i in n||this.serializeQuery(z.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),c,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,c=[];for(let l of r){o.write([t.getValueSchema(),s],l);let u=o.flush();(i||u!==void 0)&&c.push(u)}n[s.httpQuery]=c}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=z.of(t.output),i={};if(n.statusCode>=300){let u=await Lt(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(D.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let c=await this.deserializeHttpMessage(s,r,n,i);if(c.length){let u=await Lt(n.body,r);if(u.byteLength>0){let d=await o.read(s,u);for(let f of c)i[f]=d[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var CF,Ho,xF=v(()=>{a();Le();CF=P(Ee());Va();US();Ho=class extends Ks{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},c=await n.endpoint(),u=z.of(t?.input).getSchema(),d,f=new CF.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});c&&(this.updateServiceEndpoint(f,c),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(u,h),d=o.flush()),f.headers=i,f.query=s,f.body=d,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=z.of(t.output),i={};if(n.statusCode>=300){let u=await Lt(n.body,r);throw u.byteLength>0&&Object.assign(i,await o.read(D.DOCUMENT,u)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let u in n.headers){let d=n.headers[u];delete n.headers[u],n.headers[u.toLowerCase()]=d}let c=await Lt(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c)),{$metadata:this.deserializeMetadata(n),...i}}}});var FS,BS=v(()=>{a();vf();FS=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(c=>Tr(c)).join("/"):Tr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ic(e,t){return new Cf(e,t)}var OF,Cf,RF=v(()=>{a();OF=P(Ee());BS();Cf=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new OF.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=FS(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function $o(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===D.TIMESTAMP_DATE_TIME||e.getSchema()===D.TIMESTAMP_HTTP_DATE||e.getSchema()===D.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?D.TIMESTAMP_HTTP_DATE:s||r?D.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var xf=v(()=>{a();Le()});var jS,AF,qo,HS=v(()=>{a();Le();Ut();jS=P(St()),AF=P(it());xf();qo=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=z.of(t);if(n.isListSchema())return sc(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??jS.fromBase64)(r);if(n.isTimestampSchema())switch($o(n,this.settings)){case D.TIMESTAMP_DATE_TIME:return rc(r);case D.TIMESTAMP_HTTP_DATE:return nc(r);case D.TIMESTAMP_EPOCH_SECONDS:return oc(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=ct.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new ze(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??AF.toUtf8)((this.serdeContext?.base64Decoder??jS.fromBase64)(t))}}});var Of,Go,IF=v(()=>{a();Le();Of=P(it());HS();Go=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new qo(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=z.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??Of.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Of.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var $S,ac,qS=v(()=>{a();Le();Ut();$S=P(St());xf();ac=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=z.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch($o(n,this.settings)){case D.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case D.TIMESTAMP_HTTP_DATE:this.stringBuffer=tc(r);break;case D.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??$S.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let c of r){this.write([n.getValueSchema(),n.getMergedTraits()],c);let l=this.flush(),u=n.getValueSchema().isTimestampSchema()?l:kS(l);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=ct.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??$S.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var zo,NF=v(()=>{a();Le();qS();zo=class{constructor(t,r,n=new ac(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=z.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var DF={};Fe(DF,{FromStringShapeDeserializer:()=>qo,HttpBindingProtocol:()=>jo,HttpInterceptingShapeDeserializer:()=>Go,HttpInterceptingShapeSerializer:()=>zo,RequestBuilder:()=>Cf,RpcProtocol:()=>Ho,ToStringShapeSerializer:()=>ac,collectBody:()=>Lt,determineTimestampFormat:()=>$o,extendedEncodeURIComponent:()=>Tr,requestBuilder:()=>ic,resolvedPath:()=>FS});var rn=v(()=>{a();Va();vf();PF();xF();RF();BS();HS();IF();NF();qS();xf()});var MF=v(()=>{a();rn()});function bme(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var kF=v(()=>{a()});var Vo,LF=v(()=>{a();Vo=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var UF,GS,zS,FF=v(()=>{a();UF=P(Ee()),GS=P(Er()),zS=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=UF.HttpRequest.clone(t);if(n.in===GS.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===GS.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var BF,VS,jF=v(()=>{a();BF=P(Ee()),VS=class{async sign(t,r,n){let o=BF.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var nn,HF=v(()=>{a();nn=class{async sign(t,r,n){return t}}});var $F=v(()=>{a();FF();jF();HF()});var qF,Tme,WS,Rf,KS,GF=v(()=>{a();qF=e=>t=>Rf(t)&&t.expiration.getTime()-Date.now()<e,Tme=3e5,WS=qF(3e5),Rf=e=>e.expiration!==void 0,KS=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,c=!1,l=async u=>{s||(s=n(u));try{o=await s,i=!0,c=!1}finally{s=void 0}return o};return t===void 0?async u=>((!i||u?.forceRefresh)&&(o=await l(u)),o):async u=>((!i||u?.forceRefresh)&&(o=await l(u)),c?o:r(o)?(t(o)&&await l(u),o):(c=!0,o))}});var zF=v(()=>{a();LF();$F();GF()});var JS={};Fe(JS,{DefaultIdentityProviderConfig:()=>Vo,EXPIRATION_MS:()=>Tme,HttpApiKeyAuthSigner:()=>zS,HttpBearerAuthSigner:()=>VS,NoAuthSigner:()=>nn,createIsIdentityExpiredFunction:()=>qF,createPaginator:()=>UL,doesIdentityRequireRefresh:()=>Rf,getHttpAuthSchemeEndpointRuleSetPlugin:()=>qa,getHttpAuthSchemePlugin:()=>vde,getHttpSigningPlugin:()=>Ga,getSmithyContext:()=>nde,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>_L,httpAuthSchemeMiddleware:()=>$a,httpAuthSchemeMiddlewareOptions:()=>OL,httpSigningMiddleware:()=>Bv,httpSigningMiddlewareOptions:()=>DL,isIdentityExpired:()=>WS,memoizeIdentityProvider:()=>KS,normalizeProvider:()=>Un,requestBuilder:()=>ic,setFeature:()=>bme});var Kt=v(()=>{a();uL();AL();kL();LL();FL();MF();kF();zF()});var Nf=b((UKe,eB)=>{a();var Af=Object.defineProperty,wme=Object.getOwnPropertyDescriptor,Pme=Object.getOwnPropertyNames,Cme=Object.prototype.hasOwnProperty,ae=(e,t)=>Af(e,"name",{value:t,configurable:!0}),xme=(e,t)=>{for(var r in t)Af(e,r,{get:t[r],enumerable:!0})},Ome=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pme(t))!Cme.call(e,o)&&o!==r&&Af(e,o,{get:()=>t[o],enumerable:!(n=wme(t,o))||n.enumerable});return e},Rme=e=>Ome(Af({},"__esModule",{value:!0}),e),VF={};xme(VF,{EndpointCache:()=>Ame,EndpointError:()=>ht,customEndpointFunctions:()=>XS,isIpAddress:()=>WF,isValidHostLabel:()=>ZS,resolveEndpoint:()=>Jme});eB.exports=Rme(VF);var Ame=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{ae(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},Ime=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),WF=ae(e=>Ime.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),Nme=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ZS=ae((e,t=!1)=>{if(!t)return Nme.test(e);let r=e.split(".");for(let n of r)if(!ZS(n))return!1;return!0},"isValidHostLabel"),XS={},cc="endpoints";function on(e){return typeof e!="object"||e==null?e:"ref"in e?`$${on(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(on).join(", ")})`:JSON.stringify(e,null,2)}ae(on,"toDebugString");var ht=class extends Error{static{ae(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},Dme=ae((e,t)=>e===t,"booleanEquals"),Mme=ae(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new ht(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new ht(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),KF=ae((e,t)=>Mme(t).reduce((r,n)=>{if(typeof r!="object")throw new ht(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),kme=ae(e=>e!=null,"isSet"),Lme=ae(e=>!e,"not"),QS=Er(),YS={[QS.EndpointURLScheme.HTTP]:80,[QS.EndpointURLScheme.HTTPS]:443},Ume=ae(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:y="",path:_="",query:S={}}=e,T=new URL(`${y}//${h}${g?`:${g}`:""}${_}`);return T.search=Object.entries(S).map(([w,C])=>`${w}=${C}`).join("&"),T}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:c}=t;if(c)return null;let l=i.slice(0,-1);if(!Object.values(QS.EndpointURLScheme).includes(l))return null;let u=WF(o),d=r.includes(`${n}:${YS[l]}`)||typeof e=="string"&&e.includes(`${n}:${YS[l]}`),f=`${n}${d?`:${YS[l]}`:""}`;return{scheme:l,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:u}},"parseURL"),Fme=ae((e,t)=>e===t,"stringEquals"),Bme=ae((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),jme=ae(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),Hme={booleanEquals:Dme,getAttr:KF,isSet:kme,isValidHostLabel:ZS,not:Lme,parseURL:Ume,stringEquals:Fme,substring:Bme,uriEncode:jme},JF=ae((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let c=e.substring(s+1,i);if(c.includes("#")){let[l,u]=c.split("#");r.push(KF(n[l],u))}else r.push(n[c]);o=i+1}return r.join("")},"evaluateTemplate"),$me=ae(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),If=ae((e,t,r)=>{if(typeof e=="string")return JF(e,r);if(e.fn)return YF(e,r);if(e.ref)return $me(e,r);throw new ht(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),YF=ae(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:If(s,"arg",r)),o=e.split(".");return o[0]in XS&&o[1]!=null?XS[o[0]][o[1]](...n):Hme[e](...n)},"callFunction"),qme=ae(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new ht(`'${e}' is already defined in Reference Record.`);let n=YF(t,r);return r.logger?.debug?.(`${cc} evaluateCondition: ${on(t)} = ${on(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),eb=ae((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=qme(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${cc} assign: ${s.name} := ${on(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),Gme=ae((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=If(s,"Header value entry",t);if(typeof i!="string")throw new ht(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),XF=ae((e,t)=>{if(Array.isArray(e))return e.map(r=>XF(r,t));switch(typeof e){case"string":return JF(e,t);case"object":if(e===null)throw new ht(`Unexpected endpoint property: ${e}`);return QF(e,t);case"boolean":return e;default:throw new ht(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),QF=ae((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:XF(o,t)}),{}),"getEndpointProperties"),zme=ae((e,t)=>{let r=If(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new ht(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),Vme=ae((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=eb(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:c,properties:l,headers:u}=n;return t.logger?.debug?.(`${cc} Resolving endpoint from template: ${on(n)}`),{...u!=null&&{headers:Gme(u,i)},...l!=null&&{properties:QF(l,i)},url:zme(c,i)}},"evaluateEndpointRule"),Wme=ae((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=eb(r,t);if(o)throw new ht(If(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),Kme=ae((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=eb(r,t);if(o)return ZF(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),ZF=ae((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Vme(r,t);if(n)return n}else if(r.type==="error")Wme(r,t);else if(r.type==="tree"){let n=Kme(r,t);if(n)return n}else throw new ht(`Unknown endpoint rule: ${r}`);throw new ht("Rules evaluation failed")},"evaluateRules"),Jme=ae((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${cc} Initial EndpointParams: ${on(r)}`);let i=Object.entries(o).filter(([,u])=>u.default!=null).map(([u,d])=>[u,d.default]);if(i.length>0)for(let[u,d]of i)r[u]=r[u]??d;let c=Object.entries(o).filter(([,u])=>u.required).map(([u])=>u);for(let u of c)if(r[u]==null)throw new ht(`Missing required parameter: '${u}'`);let l=ZF(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${cc} Resolved endpoint: ${on(l)}`),l},"resolveEndpoint")});var oB=b((HKe,nB)=>{a();var Df=Object.defineProperty,Yme=Object.getOwnPropertyDescriptor,Xme=Object.getOwnPropertyNames,Qme=Object.prototype.hasOwnProperty,Zme=(e,t)=>Df(e,"name",{value:t,configurable:!0}),ehe=(e,t)=>{for(var r in t)Df(e,r,{get:t[r],enumerable:!0})},the=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xme(t))!Qme.call(e,o)&&o!==r&&Df(e,o,{get:()=>t[o],enumerable:!(n=Yme(t,o))||n.enumerable});return e},rhe=e=>the(Df({},"__esModule",{value:!0}),e),tB={};ehe(tB,{parseQueryString:()=>rB});nB.exports=rhe(tB);function rB(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}Zme(rB,"parseQueryString")});var Js=b((qKe,aB)=>{a();var Mf=Object.defineProperty,nhe=Object.getOwnPropertyDescriptor,ohe=Object.getOwnPropertyNames,she=Object.prototype.hasOwnProperty,ihe=(e,t)=>Mf(e,"name",{value:t,configurable:!0}),ahe=(e,t)=>{for(var r in t)Mf(e,r,{get:t[r],enumerable:!0})},che=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ohe(t))!she.call(e,o)&&o!==r&&Mf(e,o,{get:()=>t[o],enumerable:!(n=nhe(t,o))||n.enumerable});return e},lhe=e=>che(Mf({},"__esModule",{value:!0}),e),sB={};ahe(sB,{parseUrl:()=>iB});aB.exports=lhe(sB);var uhe=oB(),iB=ihe(e=>{if(typeof e=="string")return iB(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,uhe.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Lf=b((zKe,_B)=>{"use strict";a();var kf=Object.defineProperty,dhe=Object.getOwnPropertyDescriptor,phe=Object.getOwnPropertyNames,fhe=Object.prototype.hasOwnProperty,jn=(e,t)=>kf(e,"name",{value:t,configurable:!0}),mhe=(e,t)=>{for(var r in t)kf(e,r,{get:t[r],enumerable:!0})},hhe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of phe(t))!fhe.call(e,o)&&o!==r&&kf(e,o,{get:()=>t[o],enumerable:!(n=dhe(t,o))||n.enumerable});return e},ghe=e=>hhe(kf({},"__esModule",{value:!0}),e),lB={};mhe(lB,{ConditionObject:()=>he.ConditionObject,DeprecatedObject:()=>he.DeprecatedObject,EndpointError:()=>he.EndpointError,EndpointObject:()=>he.EndpointObject,EndpointObjectHeaders:()=>he.EndpointObjectHeaders,EndpointObjectProperties:()=>he.EndpointObjectProperties,EndpointParams:()=>he.EndpointParams,EndpointResolverOptions:()=>he.EndpointResolverOptions,EndpointRuleObject:()=>he.EndpointRuleObject,ErrorRuleObject:()=>he.ErrorRuleObject,EvaluateOptions:()=>he.EvaluateOptions,Expression:()=>he.Expression,FunctionArgv:()=>he.FunctionArgv,FunctionObject:()=>he.FunctionObject,FunctionReturn:()=>he.FunctionReturn,ParameterObject:()=>he.ParameterObject,ReferenceObject:()=>he.ReferenceObject,ReferenceRecord:()=>he.ReferenceRecord,RuleSetObject:()=>he.RuleSetObject,RuleSetRules:()=>he.RuleSetRules,TreeRuleObject:()=>he.TreeRuleObject,awsEndpointFunctions:()=>gB,getUserAgentPrefix:()=>vhe,isIpAddress:()=>he.isIpAddress,partition:()=>mB,resolveDefaultAwsRegionalEndpointsConfig:()=>bhe,resolveEndpoint:()=>he.resolveEndpoint,setPartitionInfo:()=>hB,toEndpointV1:()=>yB,useDefaultPartitionInfo:()=>Ehe});_B.exports=ghe(lB);var he=Nf(),uB=jn((e,t=!1)=>{if(t){for(let r of e.split("."))if(!uB(r))return!1;return!0}return!(!(0,he.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,he.isIpAddress)(e))},"isVirtualHostableS3Bucket"),cB=":",yhe="/",_he=jn(e=>{let t=e.split(cB);if(t.length<6)return null;let[r,n,o,s,i,...c]=t;if(r!=="arn"||n===""||o===""||c.join(cB)==="")return null;let l=c.map(u=>u.split(yhe)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:l}},"parseArn"),dB={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},pB=dB,fB="",mB=jn(e=>{let{partitions:t}=pB;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,c]of Object.entries(o))if(i===e)return{...s,...c}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),hB=jn((e,t="")=>{pB=e,fB=t},"setPartitionInfo"),Ehe=jn(()=>{hB(dB,"")},"useDefaultPartitionInfo"),vhe=jn(()=>fB,"getUserAgentPrefix"),gB={isVirtualHostableS3Bucket:uB,parseArn:_he,partition:mB};he.customEndpointFunctions.aws=gB;var She=Js(),bhe=jn(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>yB(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),yB=jn(e=>(0,She.parseUrl)(e.url),"toEndpointV1")});var tb,lc,EB=v(()=>{a();tb={warningEmitted:!1},lc=e=>{e&&!tb.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(tb.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Wo(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var vB=v(()=>{a()});function The(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var SB=v(()=>{a()});function whe(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var bB=v(()=>{a()});var Uf=v(()=>{a();EB();vB();SB();bB()});var TB,rb,wB=v(()=>{a();TB=P(Ee()),rb=e=>TB.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Ys,nb=v(()=>{a();Ys=e=>new Date(Date.now()+e)});var PB,CB=v(()=>{a();nb();PB=(e,t)=>Math.abs(Ys(t).getTime()-e)>=3e5});var ob,xB=v(()=>{a();CB();ob=(e,t)=>{let r=Date.parse(e);return PB(r,t)?r-Date.now():t}});var sb=v(()=>{a();wB();nb();xB()});var OB,uc,dc,bt,RB,ib=v(()=>{a();OB=P(Ee());sb();uc=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},dc=async e=>{let t=uc("context",e.context),r=uc("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await uc("signer",r.signer)(n),i=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:c,signingName:l}},bt=class{async sign(t,r,n){if(!OB.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await dc(n),{config:s,signer:i}=o,{signingRegion:c,signingName:l}=o,u=n.context;if(u?.authSchemes?.length??!1){let[f,h]=u.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(c=h?.signingRegion??c,l=h?.signingName??l)}return await i.sign(t,{signingDate:Ys(s.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(t){return r=>{let n=r.ServerTime??rb(r.$response);if(n){let o=uc("config",t.config),s=o.systemClockOffset;o.systemClockOffset=ob(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=rb(t);if(n){let o=uc("config",r.config);o.systemClockOffset=ob(n,o.systemClockOffset)}}},RB=bt});var AB,Ff,IB=v(()=>{a();AB=P(Ee());sb();ib();Ff=class extends bt{async sign(t,r,n){if(!AB.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:c,signingName:l}=await dc(n),d=(await o.sigv4aSigningRegionSet?.()??c??[i]).join(",");return await s.sign(t,{signingDate:Ys(o.systemClockOffset),signingRegion:d,signingService:l})}}});var ab,NB=v(()=>{a();ab=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var cb,lb=v(()=>{a();cb=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var DB,MB,pc,kB=v(()=>{a();NB();lb();DB="AWS_AUTH_SCHEME_PREFERENCE",MB="auth_scheme_preference",pc={environmentVariableSelector:(e,t)=>{if(t?.signingName&&cb(t.signingName)in e)return["httpBearerAuth"];if(DB in e)return ab(e[DB])},configFileSelector:e=>{if(MB in e)return ab(e[MB])},default:[]}});var fc=b((U6e,jB)=>{a();var Bf=Object.defineProperty,Phe=Object.getOwnPropertyDescriptor,Che=Object.getOwnPropertyNames,xhe=Object.prototype.hasOwnProperty,Ko=(e,t)=>Bf(e,"name",{value:t,configurable:!0}),Ohe=(e,t)=>{for(var r in t)Bf(e,r,{get:t[r],enumerable:!0})},Rhe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Che(t))!xhe.call(e,o)&&o!==r&&Bf(e,o,{get:()=>t[o],enumerable:!(n=Phe(t,o))||n.enumerable});return e},Ahe=e=>Rhe(Bf({},"__esModule",{value:!0}),e),LB={};Ohe(LB,{CredentialsProviderError:()=>Ihe,ProviderError:()=>jf,TokenProviderError:()=>Nhe,chain:()=>Dhe,fromStatic:()=>Mhe,memoize:()=>khe});jB.exports=Ahe(LB);var jf=class UB extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,UB.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{Ko(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},Ihe=class FB extends jf{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,FB.prototype)}static{Ko(this,"CredentialsProviderError")}},Nhe=class BB extends jf{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,BB.prototype)}static{Ko(this,"TokenProviderError")}},Dhe=Ko((...e)=>async()=>{if(e.length===0)throw new jf("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),Mhe=Ko(e=>()=>Promise.resolve(e),"fromStatic"),khe=Ko((e,t,r)=>{let n,o,s,i=!1,c=Ko(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async l=>((!s||l?.forceRefresh)&&(n=await c()),n):async l=>((!s||l?.forceRefresh)&&(n=await c()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await c(),n))},"memoize")});var ub,Lhe,Uhe,HB=v(()=>{a();Kt();ub=P(fc()),Lhe=e=>(e.sigv4aSigningRegionSet=Un(e.sigv4aSigningRegionSet),e),Uhe={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new ub.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new ub.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var gj=b(($6e,hj)=>{a();var Wf=Object.defineProperty,Fhe=Object.getOwnPropertyDescriptor,Bhe=Object.getOwnPropertyNames,jhe=Object.prototype.hasOwnProperty,Ve=(e,t)=>Wf(e,"name",{value:t,configurable:!0}),Hhe=(e,t)=>{for(var r in t)Wf(e,r,{get:t[r],enumerable:!0})},$he=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bhe(t))!jhe.call(e,o)&&o!==r&&Wf(e,o,{get:()=>t[o],enumerable:!(n=Fhe(t,o))||n.enumerable});return e},qhe=e=>$he(Wf({},"__esModule",{value:!0}),e),VB={};Hhe(VB,{ALGORITHM_IDENTIFIER:()=>Hf,ALGORITHM_IDENTIFIER_V4A:()=>Whe,ALGORITHM_QUERY_PARAM:()=>WB,ALWAYS_UNSIGNABLE_HEADERS:()=>tj,AMZ_DATE_HEADER:()=>_b,AMZ_DATE_QUERY_PARAM:()=>mb,AUTH_HEADER:()=>yb,CREDENTIAL_QUERY_PARAM:()=>KB,DATE_HEADER:()=>XB,EVENT_ALGORITHM_IDENTIFIER:()=>oj,EXPIRES_QUERY_PARAM:()=>YB,GENERATED_HEADERS:()=>QB,HOST_HEADER:()=>zhe,KEY_TYPE_IDENTIFIER:()=>Eb,MAX_CACHE_SIZE:()=>ij,MAX_PRESIGNED_TTL:()=>aj,PROXY_HEADER_PATTERN:()=>rj,REGION_SET_PARAM:()=>Ghe,SEC_HEADER_PATTERN:()=>nj,SHA256_HEADER:()=>Vf,SIGNATURE_HEADER:()=>ZB,SIGNATURE_QUERY_PARAM:()=>hb,SIGNED_HEADERS_QUERY_PARAM:()=>JB,SignatureV4:()=>oge,SignatureV4Base:()=>mj,TOKEN_HEADER:()=>ej,TOKEN_QUERY_PARAM:()=>gb,UNSIGNABLE_PATTERNS:()=>Vhe,UNSIGNED_PAYLOAD:()=>sj,clearCredentialCache:()=>Jhe,createScope:()=>qf,getCanonicalHeaders:()=>db,getCanonicalQuery:()=>fj,getPayloadHash:()=>Gf,getSigningKey:()=>cj,hasHeader:()=>uj,moveHeadersToQuery:()=>pj,prepareRequest:()=>fb,signatureV4aContainer:()=>sge});hj.exports=qhe(VB);var $B=it(),WB="X-Amz-Algorithm",KB="X-Amz-Credential",mb="X-Amz-Date",JB="X-Amz-SignedHeaders",YB="X-Amz-Expires",hb="X-Amz-Signature",gb="X-Amz-Security-Token",Ghe="X-Amz-Region-Set",yb="authorization",_b=mb.toLowerCase(),XB="date",QB=[yb,_b,XB],ZB=hb.toLowerCase(),Vf="x-amz-content-sha256",ej=gb.toLowerCase(),zhe="host",tj={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},rj=/^proxy-/,nj=/^sec-/,Vhe=[/^proxy-/i,/^sec-/i],Hf="AWS4-HMAC-SHA256",Whe="AWS4-ECDSA-P256-SHA256",oj="AWS4-HMAC-SHA256-PAYLOAD",sj="UNSIGNED-PAYLOAD",ij=50,Eb="aws4_request",aj=3600*24*7,Hn=dS(),Khe=it(),Xs={},$f=[],qf=Ve((e,t,r)=>`${e}/${t}/${r}/${Eb}`,"createScope"),cj=Ve(async(e,t,r,n,o)=>{let s=await qB(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,Hn.toHex)(s)}:${t.sessionToken}`;if(i in Xs)return Xs[i];for($f.push(i);$f.length>ij;)delete Xs[$f.shift()];let c=`AWS4${t.secretAccessKey}`;for(let l of[r,n,o,Eb])c=await qB(e,c,l);return Xs[i]=c},"getSigningKey"),Jhe=Ve(()=>{$f.length=0,Object.keys(Xs).forEach(e=>{delete Xs[e]})},"clearCredentialCache"),qB=Ve((e,t,r)=>{let n=new e(t);return n.update((0,Khe.toUint8Array)(r)),n.digest()},"hmac"),db=Ve(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in tj||t?.has(s)||rj.test(s)||nj.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Yhe=Hv(),Xhe=it(),Gf=Ve(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Vf)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Yhe.isArrayBuffer)(t)){let n=new r;return n.update((0,Xhe.toUint8Array)(t)),(0,Hn.toHex)(await n.digest())}return sj},"getPayloadHash"),GB=it(),Qhe=class{static{Ve(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,GB.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,GB.fromUtf8)(e.value),c=new DataView(new ArrayBuffer(3+i.byteLength));c.setUint8(0,7),c.setUint16(1,i.byteLength,!1);let l=new Uint8Array(c.buffer);return l.set(i,3),l;case"timestamp":let u=new Uint8Array(9);return u[0]=8,u.set(ege.fromNumber(e.value.valueOf()).bytes,1),u;case"uuid":if(!Zhe.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,Hn.fromHex)(e.value.replace(/\-/g,"")),1),d}}},Zhe=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ege=class lj{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ve(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&pb(r),new lj(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&pb(t),parseInt((0,Hn.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function pb(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ve(pb,"negate");var uj=Ve((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),dj=Ee(),pj=Ve((e,t={})=>{let{headers:r,query:n={}}=dj.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),fb=Ve(e=>{e=dj.HttpRequest.clone(e);for(let t of Object.keys(e.headers))QB.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),zB=Qr(),tge=it(),zf=rS(),fj=Ve(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===ZB)continue;let o=(0,zf.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,zf.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,c)=>i.concat([`${o}=${(0,zf.escapeUri)(c)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),rge=Ve(e=>nge(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),nge=Ve(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),mj=class{static{Ve(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,zB.normalizeProvider)(r),this.credentialProvider=(0,zB.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${fj(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,tge.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,Hn.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,zf.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=rge(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},oge=class extends mj{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new Qhe}static{Ve(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:c,signingRegion:l,signingService:u}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let f=l??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>aj)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=qf(g,f,u??this.service),_=pj(fb(e),{unhoistableHeaders:s,hoistableHeaders:c});d.sessionToken&&(_.query[gb]=d.sessionToken),_.query[WB]=Hf,_.query[KB]=`${d.accessKeyId}/${y}`,_.query[mb]=h,_.query[YB]=n.toString(10);let S=db(_,o,i);return _.query[JB]=this.getCanonicalHeaderList(S),_.query[hb]=await this.getSignature(h,y,this.getSigningKey(d,f,g,u),this.createCanonicalRequest(_,S,await Gf(e,this.sha256))),_}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(r),u=qf(c,i,s??this.service),d=await Gf({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,Hn.toHex)(await f.digest()),g=[oj,l,u,n,h,d].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),c=new this.sha256(await this.getSigningKey(o,s,i,n));return c.update((0,$B.toUint8Array)(e)),(0,Hn.toHex)(await c.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let c=o??await this.regionProvider(),l=fb(e),{longDate:u,shortDate:d}=this.formatDate(t),f=qf(d,c,s??this.service);l.headers[_b]=u,i.sessionToken&&(l.headers[ej]=i.sessionToken);let h=await Gf(l,this.sha256);!uj(Vf,l.headers)&&this.applyChecksum&&(l.headers[Vf]=h);let g=db(l,n,r),y=await this.getSignature(u,f,this.getSigningKey(i,c,d,s),this.createCanonicalRequest(l,g,h));return l.headers[yb]=`${Hf} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${y}`,l}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,Hf),s=new this.sha256(await r);return s.update((0,$B.toUint8Array)(o)),(0,Hn.toHex)(await s.digest())}getSigningKey(e,t,r,n){return cj(this.sha256,e,r,t,n||this.service)}},sge={SignatureV4a:null}});function age(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=KS(t,WS,Rf):r?n=Un(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function cge(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var vb,Qs,ige,yj=v(()=>{a();Uf();Kt();vb=P(gj()),Qs=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let d=age(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=cge(e,d);r&&!f.attributed?(n=async h=>f(h).then(g=>Wo(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,c;return e.signer?c=Un(e.signer):e.regionInfoProvider?c=()=>Un(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,d])=>{let{signingRegion:f,signingService:h}=u;e.signingRegion=e.signingRegion||f||d,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},y=e.signerConstructor||vb.SignatureV4;return new y(g)}):c=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Un(e.region)(),properties:{}},u);let d=u.signingRegion,f=u.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||vb.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:c})},ige=Qs});var _j=v(()=>{a();ib();IB();kB();HB();yj()});var Ej=v(()=>{a();_j();lb()});var lge,uge,dge,vj=v(()=>{a();lge=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},uge=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},dge=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var mc=b((uJe,Tj)=>{a();var Kf=Object.defineProperty,pge=Object.getOwnPropertyDescriptor,fge=Object.getOwnPropertyNames,mge=Object.prototype.hasOwnProperty,hge=(e,t)=>Kf(e,"name",{value:t,configurable:!0}),gge=(e,t)=>{for(var r in t)Kf(e,r,{get:t[r],enumerable:!0})},yge=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fge(t))!mge.call(e,o)&&o!==r&&Kf(e,o,{get:()=>t[o],enumerable:!(n=pge(t,o))||n.enumerable});return e},_ge=e=>yge(Kf({},"__esModule",{value:!0}),e),bj={};gge(bj,{calculateBodyLength:()=>Ege});Tj.exports=_ge(bj);var Sj=typeof TextEncoder=="function"?new TextEncoder:null,Ege=hge(e=>{if(typeof e=="string"){if(Sj)return Sj.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Ze,$n=v(()=>{a();Ze=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function wj(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new ze(n,"bigDecimal"):BigInt(n)}return t}var Pj=v(()=>{a();Ut()});var Aj=b((yJe,Rj)=>{a();var Jf=Object.defineProperty,vge=Object.getOwnPropertyDescriptor,Sge=Object.getOwnPropertyNames,bge=Object.prototype.hasOwnProperty,Ft=(e,t)=>Jf(e,"name",{value:t,configurable:!0}),Tge=(e,t)=>{for(var r in t)Jf(e,r,{get:t[r],enumerable:!0})},wge=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sge(t))!bge.call(e,o)&&o!==r&&Jf(e,o,{get:()=>t[o],enumerable:!(n=vge(t,o))||n.enumerable});return e},Pge=e=>wge(Jf({},"__esModule",{value:!0}),e),Oj={};Tge(Oj,{constructStack:()=>Sb});Rj.exports=Pge(Oj);var Jo=Ft((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),qn=Ft((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),Sb=Ft(()=>{let e=[],t=[],r=!1,n=new Set,o=Ft(f=>f.sort((h,g)=>Cj[g.step]-Cj[h.step]||xj[g.priority||"normal"]-xj[h.priority||"normal"]),"sort"),s=Ft(f=>{let h=!1,g=Ft(y=>{let _=Jo(y.name,y.aliases);if(_.includes(f)){h=!0;for(let S of _)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=Ft(f=>{let h=!1,g=Ft(y=>{if(y.middleware===f){h=!0;for(let _ of Jo(y.name,y.aliases))n.delete(_);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),c=Ft(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(d.identifyOnResolve()),f),"cloneTo"),l=Ft(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...l(g))}),h},"expandRelativeMiddlewareList"),u=Ft((f=!1)=>{let h=[],g=[],y={};return e.forEach(S=>{let T={...S,before:[],after:[]};for(let w of Jo(T.name,T.aliases))y[w]=T;h.push(T)}),t.forEach(S=>{let T={...S,before:[],after:[]};for(let w of Jo(T.name,T.aliases))y[w]=T;g.push(T)}),g.forEach(S=>{if(S.toMiddleware){let T=y[S.toMiddleware];if(T===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${qn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&T.after.push(S),S.relation==="before"&&T.before.push(S)}}),o(h).map(l).reduce((S,T)=>(S.push(...T),S),[])},"getMiddlewareList"),d={add:(f,h={})=>{let{name:g,override:y,aliases:_}=h,S={step:"initialize",priority:"normal",middleware:f,...h},T=Jo(g,_);if(T.length>0){if(T.some(w=>n.has(w))){if(!y)throw new Error(`Duplicate middleware name '${qn(g,_)}'`);for(let w of T){let C=e.findIndex(x=>x.name===w||x.aliases?.some(A=>A===w));if(C===-1)continue;let O=e[C];if(O.step!==S.step||S.priority!==O.priority)throw new Error(`"${qn(O.name,O.aliases)}" middleware with ${O.priority} priority in ${O.step} step cannot be overridden by "${qn(g,_)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(C,1)}}for(let w of T)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:y,aliases:_}=h,S={middleware:f,...h},T=Jo(g,_);if(T.length>0){if(T.some(w=>n.has(w))){if(!y)throw new Error(`Duplicate middleware name '${qn(g,_)}'`);for(let w of T){let C=t.findIndex(x=>x.name===w||x.aliases?.some(A=>A===w));if(C===-1)continue;let O=t[C];if(O.toMiddleware!==S.toMiddleware||O.relation!==S.relation)throw new Error(`"${qn(O.name,O.aliases)}" middleware ${O.relation} "${O.toMiddleware}" middleware cannot be overridden by "${qn(g,_)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(C,1)}}for(let w of T)n.add(w)}t.push(S)},clone:()=>c(Sb()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=Ft(y=>{let{tags:_,name:S,aliases:T}=y;if(_&&_.includes(f)){let w=Jo(S,T);for(let C of w)n.delete(C);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=c(Sb());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:c,identify:()=>u(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return qn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of u().map(y=>y.middleware).reverse())f=g(f,h);return r&&console.log(d.identify()),f}};return d},"constructStack"),Cj={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},xj={high:3,normal:2,low:1}});var ce=b((EJe,Ob)=>{a();var Yf=Object.defineProperty,Cge=Object.getOwnPropertyDescriptor,xge=Object.getOwnPropertyNames,Oge=Object.prototype.hasOwnProperty,ne=(e,t)=>Yf(e,"name",{value:t,configurable:!0}),Rge=(e,t)=>{for(var r in t)Yf(e,r,{get:t[r],enumerable:!0})},Tb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xge(t))!Oge.call(e,o)&&o!==r&&Yf(e,o,{get:()=>t[o],enumerable:!(n=Cge(t,o))||n.enumerable});return e},Age=(e,t,r)=>(Tb(e,t,"default"),r&&Tb(r,t,"default")),Ige=e=>Tb(Yf({},"__esModule",{value:!0}),e),Cb={};Rge(Cb,{Client:()=>Nge,Command:()=>Dj,NoOpLogger:()=>Jge,SENSITIVE_STRING:()=>Mge,ServiceException:()=>Lge,_json:()=>Pb,collectBody:()=>bb.collectBody,convertMap:()=>Yge,createAggregatedClient:()=>kge,decorateServiceException:()=>Mj,emitWarningIfUnsupportedVersion:()=>jge,extendedEncodeURIComponent:()=>bb.extendedEncodeURIComponent,getArrayIfSingleItem:()=>Wge,getDefaultClientConfiguration:()=>zge,getDefaultExtensionConfiguration:()=>Lj,getValueFromTextNode:()=>Uj,isSerializableHeaderValue:()=>Kge,loadConfigsForDefaultMode:()=>Bge,map:()=>xb,resolveDefaultRuntimeConfig:()=>Vge,resolvedPath:()=>bb.resolvedPath,serializeDateTime:()=>rye,serializeFloat:()=>tye,take:()=>Xge,throwDefaultError:()=>kj,withBaseException:()=>Uge});Ob.exports=Ige(Cb);var Nj=Aj(),Nge=class{constructor(e){this.config=e,this.middlewareStack=(0,Nj.constructStack)()}static{ne(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?i=c.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),c.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return i(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},bb=(rn(),V(DF)),wb=Er(),Dj=class{constructor(){this.middlewareStack=(0,Nj.constructStack)()}static{ne(this,"Command")}static classBuilder(){return new Dge}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:u,CommandCtor:d}){for(let _ of n.bind(this)(d,e,t,r))this.middlewareStack.use(_);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:c,[wb.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...u},{requestHandler:y}=t;return f.resolve(_=>y.handle(_.request,r||{}),g)}},Dge=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{ne(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends Dj{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{ne(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},Mge="***SensitiveInformation***",kge=ne((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=ne(async function(i,c,l){let u=new n(i);if(typeof c=="function")this.send(u,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(u,c||{},l)}else return this.send(u,c)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),Lge=class hc extends Error{static{ne(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return hc.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===hc?hc.isInstance(t):hc.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},Mj=ne((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),kj=ne(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=Fge(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw Mj(i,t)},"throwDefaultError"),Uge=ne(e=>({output:t,parsedBody:r,errorCode:n})=>{kj({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Fge=ne(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Bge=ne(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),Ij=!1,jge=ne(e=>{e&&!Ij&&parseInt(e.substring(1,e.indexOf(".")))<16&&(Ij=!0)},"emitWarningIfUnsupportedVersion"),Hge=ne(e=>{let t=[];for(let r in wb.AlgorithmId){let n=wb.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),$ge=ne(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),qge=ne(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),Gge=ne(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),Lj=ne(e=>Object.assign(Hge(e),qge(e)),"getDefaultExtensionConfiguration"),zge=Lj,Vge=ne(e=>Object.assign($ge(e),Gge(e)),"resolveDefaultRuntimeConfig"),Wge=ne(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),Uj=ne(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Uj(e[r]));return e},"getValueFromTextNode"),Kge=ne(e=>e!=null,"isSerializableHeaderValue"),Jge=class{static{ne(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function xb(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,Qge(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}Fj(n,null,s,i)}return n}ne(xb,"map");var Yge=ne(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),Xge=ne((e,t)=>{let r={};for(let n in t)Fj(r,e,t,n);return r},"take"),Qge=ne((e,t,r)=>xb(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),Fj=ne((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[c=Zge,l=eye,u=n]=i;(typeof c=="function"&&c(t[u])||typeof c!="function"&&c)&&(e[n]=l(t[u]));return}let[o,s]=r[n];if(typeof s=="function"){let i,c=o===void 0&&(i=s())!=null,l=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;c?e[n]=i:l&&(e[n]=s())}else{let i=o===void 0&&s!=null,c=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||c)&&(e[n]=s)}},"applyInstruction"),Zge=ne(e=>e!=null,"nonNullish"),eye=ne(e=>e,"pass"),tye=ne(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),rye=ne(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),Pb=ne(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Pb);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Pb(e[r]));return t}return e},"_json");Age(Cb,(Ut(),V(bF)),Ob.exports)});var Bj,Xf,Rb=v(()=>{a();Bj=P(ce()),Xf=(e,t)=>(0,Bj.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var Zs,Ab,Yo,gc=v(()=>{a();Rb();Zs=(e,t)=>Xf(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Ab=async(e,t)=>{let r=await Zs(e,t);return r.message=r.message??r.Message,r},Yo=(e,t)=>{let r=(s,i)=>Object.keys(s).find(c=>c.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var jj,yc,Ib=v(()=>{a();Le();Ut();jj=P(St());$n();Pj();gc();yc=class extends Ze{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,wj):await Zs(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=z.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let u of r)(l||u!=null)&&c.push(this._read(i,u));return c}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[u,d]of Object.entries(r))(l||d!=null)&&(c[u]=this._read(i,d));return c}else if(o.isStructSchema()&&n){let i={};for(let[c,l]of o.structIterator()){let u=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,d=this._read(l,r[u]);d!=null&&(i[c]=d)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,jj.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return ct.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===D.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case D.TIMESTAMP_DATE_TIME:return rc(r);case D.TIMESTAMP_HTTP_DATE:return nc(r);case D.TIMESTAMP_EPOCH_SECONDS:return oc(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof ze?r:new ze(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var Hj,Qf,$j=v(()=>{a();Ut();Hj="\u039D",Qf=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof ze){let n=`${Hj+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${Hj+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var _c,Nb=v(()=>{a();Le();Ut();Ut();$n();$j();_c=class extends Ze{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=z.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Qf;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=z.of(t);if(s.isListSchema()&&Array.isArray(r)){let c=s.getValueSchema(),l=[],u=!!s.getMergedTraits().sparse;for(let d of r)(u||d!=null)&&l.push(this._write(c,d));return l}else if(s.isMapSchema()&&o){let c=s.getValueSchema(),l={},u=!!s.getMergedTraits().sparse;for(let[d,f]of Object.entries(r))(u||f!=null)&&(l[d]=this._write(c,f));return l}else if(s.isStructSchema()&&o){let c={};for(let[l,u]of s.structIterator()){let d=this.settings.jsonName?u.getMergedTraits().jsonName??l:l,f=this._write(u,r[l],s);f!==void 0&&(c[d]=f)}return c}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let c=this.settings.timestampFormat;switch(c.useTrait?s.getSchema()===D.TIMESTAMP_DEFAULT?c.default:s.getSchema()??c.default:c.default){case D.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case D.TIMESTAMP_HTTP_DATE:return tc(r);case D.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?ct.from(r):r}}});var Xo,Zf=v(()=>{a();$n();Ib();Nb();Xo=class extends Ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new _c(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new yc(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var qj,Qo,em=v(()=>{a();rn();Le();qj=P(mc());Zf();gc();Qo=class extends Ho{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new Xo({timestampFormat:{useTrait:!0,default:D.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+z.of(t).getName()}),(tn(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,qj.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=Yo(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=at.for(c),d;try{d=u.getSchema(i)}catch{let S=at.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let T=S.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let f=z.of(d),h=o.message??o.Message??"Unknown",g=new d.ctor(h);await this.deserializeHttpMessage(d,r,n,o);let y={};for(let[_,S]of f.structIterator()){let T=S.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(S,o[T])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,...y}),g}}});var Db,Gj=v(()=>{a();em();Db=class extends Qo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var Mb,zj=v(()=>{a();em();Mb=class extends Qo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var Vj,kb,Wj=v(()=>{a();rn();Le();Vj=P(mc());Zf();gc();kb=class extends jo{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:D.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Xo(r),this.serializer=new zo(this.codec.createSerializer(),r),this.deserializer=new Go(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=z.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let c=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:d,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:y}=u.getMergedTraits();return!d&&!f&&!h&&!g&&y===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,Vj.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=Yo(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=at.for(c),d;try{d=u.getSchema(i)}catch{let S=at.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let T=S.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let f=z.of(d),h=o.message??o.Message??"Unknown",g=new d.ctor(h);await this.deserializeHttpMessage(d,r,n,o);let y={};for(let[_,S]of f.structIterator()){let T=S.getMergedTraits().jsonName??_;y[_]=this.codec.createDeserializer().readObject(S,o[T])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,...y}),g}}});var Kj,nye,Jj=v(()=>{a();Kj=P(ce()),nye=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Kj.expectUnion)(e)}});function tm(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function Xj(e){return typeof e<"u"}var Yj,oye,sye,iye,Ec,rm=v(()=>{"use strict";a();Yj=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",oye=Yj+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",sye="["+Yj+"]["+oye+"]*",iye=new RegExp("^"+sye+"$");Ec=function(e){let t=iye.exec(e);return!(t===null||typeof t>"u")}});function rH(e,t){t=Object.assign({},aye,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=Zj(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=eH(e,s);continue}else{let c=!1;e[s]==="/"&&(c=!0,s++);let l="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)l+=e[s];if(l=l.trim(),l[l.length-1]==="/"&&(l=l.substring(0,l.length-1),s--),!hye(l)){let f;return l.trim().length===0?f="Invalid space after '<'.":f="Tag '"+l+"' is an invalid name.",Te("InvalidTag",f,lt(e,s))}let u=uye(e,s);if(u===!1)return Te("InvalidAttr","Attributes for '"+l+"' have open quote.",lt(e,s));let d=u.value;if(s=u.index,d[d.length-1]==="/"){let f=s-d.length;d=d.substring(0,d.length-1);let h=tH(d,t);if(h===!0)n=!0;else return Te(h.err.code,h.err.msg,lt(e,f+h.err.line))}else if(c)if(u.tagClosed){if(d.trim().length>0)return Te("InvalidTag","Closing tag '"+l+"' can't have attributes or invalid starting.",lt(e,i));if(r.length===0)return Te("InvalidTag","Closing tag '"+l+"' has not been opened.",lt(e,i));{let f=r.pop();if(l!==f.tagName){let h=lt(e,f.tagStartPos);return Te("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+l+"'.",lt(e,i))}r.length==0&&(o=!0)}}else return Te("InvalidTag","Closing tag '"+l+"' doesn't have proper closing.",lt(e,s));else{let f=tH(d,t);if(f!==!0)return Te(f.err.code,f.err.msg,lt(e,s-d.length+f.err.line));if(o===!0)return Te("InvalidXml","Multiple possible root nodes found.",lt(e,s));t.unpairedTags.indexOf(l)!==-1||r.push({tagName:l,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=eH(e,s);continue}else if(e[s+1]==="?"){if(s=Zj(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=fye(e,s);if(f==-1)return Te("InvalidChar","char '&' is not expected.",lt(e,s));s=f}else if(o===!0&&!Qj(e[s]))return Te("InvalidXml","Extra text at the end",lt(e,s));e[s]==="<"&&s--}}else{if(Qj(e[s]))continue;return Te("InvalidChar","char '"+e[s]+"' is not expected.",lt(e,s))}if(n){if(r.length==1)return Te("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",lt(e,r[0].tagStartPos));if(r.length>0)return Te("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Te("InvalidXml","Start tag expected.",1);return!0}function Qj(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Zj(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return Te("InvalidXml","XML declaration allowed only at the start of the document.",lt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function eH(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function uye(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===cye||e[t]===lye)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function tH(e,t){let r=tm(e,dye),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return Te("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",vc(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return Te("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",vc(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return Te("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",vc(r[o]));let s=r[o][2];if(!mye(s))return Te("InvalidAttr","Attribute '"+s+"' is an invalid name.",vc(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return Te("InvalidAttr","Attribute '"+s+"' is repeated.",vc(r[o]))}return!0}function pye(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function fye(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,pye(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Te(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function mye(e){return Ec(e)}function hye(e){return Ec(e)}function lt(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function vc(e){return e.startIndex+e[1].length}var aye,cye,lye,dye,nH=v(()=>{"use strict";a();rm();aye={allowBooleanAttributes:!1,unpairedTags:[]};cye='"',lye="'";dye=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var gye,oH,sH=v(()=>{a();gye={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},oH=function(e){return Object.assign({},gye,e)}});var nm,Tt,om=v(()=>{"use strict";a();typeof Symbol!="function"?nm="@@xmlMetadata":nm=Symbol("XML Node Metadata");Tt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][nm]={startIndex:r})}static getMetaDataSymbol(){return nm}}});function Lb(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&Zo(e,"!ENTITY",t)){t+=7;let c,l;[c,l,t]=yye(e,t+1),l.indexOf("&")===-1&&(r[c]={regx:RegExp(`&${c};`,"g"),val:l})}else if(o&&Zo(e,"!ELEMENT",t)){t+=8;let{index:c}=Eye(e,t+1);t=c}else if(o&&Zo(e,"!ATTLIST",t))t+=8;else if(o&&Zo(e,"!NOTATION",t)){t+=9;let{index:c}=_ye(e,t+1);t=c}else if(Zo(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function yye(e,t){t=Gn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Ub(r),t=Gn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=sm(e,t,"entity"),t--,[r,n,t]}function _ye(e,t){t=Gn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Ub(r),t=Gn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=Gn(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=sm(e,t,"publicIdentifier"),t=Gn(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=sm(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=sm(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function sm(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function Eye(e,t){t=Gn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Ub(r))throw new Error(`Invalid element name: "${r}"`);t=Gn(e,t);let n="";if(e[t]==="E"&&Zo(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Zo(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Zo(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Ub(e){if(Ec(e))return e;throw new Error(`Invalid entity name ${e}`)}var Gn,iH=v(()=>{a();rm();Gn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Fb(e,t={}){if(t=Object.assign({},bye,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&vye.test(r))return Cye(r,16);if(r.search(/.+[eE].+/)!==-1)return wye(e,r,t);{let n=Sye.exec(r);if(n){let o=n[1]||"",s=n[2],i=Pye(n[3]),c=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!c))return e;{let l=Number(r),u=String(l);if(l===0)return l;if(u.search(/[eE]/)!==-1)return t.eNotation?l:e;if(r.indexOf(".")!==-1)return u==="0"||u===i||u===`${o}${i}`?l:e;let d=s?i:r;return s?d===u||o+d===u?l:e:d===u||d===o+u?l:e}}else return e}}function wye(e,t,r){if(!r.eNotation)return e;let n=t.match(Tye);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],c=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&c?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!c?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function Pye(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function Cye(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var vye,Sye,bye,Tye,aH=v(()=>{a();vye=/^[-+]?0x[a-fA-F0-9]+$/,Sye=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,bye={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Tye=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Bb(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var cH=v(()=>{a()});function xye(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Oye(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let c=this.options.tagValueProcessor(t,e,r,o,s);return c==null?e:typeof c!=typeof e||c!==e?c:this.options.trimValues?Hb(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Hb(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Rye(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function Iye(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=tm(e,Aye),o=n.length,s={};for(let i=0;i<o;i++){let c=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(c,t))continue;let l=n[i][4],u=this.options.attributeNamePrefix+c;if(c.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),l!==void 0){this.options.trimValues&&(l=l.trim()),l=this.replaceEntitiesValue(l);let d=this.options.attributeValueProcessor(c,l,t);d==null?s[u]=l:typeof d!=typeof l||d!==l?s[u]=d:s[u]=Hb(l,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[u]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function Dye(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function kye(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function Lye(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function Uye(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function es(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function jb(e,t,r,n=">"){let o=Uye(e,t+1,n);if(!o)return;let s=o.data,i=o.index,c=s.search(/\s/),l=s,u=!0;c!==-1&&(l=s.substring(0,c),s=s.substring(c+1).trimStart());let d=l;if(r){let f=l.indexOf(":");f!==-1&&(l=l.substr(f+1),u=l!==o.data.substr(f+1))}return{tagName:l,tagExp:s,closeIndex:i,attrExpPresent:u,rawTagName:d}}function Fye(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=es(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=es(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=es(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=es(e,"]]>",r,"StopNode is not closed.")-2;else{let s=jb(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Hb(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Fb(e,r)}else return Xj(e)?e:""}var Sc,Aye,Nye,Mye,lH=v(()=>{"use strict";a();rm();om();iH();aH();cH();Sc=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=xye,this.parseXml=Nye,this.parseTextData=Oye,this.resolveNameSpace=Rye,this.buildAttributesMap=Iye,this.isItStopNode=Lye,this.replaceEntitiesValue=Mye,this.readStopNodeData=Fye,this.saveTextToParentTag=kye,this.addChild=Dye,this.ignoreAttributesFn=Bb(this.options.ignoreAttributes)}};Aye=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");Nye=function(e){e=e.replace(/\r\n?/g,`
`);let t=new Tt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let c=es(e,">",s,"Closing Tag is not closed."),l=e.substring(s+2,c).trim();if(this.options.removeNSPrefix){let f=l.indexOf(":");f!==-1&&(l=l.substr(f+1))}this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&(n=this.saveTextToParentTag(n,r,o));let u=o.substring(o.lastIndexOf(".")+1);if(l&&this.options.unpairedTags.indexOf(l)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${l}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=o.lastIndexOf("."),o=o.substring(0,d),r=this.tagsNodeStack.pop(),n="",s=c}else if(e[s+1]==="?"){let c=jb(e,s,!1,"?>");if(!c)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&c.tagName==="?xml"||this.options.ignorePiTags)){let l=new Tt(c.tagName);l.add(this.options.textNodeName,""),c.tagName!==c.tagExp&&c.attrExpPresent&&(l[":@"]=this.buildAttributesMap(c.tagExp,o,c.tagName)),this.addChild(r,l,o,s)}s=c.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let c=es(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let l=e.substring(s+4,c-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:l}])}s=c}else if(e.substr(s+1,2)==="!D"){let c=Lb(e,s);this.docTypeEntities=c.entities,s=c.i}else if(e.substr(s+1,2)==="!["){let c=es(e,"]]>",s,"CDATA is not closed.")-2,l=e.substring(s+9,c);n=this.saveTextToParentTag(n,r,o);let u=this.parseTextData(l,r.tagname,o,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:l}]):r.add(this.options.textNodeName,u),s=c+2}else{let c=jb(e,s,this.options.removeNSPrefix),l=c.tagName,u=c.rawTagName,d=c.tagExp,f=c.attrExpPresent,h=c.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),l!==t.tagname&&(o+=o?"."+l:l);let y=s;if(this.isItStopNode(this.options.stopNodes,o,l)){let _="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),d=l):d=d.substr(0,d.length-1),s=c.closeIndex;else if(this.options.unpairedTags.indexOf(l)!==-1)s=c.closeIndex;else{let T=this.readStopNodeData(e,u,h+1);if(!T)throw new Error(`Unexpected end of ${u}`);s=T.i,_=T.tagContent}let S=new Tt(l);l!==d&&f&&(S[":@"]=this.buildAttributesMap(d,o,l)),_&&(_=this.parseTextData(_,l,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,_),this.addChild(r,S,o,y)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),o=o.substr(0,o.length-1),d=l):d=d.substr(0,d.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));let _=new Tt(l);l!==d&&f&&(_[":@"]=this.buildAttributesMap(d,o,l)),this.addChild(r,_,o,y),o=o.substr(0,o.lastIndexOf("."))}else{let _=new Tt(l);this.tagsNodeStack.push(r),l!==d&&f&&(_[":@"]=this.buildAttributesMap(d,o,l)),this.addChild(r,_,o,y),r=_}n="",s=h}}else n+=e[s];return t.child};Mye=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function qb(e,t){return uH(e,t)}function uH(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],c=Bye(i),l="";if(r===void 0?l=c:l=r+"."+c,c===t.textNodeName)n===void 0?n=i[c]:n+=""+i[c];else{if(c===void 0)continue;if(i[c]){let u=uH(i[c],t,l),d=Hye(u,t);i[$b]!==void 0&&(u[$b]=i[$b]),i[":@"]?jye(u,i[":@"],l,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),o[c]!==void 0&&o.hasOwnProperty(c)?(Array.isArray(o[c])||(o[c]=[o[c]]),o[c].push(u)):t.isArray(c,l,d)?o[c]=[u]:o[c]=u}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function Bye(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function jye(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let c=o[i];n.isArray(c,r+"."+c,!0,!0)?e[c]=[t[c]]:e[c]=t[c]}}}function Hye(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var $b,dH=v(()=>{"use strict";a();om();$b=Tt.getMetaDataSymbol()});var zn,pH=v(()=>{a();sH();lH();dH();nH();om();zn=class{constructor(t){this.externalEntities={},this.options=oH(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=rH(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Sc(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:qb(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return Tt.getMetaDataSymbol()}}});var Gb=v(()=>{"use strict";a();pH()});var fH,mH,ts,im=v(()=>{a();rn();Le();fH=P(ce()),mH=P(it());Gb();$n();ts=class extends Ze{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new qo(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=z.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},d=Object.keys(s)[0];return s[d].isBlobSchema()?u[d]=r:u[d]=this.read(s[d],r),u}let c=(this.serdeContext?.utf8Encoder??mH.toUtf8)(r),l=this.parseXml(c);return this.readSchema(t,n?l[n]:l)}readSchema(t,r){let n=z.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),u=[],d=l.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[d],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&u.push(this.readSchema(l,g));return u}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),u=n.getValueSchema(),d;i?d=Array.isArray(r)?r:[r]:d=Array.isArray(r.entry)?r.entry:[r.entry];let f=l.getMergedTraits().xmlName??"key",h=u.getMergedTraits().xmlName??"value";for(let g of d){let y=g[f],_=g[h];(_!=null||s)&&(c[y]=this.readSchema(u,_))}return c}if(n.isStructSchema()){for(let[l,u]of n.structIterator()){let d=u.getMergedTraits(),f=d.httpPayload?d.xmlName??u.getName():u.getMemberTraits().xmlName??l;r[f]!=null&&(c[l]=this.readSchema(u,r[f]))}return c}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new zn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,fH.getValueFromTextNode)(i)}return{}}}});var hH,gH,am,yH=v(()=>{a();rn();Le();Ut();hH=P(ce()),gH=P(St());$n();am=class extends Ze{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=z.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??gH.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof ze?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),$o(o,this.settings)){case D.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case D.TIMESTAMP_HTTP_DATE:this.writeValue((0,hH.dateToUtcString)(r));break;case D.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,c=1;for(let l of r){if(l==null)continue;let u=this.getKey("member",s.getMergedTraits().xmlName),d=i?`${n}${c}`:`${n}${u}.${c}`;this.write(s,l,d),++c}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),c=o.getMergedTraits().xmlFlattened,l=1;for(let[u,d]of Object.entries(r)){if(d==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=c?`${n}${l}.${f}`:`${n}entry.${l}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),y=c?`${n}${l}.${g}`:`${n}entry.${l}.${g}`;this.write(s,u,h),this.write(i,d,y),++l}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let c=this.getKey(s,i.getMergedTraits().xmlName),l=`${n}${c}`;this.write(i,r[s],l)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Tr(t)}=`}writeValue(t){this.buffer+=Tr(t)}}});var _H,bc,zb=v(()=>{a();rn();Le();_H=P(mc());im();yH();bc=class extends Ho{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:D.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new am(r),this.deserializer=new ts(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(tn(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,_H.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=z.of(t.output),i={};if(n.statusCode>=300){let d=await Lt(n.body,r);d.byteLength>0&&Object.assign(i,await o.read(D.DOCUMENT,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let f=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=f}let c=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,l=await Lt(n.body,r);return l.byteLength>0&&Object.assign(i,await o.read(s,l,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=this.loadQueryError(o),d=at.for(c),f;try{f=d.find(S=>z.of(S).getMergedTraits().awsQueryError?.[0]===l),f||(f=d.getSchema(i))}catch{let T=at.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(T){let w=T.ctor;throw Object.assign(new w(l),u)}throw new Error(l)}let h=z.of(f),g=this.loadQueryErrorMessage(o),y=new f.ctor(g),_={};for(let[S,T]of h.structIterator()){let w=T.getMergedTraits().xmlName??S,C=u[w]??o[w];_[S]=this.deserializer.readSchema(T,C)}throw Object.assign(y,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,..._}),y}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var Vb,EH=v(()=>{a();zb();Vb=class extends bc{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var vH,Tc,Wb,Kb,Jb=v(()=>{a();vH=P(ce());Gb();Rb();Tc=(e,t)=>Xf(e,t).then(r=>{if(r.length){let n=new zn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:r}),l}let s="#text",i=Object.keys(o)[0],c=o[i];return c[s]&&(c[i]=c[s],delete c[s]),(0,vH.getValueFromTextNode)(c)}return{}}),Wb=async(e,t)=>{let r=await Tc(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Kb=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Bt,Yb,cm,wc,Xb=v(()=>{a();Bt=P(_E());Le();Ut();Yb=P(ce()),cm=P(St());$n();wc=class extends Ze{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=z.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??cm.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Bt.XmlNode.of(s),[c,l]=this.getXmlnsAttribute(t,n);l&&i.addAttribute(c,l);for(let[u,d]of t.structIterator()){let f=r[u];if(f!=null){if(d.getMergedTraits().xmlAttribute){i.addAttribute(d.getMergedTraits().xmlName??u,this.writeSimple(d,f));continue}if(d.isListSchema())this.writeList(d,f,i,l);else if(d.isMapSchema())this.writeMap(d,f,i,l);else if(d.isStructSchema())i.addChildNode(this.writeStruct(d,f,l));else{let h=Bt.XmlNode.of(d.getMergedTraits().xmlName??d.getMemberName());this.writeSimpleInto(d,f,h,l),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),c=i.getMergedTraits(),l=!!c.sparse,u=!!s.xmlFlattened,[d,f]=this.getXmlnsAttribute(t,o),h=(g,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],g,f);else if(i.isMapSchema())this.writeMap(i,y,g,f);else if(i.isStructSchema()){let _=this.writeStruct(i,y,f);g.addChildNode(_.withName(u?s.xmlName??t.getMemberName():c.xmlName??"member"))}else{let _=Bt.XmlNode.of(u?s.xmlName??t.getMemberName():c.xmlName??"member");this.writeSimpleInto(i,y,_,f),g.addChildNode(_)}};if(u)for(let g of r)(l||g!=null)&&h(n,g);else{let g=Bt.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(d,f);for(let y of r)(l||y!=null)&&h(g,y);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),c=t.getKeySchema(),u=c.getMergedTraits().xmlName??"key",d=t.getValueSchema(),f=d.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,y=!!i.xmlFlattened,[_,S]=this.getXmlnsAttribute(t,o),T=(w,C,O)=>{let x=Bt.XmlNode.of(u,C),[A,le]=this.getXmlnsAttribute(c,S);le&&x.addAttribute(A,le),w.addChildNode(x);let oe=Bt.XmlNode.of(h);d.isListSchema()?this.writeList(d,O,oe,S):d.isMapSchema()?this.writeMap(d,O,oe,S,!0):d.isStructSchema()?oe=this.writeStruct(d,O,S):this.writeSimpleInto(d,O,oe,S),w.addChildNode(oe)};if(y){for(let[w,C]of Object.entries(r))if(g||C!=null){let O=Bt.XmlNode.of(i.xmlName??t.getMemberName());T(O,w,C),n.addChildNode(O)}}else{let w;s||(w=Bt.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(_,S),n.addChildNode(w));for(let[C,O]of Object.entries(r))if(g||O!=null){let x=Bt.XmlNode.of("entry");T(x,C,O),(s?n:w).addChildNode(x)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=z.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??cm.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===D.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case D.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case D.TIMESTAMP_HTTP_DATE:o=(0,Yb.dateToUtcString)(r);break;case D.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Yb.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof ze?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=z.of(t),c=new Bt.XmlText(s),[l,u]=this.getXmlnsAttribute(i,o);u&&n.addAttribute(l,u),n.addChildNode(c)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Pc,Qb=v(()=>{a();$n();im();Xb();Pc=class extends Ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new wc(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ts(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var SH,Zb,bH=v(()=>{a();rn();Le();SH=P(mc());Jb();Qb();Zb=class extends jo{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:D.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Pc(r),this.serializer=new zo(this.codec.createSerializer(),r),this.deserializer=new Go(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=z.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(c=>c!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let c=Object.values(i).find(l=>!!l.getMergedTraits().httpPayload);if(c){let l=c.getMergedTraits().mediaType;l?o.headers["content-type"]=l:c.isStringSchema()?o.headers["content-type"]="text/plain":c.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(u=>{let{httpQuery:d,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:y}=u.getMergedTraits();return!d&&!f&&!h&&!g&&y===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,SH.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Kb(n,o)??"Unknown",c=this.options.defaultNamespace,l=i;i.includes("#")&&([c,l]=i.split("#"));let u=at.for(c),d;try{d=u.getSchema(i)}catch{let S=at.for("smithy.ts.sdk.synthetic."+c).getBaseException();if(S){let T=S.ctor;throw Object.assign(new T(l),o)}throw new Error(l)}let f=z.of(d),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new d.ctor(h);await this.deserializeHttpMessage(d,r,n,o);let y={};for(let[_,S]of f.structIterator()){let T=S.getMergedTraits().xmlName??_,w=o.Error?.[T]??o[T];y[_]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,...y}),g}}});var TH=v(()=>{a();vj();Gj();zj();em();Wj();Zf();Ib();Nb();Jj();gc();EH();zb();bH();Qb();im();Xb();Jb()});var wH={};Fe(wH,{AWSSDKSigV4Signer:()=>RB,AwsEc2QueryProtocol:()=>Vb,AwsJson1_0Protocol:()=>Db,AwsJson1_1Protocol:()=>Mb,AwsJsonRpcProtocol:()=>Qo,AwsQueryProtocol:()=>bc,AwsRestJsonProtocol:()=>kb,AwsRestXmlProtocol:()=>Zb,AwsSdkSigV4ASigner:()=>Ff,AwsSdkSigV4Signer:()=>bt,JsonCodec:()=>Xo,JsonShapeDeserializer:()=>yc,JsonShapeSerializer:()=>_c,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>pc,NODE_SIGV4A_CONFIG_OPTIONS:()=>Uhe,XmlCodec:()=>Pc,XmlShapeDeserializer:()=>ts,XmlShapeSerializer:()=>wc,_toBool:()=>uge,_toNum:()=>dge,_toStr:()=>lge,awsExpectUnion:()=>nye,emitWarningIfUnsupportedVersion:()=>lc,getBearerTokenEnvKey:()=>cb,loadRestJsonErrorCode:()=>Yo,loadRestXmlErrorCode:()=>Kb,parseJsonBody:()=>Zs,parseJsonErrorBody:()=>Ab,parseXmlBody:()=>Tc,parseXmlErrorBody:()=>Wb,resolveAWSSDKSigV4Config:()=>ige,resolveAwsSdkSigV4AConfig:()=>Lhe,resolveAwsSdkSigV4Config:()=>Qs,setCredentialFeature:()=>Wo,setFeature:()=>The,setTokenFeature:()=>whe,state:()=>tb,validateSigningProperties:()=>dc});var Cr=v(()=>{a();Uf();Ej();TH()});var dm=b((dXe,LH)=>{"use strict";a();var um=Object.defineProperty,$ye=Object.getOwnPropertyDescriptor,qye=Object.getOwnPropertyNames,Gye=Object.prototype.hasOwnProperty,sn=(e,t)=>um(e,"name",{value:t,configurable:!0}),zye=(e,t)=>{for(var r in t)um(e,r,{get:t[r],enumerable:!0})},Vye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qye(t))!Gye.call(e,o)&&o!==r&&um(e,o,{get:()=>t[o],enumerable:!(n=$ye(t,o))||n.enumerable});return e},Wye=e=>Vye(um({},"__esModule",{value:!0}),e),OH={};zye(OH,{DEFAULT_UA_APP_ID:()=>RH,getUserAgentMiddlewareOptions:()=>kH,getUserAgentPlugin:()=>t_e,resolveUserAgentConfig:()=>IH,userAgentMiddleware:()=>MH});LH.exports=Wye(OH);var Kye=(Kt(),V(JS)),RH=void 0;function AH(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}sn(AH,"isValidUserAgentAppId");function IH(e){let t=(0,Kye.normalizeProvider)(e.userAgentAppId??RH),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:sn(async()=>{let n=await t();if(!AH(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}sn(IH,"resolveUserAgentConfig");var Jye=Lf(),Yye=Ee(),xr=(Cr(),V(wH)),Xye=/\d{12}\.ddb/;async function NH(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,xr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,xr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,xr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,xr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(Xye)&&(0,xr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,xr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,xr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,xr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,xr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,c]of Object.entries(s.$source??{}))(0,xr.setFeature)(e,i,c)}}sn(NH,"checkFeatures");var PH="user-agent",eT="x-amz-user-agent",CH=" ",tT="/",Qye=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Zye=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,xH="-",e_e=1024;function DH(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=e_e){t.length?t+=","+n:t+=n;continue}break}return t}sn(DH,"encodeFeatures");var MH=sn(e=>(t,r)=>async n=>{let{request:o}=n;if(!Yye.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(lm)||[],c=(await e.defaultUserAgentProvider()).map(lm);await NH(r,e,n);let l=r;c.push(`m/${DH(Object.assign({},r.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let u=e?.customUserAgent?.map(lm)||[],d=await e.userAgentAppId();d&&c.push(lm([`app/${d}`]));let f=(0,Jye.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...c,...i,...u]).join(CH),g=[...c.filter(y=>y.startsWith("aws-sdk-")),...u].join(CH);return e.runtime!=="browser"?(g&&(s[eT]=s[eT]?`${s[PH]} ${g}`:g),s[PH]=h):s[eT]=h,t({...n,request:o})},"userAgentMiddleware"),lm=sn(e=>{let t=e[0].split(tT).map(i=>i.replace(Qye,xH)).join(tT),r=e[1]?.replace(Zye,xH),n=t.indexOf(tT),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,c,l)=>{switch(l){case 0:return c;case 1:return`${i}/${c}`;default:return`${i}#${c}`}},"")},"escapeUserAgent"),kH={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},t_e=sn(e=>({applyToStack:sn(t=>{t.add(MH(e),kH)},"applyToStack")}),"getUserAgentPlugin")});var HH=b((fXe,jH)=>{a();var pm=Object.defineProperty,r_e=Object.getOwnPropertyDescriptor,n_e=Object.getOwnPropertyNames,o_e=Object.prototype.hasOwnProperty,UH=(e,t)=>pm(e,"name",{value:t,configurable:!0}),s_e=(e,t)=>{for(var r in t)pm(e,r,{get:t[r],enumerable:!0})},i_e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of n_e(t))!o_e.call(e,o)&&o!==r&&pm(e,o,{get:()=>t[o],enumerable:!(n=r_e(t,o))||n.enumerable});return e},a_e=e=>i_e(pm({},"__esModule",{value:!0}),e),FH={};s_e(FH,{SelectorType:()=>BH,booleanSelector:()=>c_e,numberSelector:()=>l_e});jH.exports=a_e(FH);var c_e=UH((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),l_e=UH((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),BH=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(BH||{})});var ei=b((hXe,QH)=>{a();var mm=Object.defineProperty,u_e=Object.getOwnPropertyDescriptor,d_e=Object.getOwnPropertyNames,p_e=Object.prototype.hasOwnProperty,Jt=(e,t)=>mm(e,"name",{value:t,configurable:!0}),f_e=(e,t)=>{for(var r in t)mm(e,r,{get:t[r],enumerable:!0})},m_e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d_e(t))!p_e.call(e,o)&&o!==r&&mm(e,o,{get:()=>t[o],enumerable:!(n=u_e(t,o))||n.enumerable});return e},h_e=e=>m_e(mm({},"__esModule",{value:!0}),e),GH={};f_e(GH,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>VH,CONFIG_USE_FIPS_ENDPOINT:()=>KH,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>g_e,DEFAULT_USE_FIPS_ENDPOINT:()=>__e,ENV_USE_DUALSTACK_ENDPOINT:()=>zH,ENV_USE_FIPS_ENDPOINT:()=>WH,NODE_REGION_CONFIG_FILE_OPTIONS:()=>w_e,NODE_REGION_CONFIG_OPTIONS:()=>T_e,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>y_e,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>E_e,REGION_ENV_NAME:()=>JH,REGION_INI_NAME:()=>YH,getRegionInfo:()=>R_e,resolveCustomEndpointsConfig:()=>v_e,resolveEndpointsConfig:()=>b_e,resolveRegionConfig:()=>P_e});QH.exports=h_e(GH);var Vn=HH(),zH="AWS_USE_DUALSTACK_ENDPOINT",VH="use_dualstack_endpoint",g_e=!1,y_e={environmentVariableSelector:e=>(0,Vn.booleanSelector)(e,zH,Vn.SelectorType.ENV),configFileSelector:e=>(0,Vn.booleanSelector)(e,VH,Vn.SelectorType.CONFIG),default:!1},WH="AWS_USE_FIPS_ENDPOINT",KH="use_fips_endpoint",__e=!1,E_e={environmentVariableSelector:e=>(0,Vn.booleanSelector)(e,WH,Vn.SelectorType.ENV),configFileSelector:e=>(0,Vn.booleanSelector)(e,KH,Vn.SelectorType.CONFIG),default:!1},fm=Qr(),v_e=Jt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,fm.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,fm.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),S_e=Jt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),b_e=Jt(e=>{let t=(0,fm.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,fm.normalizeProvider)(typeof r=="string"?o(r):r):()=>S_e({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),JH="AWS_REGION",YH="region",T_e={environmentVariableSelector:e=>e[JH],configFileSelector:e=>e[YH],default:()=>{throw new Error("Region is missing")}},w_e={preferredFile:"credentials"},XH=Jt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),$H=Jt(e=>XH(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),P_e=Jt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return $H(t);let n=await t();return $H(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return XH(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),qH=Jt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),C_e=Jt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),x_e=Jt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),O_e=Jt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),R_e=Jt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=x_e(e,{partitionHash:s}),c=e in o?e:s[i]?.endpoint??e,l={useFipsEndpoint:t,useDualstackEndpoint:r},u=qH(o[c]?.variants,l),d=qH(s[i]?.variants,l),f=C_e(c,{regionHostname:u,partitionHostname:d});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=O_e(f,{signingRegion:o[c]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[c]?.signingService&&{signingService:o[c].signingService}}},"getRegionInfo")});var nT=b((yXe,n$)=>{a();var hm=Object.defineProperty,A_e=Object.getOwnPropertyDescriptor,I_e=Object.getOwnPropertyNames,N_e=Object.prototype.hasOwnProperty,e$=(e,t)=>hm(e,"name",{value:t,configurable:!0}),D_e=(e,t)=>{for(var r in t)hm(e,r,{get:t[r],enumerable:!0})},M_e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I_e(t))!N_e.call(e,o)&&o!==r&&hm(e,o,{get:()=>t[o],enumerable:!(n=A_e(t,o))||n.enumerable});return e},k_e=e=>M_e(hm({},"__esModule",{value:!0}),e),t$={};D_e(t$,{contentLengthMiddleware:()=>rT,contentLengthMiddlewareOptions:()=>r$,getContentLengthPlugin:()=>U_e});n$.exports=k_e(t$);var L_e=Ee(),ZH="content-length";function rT(e){return t=>async r=>{let n=r.request;if(L_e.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(ZH)===-1)try{let i=e(o);n.headers={...n.headers,[ZH]:String(i)}}catch{}}return t({...r,request:n})}}e$(rT,"contentLengthMiddleware");var r$={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},U_e=e$(e=>({applyToStack:t=>{t.add(rT(e.bodyLengthChecker),r$)}}),"getContentLengthPlugin")});var ti=b(gm=>{"use strict";a();Object.defineProperty(gm,"__esModule",{value:!0});gm.getHomeDir=void 0;var F_e=L("os"),B_e=L("path"),oT={},j_e=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",H_e=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${B_e.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=j_e();return oT[o]||(oT[o]=(0,F_e.homedir)()),oT[o]};gm.getHomeDir=H_e});var sT=b(ym=>{"use strict";a();Object.defineProperty(ym,"__esModule",{value:!0});ym.getSSOTokenFilepath=void 0;var $_e=L("crypto"),q_e=L("path"),G_e=ti(),z_e=e=>{let r=(0,$_e.createHash)("sha1").update(e).digest("hex");return(0,q_e.join)((0,G_e.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ym.getSSOTokenFilepath=z_e});var o$=b(_m=>{"use strict";a();Object.defineProperty(_m,"__esModule",{value:!0});_m.getSSOTokenFromFile=void 0;var V_e=L("fs"),W_e=sT(),{readFile:K_e}=V_e.promises,J_e=async e=>{let t=(0,W_e.getSSOTokenFilepath)(e),r=await K_e(t,"utf8");return JSON.parse(r)};_m.getSSOTokenFromFile=J_e});var aT=b(Em=>{"use strict";a();Object.defineProperty(Em,"__esModule",{value:!0});Em.slurpFile=void 0;var Y_e=L("fs"),{readFile:X_e}=Y_e.promises,iT={},Q_e=(e,t)=>((!iT[e]||t?.ignoreCache)&&(iT[e]=X_e(e,"utf8")),iT[e]);Em.slurpFile=Q_e});var dT=b((xXe,xc)=>{a();var bm=Object.defineProperty,Z_e=Object.getOwnPropertyDescriptor,eEe=Object.getOwnPropertyNames,tEe=Object.prototype.hasOwnProperty,jt=(e,t)=>bm(e,"name",{value:t,configurable:!0}),rEe=(e,t)=>{for(var r in t)bm(e,r,{get:t[r],enumerable:!0})},cT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eEe(t))!tEe.call(e,o)&&o!==r&&bm(e,o,{get:()=>t[o],enumerable:!(n=Z_e(t,o))||n.enumerable});return e},uT=(e,t,r)=>(cT(e,t,"default"),r&&cT(r,t,"default")),nEe=e=>cT(bm({},"__esModule",{value:!0}),e),Cc={};rEe(Cc,{CONFIG_PREFIX_SEPARATOR:()=>rs,DEFAULT_PROFILE:()=>c$,ENV_PROFILE:()=>a$,getProfileName:()=>oEe,loadSharedConfigFiles:()=>u$,loadSsoSessionData:()=>yEe,parseKnownFiles:()=>EEe});xc.exports=nEe(Cc);uT(Cc,ti(),xc.exports);var a$="AWS_PROFILE",c$="default",oEe=jt(e=>e.profile||process.env[a$]||c$,"getProfileName");uT(Cc,sT(),xc.exports);uT(Cc,o$(),xc.exports);var vm=Er(),sEe=jt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(rs);return r===-1?!1:Object.values(vm.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(rs),s=r.substring(0,o)===vm.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Sm=L("path"),iEe=ti(),aEe="AWS_CONFIG_FILE",l$=jt(()=>process.env[aEe]||(0,Sm.join)((0,iEe.getHomeDir)(),".aws","config"),"getConfigFilepath"),cEe=ti(),lEe="AWS_SHARED_CREDENTIALS_FILE",uEe=jt(()=>process.env[lEe]||(0,Sm.join)((0,cEe.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),dEe=ti(),pEe=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,fEe=["__proto__","profile __proto__"],lT=jt(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let c=s.substring(1,s.length-1),l=pEe.exec(c);if(l){let[,u,,d]=l;Object.values(vm.IniSectionType).includes(u)&&(r=[u,d].join(rs))}else r=c;if(fEe.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=s.indexOf("=");if(![0,-1].includes(c)){let[l,u]=[s.substring(0,c).trim(),s.substring(c+1).trim()];if(u==="")n=l;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let d=n?[n,l].join(rs):l;t[r][d]=u}}}}return t},"parseIni"),s$=aT(),i$=jt(()=>({}),"swallowError"),rs=".",u$=jt(async(e={})=>{let{filepath:t=uEe(),configFilepath:r=l$()}=e,n=(0,dEe.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,Sm.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,Sm.join)(n,r.slice(2)));let c=await Promise.all([(0,s$.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(lT).then(sEe).catch(i$),(0,s$.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(lT).catch(i$)]);return{configFile:c[0],credentialsFile:c[1]}},"loadSharedConfigFiles"),mEe=jt(e=>Object.entries(e).filter(([t])=>t.startsWith(vm.IniSectionType.SSO_SESSION+rs)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(rs)+1)]:n}),{}),"getSsoSessionData"),hEe=aT(),gEe=jt(()=>({}),"swallowError"),yEe=jt(async(e={})=>(0,hEe.slurpFile)(e.configFilepath??l$()).then(lT).then(mEe).catch(gEe),"loadSsoSessionData"),_Ee=jt((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),EEe=jt(async e=>{let t=await u$(e);return _Ee(t.configFile,t.credentialsFile)},"parseKnownFiles")});var ni=b((RXe,f$)=>{a();var Tm=Object.defineProperty,vEe=Object.getOwnPropertyDescriptor,SEe=Object.getOwnPropertyNames,bEe=Object.prototype.hasOwnProperty,ri=(e,t)=>Tm(e,"name",{value:t,configurable:!0}),TEe=(e,t)=>{for(var r in t)Tm(e,r,{get:t[r],enumerable:!0})},wEe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SEe(t))!bEe.call(e,o)&&o!==r&&Tm(e,o,{get:()=>t[o],enumerable:!(n=vEe(t,o))||n.enumerable});return e},PEe=e=>wEe(Tm({},"__esModule",{value:!0}),e),p$={};TEe(p$,{loadConfig:()=>AEe});f$.exports=PEe(p$);var Oc=fc();function pT(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}ri(pT,"getSelectorName");var CEe=ri((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Oc.CredentialsProviderError(r.message||`Not found in ENV: ${pT(e.toString())}`,{logger:t?.logger})}},"fromEnv"),d$=dT(),xEe=ri((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,d$.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,d$.loadSharedConfigFiles)(r),i=s[n]||{},c=o[n]||{},l=t==="config"?{...i,...c}:{...c,...i};try{let d=e(l,t==="config"?o:s);if(d===void 0)throw new Error;return d}catch(u){throw new Oc.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${pT(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),OEe=ri(e=>typeof e=="function","isFunction"),REe=ri(e=>OEe(e)?async()=>await e():(0,Oc.fromStatic)(e),"fromStatic"),AEe=ri(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Oc.memoize)((0,Oc.chain)(CEe(e,i),xEe(t,n),REe(r)))},"loadConfig")});var y$=b(wm=>{"use strict";a();Object.defineProperty(wm,"__esModule",{value:!0});wm.getEndpointUrlConfig=void 0;var m$=dT(),h$="AWS_ENDPOINT_URL",g$="endpoint_url",IEe=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[h$,...r].join("_")];if(n)return n;let o=t[h$];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(m$.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(c=>c.toLowerCase()),i=o[[s.join("_"),g$].join(m$.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[g$];if(n)return n},default:void 0});wm.getEndpointUrlConfig=IEe});var fT=b(Pm=>{"use strict";a();Object.defineProperty(Pm,"__esModule",{value:!0});Pm.getEndpointFromConfig=void 0;var NEe=ni(),DEe=y$(),MEe=async e=>(0,NEe.loadConfig)((0,DEe.getEndpointUrlConfig)(e??""))();Pm.getEndpointFromConfig=MEe});var oi=b((kXe,w$)=>{a();var xm=Object.defineProperty,kEe=Object.getOwnPropertyDescriptor,LEe=Object.getOwnPropertyNames,UEe=Object.prototype.hasOwnProperty,Ht=(e,t)=>xm(e,"name",{value:t,configurable:!0}),FEe=(e,t)=>{for(var r in t)xm(e,r,{get:t[r],enumerable:!0})},BEe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LEe(t))!UEe.call(e,o)&&o!==r&&xm(e,o,{get:()=>t[o],enumerable:!(n=kEe(t,o))||n.enumerable});return e},jEe=e=>BEe(xm({},"__esModule",{value:!0}),e),E$={};FEe(E$,{endpointMiddleware:()=>b$,endpointMiddlewareOptions:()=>T$,getEndpointFromInstructions:()=>v$,getEndpointPlugin:()=>XEe,resolveEndpointConfig:()=>ZEe,resolveEndpointRequiredConfig:()=>eve,resolveParams:()=>S$,toEndpointV1:()=>mT});w$.exports=jEe(E$);var HEe=Ht(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),VEe(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!zEe(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),$Ee=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,qEe=/(\d+\.){3}\d+/,GEe=/\.\./,zEe=Ht(e=>$Ee.test(e)&&!qEe.test(e)&&!GEe.test(e),"isDnsCompatibleBucketName"),VEe=Ht(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),WEe=Ht((e,t,r)=>{let n=Ht(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:c,path:l}=o;return`${s}//${i}${c?":"+c:""}${l}`}}return o}:n},"createConfigValueProvider"),KEe=fT(),_$=Js(),mT=Ht(e=>typeof e=="object"?"url"in e?(0,_$.parseUrl)(e.url):e:(0,_$.parseUrl)(e),"toEndpointV1"),v$=Ht(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,KEe.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(mT(i)),r.isCustomEndpoint=!0)}let o=await S$(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),S$=Ht(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await WEe(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await HEe(n),n},"resolveParams"),JEe=(Kt(),V(JS)),Cm=Qr(),b$=Ht(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,JEe.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await v$(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=(0,Cm.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),YEe=Hs(),T$={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:YEe.serializerMiddlewareOption.name},XEe=Ht((e,t)=>({applyToStack:r=>{r.addRelativeTo(b$({config:e,instructions:t}),T$)}}),"getEndpointPlugin"),QEe=fT(),ZEe=Ht(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>mT(await(0,Cm.normalizeProvider)(r)()):void 0,c=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Cm.normalizeProvider)(n??!1),useFipsEndpoint:(0,Cm.normalizeProvider)(o??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=(0,QEe.getEndpointFromConfig)(e.serviceId)),l),c},"resolveEndpointConfig"),eve=Ht(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});import tve from"crypto";function Rc(){return Om>Rm.length-16&&(tve.randomFillSync(Rm),Om=0),Rm.slice(Om,Om+=16)}var Rm,Om,hT=v(()=>{a();Rm=new Uint8Array(256),Om=Rm.length});var P$,C$=v(()=>{a();P$=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function rve(e){return typeof e=="string"&&P$.test(e)}var Wn,Ac=v(()=>{a();C$();Wn=rve});function ns(e,t=0){return We[e[t+0]]+We[e[t+1]]+We[e[t+2]]+We[e[t+3]]+"-"+We[e[t+4]]+We[e[t+5]]+"-"+We[e[t+6]]+We[e[t+7]]+"-"+We[e[t+8]]+We[e[t+9]]+"-"+We[e[t+10]]+We[e[t+11]]+We[e[t+12]]+We[e[t+13]]+We[e[t+14]]+We[e[t+15]]}function nve(e,t=0){let r=ns(e,t);if(!Wn(r))throw TypeError("Stringified UUID is invalid");return r}var We,x$,Ic=v(()=>{a();Ac();We=[];for(let e=0;e<256;++e)We.push((e+256).toString(16).slice(1));x$=nve});function ove(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||O$,i=e.clockseq!==void 0?e.clockseq:gT;if(s==null||i==null){let h=e.random||(e.rng||Rc)();s==null&&(s=O$=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=gT=(h[6]<<8|h[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:_T+1,u=c-yT+(l-_T)/1e4;if(u<0&&e.clockseq===void 0&&(i=i+1&16383),(u<0||c>yT)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");yT=c,_T=l,gT=i,c+=122192928e5;let d=((c&268435455)*1e4+l)%4294967296;o[n++]=d>>>24&255,o[n++]=d>>>16&255,o[n++]=d>>>8&255,o[n++]=d&255;let f=c/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||ns(o)}var O$,gT,yT,_T,R$,A$=v(()=>{a();hT();Ic();yT=0,_T=0;R$=ove});function sve(e){if(!Wn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Am,ET=v(()=>{a();Ac();Am=sve});function ive(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Nc(e,t,r){function n(o,s,i,c){var l;if(typeof o=="string"&&(o=ive(o)),typeof s=="string"&&(s=Am(s)),((l=s)===null||l===void 0?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(s),u.set(o,s.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,i){c=c||0;for(let d=0;d<16;++d)i[c+d]=u[d];return i}return ns(u)}try{n.name=e}catch{}return n.DNS=ave,n.URL=cve,n}var ave,cve,vT=v(()=>{a();Ic();ET();ave="6ba7b810-9dad-11d1-80b4-00c04fd430c8",cve="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import lve from"crypto";function uve(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),lve.createHash("md5").update(e).digest()}var I$,N$=v(()=>{a();I$=uve});var dve,D$,M$=v(()=>{a();vT();N$();dve=Nc("v3",48,I$),D$=dve});import pve from"crypto";var ST,k$=v(()=>{a();ST={randomUUID:pve.randomUUID}});function fve(e,t,r){if(ST.randomUUID&&!t&&!e)return ST.randomUUID();e=e||{};let n=e.random||(e.rng||Rc)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return ns(n)}var L$,U$=v(()=>{a();k$();hT();Ic();L$=fve});import mve from"crypto";function hve(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),mve.createHash("sha1").update(e).digest()}var F$,B$=v(()=>{a();F$=hve});var gve,j$,H$=v(()=>{a();vT();B$();gve=Nc("v5",80,F$),j$=gve});var $$,q$=v(()=>{a();$$="00000000-0000-0000-0000-000000000000"});function yve(e){if(!Wn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var G$,z$=v(()=>{a();Ac();G$=yve});var V$={};Fe(V$,{NIL:()=>$$,parse:()=>Am,stringify:()=>x$,v1:()=>R$,v3:()=>D$,v4:()=>L$,v5:()=>j$,validate:()=>Wn,version:()=>G$});var W$=v(()=>{a();A$();M$();U$();H$();q$();z$();Ac();Ic();ET()});var TT=b(($Qe,X$)=>{a();var Im=Object.defineProperty,_ve=Object.getOwnPropertyDescriptor,Eve=Object.getOwnPropertyNames,vve=Object.prototype.hasOwnProperty,os=(e,t)=>Im(e,"name",{value:t,configurable:!0}),Sve=(e,t)=>{for(var r in t)Im(e,r,{get:t[r],enumerable:!0})},bve=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Eve(t))!vve.call(e,o)&&o!==r&&Im(e,o,{get:()=>t[o],enumerable:!(n=_ve(t,o))||n.enumerable});return e},Tve=e=>bve(Im({},"__esModule",{value:!0}),e),K$={};Sve(K$,{isBrowserNetworkError:()=>Y$,isClockSkewCorrectedError:()=>J$,isClockSkewError:()=>Ive,isRetryableByTrait:()=>Ave,isServerError:()=>Dve,isThrottlingError:()=>Nve,isTransientError:()=>bT});X$.exports=Tve(K$);var wve=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Pve=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Cve=["TimeoutError","RequestTimeout","RequestTimeoutException"],xve=[500,502,503,504],Ove=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Rve=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Ave=os(e=>e.$retryable!==void 0,"isRetryableByTrait"),Ive=os(e=>wve.includes(e.name),"isClockSkewError"),J$=os(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),Y$=os(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),Nve=os(e=>e.$metadata?.httpStatusCode===429||Pve.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),bT=os((e,t=0)=>J$(e)||Cve.includes(e.name)||Ove.includes(e?.code||"")||Rve.includes(e?.code||"")||xve.includes(e.$metadata?.httpStatusCode||0)||Y$(e)||e.cause!==void 0&&t<=10&&bT(e.cause,t+1),"isTransientError"),Dve=os(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!bT(e)}return!1},"isServerError")});var Dm=b((GQe,aq)=>{a();var Nm=Object.defineProperty,Mve=Object.getOwnPropertyDescriptor,kve=Object.getOwnPropertyNames,Lve=Object.prototype.hasOwnProperty,Yt=(e,t)=>Nm(e,"name",{value:t,configurable:!0}),Uve=(e,t)=>{for(var r in t)Nm(e,r,{get:t[r],enumerable:!0})},Fve=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kve(t))!Lve.call(e,o)&&o!==r&&Nm(e,o,{get:()=>t[o],enumerable:!(n=Mve(t,o))||n.enumerable});return e},Bve=e=>Fve(Nm({},"__esModule",{value:!0}),e),Z$={};Uve(Z$,{AdaptiveRetryStrategy:()=>zve,ConfiguredRetryStrategy:()=>Vve,DEFAULT_MAX_ATTEMPTS:()=>wT,DEFAULT_RETRY_DELAY_BASE:()=>Dc,DEFAULT_RETRY_MODE:()=>jve,DefaultRateLimiter:()=>tq,INITIAL_RETRY_TOKENS:()=>PT,INVOCATION_ID_HEADER:()=>$ve,MAXIMUM_RETRY_DELAY:()=>CT,NO_RETRY_INCREMENT:()=>iq,REQUEST_HEADER:()=>qve,RETRY_COST:()=>oq,RETRY_MODES:()=>eq,StandardRetryStrategy:()=>xT,THROTTLING_RETRY_DELAY_BASE:()=>nq,TIMEOUT_RETRY_COST:()=>sq});aq.exports=Bve(Z$);var eq=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(eq||{}),wT=3,jve="standard",Hve=TT(),tq=class rq{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Yt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>rq.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Hve.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Dc=100,CT=20*1e3,nq=500,PT=500,oq=5,sq=10,iq=1,$ve="amz-sdk-invocation-id",qve="amz-sdk-request",Gve=Yt(()=>{let e=Dc;return{computeNextBackoffDelay:Yt(n=>Math.floor(Math.min(CT,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Yt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Q$=Yt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Yt(()=>t,"getRetryCount"),getRetryDelay:Yt(()=>Math.min(CT,e),"getRetryDelay"),getRetryCost:Yt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),xT=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=PT,this.retryBackoffStrategy=Gve(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{Yt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return Q$({retryDelay:Dc,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?nq:Dc);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,Q$({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(PT,this.capacity+(e.getRetryCost()??iq))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${wT}`),wT}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?sq:oq}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},zve=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new tq,this.standardRetryStrategy=new xT(e)}static{Yt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},Vve=class extends xT{static{Yt(this,"ConfiguredRetryStrategy")}constructor(e,t=Dc){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var cq=b(Mm=>{"use strict";a();Object.defineProperty(Mm,"__esModule",{value:!0});Mm.isStreamingPayload=void 0;var Wve=L("stream"),Kve=e=>e?.body instanceof Wve.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Mm.isStreamingPayload=Kve});var Mc=b((XQe,Tq)=>{a();var km=Object.defineProperty,Jve=Object.getOwnPropertyDescriptor,Yve=Object.getOwnPropertyNames,Xve=Object.prototype.hasOwnProperty,Ae=(e,t)=>km(e,"name",{value:t,configurable:!0}),Qve=(e,t)=>{for(var r in t)km(e,r,{get:t[r],enumerable:!0})},Zve=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yve(t))!Xve.call(e,o)&&o!==r&&km(e,o,{get:()=>t[o],enumerable:!(n=Jve(t,o))||n.enumerable});return e},eSe=e=>Zve(km({},"__esModule",{value:!0}),e),uq={};Qve(uq,{AdaptiveRetryStrategy:()=>nSe,CONFIG_MAX_ATTEMPTS:()=>RT,CONFIG_RETRY_MODE:()=>yq,ENV_MAX_ATTEMPTS:()=>OT,ENV_RETRY_MODE:()=>gq,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>oSe,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>iSe,StandardRetryStrategy:()=>hq,defaultDelayDecider:()=>pq,defaultRetryDecider:()=>fq,getOmitRetryHeadersPlugin:()=>aSe,getRetryAfterHint:()=>bq,getRetryPlugin:()=>fSe,omitRetryHeadersMiddleware:()=>_q,omitRetryHeadersMiddlewareOptions:()=>Eq,resolveRetryConfig:()=>sSe,retryMiddleware:()=>vq,retryMiddlewareOptions:()=>Sq});Tq.exports=eSe(uq);var si=Ee(),dq=(W$(),V(V$)),ve=Dm(),tSe=Ae((e,t)=>{let r=e,n=t?.noRetryIncrement??ve.NO_RETRY_INCREMENT,o=t?.retryCost??ve.RETRY_COST,s=t?.timeoutRetryCost??ve.TIMEOUT_RETRY_COST,i=e,c=Ae(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),l=Ae(f=>c(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:Ae(f=>{if(!l(f))throw new Error("No retry token available");let h=c(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:Ae(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),pq=Ae((e,t)=>Math.floor(Math.min(ve.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Kn=TT(),fq=Ae(e=>e?(0,Kn.isRetryableByTrait)(e)||(0,Kn.isClockSkewError)(e)||(0,Kn.isThrottlingError)(e)||(0,Kn.isTransientError)(e):!1,"defaultRetryDecider"),mq=Ae(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),hq=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ve.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??fq,this.delayDecider=t?.delayDecider??pq,this.retryQuota=t?.retryQuota??tSe(ve.INITIAL_RETRY_TOKENS)}static{Ae(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ve.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:c}=t;for(si.HttpRequest.isInstance(c)&&(c.headers[ve.INVOCATION_ID_HEADER]=(0,dq.v4)());;)try{si.HttpRequest.isInstance(c)&&(c.headers[ve.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:l,output:u}=await e(t);return r?.afterRequest&&r.afterRequest(l),this.retryQuota.releaseRetryTokens(n),u.$metadata.attempts=o+1,u.$metadata.totalRetryDelay=s,{response:l,output:u}}catch(l){let u=mq(l);if(o++,this.shouldRetry(u,o,i)){n=this.retryQuota.retrieveRetryTokens(u);let d=this.delayDecider((0,Kn.isThrottlingError)(u)?ve.THROTTLING_RETRY_DELAY_BASE:ve.DEFAULT_RETRY_DELAY_BASE,o),f=rSe(u.$response),h=Math.max(f||0,d);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=o,u.$metadata.totalRetryDelay=s,u}}},rSe=Ae(e=>{if(!si.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),nSe=class extends hq{static{Ae(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ve.DefaultRateLimiter,this.mode=ve.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},lq=Qr(),OT="AWS_MAX_ATTEMPTS",RT="max_attempts",oSe={environmentVariableSelector:e=>{let t=e[OT];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${OT} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[RT];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${RT} mast be a number, got "${t}"`);return r},default:ve.DEFAULT_MAX_ATTEMPTS},sSe=Ae(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,lq.normalizeProvider)(n??ve.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,lq.normalizeProvider)(r)()===ve.RETRY_MODES.ADAPTIVE?new ve.AdaptiveRetryStrategy(o):new ve.StandardRetryStrategy(o))})},"resolveRetryConfig"),gq="AWS_RETRY_MODE",yq="retry_mode",iSe={environmentVariableSelector:e=>e[gq],configFileSelector:e=>e[yq],default:ve.DEFAULT_RETRY_MODE},_q=Ae(()=>e=>async t=>{let{request:r}=t;return si.HttpRequest.isInstance(r)&&(delete r.headers[ve.INVOCATION_ID_HEADER],delete r.headers[ve.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Eq={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},aSe=Ae(e=>({applyToStack:t=>{t.addRelativeTo(_q(),Eq)}}),"getOmitRetryHeadersPlugin"),cSe=ce(),lSe=cq(),vq=Ae(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(uSe(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),c=new Error,l=0,u=0,{request:d}=n,f=si.HttpRequest.isInstance(d);for(f&&(d.headers[ve.INVOCATION_ID_HEADER]=(0,dq.v4)());;)try{f&&(d.headers[ve.REQUEST_HEADER]=`attempt=${l+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=l+1,g.$metadata.totalRetryDelay=u,{response:h,output:g}}catch(h){let g=dSe(h);if(c=mq(h),f&&(0,lSe.isStreamingPayload)(d))throw(r.logger instanceof cSe.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=u,c}l=i.getRetryCount();let y=i.getRetryDelay();u+=y,await new Promise(_=>setTimeout(_,y))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),uSe=Ae(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),dSe=Ae(e=>{let t={error:e,errorType:pSe(e)},r=bq(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),pSe=Ae(e=>(0,Kn.isThrottlingError)(e)?"THROTTLING":(0,Kn.isTransientError)(e)?"TRANSIENT":(0,Kn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),Sq={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},fSe=Ae(e=>({applyToStack:t=>{t.add(vq(e),Sq)}}),"getRetryPlugin"),bq=Ae(e=>{if(!si.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});function mSe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function hSe(e){return{schemeId:"smithy.api#noAuth"}}var kc,wq,Pq,Cq,AT=v(()=>{a();Cr();kc=P(Qr()),wq=async(e,t,r)=>({operation:(0,kc.getSmithyContext)(t).operation,region:await(0,kc.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Pq=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(hSe(e));break}default:t.push(mSe(e))}return t},Cq=e=>{let t=Qs(e);return Object.assign(t,{authSchemePreference:(0,kc.normalizeProvider)(e.authSchemePreference??[])})}});var xq,Oq,IT=v(()=>{a();xq=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Oq={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Lm,NT=v(()=>{Lm={name:"@aws-sdk/nested-clients",version:"3.848.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var MT=b((a9e,kq)=>{"use strict";a();var Fm=Object.defineProperty,ySe=Object.getOwnPropertyDescriptor,_Se=Object.getOwnPropertyNames,ESe=Object.prototype.hasOwnProperty,Um=(e,t)=>Fm(e,"name",{value:t,configurable:!0}),vSe=(e,t)=>{for(var r in t)Fm(e,r,{get:t[r],enumerable:!0})},SSe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _Se(t))!ESe.call(e,o)&&o!==r&&Fm(e,o,{get:()=>t[o],enumerable:!(n=ySe(t,o))||n.enumerable});return e},bSe=e=>SSe(Fm({},"__esModule",{value:!0}),e),Aq={};vSe(Aq,{NODE_APP_ID_CONFIG_OPTIONS:()=>xSe,UA_APP_ID_ENV_NAME:()=>Dq,UA_APP_ID_INI_NAME:()=>Mq,createDefaultUserAgentProvider:()=>Nq,crtAvailability:()=>Iq,defaultUserAgent:()=>wSe});kq.exports=bSe(Aq);var Rq=L("os"),DT=L("process"),Iq={isCrtAvailable:!1},TSe=Um(()=>Iq.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Nq=Um(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,Rq.platform)()}`,(0,Rq.release)()],["lang/js"],["md/nodejs",`${DT.versions.node}`]],o=TSe();o&&n.push(o),e&&n.push([`api/${e}`,t]),DT.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${DT.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),wSe=Nq,PSe=dm(),Dq="AWS_SDK_UA_APP_ID",Mq="sdk_ua_app_id",CSe="sdk-ua-app-id",xSe={environmentVariableSelector:Um(e=>e[Dq],"environmentVariableSelector"),configFileSelector:Um(e=>e[Mq]??e[CSe],"configFileSelector"),default:PSe.DEFAULT_UA_APP_ID}});var UT=b((l9e,Bq)=>{a();var Bm=Object.defineProperty,OSe=Object.getOwnPropertyDescriptor,RSe=Object.getOwnPropertyNames,ASe=Object.prototype.hasOwnProperty,Uq=(e,t)=>Bm(e,"name",{value:t,configurable:!0}),ISe=(e,t)=>{for(var r in t)Bm(e,r,{get:t[r],enumerable:!0})},NSe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RSe(t))!ASe.call(e,o)&&o!==r&&Bm(e,o,{get:()=>t[o],enumerable:!(n=OSe(t,o))||n.enumerable});return e},DSe=e=>NSe(Bm({},"__esModule",{value:!0}),e),Fq={};ISe(Fq,{Hash:()=>LSe});Bq.exports=DSe(Fq);var kT=$s(),MSe=it(),kSe=L("buffer"),Lq=L("crypto"),LSe=class{static{Uq(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,MSe.toUint8Array)(LT(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Lq.createHmac)(this.algorithmIdentifier,LT(this.secret)):(0,Lq.createHash)(this.algorithmIdentifier)}};function LT(e,t){return kSe.Buffer.isBuffer(e)?e:typeof e=="string"?(0,kT.fromString)(e,t):ArrayBuffer.isView(e)?(0,kT.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,kT.fromArrayBuffer)(e)}Uq(LT,"castSourceData")});var FT=b((p9e,$q)=>{a();var jm=Object.defineProperty,USe=Object.getOwnPropertyDescriptor,FSe=Object.getOwnPropertyNames,BSe=Object.prototype.hasOwnProperty,jSe=(e,t)=>jm(e,"name",{value:t,configurable:!0}),HSe=(e,t)=>{for(var r in t)jm(e,r,{get:t[r],enumerable:!0})},$Se=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of FSe(t))!BSe.call(e,o)&&o!==r&&jm(e,o,{get:()=>t[o],enumerable:!(n=USe(t,o))||n.enumerable});return e},qSe=e=>$Se(jm({},"__esModule",{value:!0}),e),Hq={};HSe(Hq,{calculateBodyLength:()=>GSe});$q.exports=qSe(Hq);var jq=L("fs"),GSe=jSe(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,jq.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,jq.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Qq,qt,qq,Lc,ii,ai,an,BT,jT,Gq,zq,Vq,Zq,eG,$t,Wq,tG,Kq,Jq,Yq,Xq,zSe,rG,nG=v(()=>{a();Qq="required",qt="argv",qq="isSet",Lc="booleanEquals",ii="error",ai="endpoint",an="tree",BT="PartitionResult",jT="getAttr",Gq={[Qq]:!1,type:"String"},zq={[Qq]:!0,default:!1,type:"Boolean"},Vq={ref:"Endpoint"},Zq={fn:Lc,[qt]:[{ref:"UseFIPS"},!0]},eG={fn:Lc,[qt]:[{ref:"UseDualStack"},!0]},$t={},Wq={fn:jT,[qt]:[{ref:BT},"supportsFIPS"]},tG={ref:BT},Kq={fn:Lc,[qt]:[!0,{fn:jT,[qt]:[tG,"supportsDualStack"]}]},Jq=[Zq],Yq=[eG],Xq=[{ref:"Region"}],zSe={version:"1.0",parameters:{Region:Gq,UseDualStack:zq,UseFIPS:zq,Endpoint:Gq},rules:[{conditions:[{fn:qq,[qt]:[Vq]}],rules:[{conditions:Jq,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ii},{conditions:Yq,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ii},{endpoint:{url:Vq,properties:$t,headers:$t},type:ai}],type:an},{conditions:[{fn:qq,[qt]:Xq}],rules:[{conditions:[{fn:"aws.partition",[qt]:Xq,assign:BT}],rules:[{conditions:[Zq,eG],rules:[{conditions:[{fn:Lc,[qt]:[!0,Wq]},Kq],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$t,headers:$t},type:ai}],type:an},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ii}],type:an},{conditions:Jq,rules:[{conditions:[{fn:Lc,[qt]:[Wq,!0]}],rules:[{conditions:[{fn:"stringEquals",[qt]:[{fn:jT,[qt]:[tG,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:$t,headers:$t},type:ai},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:$t,headers:$t},type:ai}],type:an},{error:"FIPS is enabled but this partition does not support FIPS",type:ii}],type:an},{conditions:Yq,rules:[{conditions:[Kq],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$t,headers:$t},type:ai}],type:an},{error:"DualStack is enabled but this partition does not support DualStack",type:ii}],type:an},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:$t,headers:$t},type:ai}],type:an}],type:an},{error:"Invalid Configuration: Missing Region",type:ii}]},rG=zSe});var oG,ci,VSe,sG,iG=v(()=>{a();oG=P(Lf()),ci=P(Nf());nG();VSe=new ci.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),sG=(e,t={})=>VSe.get(e,()=>(0,ci.resolveEndpoint)(rG,{endpointParams:e,logger:t.logger}));ci.customEndpointFunctions.aws=oG.awsEndpointFunctions});var aG,cG,Hm,$m,lG,uG=v(()=>{a();Cr();Kt();aG=P(ce()),cG=P(Js()),Hm=P(St()),$m=P(it());AT();iG();lG=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Hm.fromBase64,base64Encoder:e?.base64Encoder??Hm.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sG,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Pq,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new bt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nn}],logger:e?.logger??new aG.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??cG.parseUrl,utf8Decoder:e?.utf8Decoder??$m.fromUtf8,utf8Encoder:e?.utf8Encoder??$m.toUtf8})});var PG=b((P9e,wG)=>{a();var zm=Object.defineProperty,WSe=Object.getOwnPropertyDescriptor,KSe=Object.getOwnPropertyNames,JSe=Object.prototype.hasOwnProperty,Ie=(e,t)=>zm(e,"name",{value:t,configurable:!0}),YSe=(e,t)=>{for(var r in t)zm(e,r,{get:t[r],enumerable:!0})},XSe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KSe(t))!JSe.call(e,o)&&o!==r&&zm(e,o,{get:()=>t[o],enumerable:!(n=WSe(t,o))||n.enumerable});return e},QSe=e=>XSe(zm({},"__esModule",{value:!0}),e),mG={};YSe(mG,{DEFAULT_MAX_RETRIES:()=>_G,DEFAULT_TIMEOUT:()=>yG,ENV_CMDS_AUTH_TOKEN:()=>qT,ENV_CMDS_FULL_URI:()=>qm,ENV_CMDS_RELATIVE_URI:()=>Gm,Endpoint:()=>vG,fromContainerMetadata:()=>rbe,fromInstanceMetadata:()=>Tbe,getInstanceMetadataEndpoint:()=>bG,httpRequest:()=>li,providerConfigFromInit:()=>GT});wG.exports=QSe(mG);var ZSe=L("url"),Or=fc(),ebe=L("buffer"),tbe=L("http");function li(e){return new Promise((t,r)=>{let n=(0,tbe.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Or.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Or.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new Or.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",c=>{i.push(c)}),o.on("end",()=>{t(ebe.Buffer.concat(i)),n.destroy()})}),n.end()})}Ie(li,"httpRequest");var hG=Ie(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),gG=Ie(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),yG=1e3,_G=0,GT=Ie(({maxRetries:e=_G,timeout:t=yG})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),$T=Ie((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),qm="AWS_CONTAINER_CREDENTIALS_FULL_URI",Gm="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",qT="AWS_CONTAINER_AUTHORIZATION_TOKEN",rbe=Ie((e={})=>{let{timeout:t,maxRetries:r}=GT(e);return()=>$T(async()=>{let n=await abe({logger:e.logger}),o=JSON.parse(await nbe(t,n));if(!hG(o))throw new Or.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return gG(o)},r)},"fromContainerMetadata"),nbe=Ie(async(e,t)=>(process.env[qT]&&(t.headers={...t.headers,Authorization:process.env[qT]}),(await li({...t,timeout:e})).toString()),"requestFromEcsImds"),obe="169.254.170.2",sbe={localhost:!0,"127.0.0.1":!0},ibe={"http:":!0,"https:":!0},abe=Ie(async({logger:e})=>{if(process.env[Gm])return{hostname:obe,path:process.env[Gm]};if(process.env[qm]){let t=(0,ZSe.parse)(process.env[qm]);if(!t.hostname||!(t.hostname in sbe))throw new Or.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in ibe))throw new Or.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Or.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Gm} or ${qm} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),cbe=class EG extends Or.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,EG.prototype)}static{Ie(this,"InstanceMetadataV1FallbackError")}},zT=ni(),lbe=Js(),vG=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(vG||{}),ube="AWS_EC2_METADATA_SERVICE_ENDPOINT",dbe="ec2_metadata_service_endpoint",pbe={environmentVariableSelector:e=>e[ube],configFileSelector:e=>e[dbe],default:void 0},SG=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(SG||{}),fbe="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",mbe="ec2_metadata_service_endpoint_mode",hbe={environmentVariableSelector:e=>e[fbe],configFileSelector:e=>e[mbe],default:"IPv4"},bG=Ie(async()=>(0,lbe.parseUrl)(await gbe()||await ybe()),"getInstanceMetadataEndpoint"),gbe=Ie(async()=>(0,zT.loadConfig)(pbe)(),"getFromEndpointConfig"),ybe=Ie(async()=>{let e=await(0,zT.loadConfig)(hbe)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(SG)}`)}},"getFromEndpointModeConfig"),_be=300,Ebe=300,vbe="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",dG=Ie((e,t)=>{let r=_be+Math.floor(Math.random()*Ebe),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+vbe);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Sbe=Ie((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=dG(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=dG(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),TG="/latest/meta-data/iam/security-credentials/",bbe="/latest/api/token",HT="AWS_EC2_METADATA_V1_DISABLED",pG="ec2_metadata_v1_disabled",fG="x-aws-ec2-metadata-token",Tbe=Ie((e={})=>Sbe(wbe(e),{logger:e.logger}),"fromInstanceMetadata"),wbe=Ie((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=GT(e),i=Ie(async(c,l)=>{if(t||l.headers?.[fG]==null){let f=!1,h=!1,g=await(0,zT.loadConfig)({environmentVariableSelector:y=>{let _=y[HT];if(h=!!_&&_!=="false",_===void 0)throw new Or.CredentialsProviderError(`${HT} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:y=>{let _=y[pG];return f=!!_&&_!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let y=[];throw e.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&y.push(`config file profile (${pG})`),h&&y.push(`process environment variable (${HT})`),new cbe(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let d=(await $T(async()=>{let f;try{f=await Cbe(l)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},c)).trim();return $T(async()=>{let f;try{f=await xbe(d,l,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},c)},"getCredentials");return async()=>{let c=await bG();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...c,timeout:o});{let l;try{l=(await Pbe({...c,timeout:o})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...c,timeout:o})}return i(s,{...c,headers:{[fG]:l},timeout:o})}}},"getInstanceMetadataProvider"),Pbe=Ie(async e=>li({...e,path:bbe,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Cbe=Ie(async e=>(await li({...e,path:TG})).toString(),"getProfile"),xbe=Ie(async(e,t,r)=>{let n=JSON.parse((await li({...t,path:TG+e})).toString());if(!hG(n))throw new Or.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return gG(n)},"getCredentialsFromProfile")});var WT=b((x9e,IG)=>{a();var Obe=Object.create,Uc=Object.defineProperty,Rbe=Object.getOwnPropertyDescriptor,Abe=Object.getOwnPropertyNames,Ibe=Object.getPrototypeOf,Nbe=Object.prototype.hasOwnProperty,VT=(e,t)=>Uc(e,"name",{value:t,configurable:!0}),Dbe=(e,t)=>{for(var r in t)Uc(e,r,{get:t[r],enumerable:!0})},RG=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Abe(t))!Nbe.call(e,o)&&o!==r&&Uc(e,o,{get:()=>t[o],enumerable:!(n=Rbe(t,o))||n.enumerable});return e},Mbe=(e,t,r)=>(r=e!=null?Obe(Ibe(e)):{},RG(t||!e||!e.__esModule?Uc(r,"default",{value:e,enumerable:!0}):r,e)),kbe=e=>RG(Uc({},"__esModule",{value:!0}),e),AG={};Dbe(AG,{resolveDefaultsModeConfig:()=>zbe});IG.exports=kbe(AG);var Lbe=ei(),CG=ni(),Ube=fc(),Fbe="AWS_EXECUTION_ENV",xG="AWS_REGION",OG="AWS_DEFAULT_REGION",Bbe="AWS_EC2_METADATA_DISABLED",jbe=["in-region","cross-region","mobile","standard","legacy"],Hbe="/latest/meta-data/placement/region",$be="AWS_DEFAULTS_MODE",qbe="defaults_mode",Gbe={environmentVariableSelector:e=>e[$be],configFileSelector:e=>e[qbe],default:"legacy"},zbe=VT(({region:e=(0,CG.loadConfig)(Lbe.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,CG.loadConfig)(Gbe)}={})=>(0,Ube.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Vbe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${jbe.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Vbe=VT(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Wbe();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Wbe=VT(async()=>{if(process.env[Fbe]&&(process.env[xG]||process.env[OG]))return process.env[xG]??process.env[OG];if(!process.env[Bbe])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Mbe(PG())),r=await e();return(await t({...r,path:Hbe})).toString()}catch{}},"inferPhysicalRegion")});var Vm,Yn,NG,Wm,Jn,Km,DG,MG,kG,LG,UG,FG,BG=v(()=>{a();NT();Cr();Vm=P(MT()),Yn=P(ei()),NG=P(UT()),Wm=P(Mc()),Jn=P(ni()),Km=P(pf()),DG=P(FT()),MG=P(Dm());uG();kG=P(ce()),LG=P(WT()),UG=P(ce()),FG=e=>{(0,UG.emitWarningIfUnsupportedVersion)(process.version);let t=(0,LG.resolveDefaultsModeConfig)(e),r=()=>t().then(kG.loadConfigsForDefaultMode),n=lG(e);lc(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Jn.loadConfig)(pc,o),bodyLengthChecker:e?.bodyLengthChecker??DG.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Vm.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Lm.version}),maxAttempts:e?.maxAttempts??(0,Jn.loadConfig)(Wm.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Jn.loadConfig)(Yn.NODE_REGION_CONFIG_OPTIONS,{...Yn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Km.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Jn.loadConfig)({...Wm.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||MG.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??NG.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Km.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jn.loadConfig)(Yn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Jn.loadConfig)(Yn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Jn.loadConfig)(Vm.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var KT=b((M9e,zG)=>{"use strict";a();var Jm=Object.defineProperty,Kbe=Object.getOwnPropertyDescriptor,Jbe=Object.getOwnPropertyNames,Ybe=Object.prototype.hasOwnProperty,Rr=(e,t)=>Jm(e,"name",{value:t,configurable:!0}),Xbe=(e,t)=>{for(var r in t)Jm(e,r,{get:t[r],enumerable:!0})},Qbe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jbe(t))!Ybe.call(e,o)&&o!==r&&Jm(e,o,{get:()=>t[o],enumerable:!(n=Kbe(t,o))||n.enumerable});return e},Zbe=e=>Qbe(Jm({},"__esModule",{value:!0}),e),HG={};Xbe(HG,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>nTe,NODE_REGION_CONFIG_OPTIONS:()=>rTe,REGION_ENV_NAME:()=>$G,REGION_INI_NAME:()=>qG,getAwsRegionExtensionConfiguration:()=>eTe,resolveAwsRegionExtensionConfiguration:()=>tTe,resolveRegionConfig:()=>oTe});zG.exports=Zbe(HG);var eTe=Rr(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),tTe=Rr(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),$G="AWS_REGION",qG="region",rTe={environmentVariableSelector:Rr(e=>e[$G],"environmentVariableSelector"),configFileSelector:Rr(e=>e[qG],"configFileSelector"),default:Rr(()=>{throw new Error("Region is missing")},"default")},nTe={preferredFile:"credentials"},GG=Rr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),jG=Rr(e=>GG(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),oTe=Rr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:Rr(async()=>{if(typeof t=="string")return jG(t);let n=await t();return jG(n)},"region"),useFipsEndpoint:Rr(async()=>{let n=typeof t=="string"?t:await t();return GG(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var VG,WG,KG=v(()=>{a();VG=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},WG=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Ym,Xm,Qm,JG,YG=v(()=>{a();Ym=P(KT()),Xm=P(Ee()),Qm=P(ce());KG();JG=(e,t)=>{let r=Object.assign((0,Ym.getAwsRegionExtensionConfiguration)(e),(0,Qm.getDefaultExtensionConfiguration)(e),(0,Xm.getHttpHandlerExtensionConfiguration)(e),VG(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Ym.resolveAwsRegionExtensionConfiguration)(r),(0,Qm.resolveDefaultRuntimeConfig)(r),(0,Xm.resolveHttpHandlerRuntimeConfig)(r),WG(r))}});var Zm,XG,QG,eh,ZG,ez,tz,th,JT,Fc,YT=v(()=>{a();Zm=P(Nv()),XG=P(Mv()),QG=P(Lv()),eh=P(dm()),ZG=P(ei());Kt();ez=P(nT()),tz=P(oi()),th=P(Mc()),JT=P(ce());AT();IT();BG();YG();Fc=class extends JT.Client{config;constructor(...[t]){let r=FG(t||{});super(r),this.initConfig=r;let n=xq(r),o=(0,eh.resolveUserAgentConfig)(n),s=(0,th.resolveRetryConfig)(o),i=(0,ZG.resolveRegionConfig)(s),c=(0,Zm.resolveHostHeaderConfig)(i),l=(0,tz.resolveEndpointConfig)(c),u=Cq(l),d=JG(u,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,eh.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,th.getRetryPlugin)(this.config)),this.middlewareStack.use((0,ez.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Zm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,XG.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,QG.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(qa(this.config,{httpAuthSchemeParametersProvider:wq,identityProviderConfigProvider:async f=>new Vo({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Ga(this.config))}destroy(){super.destroy()}}});var rz,Be,rh=v(()=>{a();rz=P(ce()),Be=class e extends rz.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var ss,Bc,jc,XT,QT,Hc,$c,qc,Gc,zc,Vc,Wc,Kc,Jc,nh=v(()=>{a();ss=P(ce());rh();Bc=class e extends Be{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},jc=class e extends Be{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},XT=e=>({...e,...e.clientSecret&&{clientSecret:ss.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ss.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:ss.SENSITIVE_STRING}}),QT=e=>({...e,...e.accessToken&&{accessToken:ss.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:ss.SENSITIVE_STRING},...e.idToken&&{idToken:ss.SENSITIVE_STRING}}),Hc=class e extends Be{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$c=class e extends Be{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qc=class e extends Be{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gc=class e extends Be{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zc=class e extends Be{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vc=class e extends Be{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Wc=class e extends Be{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Kc=class e extends Be{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Jc=class e extends Be{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var I,nz,oz,sTe,iTe,aTe,cTe,lTe,uTe,dTe,pTe,fTe,mTe,hTe,gTe,yTe,Gt,sz=v(()=>{a();Cr();Kt();I=P(ce());nh();rh();nz=async(e,t)=>{let r=ic(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,I.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,I._json)(s)})),r.m("POST").h(n).b(o),r.build()},oz=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return sTe(e,t);let r=(0,I.map)({$metadata:Gt(e)}),n=(0,I.expectNonNull)((0,I.expectObject)(await Zs(e.body,t)),"body"),o=(0,I.take)(n,{accessToken:I.expectString,expiresIn:I.expectInt32,idToken:I.expectString,refreshToken:I.expectString,tokenType:I.expectString});return Object.assign(r,o),r},sTe=async(e,t)=>{let r={...e,body:await Ab(e.body,t)},n=Yo(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await aTe(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await cTe(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await lTe(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await uTe(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await dTe(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await pTe(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await fTe(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await mTe(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await hTe(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await gTe(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await yTe(r,t);default:let o=r.body;return iTe({output:e,parsedBody:o,errorCode:n})}},iTe=(0,I.withBaseException)(Be),aTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new Bc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},cTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new jc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},lTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new Hc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},uTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new $c({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},dTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new qc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},pTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new Gc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},fTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new zc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},mTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new Vc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},hTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new Wc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},gTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new Kc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},yTe=async(e,t)=>{let r=(0,I.map)({}),n=e.body,o=(0,I.take)(n,{error:I.expectString,error_description:I.expectString});Object.assign(r,o);let s=new Jc({$metadata:Gt(e),...r});return(0,I.decorateServiceException)(s,e.body)},Gt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var iz,az,ZT,Yc,ew=v(()=>{a();iz=P(oi()),az=P(Hs()),ZT=P(ce());IT();nh();sz();Yc=class extends ZT.Command.classBuilder().ep(Oq).m(function(t,r,n,o){return[(0,az.getSerdePlugin)(n,this.serialize,this.deserialize),(0,iz.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(XT,QT).ser(nz).de(oz).build(){}});var cz,_Te,oh,lz=v(()=>{a();cz=P(ce());ew();YT();_Te={CreateTokenCommand:Yc},oh=class extends Fc{};(0,cz.createAggregatedClient)(_Te,oh)});var uz=v(()=>{a();ew()});var dz=v(()=>{a();nh()});var tw={};Fe(tw,{$Command:()=>ZT.Command,AccessDeniedException:()=>Bc,AuthorizationPendingException:()=>jc,CreateTokenCommand:()=>Yc,CreateTokenRequestFilterSensitiveLog:()=>XT,CreateTokenResponseFilterSensitiveLog:()=>QT,ExpiredTokenException:()=>Hc,InternalServerException:()=>$c,InvalidClientException:()=>qc,InvalidGrantException:()=>Gc,InvalidRequestException:()=>zc,InvalidScopeException:()=>Vc,SSOOIDC:()=>oh,SSOOIDCClient:()=>Fc,SSOOIDCServiceException:()=>Be,SlowDownException:()=>Wc,UnauthorizedClientException:()=>Kc,UnsupportedGrantTypeException:()=>Jc,__Client:()=>JT.Client});var rw=v(()=>{a();YT();lz();uz();dz();rh()});var Ez=b((C7e,_z)=>{"use strict";a();var ETe=Object.create,Qc=Object.defineProperty,vTe=Object.getOwnPropertyDescriptor,STe=Object.getOwnPropertyNames,bTe=Object.getPrototypeOf,TTe=Object.prototype.hasOwnProperty,cn=(e,t)=>Qc(e,"name",{value:t,configurable:!0}),wTe=(e,t)=>{for(var r in t)Qc(e,r,{get:t[r],enumerable:!0})},mz=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of STe(t))!TTe.call(e,o)&&o!==r&&Qc(e,o,{get:()=>t[o],enumerable:!(n=vTe(t,o))||n.enumerable});return e},hz=(e,t,r)=>(r=e!=null?ETe(bTe(e)):{},mz(t||!e||!e.__esModule?Qc(r,"default",{value:e,enumerable:!0}):r,e)),PTe=e=>mz(Qc({},"__esModule",{value:!0}),e),gz={};wTe(gz,{fromEnvSigningName:()=>OTe,fromSso:()=>yz,fromStatic:()=>kTe,nodeProvider:()=>LTe});_z.exports=PTe(gz);var CTe=(fr(),V(bn)),xTe=(G_(),V(XI)),wt=ot(),OTe=cn(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new wt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,xTe.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new wt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,CTe.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),RTe=300*1e3,nw="To refresh this SSO session run 'aws sso login' with the corresponding profile.",ATe=cn(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>hz((rw(),V(tw))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),ITe=cn(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>hz((rw(),V(tw))));return(await ATe(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),pz=cn(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new wt.TokenProviderError(`Token is expired. ${nw}`,!1)},"validateTokenExpiry"),is=cn((e,t,r=!1)=>{if(typeof t>"u")throw new wt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${nw}`,!1)},"validateTokenKey"),Xc=Dn(),NTe=L("fs"),{writeFile:DTe}=NTe.promises,MTe=cn((e,t)=>{let r=(0,Xc.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return DTe(r,n)},"writeSSOTokenToFile"),fz=new Date(0),yz=cn((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Xc.parseKnownFiles)(r),o=(0,Xc.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new wt.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new wt.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,l=(await(0,Xc.loadSsoSessionData)(r))[i];if(!l)throw new wt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!l[_])throw new wt.TokenProviderError(`Sso session '${i}' is missing required property '${_}'.`,!1);let u=l.sso_start_url,d=l.sso_region,f;try{f=await(0,Xc.getSSOTokenFromFile)(i)}catch{throw new wt.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${nw}`,!1)}is("accessToken",f.accessToken),is("expiresAt",f.expiresAt);let{accessToken:h,expiresAt:g}=f,y={token:h,expiration:new Date(g)};if(y.expiration.getTime()-Date.now()>RTe)return y;if(Date.now()-fz.getTime()<30*1e3)return pz(y),y;is("clientId",f.clientId,!0),is("clientSecret",f.clientSecret,!0),is("refreshToken",f.refreshToken,!0);try{fz.setTime(Date.now());let _=await ITe(f,d,r);is("accessToken",_.accessToken),is("expiresIn",_.expiresIn);let S=new Date(Date.now()+_.expiresIn*1e3);try{await MTe(i,{...f,accessToken:_.accessToken,expiresAt:S.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:S}}catch{return pz(y),y}},"fromSso"),kTe=cn(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new wt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),LTe=cn((e={})=>(0,wt.memoize)((0,wt.chain)(yz(e),async()=>{throw new wt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var sw=b((O7e,Oz)=>{"use strict";a();var ih=Object.defineProperty,UTe=Object.getOwnPropertyDescriptor,bz=Object.getOwnPropertyNames,FTe=Object.prototype.hasOwnProperty,ah=(e,t)=>ih(e,"name",{value:t,configurable:!0}),BTe=(e,t)=>function(){return e&&(t=(0,e[bz(e)[0]])(e=0)),t},Tz=(e,t)=>{for(var r in t)ih(e,r,{get:t[r],enumerable:!0})},jTe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bz(t))!FTe.call(e,o)&&o!==r&&ih(e,o,{get:()=>t[o],enumerable:!(n=UTe(t,o))||n.enumerable});return e},HTe=e=>jTe(ih({},"__esModule",{value:!0}),e),wz={};Tz(wz,{GetRoleCredentialsCommand:()=>ow.GetRoleCredentialsCommand,SSOClient:()=>ow.SSOClient});var ow,$Te=BTe({"src/loadSso.ts"(){"use strict";ow=L1()}}),Pz={};Tz(Pz,{fromSSO:()=>GTe,isSsoProfile:()=>Cz,validateSsoProfile:()=>xz});Oz.exports=HTe(Pz);var Cz=ah(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),vz=(fr(),V(bn)),qTe=Ez(),Xt=ot(),sh=Dn(),Zc=!1,Sz=ah(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:c,profile:l,logger:u})=>{let d,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let oe=await(0,qTe.fromSso)({profile:l})();d={accessToken:oe.token,expiresAt:new Date(oe.expiration).toISOString()}}catch(oe){throw new Xt.CredentialsProviderError(oe.message,{tryNextLink:Zc,logger:u})}else try{d=await(0,sh.getSSOTokenFromFile)(e)}catch{throw new Xt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Zc,logger:u})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new Xt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Zc,logger:u});let{accessToken:h}=d,{SSOClient:g,GetRoleCredentialsCommand:y}=await Promise.resolve().then(()=>($Te(),wz)),_=s||new g(Object.assign({},i??{},{logger:i?.logger??c?.logger,region:i?.region??n})),S;try{S=await _.send(new y({accountId:r,roleName:o,accessToken:h}))}catch(oe){throw new Xt.CredentialsProviderError(oe,{tryNextLink:Zc,logger:u})}let{roleCredentials:{accessKeyId:T,secretAccessKey:w,sessionToken:C,expiration:O,credentialScope:x,accountId:A}={}}=S;if(!T||!w||!C||!O)throw new Xt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Zc,logger:u});let le={accessKeyId:T,secretAccessKey:w,sessionToken:C,expiration:new Date(O),...x&&{credentialScope:x},...A&&{accountId:A}};return t?(0,vz.setCredentialFeature)(le,"CREDENTIALS_SSO","s"):(0,vz.setCredentialFeature)(le,"CREDENTIALS_SSO_LEGACY","u"),le},"resolveSSOCredentials"),xz=ah((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Xt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),GTe=ah((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:c}=e,l=(0,sh.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let d=(await(0,sh.parseKnownFiles)(e))[l];if(!d)throw new Xt.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!Cz(d))throw new Xt.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(d?.sso_session){let T=(await(0,sh.loadSsoSessionData)(e))[d.sso_session],w=` configurations in profile ${l} and sso-session ${d.sso_session}`;if(o&&o!==T.sso_region)throw new Xt.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==T.sso_start_url)throw new Xt.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});d.sso_region=T.sso_region,d.sso_start_url=T.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:g,sso_role_name:y,sso_session:_}=xz(d,e.logger);return Sz({ssoStartUrl:f,ssoSession:_,ssoAccountId:h,ssoRegion:g,ssoRoleName:y,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l})}else{if(!r||!n||!o||!s)throw new Xt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return Sz({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l})}},"fromSSO")});function zTe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function VTe(e){return{schemeId:"smithy.api#noAuth"}}var el,Rz,Az,WTe,Iz,iw=v(()=>{a();Cr();el=P(Qr());tl();Rz=async(e,t,r)=>({operation:(0,el.getSmithyContext)(t).operation,region:await(0,el.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Az=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(VTe(e));break}default:t.push(zTe(e))}return t},WTe=e=>Object.assign(e,{stsClientCtor:Ar}),Iz=e=>{let t=WTe(e),r=Qs(t);return Object.assign(r,{authSchemePreference:(0,el.normalizeProvider)(e.authSchemePreference??[])})}});var Nz,ch,lh=v(()=>{a();Nz=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),ch={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var qz,K,se,Xn,Ke,Gz,zz,ge,Dz,Ir,ui,cw,Mz,aw,Vz,kz,Je,Lz,Wz,Kz,et,Pt,Uz,Jz,Yz,Fz,Xz,Bz,jz,Hz,$z,KTe,Qz,Zz=v(()=>{a();qz="required",K="type",se="argv",Xn="booleanEquals",Ke="stringEquals",Gz="sigv4",zz="us-east-1",ge="endpoint",Dz="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ir="tree",ui="error",cw="getAttr",Mz={[qz]:!1,[K]:"String"},aw={[qz]:!0,default:!1,[K]:"Boolean"},Vz={ref:"Endpoint"},kz={fn:"isSet",[se]:[{ref:"Region"}]},Je={ref:"Region"},Lz={fn:"aws.partition",[se]:[Je],assign:"PartitionResult"},Wz={ref:"UseFIPS"},Kz={ref:"UseDualStack"},et={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Gz,signingName:"sts",signingRegion:zz}]},headers:{}},Pt={},Uz={conditions:[{fn:Ke,[se]:[Je,"aws-global"]}],[ge]:et,[K]:ge},Jz={fn:Xn,[se]:[Wz,!0]},Yz={fn:Xn,[se]:[Kz,!0]},Fz={fn:cw,[se]:[{ref:"PartitionResult"},"supportsFIPS"]},Xz={ref:"PartitionResult"},Bz={fn:Xn,[se]:[!0,{fn:cw,[se]:[Xz,"supportsDualStack"]}]},jz=[{fn:"isSet",[se]:[Vz]}],Hz=[Jz],$z=[Yz],KTe={version:"1.0",parameters:{Region:Mz,UseDualStack:aw,UseFIPS:aw,Endpoint:Mz,UseGlobalEndpoint:aw},rules:[{conditions:[{fn:Xn,[se]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[se]:jz},kz,Lz,{fn:Xn,[se]:[Wz,!1]},{fn:Xn,[se]:[Kz,!1]}],rules:[{conditions:[{fn:Ke,[se]:[Je,"ap-northeast-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"ap-south-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"ap-southeast-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"ap-southeast-2"]}],endpoint:et,[K]:ge},Uz,{conditions:[{fn:Ke,[se]:[Je,"ca-central-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"eu-central-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"eu-north-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"eu-west-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"eu-west-2"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"eu-west-3"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"sa-east-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,zz]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"us-east-2"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"us-west-1"]}],endpoint:et,[K]:ge},{conditions:[{fn:Ke,[se]:[Je,"us-west-2"]}],endpoint:et,[K]:ge},{endpoint:{url:Dz,properties:{authSchemes:[{name:Gz,signingName:"sts",signingRegion:"{Region}"}]},headers:Pt},[K]:ge}],[K]:Ir},{conditions:jz,rules:[{conditions:Hz,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[K]:ui},{conditions:$z,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[K]:ui},{endpoint:{url:Vz,properties:Pt,headers:Pt},[K]:ge}],[K]:Ir},{conditions:[kz],rules:[{conditions:[Lz],rules:[{conditions:[Jz,Yz],rules:[{conditions:[{fn:Xn,[se]:[!0,Fz]},Bz],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pt,headers:Pt},[K]:ge}],[K]:Ir},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[K]:ui}],[K]:Ir},{conditions:Hz,rules:[{conditions:[{fn:Xn,[se]:[Fz,!0]}],rules:[{conditions:[{fn:Ke,[se]:[{fn:cw,[se]:[Xz,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Pt,headers:Pt},[K]:ge},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Pt,headers:Pt},[K]:ge}],[K]:Ir},{error:"FIPS is enabled but this partition does not support FIPS",[K]:ui}],[K]:Ir},{conditions:$z,rules:[{conditions:[Bz],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pt,headers:Pt},[K]:ge}],[K]:Ir},{error:"DualStack is enabled but this partition does not support DualStack",[K]:ui}],[K]:Ir},Uz,{endpoint:{url:Dz,properties:Pt,headers:Pt},[K]:ge}],[K]:Ir}],[K]:Ir},{error:"Invalid Configuration: Missing Region",[K]:ui}]},Qz=KTe});var eV,di,JTe,tV,rV=v(()=>{a();eV=P(Lf()),di=P(Nf());Zz();JTe=new di.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),tV=(e,t={})=>JTe.get(e,()=>(0,di.resolveEndpoint)(Qz,{endpointParams:e,logger:t.logger}));di.customEndpointFunctions.aws=eV.awsEndpointFunctions});var nV,oV,uh,dh,sV,iV=v(()=>{a();Cr();Kt();nV=P(ce()),oV=P(Js()),uh=P(St()),dh=P(it());iw();rV();sV=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??uh.fromBase64,base64Encoder:e?.base64Encoder??uh.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tV,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Az,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new bt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nn}],logger:e?.logger??new nV.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??oV.parseUrl,utf8Decoder:e?.utf8Decoder??dh.fromUtf8,utf8Encoder:e?.utf8Encoder??dh.toUtf8})});var ph,Zn,aV,fh,Qn,mh,cV,lV,uV,dV,pV,fV,mV=v(()=>{a();NT();Cr();ph=P(MT()),Zn=P(ei());Kt();aV=P(UT()),fh=P(Mc()),Qn=P(ni()),mh=P(pf()),cV=P(FT()),lV=P(Dm());iV();uV=P(ce()),dV=P(WT()),pV=P(ce()),fV=e=>{(0,pV.emitWarningIfUnsupportedVersion)(process.version);let t=(0,dV.resolveDefaultsModeConfig)(e),r=()=>t().then(uV.loadConfigsForDefaultMode),n=sV(e);lc(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Qn.loadConfig)(pc,o),bodyLengthChecker:e?.bodyLengthChecker??cV.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ph.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Lm.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new bt},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nn}],maxAttempts:e?.maxAttempts??(0,Qn.loadConfig)(fh.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Qn.loadConfig)(Zn.NODE_REGION_CONFIG_OPTIONS,{...Zn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:mh.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Qn.loadConfig)({...fh.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||lV.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??aV.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??mh.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Qn.loadConfig)(Zn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Qn.loadConfig)(Zn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Qn.loadConfig)(ph.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var hV,gV,yV=v(()=>{a();hV=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},gV=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var hh,gh,yh,_V,EV=v(()=>{a();hh=P(KT()),gh=P(Ee()),yh=P(ce());yV();_V=(e,t)=>{let r=Object.assign((0,hh.getAwsRegionExtensionConfiguration)(e),(0,yh.getDefaultExtensionConfiguration)(e),(0,gh.getHttpHandlerExtensionConfiguration)(e),hV(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,hh.resolveAwsRegionExtensionConfiguration)(r),(0,yh.resolveDefaultRuntimeConfig)(r),(0,gh.resolveHttpHandlerRuntimeConfig)(r),gV(r))}});var _h,vV,SV,Eh,bV,TV,wV,vh,lw,Ar,tl=v(()=>{a();_h=P(Nv()),vV=P(Mv()),SV=P(Lv()),Eh=P(dm()),bV=P(ei());Kt();TV=P(nT()),wV=P(oi()),vh=P(Mc()),lw=P(ce());iw();lh();mV();EV();Ar=class extends lw.Client{config;constructor(...[t]){let r=fV(t||{});super(r),this.initConfig=r;let n=Nz(r),o=(0,Eh.resolveUserAgentConfig)(n),s=(0,vh.resolveRetryConfig)(o),i=(0,bV.resolveRegionConfig)(s),c=(0,_h.resolveHostHeaderConfig)(i),l=(0,wV.resolveEndpointConfig)(c),u=Iz(l),d=_V(u,t?.extensions||[]);this.config=d,this.middlewareStack.use((0,Eh.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,vh.getRetryPlugin)(this.config)),this.middlewareStack.use((0,TV.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,_h.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,vV.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,SV.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(qa(this.config,{httpAuthSchemeParametersProvider:Rz,identityProviderConfigProvider:async f=>new Vo({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Ga(this.config))}destroy(){super.destroy()}}});var PV,gt,Sh=v(()=>{a();PV=P(ce()),gt=class e extends PV.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var uw,dw,pw,rl,nl,ol,sl,il,al,fw,mw,cl,ll=v(()=>{a();uw=P(ce());Sh();dw=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:uw.SENSITIVE_STRING}}),pw=e=>({...e,...e.Credentials&&{Credentials:dw(e.Credentials)}}),rl=class e extends gt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nl=class e extends gt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ol=class e extends gt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sl=class e extends gt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},il=class e extends gt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},al=class e extends gt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fw=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:uw.SENSITIVE_STRING}}),mw=e=>({...e,...e.Credentials&&{Credentials:dw(e.Credentials)}}),cl=class e extends gt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var CV,J,xV,OV,RV,AV,IV,YTe,XTe,QTe,ZTe,ewe,twe,rwe,nwe,owe,NV,swe,iwe,awe,cwe,lwe,uwe,DV,dwe,pwe,MV,fwe,mwe,hwe,gwe,ywe,_we,Ewe,un,vwe,kV,LV,UV,FV,hw,Swe,gw,pi,bwe,yw,_w,fi,Ew,mi,vw,Sw,bw,hi,gi,Tw,ww,Pw,yi,Cw,_i,Ei,xw,Ow,ln,Rw,Aw,Iw,Nw,Dw,BV,Mw,kw,Lw,we,jV,Twe,Uw=v(()=>{a();Cr();CV=P(Ee()),J=P(ce());ll();Sh();xV=async(e,t)=>{let r=LV,n;return n=jV({...nwe(e,t),[FV]:Swe,[BV]:UV}),kV(t,r,"/",void 0,n)},OV=async(e,t)=>{let r=LV,n;return n=jV({...owe(e,t),[FV]:bwe,[BV]:UV}),kV(t,r,"/",void 0,n)},RV=async(e,t)=>{if(e.statusCode>=300)return IV(e,t);let r=await Tc(e.body,t),n={};return n=dwe(r.AssumeRoleResult,t),{$metadata:un(e),...n}},AV=async(e,t)=>{if(e.statusCode>=300)return IV(e,t);let r=await Tc(e.body,t),n={};return n=pwe(r.AssumeRoleWithWebIdentityResult,t),{$metadata:un(e),...n}},IV=async(e,t)=>{let r={...e,body:await Wb(e.body,t)},n=Twe(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await YTe(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ewe(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await twe(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await rwe(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await XTe(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await QTe(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await ZTe(r,t);default:let o=r.body;return vwe({output:e,parsedBody:o.Error,errorCode:n})}},YTe=async(e,t)=>{let r=e.body,n=fwe(r.Error,t),o=new rl({$metadata:un(e),...n});return(0,J.decorateServiceException)(o,r)},XTe=async(e,t)=>{let r=e.body,n=mwe(r.Error,t),o=new cl({$metadata:un(e),...n});return(0,J.decorateServiceException)(o,r)},QTe=async(e,t)=>{let r=e.body,n=hwe(r.Error,t),o=new il({$metadata:un(e),...n});return(0,J.decorateServiceException)(o,r)},ZTe=async(e,t)=>{let r=e.body,n=gwe(r.Error,t),o=new al({$metadata:un(e),...n});return(0,J.decorateServiceException)(o,r)},ewe=async(e,t)=>{let r=e.body,n=ywe(r.Error,t),o=new nl({$metadata:un(e),...n});return(0,J.decorateServiceException)(o,r)},twe=async(e,t)=>{let r=e.body,n=_we(r.Error,t),o=new ol({$metadata:un(e),...n});return(0,J.decorateServiceException)(o,r)},rwe=async(e,t)=>{let r=e.body,n=Ewe(r.Error,t),o=new sl({$metadata:un(e),...n});return(0,J.decorateServiceException)(o,r)},nwe=(e,t)=>{let r={};if(e[_i]!=null&&(r[_i]=e[_i]),e[Ei]!=null&&(r[Ei]=e[Ei]),e[gi]!=null){let n=NV(e[gi],t);e[gi]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[hi]!=null&&(r[hi]=e[hi]),e[mi]!=null&&(r[mi]=e[mi]),e[Iw]!=null){let n=uwe(e[Iw],t);e[Iw]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[Dw]!=null){let n=lwe(e[Dw],t);e[Dw]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[Sw]!=null&&(r[Sw]=e[Sw]),e[Rw]!=null&&(r[Rw]=e[Rw]),e[Nw]!=null&&(r[Nw]=e[Nw]),e[ln]!=null&&(r[ln]=e[ln]),e[ww]!=null){let n=awe(e[ww],t);e[ww]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},owe=(e,t)=>{let r={};if(e[_i]!=null&&(r[_i]=e[_i]),e[Ei]!=null&&(r[Ei]=e[Ei]),e[kw]!=null&&(r[kw]=e[kw]),e[Pw]!=null&&(r[Pw]=e[Pw]),e[gi]!=null){let n=NV(e[gi],t);e[gi]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[hi]!=null&&(r[hi]=e[hi]),e[mi]!=null&&(r[mi]=e[mi]),r},NV=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=swe(o,t);Object.entries(s).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},swe=(e,t)=>{let r={};return e[Lw]!=null&&(r[Lw]=e[Lw]),r},iwe=(e,t)=>{let r={};return e[Tw]!=null&&(r[Tw]=e[Tw]),e[Ew]!=null&&(r[Ew]=e[Ew]),r},awe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=iwe(o,t);Object.entries(s).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},cwe=(e,t)=>{let r={};return e[bw]!=null&&(r[bw]=e[bw]),e[Mw]!=null&&(r[Mw]=e[Mw]),r},lwe=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},uwe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=cwe(o,t);Object.entries(s).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},DV=(e,t)=>{let r={};return e[gw]!=null&&(r[gw]=(0,J.expectString)(e[gw])),e[yw]!=null&&(r[yw]=(0,J.expectString)(e[yw])),r},dwe=(e,t)=>{let r={};return e[fi]!=null&&(r[fi]=MV(e[fi],t)),e[pi]!=null&&(r[pi]=DV(e[pi],t)),e[yi]!=null&&(r[yi]=(0,J.strictParseInt32)(e[yi])),e[ln]!=null&&(r[ln]=(0,J.expectString)(e[ln])),r},pwe=(e,t)=>{let r={};return e[fi]!=null&&(r[fi]=MV(e[fi],t)),e[Ow]!=null&&(r[Ow]=(0,J.expectString)(e[Ow])),e[pi]!=null&&(r[pi]=DV(e[pi],t)),e[yi]!=null&&(r[yi]=(0,J.strictParseInt32)(e[yi])),e[Cw]!=null&&(r[Cw]=(0,J.expectString)(e[Cw])),e[_w]!=null&&(r[_w]=(0,J.expectString)(e[_w])),e[ln]!=null&&(r[ln]=(0,J.expectString)(e[ln])),r},MV=(e,t)=>{let r={};return e[hw]!=null&&(r[hw]=(0,J.expectString)(e[hw])),e[xw]!=null&&(r[xw]=(0,J.expectString)(e[xw])),e[Aw]!=null&&(r[Aw]=(0,J.expectString)(e[Aw])),e[vw]!=null&&(r[vw]=(0,J.expectNonNull)((0,J.parseRfc3339DateTimeWithOffset)(e[vw]))),r},fwe=(e,t)=>{let r={};return e[we]!=null&&(r[we]=(0,J.expectString)(e[we])),r},mwe=(e,t)=>{let r={};return e[we]!=null&&(r[we]=(0,J.expectString)(e[we])),r},hwe=(e,t)=>{let r={};return e[we]!=null&&(r[we]=(0,J.expectString)(e[we])),r},gwe=(e,t)=>{let r={};return e[we]!=null&&(r[we]=(0,J.expectString)(e[we])),r},ywe=(e,t)=>{let r={};return e[we]!=null&&(r[we]=(0,J.expectString)(e[we])),r},_we=(e,t)=>{let r={};return e[we]!=null&&(r[we]=(0,J.expectString)(e[we])),r},Ewe=(e,t)=>{let r={};return e[we]!=null&&(r[we]=(0,J.expectString)(e[we])),r},un=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vwe=(0,J.withBaseException)(gt),kV=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:c,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new CV.HttpRequest(u)},LV={"content-type":"application/x-www-form-urlencoded"},UV="2011-06-15",FV="Action",hw="AccessKeyId",Swe="AssumeRole",gw="AssumedRoleId",pi="AssumedRoleUser",bwe="AssumeRoleWithWebIdentity",yw="Arn",_w="Audience",fi="Credentials",Ew="ContextAssertion",mi="DurationSeconds",vw="Expiration",Sw="ExternalId",bw="Key",hi="Policy",gi="PolicyArns",Tw="ProviderArn",ww="ProvidedContexts",Pw="ProviderId",yi="PackedPolicySize",Cw="Provider",_i="RoleArn",Ei="RoleSessionName",xw="SecretAccessKey",Ow="SubjectFromWebIdentityToken",ln="SourceIdentity",Rw="SerialNumber",Aw="SessionToken",Iw="Tags",Nw="TokenCode",Dw="TransitiveTagKeys",BV="Version",Mw="Value",kw="WebIdentityToken",Lw="arn",we="message",jV=e=>Object.entries(e).map(([t,r])=>(0,J.extendedEncodeURIComponent)(t)+"="+(0,J.extendedEncodeURIComponent)(r)).join("&"),Twe=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var HV,$V,qV,as,bh=v(()=>{a();HV=P(oi()),$V=P(Hs()),qV=P(ce());lh();ll();Uw();as=class extends qV.Command.classBuilder().ep(ch).m(function(t,r,n,o){return[(0,$V.getSerdePlugin)(n,this.serialize,this.deserialize),(0,HV.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,pw).ser(xV).de(RV).build(){}});var GV,zV,VV,cs,Th=v(()=>{a();GV=P(oi()),zV=P(Hs()),VV=P(ce());lh();ll();Uw();cs=class extends VV.Command.classBuilder().ep(ch).m(function(t,r,n,o){return[(0,zV.getSerdePlugin)(n,this.serialize,this.deserialize),(0,GV.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(fw,mw).ser(OV).de(AV).build(){}});var WV,wwe,wh,KV=v(()=>{a();WV=P(ce());bh();Th();tl();wwe={AssumeRoleCommand:as,AssumeRoleWithWebIdentityCommand:cs},wh=class extends Ar{};(0,WV.createAggregatedClient)(wwe,wh)});var JV=v(()=>{a();bh();Th()});var YV=v(()=>{a();ll()});var XV,QV,ZV,e2,t2,r2,n2=v(()=>{a();Uf();bh();Th();XV="us-east-1",QV=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},ZV=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${XV} (STS default)`),n??o??XV},e2=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:d=e?.parentClientConfig?.logger,region:f,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,y=await ZV(f,e?.parentClientConfig?.region,g),_=!r2(h);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:y,requestHandler:_?h:void 0,logger:d})}let{Credentials:i,AssumedRoleUser:c}=await r.send(new as(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let l=QV(c),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return Wo(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},t2=(e,t)=>{let r;return async n=>{if(!r){let{logger:l=e?.parentClientConfig?.logger,region:u,requestHandler:d=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,h=await ZV(u,e?.parentClientConfig?.region,f),g=!r2(d);r=new t({profile:e?.parentClientConfig?.profile,region:h,requestHandler:g?d:void 0,logger:l})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new cs(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=QV(s),c={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&Wo(c,"RESOLVED_ACCOUNT_ID","T"),Wo(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},r2=e=>e?.metadata?.handlerProtocol==="h2"});var o2,s2,i2,Pwe,a2=v(()=>{a();n2();tl();o2=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,s2=(e={},t)=>e2(e,o2(Ar,t)),i2=(e={},t)=>t2(e,o2(Ar,t)),Pwe=e=>t=>e({roleAssumer:s2(t),roleAssumerWithWebIdentity:i2(t),...t})});var Fw={};Fe(Fw,{AssumeRoleCommand:()=>as,AssumeRoleResponseFilterSensitiveLog:()=>pw,AssumeRoleWithWebIdentityCommand:()=>cs,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>fw,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>mw,CredentialsFilterSensitiveLog:()=>dw,ExpiredTokenException:()=>rl,IDPCommunicationErrorException:()=>cl,IDPRejectedClaimException:()=>il,InvalidIdentityTokenException:()=>al,MalformedPolicyDocumentException:()=>nl,PackedPolicyTooLargeException:()=>ol,RegionDisabledException:()=>sl,STS:()=>wh,STSClient:()=>Ar,STSServiceException:()=>gt,__Client:()=>lw.Client,decorateDefaultCredentialProvider:()=>Pwe,getDefaultRoleAssumer:()=>s2,getDefaultRoleAssumerWithWebIdentity:()=>i2});var Bw=v(()=>{a();tl();KV();JV();YV();a2();Sh()});var $w=b((iet,u2)=>{"use strict";a();var Ph=Object.defineProperty,Cwe=Object.getOwnPropertyDescriptor,xwe=Object.getOwnPropertyNames,Owe=Object.prototype.hasOwnProperty,Hw=(e,t)=>Ph(e,"name",{value:t,configurable:!0}),Rwe=(e,t)=>{for(var r in t)Ph(e,r,{get:t[r],enumerable:!0})},Awe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xwe(t))!Owe.call(e,o)&&o!==r&&Ph(e,o,{get:()=>t[o],enumerable:!(n=Cwe(t,o))||n.enumerable});return e},Iwe=e=>Awe(Ph({},"__esModule",{value:!0}),e),l2={};Rwe(l2,{fromProcess:()=>Uwe});u2.exports=Iwe(l2);var c2=Dn(),jw=ot(),Nwe=L("child_process"),Dwe=L("util"),Mwe=(fr(),V(bn)),kwe=Hw((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,Mwe.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),Lwe=Hw(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,Dwe.promisify)(Nwe.exec);try{let{stdout:i}=await s(o),c;try{c=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return kwe(e,c,t)}catch(i){throw new jw.CredentialsProviderError(i.message,{logger:r})}}else throw new jw.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new jw.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),Uwe=Hw((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,c2.parseKnownFiles)(e);return Lwe((0,c2.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var qw=b(Nr=>{"use strict";a();var Fwe=Nr&&Nr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Bwe=Nr&&Nr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jwe=Nr&&Nr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&Fwe(r,t,n[o]);return Bwe(r,t),r}}();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.fromWebToken=void 0;var Hwe=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:c,durationSeconds:l}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>jwe((Bw(),V(Fw))));u=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:c,DurationSeconds:l})};Nr.fromWebToken=Hwe});var p2=b(Ch=>{"use strict";a();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.fromTokenFile=void 0;var $we=(fr(),V(bn)),qwe=ot(),Gwe=L("fs"),zwe=qw(),d2="AWS_WEB_IDENTITY_TOKEN_FILE",Vwe="AWS_ROLE_ARN",Wwe="AWS_ROLE_SESSION_NAME",Kwe=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[d2],r=e?.roleArn??process.env[Vwe],n=e?.roleSessionName??process.env[Wwe];if(!t||!r)throw new qwe.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,zwe.fromWebToken)({...e,webIdentityToken:(0,Gwe.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[d2]&&(0,$we.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Ch.fromTokenFile=Kwe});var Vw=b((fet,xh)=>{"use strict";a();var f2=Object.defineProperty,Jwe=Object.getOwnPropertyDescriptor,Ywe=Object.getOwnPropertyNames,Xwe=Object.prototype.hasOwnProperty,Gw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ywe(t))!Xwe.call(e,o)&&o!==r&&f2(e,o,{get:()=>t[o],enumerable:!(n=Jwe(t,o))||n.enumerable});return e},m2=(e,t,r)=>(Gw(e,t,"default"),r&&Gw(r,t,"default")),Qwe=e=>Gw(f2({},"__esModule",{value:!0}),e),zw={};xh.exports=Qwe(zw);m2(zw,p2(),xh.exports);m2(zw,qw(),xh.exports)});var b2=b((het,S2)=>{"use strict";a();var Zwe=Object.create,dl=Object.defineProperty,ePe=Object.getOwnPropertyDescriptor,tPe=Object.getOwnPropertyNames,rPe=Object.getPrototypeOf,nPe=Object.prototype.hasOwnProperty,Ne=(e,t)=>dl(e,"name",{value:t,configurable:!0}),oPe=(e,t)=>{for(var r in t)dl(e,r,{get:t[r],enumerable:!0})},_2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tPe(t))!nPe.call(e,o)&&o!==r&&dl(e,o,{get:()=>t[o],enumerable:!(n=ePe(t,o))||n.enumerable});return e},eo=(e,t,r)=>(r=e!=null?Zwe(rPe(e)):{},_2(t||!e||!e.__esModule?dl(r,"default",{value:e,enumerable:!0}):r,e)),sPe=e=>_2(dl({},"__esModule",{value:!0}),e),E2={};oPe(E2,{fromIni:()=>yPe});S2.exports=sPe(E2);var Kw=Dn(),to=(fr(),V(bn)),ul=ot(),iPe=Ne((e,t,r)=>{let n={EcsContainer:Ne(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>eo(mv())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>eo(Ua()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,ul.chain)(s(o??{}),i(o))().then(Ww)},"EcsContainer"),Ec2InstanceMetadata:Ne(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>eo(Ua()));return async()=>s(o)().then(Ww)},"Ec2InstanceMetadata"),Environment:Ne(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>eo(av()));return async()=>s(o)().then(Ww)},"Environment")};if(e in n)return n[e];throw new ul.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Ww=Ne(e=>(0,to.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),aPe=Ne((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(cPe(e,{profile:t,logger:r})||lPe(e,{profile:t,logger:r})),"isAssumeRoleProfile"),cPe=Ne((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),lPe=Ne((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),uPe=Ne(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>eo((Bw(),V(Fw))));r.roleAssumer=l({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new ul.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,Kw.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let c=s?v2(s,t,r,{...n,[s]:!0},h2(t[s]??{})):(await iPe(o.credential_source,e,r.logger)(r))();if(h2(o))return c.then(l=>(0,to.setCredentialFeature)(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:u}=o;if(u){if(!r.mfaCodeProvider)throw new ul.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});l.SerialNumber=u,l.TokenCode=await r.mfaCodeProvider(u)}let d=await c;return r.roleAssumer(d,l).then(f=>(0,to.setCredentialFeature)(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),h2=Ne(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),dPe=Ne(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),pPe=Ne(async(e,t)=>Promise.resolve().then(()=>eo($w())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,to.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),fPe=Ne(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>eo(sw()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,to.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,to.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),mPe=Ne(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),g2=Ne(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),y2=Ne(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,to.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),hPe=Ne(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),gPe=Ne(async(e,t)=>Promise.resolve().then(()=>eo(Vw())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,to.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),v2=Ne(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&g2(s))return y2(s,r);if(o||aPe(s,{profile:e,logger:r.logger}))return uPe(e,t,r,n);if(g2(s))return y2(s,r);if(hPe(s))return gPe(s,r);if(dPe(s))return pPe(r,e);if(mPe(s))return await fPe(e,s,r);throw new ul.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),yPe=Ne((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,Kw.parseKnownFiles)(r);return v2((0,Kw.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var A2=b((yet,R2)=>{"use strict";a();var _Pe=Object.create,pl=Object.defineProperty,EPe=Object.getOwnPropertyDescriptor,vPe=Object.getOwnPropertyNames,SPe=Object.getPrototypeOf,bPe=Object.prototype.hasOwnProperty,Oh=(e,t)=>pl(e,"name",{value:t,configurable:!0}),TPe=(e,t)=>{for(var r in t)pl(e,r,{get:t[r],enumerable:!0})},P2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vPe(t))!bPe.call(e,o)&&o!==r&&pl(e,o,{get:()=>t[o],enumerable:!(n=EPe(t,o))||n.enumerable});return e},vi=(e,t,r)=>(r=e!=null?_Pe(SPe(e)):{},P2(t||!e||!e.__esModule?pl(r,"default",{value:e,enumerable:!0}):r,e)),wPe=e=>P2(pl({},"__esModule",{value:!0}),e),C2={};TPe(C2,{credentialsTreatedAsExpired:()=>O2,credentialsWillNeedRefresh:()=>x2,defaultProvider:()=>xPe});R2.exports=wPe(C2);var Jw=av(),PPe=Dn(),ls=ot(),T2="AWS_EC2_METADATA_DISABLED",CPe=Oh(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>vi(Ua()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>vi(mv()));return(0,ls.chain)(s(e),n(e))}return process.env[T2]&&process.env[T2]!=="false"?async()=>{throw new ls.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),w2=!1,xPe=Oh((e={})=>(0,ls.memoize)((0,ls.chain)(async()=>{if(e.profile??process.env[PPe.ENV_PROFILE])throw process.env[Jw.ENV_KEY]&&process.env[Jw.ENV_SECRET]&&(w2||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),w2=!0)),new ls.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Jw.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new ls.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>vi(sw()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>vi(b2()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>vi($w()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>vi(Vw()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await CPe(e))()),async()=>{throw new ls.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),O2,x2),"defaultProvider"),x2=Oh(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),O2=Oh(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var e3=b(Mh=>{"use strict";a();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.ruleSet=void 0;var eP="required",W="type",Q="fn",Z="argv",Me="ref",ro="properties",no="headers",I2=!1,us="isSet",Ye="error",Dr="endpoint",De="tree",Dh="PartitionResult",oo="stringEquals",X2="dynamodb",so="getAttr",N2="aws.parseArn",Si="ParsedArn",tP="isValidHostLabel",D2="FirstArn",fl={[eP]:!1,[W]:"String"},M2={[eP]:!0,default:!1,[W]:"Boolean"},rP={[Q]:"booleanEquals",[Z]:[{[Me]:"UseFIPS"},!0]},nP={[Q]:"booleanEquals",[Z]:[{[Me]:"UseDualStack"},!0]},Qt={},Q2={[Me]:"Region"},k2={[Q]:"booleanEquals",[Z]:[{[Q]:so,[Z]:[{[Me]:Dh},"supportsFIPS"]},!0]},L2={[Q]:"booleanEquals",[Z]:[{[Q]:so,[Z]:[{[Me]:Dh},"supportsDualStack"]},!0]},Yw={conditions:[{[Q]:us,[Z]:[{[Me]:"AccountIdEndpointMode"}]},{[Q]:oo,[Z]:[{[Me]:"AccountIdEndpointMode"},"required"]}],rules:[{[Ye]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[W]:Ye}],[W]:De},Ih={[Q]:us,[Z]:[{[Me]:"AccountIdEndpointMode"}]},U2={[Ye]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[W]:Ye},Z2={[Q]:so,[Z]:[{[Me]:Dh},"name"]},F2={[Dr]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[ro]:{},[no]:{}},[W]:Dr},Nh={[Q]:"not",[Z]:[rP]},B2={[Ye]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[W]:Ye},Xw={[Q]:"not",[Z]:[{[Q]:oo,[Z]:[{[Me]:"AccountIdEndpointMode"},"disabled"]}]},Rh={[Q]:oo,[Z]:[Z2,"aws"]},Ah={[Q]:"not",[Z]:[nP]},j2={[Q]:oo,[Z]:[{[Q]:so,[Z]:[{[Me]:Si},"service"]},X2]},H2={[Q]:tP,[Z]:[{[Q]:so,[Z]:[{[Me]:Si},"region"]},!1]},$2={[Q]:oo,[Z]:[{[Q]:so,[Z]:[{[Me]:Si},"region"]},"{Region}"]},q2={[Q]:tP,[Z]:[{[Q]:so,[Z]:[{[Me]:Si},"accountId"]},!1]},G2={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[ro]:{},[no]:{}},z2={[Me]:"ResourceArnList"},V2={[Me]:"AccountId"},Qw=[rP],Zw=[nP],W2=[Q2],K2=[Ih,{[Q]:oo,[Z]:[{[Me]:"AccountIdEndpointMode"},"required"]}],J2=[Nh],Y2=[{[Me]:"ResourceArn"}],OPe={version:"1.0",parameters:{Region:fl,UseDualStack:M2,UseFIPS:M2,Endpoint:fl,AccountId:fl,AccountIdEndpointMode:fl,ResourceArn:fl,ResourceArnList:{[eP]:I2,[W]:"stringArray"}},rules:[{conditions:[{[Q]:us,[Z]:[{[Me]:"Endpoint"}]}],rules:[{conditions:Qw,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:Ye},{conditions:Zw,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:Ye},{endpoint:{url:"{Endpoint}",[ro]:Qt,[no]:Qt},[W]:Dr}],[W]:De},{conditions:[{[Q]:us,[Z]:W2}],rules:[{conditions:[{[Q]:"aws.partition",[Z]:W2,assign:Dh}],rules:[{conditions:[{[Q]:oo,[Z]:[Q2,"local"]}],rules:[{conditions:Qw,error:"Invalid Configuration: FIPS and local endpoint are not supported",[W]:Ye},{conditions:Zw,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[W]:Ye},{endpoint:{url:"http://localhost:8000",[ro]:{authSchemes:[{signingRegion:"us-east-1",signingName:X2,name:"sigv4"}]},[no]:Qt},[W]:Dr}],[W]:De},{conditions:[rP,nP],rules:[{conditions:[k2,L2],rules:[Yw,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[ro]:Qt,[no]:Qt},[W]:Dr}],[W]:De},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:Ye}],[W]:De},{conditions:Qw,rules:[{conditions:[k2],rules:[{conditions:[{[Q]:oo,[Z]:[Z2,"aws-us-gov"]}],rules:[Yw,F2],[W]:De},Yw,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[ro]:Qt,[no]:Qt},[W]:Dr}],[W]:De},{error:"FIPS is enabled but this partition does not support FIPS",[W]:Ye}],[W]:De},{conditions:Zw,rules:[{conditions:[L2],rules:[{conditions:K2,rules:[{conditions:J2,rules:[B2],[W]:De},U2],[W]:De},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[ro]:Qt,[no]:Qt},[W]:Dr}],[W]:De},{error:"DualStack is enabled but this partition does not support DualStack",[W]:Ye}],[W]:De},{conditions:[Ih,Xw,Rh,Nh,Ah,{[Q]:us,[Z]:Y2},{[Q]:N2,[Z]:Y2,assign:Si},j2,H2,$2,q2],endpoint:G2,[W]:Dr},{conditions:[Ih,Xw,Rh,Nh,Ah,{[Q]:us,[Z]:[z2]},{[Q]:so,[Z]:[z2,"[0]"],assign:D2},{[Q]:N2,[Z]:[{[Me]:D2}],assign:Si},j2,H2,$2,q2],endpoint:G2,[W]:Dr},{conditions:[Ih,Xw,Rh,Nh,Ah,{[Q]:us,[Z]:[V2]}],rules:[{conditions:[{[Q]:tP,[Z]:[V2,I2]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[ro]:Qt,[no]:Qt},[W]:Dr}],[W]:De},{error:"Credentials-sourced account ID parameter is invalid",[W]:Ye}],[W]:De},{conditions:K2,rules:[{conditions:J2,rules:[{conditions:[Ah],rules:[{conditions:[Rh],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[W]:Ye}],[W]:De},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[W]:Ye}],[W]:De},B2],[W]:De},U2],[W]:De},F2],[W]:De}],[W]:De},{error:"Invalid Configuration: Missing Region",[W]:Ye}]};Mh.ruleSet=OPe});var t3=b(kh=>{"use strict";a();Object.defineProperty(kh,"__esModule",{value:!0});kh.defaultEndpointResolver=void 0;var RPe=td(),oP=Xu(),APe=e3(),IPe=new oP.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),NPe=(e,t={})=>IPe.get(e,()=>(0,oP.resolveEndpoint)(APe.ruleSet,{endpointParams:e,logger:t.logger}));kh.defaultEndpointResolver=NPe;oP.customEndpointFunctions.aws=RPe.awsEndpointFunctions});var o3=b(Lh=>{"use strict";a();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.getRuntimeConfig=void 0;var DPe=(hr(),V(mr)),MPe=qe(),kPe=Cs(),r3=Et(),n3=tt(),LPe=zE(),UPe=t3(),FPe=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??r3.fromBase64,base64Encoder:e?.base64Encoder??r3.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??UPe.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??LPe.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new DPe.AwsSdkSigV4Signer}],logger:e?.logger??new MPe.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??kPe.parseUrl,utf8Decoder:e?.utf8Decoder??n3.fromUtf8,utf8Encoder:e?.utf8Encoder??n3.toUtf8});Lh.getRuntimeConfig=FPe});var l3=b(Fh=>{"use strict";a();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.getRuntimeConfig=void 0;var BPe=(up(),V(lp)),jPe=BPe.__importDefault(NM()),s3=(hr(),V(mr)),HPe=(Gg(),V(qg)),$Pe=A2(),qPe=Qg(),i3=_v(),Uh=As(),GPe=Sv(),a3=Da(),dn=Ms(),c3=Xi(),zPe=bv(),VPe=zd(),WPe=o3(),KPe=qe(),JPe=xv(),YPe=qe(),XPe=e=>{(0,YPe.emitWarningIfUnsupportedVersion)(process.version);let t=(0,JPe.resolveDefaultsModeConfig)(e),r=()=>t().then(KPe.loadConfigsForDefaultMode),n=(0,WPe.getRuntimeConfig)(e);(0,s3.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,dn.loadConfig)(HPe.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,dn.loadConfig)(s3.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??zPe.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??$Pe.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,i3.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:jPe.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,dn.loadConfig)(qPe.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,dn.loadConfig)(a3.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,dn.loadConfig)(Uh.NODE_REGION_CONFIG_OPTIONS,{...Uh.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:c3.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,dn.loadConfig)({...a3.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||VPe.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??GPe.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??c3.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,dn.loadConfig)(Uh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,dn.loadConfig)(Uh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,dn.loadConfig)(i3.NODE_APP_ID_CONFIG_OPTIONS,o)}};Fh.getRuntimeConfig=XPe});var g3=b((Oet,h3)=>{a();var Bh=Object.defineProperty,QPe=Object.getOwnPropertyDescriptor,ZPe=Object.getOwnPropertyNames,eCe=Object.prototype.hasOwnProperty,Mr=(e,t)=>Bh(e,"name",{value:t,configurable:!0}),tCe=(e,t)=>{for(var r in t)Bh(e,r,{get:t[r],enumerable:!0})},rCe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ZPe(t))!eCe.call(e,o)&&o!==r&&Bh(e,o,{get:()=>t[o],enumerable:!(n=QPe(t,o))||n.enumerable});return e},nCe=e=>rCe(Bh({},"__esModule",{value:!0}),e),p3={};tCe(p3,{WaiterState:()=>m3,checkExceptions:()=>sCe,createWaiter:()=>uCe,waiterServiceDefaults:()=>f3});h3.exports=nCe(p3);var oCe=Mr(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),f3={minDelay:2,maxDelay:120},m3=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(m3||{}),sCe=Mr(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),iCe=Mr((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return aCe(e,o)},"exponentialBackoffWithJitter"),aCe=Mr((e,t)=>e+Math.random()*(t-e),"randomInRange"),cCe=Mr(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,c)=>{let l={},{state:u,reason:d}=await c(o,i);if(d){let y=u3(d);l[y]|=0,l[y]+=1}if(u!=="RETRY")return{state:u,reason:d,observedResponses:l};let f=1,h=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let T="AbortController signal aborted.";return l[T]|=0,l[T]+=1,{state:"ABORTED",observedResponses:l}}let y=iCe(e,t,g,f);if(Date.now()+y*1e3>h)return{state:"TIMEOUT",observedResponses:l};await oCe(y);let{state:_,reason:S}=await c(o,i);if(S){let T=u3(S);l[T]|=0,l[T]+=1}if(_!=="RETRY")return{state:_,reason:S,observedResponses:l};f+=1}},"runPolling"),u3=Mr(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),lCe=Mr(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),d3=Mr(e=>{let t,r=new Promise(n=>{t=Mr(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),uCe=Mr(async(e,t,r)=>{let n={...f3,...e};lCe(n);let o=[cCe(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:c}=d3(e.abortSignal);s.push(c),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:c}=d3(e.abortController.signal);s.push(c),o.push(i)}return Promise.race(o).then(i=>{for(let c of s)c();return i})},"createWaiter")});var t8=b((Aet,e8)=>{"use strict";a();var Hh=Object.defineProperty,dCe=Object.getOwnPropertyDescriptor,pCe=Object.getOwnPropertyNames,fCe=Object.prototype.hasOwnProperty,p=(e,t)=>Hh(e,"name",{value:t,configurable:!0}),mCe=(e,t)=>{for(var r in t)Hh(e,r,{get:t[r],enumerable:!0})},hCe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pCe(t))!fCe.call(e,o)&&o!==r&&Hh(e,o,{get:()=>t[o],enumerable:!(n=dCe(t,o))||n.enumerable});return e},gCe=e=>hCe(Hh({},"__esModule",{value:!0}),e),T3={};mCe(T3,{ApproximateCreationDateTimePrecision:()=>wCe,AttributeAction:()=>PCe,AttributeValue:()=>jh,BackupInUseException:()=>P3,BackupNotFoundException:()=>x3,BackupStatus:()=>xCe,BackupType:()=>OCe,BackupTypeFilter:()=>LCe,BatchExecuteStatementCommand:()=>r4,BatchGetItemCommand:()=>n4,BatchStatementErrorCodeEnum:()=>BCe,BatchWriteItemCommand:()=>o4,BillingMode:()=>RCe,ComparisonOperator:()=>HCe,ConditionalCheckFailedException:()=>kW,ConditionalOperator:()=>$Ce,ContinuousBackupsStatus:()=>qCe,ContinuousBackupsUnavailableException:()=>q3,ContributorInsightsAction:()=>zCe,ContributorInsightsStatus:()=>VCe,CreateBackupCommand:()=>s4,CreateGlobalTableCommand:()=>i4,CreateTableCommand:()=>a4,DeleteBackupCommand:()=>c4,DeleteItemCommand:()=>l4,DeleteResourcePolicyCommand:()=>u4,DeleteTableCommand:()=>d4,DescribeBackupCommand:()=>p4,DescribeContinuousBackupsCommand:()=>f4,DescribeContributorInsightsCommand:()=>m4,DescribeEndpointsCommand:()=>pP,DescribeExportCommand:()=>h4,DescribeGlobalTableCommand:()=>g4,DescribeGlobalTableSettingsCommand:()=>y4,DescribeImportCommand:()=>_4,DescribeKinesisStreamingDestinationCommand:()=>E4,DescribeLimitsCommand:()=>v4,DescribeTableCommand:()=>zh,DescribeTableReplicaAutoScalingCommand:()=>S4,DescribeTimeToLiveCommand:()=>b4,DestinationStatus:()=>lxe,DisableKinesisStreamingDestinationCommand:()=>T4,DuplicateItemException:()=>dW,DynamoDB:()=>X4,DynamoDBClient:()=>lo,DynamoDBServiceException:()=>ee,EnableKinesisStreamingDestinationCommand:()=>w4,ExecuteStatementCommand:()=>P4,ExecuteTransactionCommand:()=>C4,ExportConflictException:()=>yW,ExportFormat:()=>txe,ExportNotFoundException:()=>sW,ExportStatus:()=>rxe,ExportTableToPointInTimeCommand:()=>x4,ExportType:()=>nxe,ExportViewType:()=>oxe,GetItemCommand:()=>O4,GetResourcePolicyCommand:()=>R4,GlobalTableAlreadyExistsException:()=>X3,GlobalTableNotFoundException:()=>aW,GlobalTableStatus:()=>WCe,IdempotentParameterMismatchException:()=>fW,ImportConflictException:()=>TW,ImportNotFoundException:()=>lW,ImportStatus:()=>ixe,ImportTableCommand:()=>A4,IndexNotFoundException:()=>DW,IndexStatus:()=>KCe,InputCompressionType:()=>axe,InputFormat:()=>cxe,InternalServerError:()=>R3,InvalidEndpointException:()=>D3,InvalidExportTimeException:()=>EW,InvalidRestoreTimeException:()=>xW,ItemCollectionSizeLimitExceededException:()=>B3,KeyType:()=>ACe,LimitExceededException:()=>z3,ListBackupsCommand:()=>I4,ListContributorInsightsCommand:()=>fP,ListExportsCommand:()=>mP,ListGlobalTablesCommand:()=>N4,ListImportsCommand:()=>hP,ListTablesCommand:()=>gP,ListTagsOfResourceCommand:()=>D4,MultiRegionConsistency:()=>ZCe,PointInTimeRecoveryStatus:()=>GCe,PointInTimeRecoveryUnavailableException:()=>SW,PolicyNotFoundException:()=>nW,ProjectionType:()=>ICe,ProvisionedThroughputExceededException:()=>k3,PutItemCommand:()=>M4,PutResourcePolicyCommand:()=>k4,QueryCommand:()=>yP,ReplicaAlreadyExistsException:()=>RW,ReplicaNotFoundException:()=>IW,ReplicaStatus:()=>JCe,ReplicatedWriteConflictException:()=>H3,RequestLimitExceeded:()=>I3,ResourceInUseException:()=>Z3,ResourceNotFoundException:()=>U3,RestoreTableFromBackupCommand:()=>L4,RestoreTableToPointInTimeCommand:()=>U4,ReturnConsumedCapacity:()=>UCe,ReturnItemCollectionMetrics:()=>jCe,ReturnValue:()=>exe,ReturnValuesOnConditionCheckFailure:()=>FCe,S3SseAlgorithm:()=>sxe,SSEStatus:()=>DCe,SSEType:()=>NCe,ScalarAttributeType:()=>CCe,ScanCommand:()=>_P,Select:()=>uxe,StreamViewType:()=>MCe,TableAlreadyExistsException:()=>PW,TableClass:()=>YCe,TableInUseException:()=>W3,TableNotFoundException:()=>J3,TableStatus:()=>XCe,TagResourceCommand:()=>F4,TimeToLiveStatus:()=>kCe,TransactGetItemsCommand:()=>B4,TransactWriteItemsCommand:()=>j4,TransactionCanceledException:()=>UW,TransactionConflictException:()=>tW,TransactionInProgressException:()=>hW,UntagResourceCommand:()=>H4,UpdateContinuousBackupsCommand:()=>$4,UpdateContributorInsightsCommand:()=>q4,UpdateGlobalTableCommand:()=>G4,UpdateGlobalTableSettingsCommand:()=>z4,UpdateItemCommand:()=>V4,UpdateKinesisStreamingDestinationCommand:()=>W4,UpdateTableCommand:()=>K4,UpdateTableReplicaAutoScalingCommand:()=>J4,UpdateTimeToLiveCommand:()=>Y4,WitnessStatus:()=>QCe,__Client:()=>m.Client,paginateListContributorInsights:()=>q0e,paginateListExports:()=>z0e,paginateListImports:()=>W0e,paginateListTables:()=>J0e,paginateQuery:()=>X0e,paginateScan:()=>Z0e,waitForTableExists:()=>eNe,waitForTableNotExists:()=>rNe,waitUntilTableExists:()=>tNe,waitUntilTableNotExists:()=>nNe});e8.exports=gCe(T3);var yCe=(Gg(),V(qg)),_Ce=Qg(),y3=ey(),ECe=ry(),vCe=oy(),_3=kd(),SCe=As(),sP=(pt(),V(Ot)),bCe=CE(),E3=Da(),v3=zE(),U=rv(),B=Ji(),TCe=p(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),j={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},k=(hr(),V(mr)),iP=ye(),$h=(kE(),V(ME)),m=qe(),ee=class w3 extends m.ServiceException{static{p(this,"DynamoDBServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,w3.prototype)}},wCe={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},PCe={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},CCe={B:"B",N:"N",S:"S"},xCe={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},OCe={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},RCe={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},ACe={HASH:"HASH",RANGE:"RANGE"},ICe={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},NCe={AES256:"AES256",KMS:"KMS"},DCe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},MCe={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},kCe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},P3=class C3 extends ee{static{p(this,"BackupInUseException")}name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,C3.prototype)}},x3=class O3 extends ee{static{p(this,"BackupNotFoundException")}name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,O3.prototype)}},LCe={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},UCe={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},FCe={ALL_OLD:"ALL_OLD",NONE:"NONE"},BCe={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},R3=class A3 extends ee{static{p(this,"InternalServerError")}name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,A3.prototype)}},I3=class N3 extends ee{static{p(this,"RequestLimitExceeded")}name="RequestLimitExceeded";$fault="client";constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,N3.prototype)}},D3=class M3 extends ee{static{p(this,"InvalidEndpointException")}name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,M3.prototype),this.Message=t.Message}},k3=class L3 extends ee{static{p(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,L3.prototype)}},U3=class F3 extends ee{static{p(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,F3.prototype)}},jCe={NONE:"NONE",SIZE:"SIZE"},B3=class j3 extends ee{static{p(this,"ItemCollectionSizeLimitExceededException")}name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,j3.prototype)}},H3=class $3 extends ee{static{p(this,"ReplicatedWriteConflictException")}name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,$3.prototype)}},HCe={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},$Ce={AND:"AND",OR:"OR"},qCe={DISABLED:"DISABLED",ENABLED:"ENABLED"},GCe={DISABLED:"DISABLED",ENABLED:"ENABLED"},q3=class G3 extends ee{static{p(this,"ContinuousBackupsUnavailableException")}name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,G3.prototype)}},zCe={DISABLE:"DISABLE",ENABLE:"ENABLE"},VCe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},z3=class V3 extends ee{static{p(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,V3.prototype)}},W3=class K3 extends ee{static{p(this,"TableInUseException")}name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,K3.prototype)}},J3=class Y3 extends ee{static{p(this,"TableNotFoundException")}name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Y3.prototype)}},WCe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},KCe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},JCe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},YCe={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},XCe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},X3=class Q3 extends ee{static{p(this,"GlobalTableAlreadyExistsException")}name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,Q3.prototype)}},QCe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},ZCe={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},Z3=class eW extends ee{static{p(this,"ResourceInUseException")}name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,eW.prototype)}},exe={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},tW=class rW extends ee{static{p(this,"TransactionConflictException")}name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,rW.prototype)}},nW=class oW extends ee{static{p(this,"PolicyNotFoundException")}name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,oW.prototype)}},txe={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},rxe={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},nxe={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},oxe={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},sxe={AES256:"AES256",KMS:"KMS"},sW=class iW extends ee{static{p(this,"ExportNotFoundException")}name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,iW.prototype)}},aW=class cW extends ee{static{p(this,"GlobalTableNotFoundException")}name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,cW.prototype)}},ixe={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},axe={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},cxe={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},lW=class uW extends ee{static{p(this,"ImportNotFoundException")}name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,uW.prototype)}},lxe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},dW=class pW extends ee{static{p(this,"DuplicateItemException")}name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,pW.prototype)}},fW=class mW extends ee{static{p(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,mW.prototype),this.Message=t.Message}},hW=class gW extends ee{static{p(this,"TransactionInProgressException")}name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,gW.prototype),this.Message=t.Message}},yW=class _W extends ee{static{p(this,"ExportConflictException")}name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,_W.prototype)}},EW=class vW extends ee{static{p(this,"InvalidExportTimeException")}name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,vW.prototype)}},SW=class bW extends ee{static{p(this,"PointInTimeRecoveryUnavailableException")}name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,bW.prototype)}},TW=class wW extends ee{static{p(this,"ImportConflictException")}name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,wW.prototype)}},uxe={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},PW=class CW extends ee{static{p(this,"TableAlreadyExistsException")}name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,CW.prototype)}},xW=class OW extends ee{static{p(this,"InvalidRestoreTimeException")}name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,OW.prototype)}},RW=class AW extends ee{static{p(this,"ReplicaAlreadyExistsException")}name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,AW.prototype)}},IW=class NW extends ee{static{p(this,"ReplicaNotFoundException")}name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,NW.prototype)}},DW=class MW extends ee{static{p(this,"IndexNotFoundException")}name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,MW.prototype)}},jh;(e=>{e.visit=p((t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]),"visit")})(jh||(jh={}));var kW=class LW extends ee{static{p(this,"ConditionalCheckFailedException")}name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,LW.prototype),this.Item=t.Item}},UW=class FW extends ee{static{p(this,"TransactionCanceledException")}name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,FW.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},dxe=p(async(e,t)=>{let r=F("BatchExecuteStatement"),n;return n=JSON.stringify(tAe(e,t)),$(t,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),pxe=p(async(e,t)=>{let r=F("BatchGetItem"),n;return n=JSON.stringify(rAe(e,t)),$(t,r,"/",void 0,n)},"se_BatchGetItemCommand"),fxe=p(async(e,t)=>{let r=F("BatchWriteItem"),n;return n=JSON.stringify(sAe(e,t)),$(t,r,"/",void 0,n)},"se_BatchWriteItemCommand"),mxe=p(async(e,t)=>{let r=F("CreateBackup"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_CreateBackupCommand"),hxe=p(async(e,t)=>{let r=F("CreateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),gxe=p(async(e,t)=>{let r=F("CreateTable"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_CreateTableCommand"),yxe=p(async(e,t)=>{let r=F("DeleteBackup"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DeleteBackupCommand"),_xe=p(async(e,t)=>{let r=F("DeleteItem"),n;return n=JSON.stringify(uAe(e,t)),$(t,r,"/",void 0,n)},"se_DeleteItemCommand"),Exe=p(async(e,t)=>{let r=F("DeleteResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),vxe=p(async(e,t)=>{let r=F("DeleteTable"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DeleteTableCommand"),Sxe=p(async(e,t)=>{let r=F("DescribeBackup"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeBackupCommand"),bxe=p(async(e,t)=>{let r=F("DescribeContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),Txe=p(async(e,t)=>{let r=F("DescribeContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),wxe=p(async(e,t)=>{let r=F("DescribeEndpoints"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),Pxe=p(async(e,t)=>{let r=F("DescribeExport"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeExportCommand"),Cxe=p(async(e,t)=>{let r=F("DescribeGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),xxe=p(async(e,t)=>{let r=F("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),Oxe=p(async(e,t)=>{let r=F("DescribeImport"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeImportCommand"),Rxe=p(async(e,t)=>{let r=F("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),Axe=p(async(e,t)=>{let r=F("DescribeLimits"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),Ixe=p(async(e,t)=>{let r=F("DescribeTable"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeTableCommand"),Nxe=p(async(e,t)=>{let r=F("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),Dxe=p(async(e,t)=>{let r=F("DescribeTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),Mxe=p(async(e,t)=>{let r=F("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),kxe=p(async(e,t)=>{let r=F("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),Lxe=p(async(e,t)=>{let r=F("ExecuteStatement"),n;return n=JSON.stringify(pAe(e,t)),$(t,r,"/",void 0,n)},"se_ExecuteStatementCommand"),Uxe=p(async(e,t)=>{let r=F("ExecuteTransaction"),n;return n=JSON.stringify(fAe(e,t)),$(t,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),Fxe=p(async(e,t)=>{let r=F("ExportTableToPointInTime"),n;return n=JSON.stringify(hAe(e,t)),$(t,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),Bxe=p(async(e,t)=>{let r=F("GetItem"),n;return n=JSON.stringify(yAe(e,t)),$(t,r,"/",void 0,n)},"se_GetItemCommand"),jxe=p(async(e,t)=>{let r=F("GetResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),Hxe=p(async(e,t)=>{let r=F("ImportTable"),n;return n=JSON.stringify(bAe(e,t)),$(t,r,"/",void 0,n)},"se_ImportTableCommand"),$xe=p(async(e,t)=>{let r=F("ListBackups"),n;return n=JSON.stringify(OAe(e,t)),$(t,r,"/",void 0,n)},"se_ListBackupsCommand"),qxe=p(async(e,t)=>{let r=F("ListContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),Gxe=p(async(e,t)=>{let r=F("ListExports"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_ListExportsCommand"),zxe=p(async(e,t)=>{let r=F("ListGlobalTables"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),Vxe=p(async(e,t)=>{let r=F("ListImports"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_ListImportsCommand"),Wxe=p(async(e,t)=>{let r=F("ListTables"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_ListTablesCommand"),Kxe=p(async(e,t)=>{let r=F("ListTagsOfResource"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),Jxe=p(async(e,t)=>{let r=F("PutItem"),n;return n=JSON.stringify(MAe(e,t)),$(t,r,"/",void 0,n)},"se_PutItemCommand"),Yxe=p(async(e,t)=>{let r=F("PutResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),Xxe=p(async(e,t)=>{let r=F("Query"),n;return n=JSON.stringify(LAe(e,t)),$(t,r,"/",void 0,n)},"se_QueryCommand"),Qxe=p(async(e,t)=>{let r=F("RestoreTableFromBackup"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),Zxe=p(async(e,t)=>{let r=F("RestoreTableToPointInTime"),n;return n=JSON.stringify(zAe(e,t)),$(t,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),eOe=p(async(e,t)=>{let r=F("Scan"),n;return n=JSON.stringify(VAe(e,t)),$(t,r,"/",void 0,n)},"se_ScanCommand"),tOe=p(async(e,t)=>{let r=F("TagResource"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_TagResourceCommand"),rOe=p(async(e,t)=>{let r=F("TransactGetItems"),n;return n=JSON.stringify(JAe(e,t)),$(t,r,"/",void 0,n)},"se_TransactGetItemsCommand"),nOe=p(async(e,t)=>{let r=F("TransactWriteItems"),n;return n=JSON.stringify(QAe(e,t)),$(t,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),oOe=p(async(e,t)=>{let r=F("UntagResource"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_UntagResourceCommand"),sOe=p(async(e,t)=>{let r=F("UpdateContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),iOe=p(async(e,t)=>{let r=F("UpdateContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),aOe=p(async(e,t)=>{let r=F("UpdateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),cOe=p(async(e,t)=>{let r=F("UpdateGlobalTableSettings"),n;return n=JSON.stringify(eIe(e,t)),$(t,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),lOe=p(async(e,t)=>{let r=F("UpdateItem"),n;return n=JSON.stringify(tIe(e,t)),$(t,r,"/",void 0,n)},"se_UpdateItemCommand"),uOe=p(async(e,t)=>{let r=F("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),dOe=p(async(e,t)=>{let r=F("UpdateTable"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_UpdateTableCommand"),pOe=p(async(e,t)=>{let r=F("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(rIe(e,t)),$(t,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),fOe=p(async(e,t)=>{let r=F("UpdateTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),$(t,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),mOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=dIe(r,t),{$metadata:R(e),...n}},"de_BatchExecuteStatementCommand"),hOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=pIe(r,t),{$metadata:R(e),...n}},"de_BatchGetItemCommand"),gOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=yIe(r,t),{$metadata:R(e),...n}},"de_BatchWriteItemCommand"),yOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=TIe(r,t),{$metadata:R(e),...n}},"de_CreateBackupCommand"),_Oe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=wIe(r,t),{$metadata:R(e),...n}},"de_CreateGlobalTableCommand"),EOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=PIe(r,t),{$metadata:R(e),...n}},"de_CreateTableCommand"),vOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=CIe(r,t),{$metadata:R(e),...n}},"de_DeleteBackupCommand"),SOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=xIe(r,t),{$metadata:R(e),...n}},"de_DeleteItemCommand"),bOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_DeleteResourcePolicyCommand"),TOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=RIe(r,t),{$metadata:R(e),...n}},"de_DeleteTableCommand"),wOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=AIe(r,t),{$metadata:R(e),...n}},"de_DescribeBackupCommand"),POe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=IIe(r,t),{$metadata:R(e),...n}},"de_DescribeContinuousBackupsCommand"),COe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=NIe(r,t),{$metadata:R(e),...n}},"de_DescribeContributorInsightsCommand"),xOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_DescribeEndpointsCommand"),OOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=DIe(r,t),{$metadata:R(e),...n}},"de_DescribeExportCommand"),ROe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=MIe(r,t),{$metadata:R(e),...n}},"de_DescribeGlobalTableCommand"),AOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=kIe(r,t),{$metadata:R(e),...n}},"de_DescribeGlobalTableSettingsCommand"),IOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=LIe(r,t),{$metadata:R(e),...n}},"de_DescribeImportCommand"),NOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_DescribeKinesisStreamingDestinationCommand"),DOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_DescribeLimitsCommand"),MOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=UIe(r,t),{$metadata:R(e),...n}},"de_DescribeTableCommand"),kOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=FIe(r,t),{$metadata:R(e),...n}},"de_DescribeTableReplicaAutoScalingCommand"),LOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_DescribeTimeToLiveCommand"),UOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_DisableKinesisStreamingDestinationCommand"),FOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_EnableKinesisStreamingDestinationCommand"),BOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=BIe(r,t),{$metadata:R(e),...n}},"de_ExecuteStatementCommand"),jOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=jIe(r,t),{$metadata:R(e),...n}},"de_ExecuteTransactionCommand"),HOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=HIe(r,t),{$metadata:R(e),...n}},"de_ExportTableToPointInTimeCommand"),$Oe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=$Ie(r,t),{$metadata:R(e),...n}},"de_GetItemCommand"),qOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_GetResourcePolicyCommand"),GOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=WIe(r,t),{$metadata:R(e),...n}},"de_ImportTableCommand"),zOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=r0e(r,t),{$metadata:R(e),...n}},"de_ListBackupsCommand"),VOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_ListContributorInsightsCommand"),WOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_ListExportsCommand"),KOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_ListGlobalTablesCommand"),JOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=n0e(r,t),{$metadata:R(e),...n}},"de_ListImportsCommand"),YOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_ListTablesCommand"),XOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_ListTagsOfResourceCommand"),QOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=c0e(r,t),{$metadata:R(e),...n}},"de_PutItemCommand"),ZOe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_PutResourcePolicyCommand"),eRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=u0e(r,t),{$metadata:R(e),...n}},"de_QueryCommand"),tRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=v0e(r,t),{$metadata:R(e),...n}},"de_RestoreTableFromBackupCommand"),rRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=S0e(r,t),{$metadata:R(e),...n}},"de_RestoreTableToPointInTimeCommand"),nRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=b0e(r,t),{$metadata:R(e),...n}},"de_ScanCommand"),oRe=p(async(e,t)=>e.statusCode>=300?H(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:R(e)}),"de_TagResourceCommand"),sRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=P0e(r,t),{$metadata:R(e),...n}},"de_TransactGetItemsCommand"),iRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=x0e(r,t),{$metadata:R(e),...n}},"de_TransactWriteItemsCommand"),aRe=p(async(e,t)=>e.statusCode>=300?H(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:R(e)}),"de_UntagResourceCommand"),cRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=O0e(r,t),{$metadata:R(e),...n}},"de_UpdateContinuousBackupsCommand"),lRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_UpdateContributorInsightsCommand"),uRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=R0e(r,t),{$metadata:R(e),...n}},"de_UpdateGlobalTableCommand"),dRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=A0e(r,t),{$metadata:R(e),...n}},"de_UpdateGlobalTableSettingsCommand"),pRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=I0e(r,t),{$metadata:R(e),...n}},"de_UpdateItemCommand"),fRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_UpdateKinesisStreamingDestinationCommand"),mRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=N0e(r,t),{$metadata:R(e),...n}},"de_UpdateTableCommand"),hRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=D0e(r,t),{$metadata:R(e),...n}},"de_UpdateTableReplicaAutoScalingCommand"),gRe=p(async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await(0,k.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:R(e),...n}},"de_UpdateTimeToLiveCommand"),H=p(async(e,t)=>{let r={...e,body:await(0,k.parseJsonErrorBody)(e.body,t)},n=(0,k.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await ARe(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await $Re(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await IRe(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await FRe(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await GRe(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await MRe(r,t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await HRe(r,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await yRe(r,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await vRe(r,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await kRe(r,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await VRe(r,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await WRe(r,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await wRe(r,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await qRe(r,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await _Re(r,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await ERe(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await JRe(r,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await URe(r,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await TRe(r,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await PRe(r,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await ORe(r,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await SRe(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await CRe(r,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await KRe(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await YRe(r,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await bRe(r,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await NRe(r,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await LRe(r,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await xRe(r,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await zRe(r,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await DRe(r,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await BRe(r,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await jRe(r,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await RRe(r,t);default:let o=r.body;return L0e({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),yRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new P3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),_Re=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new x3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),ERe=p(async(e,t)=>{let r=e.body,n=bIe(r,t),o=new kW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),vRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new q3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),SRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new dW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),bRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new yW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),TRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new sW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),wRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new X3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),PRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new aW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),CRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new fW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),xRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new TW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),ORe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new lW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),RRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new DW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),ARe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new R3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),IRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new D3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),NRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new EW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),DRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new xW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),MRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new B3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),kRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new z3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),LRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new SW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),URe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new nW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),FRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new k3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),BRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new RW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),jRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new IW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),HRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new H3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicatedWriteConflictExceptionRes"),$Re=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new I3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),qRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Z3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),GRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new U3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),zRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new PW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),VRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new W3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),WRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new J3({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),KRe=p(async(e,t)=>{let r=e.body,n=C0e(r,t),o=new UW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),JRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new tW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),YRe=p(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new hW({$metadata:R(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),XRe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=QRe(o,t)),r),{}),"se_AttributeUpdates"),pn=p((e,t)=>jh.visit(e,{B:p(r=>({B:t.base64Encoder(r)}),"B"),BOOL:p(r=>({BOOL:r}),"BOOL"),BS:p(r=>({BS:aAe(r,t)}),"BS"),L:p(r=>({L:xAe(r,t)}),"L"),M:p(r=>({M:RAe(r,t)}),"M"),N:p(r=>({N:r}),"N"),NS:p(r=>({NS:(0,m._json)(r)}),"NS"),NULL:p(r=>({NULL:r}),"NULL"),S:p(r=>({S:r}),"S"),SS:p(r=>({SS:(0,m._json)(r)}),"SS"),_:p((r,n)=>({[r]:n}),"_")}),"se_AttributeValue"),BW=p((e,t)=>e.filter(r=>r!=null).map(r=>pn(r,t)),"se_AttributeValueList"),QRe=p((e,t)=>(0,m.take)(e,{Action:[],Value:p(r=>pn(r,t),"Value")}),"se_AttributeValueUpdate"),ZRe=p((e,t)=>(0,m.take)(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:p(r=>eAe(r,t),"TargetTrackingScalingPolicyConfiguration")}),"se_AutoScalingPolicyUpdate"),ao=p((e,t)=>(0,m.take)(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:p(r=>ZRe(r,t),"ScalingPolicyUpdate")}),"se_AutoScalingSettingsUpdate"),eAe=p((e,t)=>(0,m.take)(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:m.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),tAe=p((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],Statements:p(r=>NAe(r,t),"Statements")}),"se_BatchExecuteStatementInput"),rAe=p((e,t)=>(0,m.take)(e,{RequestItems:p(r=>nAe(r,t),"RequestItems"),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),nAe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=CAe(o,t)),r),{}),"se_BatchGetRequestMap"),oAe=p((e,t)=>(0,m.take)(e,{ConsistentRead:[],Parameters:p(r=>cP(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),sAe=p((e,t)=>(0,m.take)(e,{RequestItems:p(r=>iAe(r,t),"RequestItems"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),iAe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=oIe(o,t)),r),{}),"se_BatchWriteItemRequestMap"),aAe=p((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinarySetAttributeValue"),jW=p((e,t)=>(0,m.take)(e,{AttributeValueList:p(r=>BW(r,t),"AttributeValueList"),ComparisonOperator:[]}),"se_Condition"),cAe=p((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),Key:p(r=>er(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),lAe=p((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),Key:p(r=>er(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),uAe=p((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:p(r=>aP(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),Key:p(r=>er(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),dAe=p((e,t)=>(0,m.take)(e,{Key:p(r=>er(r,t),"Key")}),"se_DeleteRequest"),pAe=p((e,t)=>(0,m.take)(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:p(r=>cP(r,t),"Parameters"),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),fAe=p((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,$h.v4)()],ReturnConsumedCapacity:[],TransactStatements:p(r=>IAe(r,t),"TransactStatements")}),"se_ExecuteTransactionInput"),aP=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=mAe(o,t)),r),{}),"se_ExpectedAttributeMap"),mAe=p((e,t)=>(0,m.take)(e,{AttributeValueList:p(r=>BW(r,t),"AttributeValueList"),ComparisonOperator:[],Exists:[],Value:p(r=>pn(r,t),"Value")}),"se_ExpectedAttributeValue"),hAe=p((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,$h.v4)()],ExportFormat:[],ExportTime:p(r=>r.getTime()/1e3,"ExportTime"),ExportType:[],IncrementalExportSpecification:p(r=>TAe(r,t),"IncrementalExportSpecification"),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),fn=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=pn(o,t)),r),{}),"se_ExpressionAttributeValueMap"),HW=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=jW(o,t)),r),{}),"se_FilterConditionMap"),gAe=p((e,t)=>(0,m.take)(e,{ExpressionAttributeNames:m._json,Key:p(r=>er(r,t),"Key"),ProjectionExpression:[],TableName:[]}),"se_Get"),yAe=p((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Key:p(r=>er(r,t),"Key"),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),_Ae=p((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:p(r=>ao(r,t),"ProvisionedWriteCapacityAutoScalingUpdate")}),"se_GlobalSecondaryIndexAutoScalingUpdate"),EAe=p((e,t)=>e.filter(r=>r!=null).map(r=>_Ae(r,t)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),vAe=p((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:p(r=>ao(r,t),"ProvisionedWriteCapacityAutoScalingSettingsUpdate"),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),SAe=p((e,t)=>e.filter(r=>r!=null).map(r=>vAe(r,t)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),bAe=p((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,$h.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:m._json,S3BucketSource:m._json,TableCreationParameters:m._json}),"se_ImportTableInput"),TAe=p((e,t)=>(0,m.take)(e,{ExportFromTime:p(r=>r.getTime()/1e3,"ExportFromTime"),ExportToTime:p(r=>r.getTime()/1e3,"ExportToTime"),ExportViewType:[]}),"se_IncrementalExportSpecification"),er=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=pn(o,t)),r),{}),"se_Key"),wAe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=jW(o,t)),r),{}),"se_KeyConditions"),PAe=p((e,t)=>e.filter(r=>r!=null).map(r=>er(r,t)),"se_KeyList"),CAe=p((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Keys:p(r=>PAe(r,t),"Keys"),ProjectionExpression:[]}),"se_KeysAndAttributes"),xAe=p((e,t)=>e.filter(r=>r!=null).map(r=>pn(r,t)),"se_ListAttributeValue"),OAe=p((e,t)=>(0,m.take)(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:p(r=>r.getTime()/1e3,"TimeRangeLowerBound"),TimeRangeUpperBound:p(r=>r.getTime()/1e3,"TimeRangeUpperBound")}),"se_ListBackupsInput"),RAe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=pn(o,t)),r),{}),"se_MapAttributeValue"),AAe=p((e,t)=>(0,m.take)(e,{Parameters:p(r=>cP(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),IAe=p((e,t)=>e.filter(r=>r!=null).map(r=>AAe(r,t)),"se_ParameterizedStatements"),NAe=p((e,t)=>e.filter(r=>r!=null).map(r=>oAe(r,t)),"se_PartiQLBatchRequest"),cP=p((e,t)=>e.filter(r=>r!=null).map(r=>pn(r,t)),"se_PreparedStatementParameters"),DAe=p((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),Item:p(r=>lP(r,t),"Item"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),MAe=p((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:p(r=>aP(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),Item:p(r=>lP(r,t),"Item"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),lP=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=pn(o,t)),r),{}),"se_PutItemInputAttributeMap"),kAe=p((e,t)=>(0,m.take)(e,{Item:p(r=>lP(r,t),"Item")}),"se_PutRequest"),LAe=p((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:p(r=>er(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:p(r=>wAe(r,t),"KeyConditions"),Limit:[],ProjectionExpression:[],QueryFilter:p(r=>HW(r,t),"QueryFilter"),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),UAe=p((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:p(r=>jAe(r,t),"ReplicaGlobalSecondaryIndexUpdates"),ReplicaProvisionedReadCapacityAutoScalingUpdate:p(r=>ao(r,t),"ReplicaProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaAutoScalingUpdate"),FAe=p((e,t)=>e.filter(r=>r!=null).map(r=>UAe(r,t)),"se_ReplicaAutoScalingUpdateList"),BAe=p((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:p(r=>ao(r,t),"ProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),jAe=p((e,t)=>e.filter(r=>r!=null).map(r=>BAe(r,t)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),HAe=p((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:p(r=>ao(r,t),"ProvisionedReadCapacityAutoScalingSettingsUpdate"),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),$Ae=p((e,t)=>e.filter(r=>r!=null).map(r=>HAe(r,t)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),qAe=p((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:p(r=>$Ae(r,t),"ReplicaGlobalSecondaryIndexSettingsUpdate"),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:p(r=>ao(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate"),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),GAe=p((e,t)=>e.filter(r=>r!=null).map(r=>qAe(r,t)),"se_ReplicaSettingsUpdateList"),zAe=p((e,t)=>(0,m.take)(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:m._json,LocalSecondaryIndexOverride:m._json,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RestoreDateTime:p(r=>r.getTime()/1e3,"RestoreDateTime"),SSESpecificationOverride:m._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),VAe=p((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:p(r=>er(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:p(r=>HW(r,t),"ScanFilter"),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),WAe=p((e,t)=>(0,m.take)(e,{Get:p(r=>gAe(r,t),"Get")}),"se_TransactGetItem"),KAe=p((e,t)=>e.filter(r=>r!=null).map(r=>WAe(r,t)),"se_TransactGetItemList"),JAe=p((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],TransactItems:p(r=>KAe(r,t),"TransactItems")}),"se_TransactGetItemsInput"),YAe=p((e,t)=>(0,m.take)(e,{ConditionCheck:p(r=>cAe(r,t),"ConditionCheck"),Delete:p(r=>lAe(r,t),"Delete"),Put:p(r=>DAe(r,t),"Put"),Update:p(r=>ZAe(r,t),"Update")}),"se_TransactWriteItem"),XAe=p((e,t)=>e.filter(r=>r!=null).map(r=>YAe(r,t)),"se_TransactWriteItemList"),QAe=p((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,$h.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:p(r=>XAe(r,t),"TransactItems")}),"se_TransactWriteItemsInput"),ZAe=p((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),Key:p(r=>er(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),eIe=p((e,t)=>(0,m.take)(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:p(r=>SAe(r,t),"GlobalTableGlobalSecondaryIndexSettingsUpdate"),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:p(r=>ao(r,t),"GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate"),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:p(r=>GAe(r,t),"ReplicaSettingsUpdate")}),"se_UpdateGlobalTableSettingsInput"),tIe=p((e,t)=>(0,m.take)(e,{AttributeUpdates:p(r=>XRe(r,t),"AttributeUpdates"),ConditionExpression:[],ConditionalOperator:[],Expected:p(r=>aP(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:p(r=>fn(r,t),"ExpressionAttributeValues"),Key:p(r=>er(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),rIe=p((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexUpdates:p(r=>EAe(r,t),"GlobalSecondaryIndexUpdates"),ProvisionedWriteCapacityAutoScalingUpdate:p(r=>ao(r,t),"ProvisionedWriteCapacityAutoScalingUpdate"),ReplicaUpdates:p(r=>FAe(r,t),"ReplicaUpdates"),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),nIe=p((e,t)=>(0,m.take)(e,{DeleteRequest:p(r=>dAe(r,t),"DeleteRequest"),PutRequest:p(r=>kAe(r,t),"PutRequest")}),"se_WriteRequest"),oIe=p((e,t)=>e.filter(r=>r!=null).map(r=>nIe(r,t)),"se_WriteRequests"),sIe=p((e,t)=>(0,m.take)(e,{ArchivalBackupArn:m.expectString,ArchivalDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ArchivalDateTime"),ArchivalReason:m.expectString}),"de_ArchivalSummary"),kr=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=bi((0,k.awsExpectUnion)(o),t)),r),{}),"de_AttributeMap"),bi=p((e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:(0,m.expectBoolean)(e.BOOL)!==void 0?{BOOL:(0,m.expectBoolean)(e.BOOL)}:e.BS!=null?{BS:EIe(e.BS,t)}:e.L!=null?{L:t0e(e.L,t)}:e.M!=null?{M:o0e(e.M,t)}:(0,m.expectString)(e.N)!==void 0?{N:(0,m.expectString)(e.N)}:e.NS!=null?{NS:(0,m._json)(e.NS)}:(0,m.expectBoolean)(e.NULL)!==void 0?{NULL:(0,m.expectBoolean)(e.NULL)}:(0,m.expectString)(e.S)!==void 0?{S:(0,m.expectString)(e.S)}:e.SS!=null?{SS:(0,m._json)(e.SS)}:{$unknown:Object.entries(e)[0]},"de_AttributeValue"),iIe=p((e,t)=>(0,m.take)(e,{PolicyName:m.expectString,TargetTrackingScalingPolicyConfiguration:p(r=>cIe(r,t),"TargetTrackingScalingPolicyConfiguration")}),"de_AutoScalingPolicyDescription"),aIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>iIe(n,t)),"de_AutoScalingPolicyDescriptionList"),io=p((e,t)=>(0,m.take)(e,{AutoScalingDisabled:m.expectBoolean,AutoScalingRoleArn:m.expectString,MaximumUnits:m.expectLong,MinimumUnits:m.expectLong,ScalingPolicies:p(r=>aIe(r,t),"ScalingPolicies")}),"de_AutoScalingSettingsDescription"),cIe=p((e,t)=>(0,m.take)(e,{DisableScaleIn:m.expectBoolean,ScaleInCooldown:m.expectInt32,ScaleOutCooldown:m.expectInt32,TargetValue:m.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),$W=p((e,t)=>(0,m.take)(e,{BackupDetails:p(r=>qW(r,t),"BackupDetails"),SourceTableDetails:p(r=>T0e(r,t),"SourceTableDetails"),SourceTableFeatureDetails:p(r=>w0e(r,t),"SourceTableFeatureDetails")}),"de_BackupDescription"),qW=p((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString}),"de_BackupDetails"),lIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>uIe(n,t)),"de_BackupSummaries"),uIe=p((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString,TableArn:m.expectString,TableId:m.expectString,TableName:m.expectString}),"de_BackupSummary"),dIe=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>Ti(r,t),"ConsumedCapacity"),Responses:p(r=>s0e(r,t),"Responses")}),"de_BatchExecuteStatementOutput"),pIe=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>Ti(r,t),"ConsumedCapacity"),Responses:p(r=>mIe(r,t),"Responses"),UnprocessedKeys:p(r=>fIe(r,t),"UnprocessedKeys")}),"de_BatchGetItemOutput"),fIe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=e0e(o,t)),r),{}),"de_BatchGetRequestMap"),mIe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Gh(o,t)),r),{}),"de_BatchGetResponseMap"),hIe=p((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:p(r=>kr(r,t),"Item"),Message:m.expectString}),"de_BatchStatementError"),gIe=p((e,t)=>(0,m.take)(e,{Error:p(r=>hIe(r,t),"Error"),Item:p(r=>kr(r,t),"Item"),TableName:m.expectString}),"de_BatchStatementResponse"),yIe=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>Ti(r,t),"ConsumedCapacity"),ItemCollectionMetrics:p(r=>JW(r,t),"ItemCollectionMetrics"),UnprocessedItems:p(r=>_Ie(r,t),"UnprocessedItems")}),"de_BatchWriteItemOutput"),_Ie=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=k0e(o,t)),r),{}),"de_BatchWriteItemRequestMap"),GW=p((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,LastUpdateToPayPerRequestDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateToPayPerRequestDateTime")}),"de_BillingModeSummary"),EIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinarySetAttributeValue"),vIe=p((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:p(r=>kr(r,t),"Item"),Message:m.expectString}),"de_CancellationReason"),SIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>vIe(n,t)),"de_CancellationReasonList"),zW=p((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,ReadCapacityUnits:m.limitedParseDouble,WriteCapacityUnits:m.limitedParseDouble}),"de_Capacity"),bIe=p((e,t)=>(0,m.take)(e,{Item:p(r=>kr(r,t),"Item"),message:m.expectString}),"de_ConditionalCheckFailedException"),co=p((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,GlobalSecondaryIndexes:p(r=>S3(r,t),"GlobalSecondaryIndexes"),LocalSecondaryIndexes:p(r=>S3(r,t),"LocalSecondaryIndexes"),ReadCapacityUnits:m.limitedParseDouble,Table:p(r=>zW(r,t),"Table"),TableName:m.expectString,WriteCapacityUnits:m.limitedParseDouble}),"de_ConsumedCapacity"),Ti=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>co(n,t)),"de_ConsumedCapacityMultiple"),VW=p((e,t)=>(0,m.take)(e,{ContinuousBackupsStatus:m.expectString,PointInTimeRecoveryDescription:p(r=>i0e(r,t),"PointInTimeRecoveryDescription")}),"de_ContinuousBackupsDescription"),TIe=p((e,t)=>(0,m.take)(e,{BackupDetails:p(r=>qW(r,t),"BackupDetails")}),"de_CreateBackupOutput"),wIe=p((e,t)=>(0,m.take)(e,{GlobalTableDescription:p(r=>uP(r,t),"GlobalTableDescription")}),"de_CreateGlobalTableOutput"),PIe=p((e,t)=>(0,m.take)(e,{TableDescription:p(r=>wi(r,t),"TableDescription")}),"de_CreateTableOutput"),CIe=p((e,t)=>(0,m.take)(e,{BackupDescription:p(r=>$W(r,t),"BackupDescription")}),"de_DeleteBackupOutput"),xIe=p((e,t)=>(0,m.take)(e,{Attributes:p(r=>kr(r,t),"Attributes"),ConsumedCapacity:p(r=>co(r,t),"ConsumedCapacity"),ItemCollectionMetrics:p(r=>qh(r,t),"ItemCollectionMetrics")}),"de_DeleteItemOutput"),OIe=p((e,t)=>(0,m.take)(e,{Key:p(r=>ml(r,t),"Key")}),"de_DeleteRequest"),RIe=p((e,t)=>(0,m.take)(e,{TableDescription:p(r=>wi(r,t),"TableDescription")}),"de_DeleteTableOutput"),AIe=p((e,t)=>(0,m.take)(e,{BackupDescription:p(r=>$W(r,t),"BackupDescription")}),"de_DescribeBackupOutput"),IIe=p((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:p(r=>VW(r,t),"ContinuousBackupsDescription")}),"de_DescribeContinuousBackupsOutput"),NIe=p((e,t)=>(0,m.take)(e,{ContributorInsightsRuleList:m._json,ContributorInsightsStatus:m.expectString,FailureException:m._json,IndexName:m.expectString,LastUpdateDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableName:m.expectString}),"de_DescribeContributorInsightsOutput"),DIe=p((e,t)=>(0,m.take)(e,{ExportDescription:p(r=>WW(r,t),"ExportDescription")}),"de_DescribeExportOutput"),MIe=p((e,t)=>(0,m.take)(e,{GlobalTableDescription:p(r=>uP(r,t),"GlobalTableDescription")}),"de_DescribeGlobalTableOutput"),kIe=p((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:p(r=>ZW(r,t),"ReplicaSettings")}),"de_DescribeGlobalTableSettingsOutput"),LIe=p((e,t)=>(0,m.take)(e,{ImportTableDescription:p(r=>KW(r,t),"ImportTableDescription")}),"de_DescribeImportOutput"),UIe=p((e,t)=>(0,m.take)(e,{Table:p(r=>wi(r,t),"Table")}),"de_DescribeTableOutput"),FIe=p((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:p(r=>t4(r,t),"TableAutoScalingDescription")}),"de_DescribeTableReplicaAutoScalingOutput"),BIe=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>co(r,t),"ConsumedCapacity"),Items:p(r=>Gh(r,t),"Items"),LastEvaluatedKey:p(r=>ml(r,t),"LastEvaluatedKey"),NextToken:m.expectString}),"de_ExecuteStatementOutput"),jIe=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>Ti(r,t),"ConsumedCapacity"),Responses:p(r=>YW(r,t),"Responses")}),"de_ExecuteTransactionOutput"),WW=p((e,t)=>(0,m.take)(e,{BilledSizeBytes:m.expectLong,ClientToken:m.expectString,EndTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ExportArn:m.expectString,ExportFormat:m.expectString,ExportManifest:m.expectString,ExportStatus:m.expectString,ExportTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportTime"),ExportType:m.expectString,FailureCode:m.expectString,FailureMessage:m.expectString,IncrementalExportSpecification:p(r=>KIe(r,t),"IncrementalExportSpecification"),ItemCount:m.expectLong,S3Bucket:m.expectString,S3BucketOwner:m.expectString,S3Prefix:m.expectString,S3SseAlgorithm:m.expectString,S3SseKmsKeyId:m.expectString,StartTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableId:m.expectString}),"de_ExportDescription"),HIe=p((e,t)=>(0,m.take)(e,{ExportDescription:p(r=>WW(r,t),"ExportDescription")}),"de_ExportTableToPointInTimeOutput"),$Ie=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>co(r,t),"ConsumedCapacity"),Item:p(r=>kr(r,t),"Item")}),"de_GetItemOutput"),qIe=p((e,t)=>(0,m.take)(e,{Backfilling:m.expectBoolean,IndexArn:m.expectString,IndexName:m.expectString,IndexSizeBytes:m.expectLong,IndexStatus:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,Projection:m._json,ProvisionedThroughput:p(r=>XW(r,t),"ProvisionedThroughput"),WarmThroughput:m._json}),"de_GlobalSecondaryIndexDescription"),GIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>qIe(n,t)),"de_GlobalSecondaryIndexDescriptionList"),uP=p((e,t)=>(0,m.take)(e,{CreationDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),GlobalTableArn:m.expectString,GlobalTableName:m.expectString,GlobalTableStatus:m.expectString,ReplicationGroup:p(r=>QW(r,t),"ReplicationGroup")}),"de_GlobalTableDescription"),zIe=p((e,t)=>(0,m.take)(e,{CloudWatchLogGroupArn:m.expectString,EndTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ImportArn:m.expectString,ImportStatus:m.expectString,InputFormat:m.expectString,S3BucketSource:m._json,StartTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString}),"de_ImportSummary"),VIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>zIe(n,t)),"de_ImportSummaryList"),KW=p((e,t)=>(0,m.take)(e,{ClientToken:m.expectString,CloudWatchLogGroupArn:m.expectString,EndTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ErrorCount:m.expectLong,FailureCode:m.expectString,FailureMessage:m.expectString,ImportArn:m.expectString,ImportStatus:m.expectString,ImportedItemCount:m.expectLong,InputCompressionType:m.expectString,InputFormat:m.expectString,InputFormatOptions:m._json,ProcessedItemCount:m.expectLong,ProcessedSizeBytes:m.expectLong,S3BucketSource:m._json,StartTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableCreationParameters:m._json,TableId:m.expectString}),"de_ImportTableDescription"),WIe=p((e,t)=>(0,m.take)(e,{ImportTableDescription:p(r=>KW(r,t),"ImportTableDescription")}),"de_ImportTableOutput"),KIe=p((e,t)=>(0,m.take)(e,{ExportFromTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportFromTime"),ExportToTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportToTime"),ExportViewType:m.expectString}),"de_IncrementalExportSpecification"),JIe=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=bi((0,k.awsExpectUnion)(o),t)),r),{}),"de_ItemCollectionKeyAttributeMap"),qh=p((e,t)=>(0,m.take)(e,{ItemCollectionKey:p(r=>JIe(r,t),"ItemCollectionKey"),SizeEstimateRangeGB:p(r=>XIe(r,t),"SizeEstimateRangeGB")}),"de_ItemCollectionMetrics"),YIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>qh(n,t)),"de_ItemCollectionMetricsMultiple"),JW=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=YIe(o,t)),r),{}),"de_ItemCollectionMetricsPerTable"),XIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,m.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),Gh=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>kr(n,t)),"de_ItemList"),QIe=p((e,t)=>(0,m.take)(e,{Item:p(r=>kr(r,t),"Item")}),"de_ItemResponse"),YW=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>QIe(n,t)),"de_ItemResponseList"),ml=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=bi((0,k.awsExpectUnion)(o),t)),r),{}),"de_Key"),ZIe=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>ml(n,t)),"de_KeyList"),e0e=p((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:m.expectBoolean,ExpressionAttributeNames:m._json,Keys:p(r=>ZIe(r,t),"Keys"),ProjectionExpression:m.expectString}),"de_KeysAndAttributes"),t0e=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>bi((0,k.awsExpectUnion)(n),t)),"de_ListAttributeValue"),r0e=p((e,t)=>(0,m.take)(e,{BackupSummaries:p(r=>lIe(r,t),"BackupSummaries"),LastEvaluatedBackupArn:m.expectString}),"de_ListBackupsOutput"),n0e=p((e,t)=>(0,m.take)(e,{ImportSummaryList:p(r=>VIe(r,t),"ImportSummaryList"),NextToken:m.expectString}),"de_ListImportsOutput"),o0e=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=bi((0,k.awsExpectUnion)(o),t)),r),{}),"de_MapAttributeValue"),s0e=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>gIe(n,t)),"de_PartiQLBatchResponse"),i0e=p((e,t)=>(0,m.take)(e,{EarliestRestorableDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EarliestRestorableDateTime"),LatestRestorableDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LatestRestorableDateTime"),PointInTimeRecoveryStatus:m.expectString,RecoveryPeriodInDays:m.expectInt32}),"de_PointInTimeRecoveryDescription"),XW=p((e,t)=>(0,m.take)(e,{LastDecreaseDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastDecreaseDateTime"),LastIncreaseDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastIncreaseDateTime"),NumberOfDecreasesToday:m.expectLong,ReadCapacityUnits:m.expectLong,WriteCapacityUnits:m.expectLong}),"de_ProvisionedThroughputDescription"),a0e=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=bi((0,k.awsExpectUnion)(o),t)),r),{}),"de_PutItemInputAttributeMap"),c0e=p((e,t)=>(0,m.take)(e,{Attributes:p(r=>kr(r,t),"Attributes"),ConsumedCapacity:p(r=>co(r,t),"ConsumedCapacity"),ItemCollectionMetrics:p(r=>qh(r,t),"ItemCollectionMetrics")}),"de_PutItemOutput"),l0e=p((e,t)=>(0,m.take)(e,{Item:p(r=>a0e(r,t),"Item")}),"de_PutRequest"),u0e=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>co(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:p(r=>Gh(r,t),"Items"),LastEvaluatedKey:p(r=>ml(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_QueryOutput"),d0e=p((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:p(r=>h0e(r,t),"GlobalSecondaryIndexes"),RegionName:m.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:p(r=>io(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityAutoScalingSettings:p(r=>io(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaStatus:m.expectString}),"de_ReplicaAutoScalingDescription"),p0e=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>d0e(n,t)),"de_ReplicaAutoScalingDescriptionList"),f0e=p((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,KMSMasterKeyId:m.expectString,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RegionName:m.expectString,ReplicaInaccessibleDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ReplicaInaccessibleDateTime"),ReplicaStatus:m.expectString,ReplicaStatusDescription:m.expectString,ReplicaStatusPercentProgress:m.expectString,ReplicaTableClassSummary:p(r=>dP(r,t),"ReplicaTableClassSummary"),WarmThroughput:m._json}),"de_ReplicaDescription"),QW=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>f0e(n,t)),"de_ReplicaDescriptionList"),m0e=p((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:p(r=>io(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedWriteCapacityAutoScalingSettings:p(r=>io(r,t),"ProvisionedWriteCapacityAutoScalingSettings")}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),h0e=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>m0e(n,t)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),g0e=p((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:p(r=>io(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedReadCapacityUnits:m.expectLong,ProvisionedWriteCapacityAutoScalingSettings:p(r=>io(r,t),"ProvisionedWriteCapacityAutoScalingSettings"),ProvisionedWriteCapacityUnits:m.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),y0e=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>g0e(n,t)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),_0e=p((e,t)=>(0,m.take)(e,{RegionName:m.expectString,ReplicaBillingModeSummary:p(r=>GW(r,t),"ReplicaBillingModeSummary"),ReplicaGlobalSecondaryIndexSettings:p(r=>y0e(r,t),"ReplicaGlobalSecondaryIndexSettings"),ReplicaProvisionedReadCapacityAutoScalingSettings:p(r=>io(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedReadCapacityUnits:m.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:p(r=>io(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityUnits:m.expectLong,ReplicaStatus:m.expectString,ReplicaTableClassSummary:p(r=>dP(r,t),"ReplicaTableClassSummary")}),"de_ReplicaSettingsDescription"),ZW=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>_0e(n,t)),"de_ReplicaSettingsDescriptionList"),E0e=p((e,t)=>(0,m.take)(e,{RestoreDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"RestoreDateTime"),RestoreInProgress:m.expectBoolean,SourceBackupArn:m.expectString,SourceTableArn:m.expectString}),"de_RestoreSummary"),v0e=p((e,t)=>(0,m.take)(e,{TableDescription:p(r=>wi(r,t),"TableDescription")}),"de_RestoreTableFromBackupOutput"),S0e=p((e,t)=>(0,m.take)(e,{TableDescription:p(r=>wi(r,t),"TableDescription")}),"de_RestoreTableToPointInTimeOutput"),b0e=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>co(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:p(r=>Gh(r,t),"Items"),LastEvaluatedKey:p(r=>ml(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_ScanOutput"),S3=p((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zW(o,t)),r),{}),"de_SecondaryIndexesCapacityMap"),T0e=p((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,ProvisionedThroughput:m._json,TableArn:m.expectString,TableCreationDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"TableCreationDateTime"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong}),"de_SourceTableDetails"),w0e=p((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,LocalSecondaryIndexes:m._json,SSEDescription:p(r=>e4(r,t),"SSEDescription"),StreamDescription:m._json,TimeToLiveDescription:m._json}),"de_SourceTableFeatureDetails"),e4=p((e,t)=>(0,m.take)(e,{InaccessibleEncryptionDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"InaccessibleEncryptionDateTime"),KMSMasterKeyArn:m.expectString,SSEType:m.expectString,Status:m.expectString}),"de_SSEDescription"),t4=p((e,t)=>(0,m.take)(e,{Replicas:p(r=>p0e(r,t),"Replicas"),TableName:m.expectString,TableStatus:m.expectString}),"de_TableAutoScalingDescription"),dP=p((e,t)=>(0,m.take)(e,{LastUpdateDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableClass:m.expectString}),"de_TableClassSummary"),wi=p((e,t)=>(0,m.take)(e,{ArchivalSummary:p(r=>sIe(r,t),"ArchivalSummary"),AttributeDefinitions:m._json,BillingModeSummary:p(r=>GW(r,t),"BillingModeSummary"),CreationDateTime:p(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),DeletionProtectionEnabled:m.expectBoolean,GlobalSecondaryIndexes:p(r=>GIe(r,t),"GlobalSecondaryIndexes"),GlobalTableVersion:m.expectString,GlobalTableWitnesses:m._json,ItemCount:m.expectLong,KeySchema:m._json,LatestStreamArn:m.expectString,LatestStreamLabel:m.expectString,LocalSecondaryIndexes:m._json,MultiRegionConsistency:m.expectString,OnDemandThroughput:m._json,ProvisionedThroughput:p(r=>XW(r,t),"ProvisionedThroughput"),Replicas:p(r=>QW(r,t),"Replicas"),RestoreSummary:p(r=>E0e(r,t),"RestoreSummary"),SSEDescription:p(r=>e4(r,t),"SSEDescription"),StreamSpecification:m._json,TableArn:m.expectString,TableClassSummary:p(r=>dP(r,t),"TableClassSummary"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong,TableStatus:m.expectString,WarmThroughput:m._json}),"de_TableDescription"),P0e=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>Ti(r,t),"ConsumedCapacity"),Responses:p(r=>YW(r,t),"Responses")}),"de_TransactGetItemsOutput"),C0e=p((e,t)=>(0,m.take)(e,{CancellationReasons:p(r=>SIe(r,t),"CancellationReasons"),Message:m.expectString}),"de_TransactionCanceledException"),x0e=p((e,t)=>(0,m.take)(e,{ConsumedCapacity:p(r=>Ti(r,t),"ConsumedCapacity"),ItemCollectionMetrics:p(r=>JW(r,t),"ItemCollectionMetrics")}),"de_TransactWriteItemsOutput"),O0e=p((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:p(r=>VW(r,t),"ContinuousBackupsDescription")}),"de_UpdateContinuousBackupsOutput"),R0e=p((e,t)=>(0,m.take)(e,{GlobalTableDescription:p(r=>uP(r,t),"GlobalTableDescription")}),"de_UpdateGlobalTableOutput"),A0e=p((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:p(r=>ZW(r,t),"ReplicaSettings")}),"de_UpdateGlobalTableSettingsOutput"),I0e=p((e,t)=>(0,m.take)(e,{Attributes:p(r=>kr(r,t),"Attributes"),ConsumedCapacity:p(r=>co(r,t),"ConsumedCapacity"),ItemCollectionMetrics:p(r=>qh(r,t),"ItemCollectionMetrics")}),"de_UpdateItemOutput"),N0e=p((e,t)=>(0,m.take)(e,{TableDescription:p(r=>wi(r,t),"TableDescription")}),"de_UpdateTableOutput"),D0e=p((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:p(r=>t4(r,t),"TableAutoScalingDescription")}),"de_UpdateTableReplicaAutoScalingOutput"),M0e=p((e,t)=>(0,m.take)(e,{DeleteRequest:p(r=>OIe(r,t),"DeleteRequest"),PutRequest:p(r=>l0e(r,t),"PutRequest")}),"de_WriteRequest"),k0e=p((e,t)=>(e||[]).filter(n=>n!=null).map(n=>M0e(n,t)),"de_WriteRequests"),R=p(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),L0e=(0,m.withBaseException)(ee),$=p(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:c,path:l}=await e.endpoint(),u={protocol:i,hostname:s,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+r:l+r,headers:t};return n!==void 0&&(u.hostname=n),o!==void 0&&(u.body=o),new iP.HttpRequest(u)},"buildHttpRpcRequest");function F(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}p(F,"sharedHeaders");var pP=class extends m.Command.classBuilder().ep(j).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(wxe).de(xOe).build(){static{p(this,"DescribeEndpointsCommand")}},U0e=l3(),b3=Ov(),F0e=p(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),B0e=p(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),j0e=p((e,t)=>{let r=Object.assign((0,b3.getAwsRegionExtensionConfiguration)(e),(0,m.getDefaultExtensionConfiguration)(e),(0,iP.getHttpHandlerExtensionConfiguration)(e),F0e(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,b3.resolveAwsRegionExtensionConfiguration)(r),(0,m.resolveDefaultRuntimeConfig)(r),(0,iP.resolveHttpHandlerRuntimeConfig)(r),B0e(r))},"resolveRuntimeExtensions"),lo=class extends m.Client{static{p(this,"DynamoDBClient")}config;constructor(...[e]){let t=(0,U0e.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=TCe(t),n=(0,yCe.resolveAccountIdEndpointModeConfig)(r),o=(0,_3.resolveUserAgentConfig)(n),s=(0,E3.resolveRetryConfig)(o),i=(0,SCe.resolveRegionConfig)(s),c=(0,y3.resolveHostHeaderConfig)(i),l=(0,U.resolveEndpointConfig)(c),u=(0,v3.resolveHttpAuthSchemeConfig)(l),d=(0,_Ce.resolveEndpointDiscoveryConfig)(u,{endpointDiscoveryCommandCtor:pP}),f=j0e(d,e?.extensions||[]);this.config=f,this.middlewareStack.use((0,_3.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,E3.getRetryPlugin)(this.config)),this.middlewareStack.use((0,bCe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,y3.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ECe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,vCe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,sP.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:v3.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:p(async h=>new sP.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,sP.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},r4=class extends m.Command.classBuilder().ep(j).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(dxe).de(mOe).build(){static{p(this,"BatchExecuteStatementCommand")}},n4=class extends m.Command.classBuilder().ep({...j,ResourceArnList:{type:"operationContextParams",get:p(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(pxe).de(hOe).build(){static{p(this,"BatchGetItemCommand")}},o4=class extends m.Command.classBuilder().ep({...j,ResourceArnList:{type:"operationContextParams",get:p(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(fxe).de(gOe).build(){static{p(this,"BatchWriteItemCommand")}},s4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(mxe).de(yOe).build(){static{p(this,"CreateBackupCommand")}},i4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(hxe).de(_Oe).build(){static{p(this,"CreateGlobalTableCommand")}},a4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(gxe).de(EOe).build(){static{p(this,"CreateTableCommand")}},c4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(yxe).de(vOe).build(){static{p(this,"DeleteBackupCommand")}},l4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(_xe).de(SOe).build(){static{p(this,"DeleteItemCommand")}},u4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(Exe).de(bOe).build(){static{p(this,"DeleteResourcePolicyCommand")}},d4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(vxe).de(TOe).build(){static{p(this,"DeleteTableCommand")}},p4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(Sxe).de(wOe).build(){static{p(this,"DescribeBackupCommand")}},f4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(bxe).de(POe).build(){static{p(this,"DescribeContinuousBackupsCommand")}},m4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(Txe).de(COe).build(){static{p(this,"DescribeContributorInsightsCommand")}},h4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(Pxe).de(OOe).build(){static{p(this,"DescribeExportCommand")}},g4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(Cxe).de(ROe).build(){static{p(this,"DescribeGlobalTableCommand")}},y4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(xxe).de(AOe).build(){static{p(this,"DescribeGlobalTableSettingsCommand")}},_4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(Oxe).de(IOe).build(){static{p(this,"DescribeImportCommand")}},E4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Rxe).de(NOe).build(){static{p(this,"DescribeKinesisStreamingDestinationCommand")}},v4=class extends m.Command.classBuilder().ep(j).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(Axe).de(DOe).build(){static{p(this,"DescribeLimitsCommand")}},zh=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(Ixe).de(MOe).build(){static{p(this,"DescribeTableCommand")}},S4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(Nxe).de(kOe).build(){static{p(this,"DescribeTableReplicaAutoScalingCommand")}},b4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(Dxe).de(LOe).build(){static{p(this,"DescribeTimeToLiveCommand")}},T4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Mxe).de(UOe).build(){static{p(this,"DisableKinesisStreamingDestinationCommand")}},w4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(kxe).de(FOe).build(){static{p(this,"EnableKinesisStreamingDestinationCommand")}},P4=class extends m.Command.classBuilder().ep(j).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(Lxe).de(BOe).build(){static{p(this,"ExecuteStatementCommand")}},C4=class extends m.Command.classBuilder().ep(j).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(Uxe).de(jOe).build(){static{p(this,"ExecuteTransactionCommand")}},x4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(Fxe).de(HOe).build(){static{p(this,"ExportTableToPointInTimeCommand")}},O4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(Bxe).de($Oe).build(){static{p(this,"GetItemCommand")}},R4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(jxe).de(qOe).build(){static{p(this,"GetResourcePolicyCommand")}},A4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"operationContextParams",get:p(e=>e?.TableCreationParameters?.TableName,"get")}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(Hxe).de(GOe).build(){static{p(this,"ImportTableCommand")}},I4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser($xe).de(zOe).build(){static{p(this,"ListBackupsCommand")}},fP=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(qxe).de(VOe).build(){static{p(this,"ListContributorInsightsCommand")}},mP=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(Gxe).de(WOe).build(){static{p(this,"ListExportsCommand")}},N4=class extends m.Command.classBuilder().ep(j).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(zxe).de(KOe).build(){static{p(this,"ListGlobalTablesCommand")}},hP=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(Vxe).de(JOe).build(){static{p(this,"ListImportsCommand")}},gP=class extends m.Command.classBuilder().ep(j).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(Wxe).de(YOe).build(){static{p(this,"ListTablesCommand")}},D4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(Kxe).de(XOe).build(){static{p(this,"ListTagsOfResourceCommand")}},M4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(Jxe).de(QOe).build(){static{p(this,"PutItemCommand")}},k4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(Yxe).de(ZOe).build(){static{p(this,"PutResourcePolicyCommand")}},yP=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(Xxe).de(eRe).build(){static{p(this,"QueryCommand")}},L4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(Qxe).de(tRe).build(){static{p(this,"RestoreTableFromBackupCommand")}},U4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(Zxe).de(rRe).build(){static{p(this,"RestoreTableToPointInTimeCommand")}},_P=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(eOe).de(nRe).build(){static{p(this,"ScanCommand")}},F4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(tOe).de(oRe).build(){static{p(this,"TagResourceCommand")}},B4=class extends m.Command.classBuilder().ep({...j,ResourceArnList:{type:"operationContextParams",get:p(e=>e?.TransactItems?.map(t=>t?.Get?.TableName),"get")}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(rOe).de(sRe).build(){static{p(this,"TransactGetItemsCommand")}},j4=class extends m.Command.classBuilder().ep({...j,ResourceArnList:{type:"operationContextParams",get:p(e=>e?.TransactItems?.map(t=>[t?.ConditionCheck?.TableName,t?.Put?.TableName,t?.Delete?.TableName,t?.Update?.TableName].filter(r=>r)).flat(),"get")}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(nOe).de(iRe).build(){static{p(this,"TransactWriteItemsCommand")}},H4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(oOe).de(aRe).build(){static{p(this,"UntagResourceCommand")}},$4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(sOe).de(cRe).build(){static{p(this,"UpdateContinuousBackupsCommand")}},q4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(iOe).de(lRe).build(){static{p(this,"UpdateContributorInsightsCommand")}},G4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(aOe).de(uRe).build(){static{p(this,"UpdateGlobalTableCommand")}},z4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(cOe).de(dRe).build(){static{p(this,"UpdateGlobalTableSettingsCommand")}},V4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(lOe).de(pRe).build(){static{p(this,"UpdateItemCommand")}},W4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(uOe).de(fRe).build(){static{p(this,"UpdateKinesisStreamingDestinationCommand")}},K4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(dOe).de(mRe).build(){static{p(this,"UpdateTableCommand")}},J4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(pOe).de(hRe).build(){static{p(this,"UpdateTableReplicaAutoScalingCommand")}},Y4=class extends m.Command.classBuilder().ep({...j,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,B.getSerdePlugin)(r,this.serialize,this.deserialize),(0,U.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(fOe).de(gRe).build(){static{p(this,"UpdateTimeToLiveCommand")}},H0e={BatchExecuteStatementCommand:r4,BatchGetItemCommand:n4,BatchWriteItemCommand:o4,CreateBackupCommand:s4,CreateGlobalTableCommand:i4,CreateTableCommand:a4,DeleteBackupCommand:c4,DeleteItemCommand:l4,DeleteResourcePolicyCommand:u4,DeleteTableCommand:d4,DescribeBackupCommand:p4,DescribeContinuousBackupsCommand:f4,DescribeContributorInsightsCommand:m4,DescribeEndpointsCommand:pP,DescribeExportCommand:h4,DescribeGlobalTableCommand:g4,DescribeGlobalTableSettingsCommand:y4,DescribeImportCommand:_4,DescribeKinesisStreamingDestinationCommand:E4,DescribeLimitsCommand:v4,DescribeTableCommand:zh,DescribeTableReplicaAutoScalingCommand:S4,DescribeTimeToLiveCommand:b4,DisableKinesisStreamingDestinationCommand:T4,EnableKinesisStreamingDestinationCommand:w4,ExecuteStatementCommand:P4,ExecuteTransactionCommand:C4,ExportTableToPointInTimeCommand:x4,GetItemCommand:O4,GetResourcePolicyCommand:R4,ImportTableCommand:A4,ListBackupsCommand:I4,ListContributorInsightsCommand:fP,ListExportsCommand:mP,ListGlobalTablesCommand:N4,ListImportsCommand:hP,ListTablesCommand:gP,ListTagsOfResourceCommand:D4,PutItemCommand:M4,PutResourcePolicyCommand:k4,QueryCommand:yP,RestoreTableFromBackupCommand:L4,RestoreTableToPointInTimeCommand:U4,ScanCommand:_P,TagResourceCommand:F4,TransactGetItemsCommand:B4,TransactWriteItemsCommand:j4,UntagResourceCommand:H4,UpdateContinuousBackupsCommand:$4,UpdateContributorInsightsCommand:q4,UpdateGlobalTableCommand:G4,UpdateGlobalTableSettingsCommand:z4,UpdateItemCommand:V4,UpdateKinesisStreamingDestinationCommand:W4,UpdateTableCommand:K4,UpdateTableReplicaAutoScalingCommand:J4,UpdateTimeToLiveCommand:Y4},X4=class extends lo{static{p(this,"DynamoDB")}};(0,m.createAggregatedClient)(H0e,X4);var $0e=(pt(),V(Ot)),q0e=(0,$0e.createPaginator)(lo,fP,"NextToken","NextToken","MaxResults"),G0e=(pt(),V(Ot)),z0e=(0,G0e.createPaginator)(lo,mP,"NextToken","NextToken","MaxResults"),V0e=(pt(),V(Ot)),W0e=(0,V0e.createPaginator)(lo,hP,"NextToken","NextToken","PageSize"),K0e=(pt(),V(Ot)),J0e=(0,K0e.createPaginator)(lo,gP,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),Y0e=(pt(),V(Ot)),X0e=(0,Y0e.createPaginator)(lo,yP,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Q0e=(pt(),V(Ot)),Z0e=(0,Q0e.createPaginator)(lo,_P,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Zt=g3(),Q4=p(async(e,t)=>{let r;try{let n=await e.send(new zh(t));r=n;try{if(p(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:Zt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Zt.WaiterState.RETRY,reason:r}}return{state:Zt.WaiterState.RETRY,reason:r}},"checkState"),eNe=p(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Zt.createWaiter)({...r,...e},t,Q4)},"waitForTableExists"),tNe=p(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Zt.createWaiter)({...r,...e},t,Q4);return(0,Zt.checkExceptions)(n)},"waitUntilTableExists"),Z4=p(async(e,t)=>{let r;try{r=await e.send(new zh(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Zt.WaiterState.SUCCESS,reason:r}}return{state:Zt.WaiterState.RETRY,reason:r}},"checkState"),rNe=p(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Zt.createWaiter)({...r,...e},t,Z4)},"waitForTableNotExists"),nNe=p(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Zt.createWaiter)({...r,...e},t,Z4);return(0,Zt.checkExceptions)(n)},"waitUntilTableNotExists")});var ds=b((ort,i8)=>{"use strict";a();i8.exports=TypeError});var c8=b((irt,a8)=>{a();a8.exports=L("util").inspect});var bl=b((crt,O8)=>{a();var DP=typeof Map=="function"&&Map.prototype,wP=Object.getOwnPropertyDescriptor&&DP?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ng=DP&&wP&&typeof wP.get=="function"?wP.get:null,l8=DP&&Map.prototype.forEach,MP=typeof Set=="function"&&Set.prototype,PP=Object.getOwnPropertyDescriptor&&MP?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,og=MP&&PP&&typeof PP.get=="function"?PP.get:null,u8=MP&&Set.prototype.forEach,iNe=typeof WeakMap=="function"&&WeakMap.prototype,El=iNe?WeakMap.prototype.has:null,aNe=typeof WeakSet=="function"&&WeakSet.prototype,vl=aNe?WeakSet.prototype.has:null,cNe=typeof WeakRef=="function"&&WeakRef.prototype,d8=cNe?WeakRef.prototype.deref:null,lNe=Boolean.prototype.valueOf,uNe=Object.prototype.toString,dNe=Function.prototype.toString,pNe=String.prototype.match,kP=String.prototype.slice,fo=String.prototype.replace,fNe=String.prototype.toUpperCase,p8=String.prototype.toLowerCase,S8=RegExp.prototype.test,f8=Array.prototype.concat,Lr=Array.prototype.join,mNe=Array.prototype.slice,m8=Math.floor,OP=typeof BigInt=="function"?BigInt.prototype.valueOf:null,CP=Object.getOwnPropertySymbols,RP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Sl=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ri||!0)?Symbol.toStringTag:null,b8=Object.prototype.propertyIsEnumerable,h8=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function g8(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||S8.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-m8(-e):m8(e);if(n!==e){var o=String(n),s=kP.call(t,o.length+1);return fo.call(o,r,"$&_")+"."+fo.call(fo.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fo.call(t,r,"$&_")}var AP=c8(),y8=AP.custom,_8=P8(y8)?y8:null,T8={__proto__:null,double:'"',single:"'"},hNe={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};O8.exports=function e(t,r,n,o){var s=r||{};if(mn(s,"quoteStyle")&&!mn(T8,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(mn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var i=mn(s,"customInspect")?s.customInspect:!0;if(typeof i!="boolean"&&i!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(mn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(mn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=s.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return x8(t,s);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return c?g8(t,l):l}if(typeof t=="bigint"){var u=String(t)+"n";return c?g8(t,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof t=="object")return IP(t)?"[Array]":"[Object]";var f=DNe(s,n);if(typeof o>"u")o=[];else if(C8(o,t)>=0)return"[Circular]";function h(zt,hn,Hr){if(hn&&(o=mNe.call(o),o.push(hn)),Hr){var Gi={depth:s.depth};return mn(s,"quoteStyle")&&(Gi.quoteStyle=s.quoteStyle),e(zt,Gi,n+1,o)}return e(zt,s,n+1,o)}if(typeof t=="function"&&!E8(t)){var g=wNe(t),y=rg(t,h);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(y.length>0?" { "+Lr.call(y,", ")+" }":"")}if(P8(t)){var _=Ri?fo.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):RP.call(t);return typeof t=="object"&&!Ri?_l(_):_}if(ANe(t)){for(var S="<"+p8.call(String(t.nodeName)),T=t.attributes||[],w=0;w<T.length;w++)S+=" "+T[w].name+"="+w8(gNe(T[w].value),"double",s);return S+=">",t.childNodes&&t.childNodes.length&&(S+="..."),S+="</"+p8.call(String(t.nodeName))+">",S}if(IP(t)){if(t.length===0)return"[]";var C=rg(t,h);return f&&!NNe(C)?"["+NP(C,f)+"]":"[ "+Lr.call(C,", ")+" ]"}if(_Ne(t)){var O=rg(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!b8.call(t,"cause")?"{ ["+String(t)+"] "+Lr.call(f8.call("[cause]: "+h(t.cause),O),", ")+" }":O.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Lr.call(O,", ")+" }"}if(typeof t=="object"&&i){if(_8&&typeof t[_8]=="function"&&AP)return AP(t,{depth:d-n});if(i!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(PNe(t)){var x=[];return l8&&l8.call(t,function(zt,hn){x.push(h(hn,t,!0)+" => "+h(zt,t))}),v8("Map",ng.call(t),x,f)}if(ONe(t)){var A=[];return u8&&u8.call(t,function(zt){A.push(h(zt,t))}),v8("Set",og.call(t),A,f)}if(CNe(t))return xP("WeakMap");if(RNe(t))return xP("WeakSet");if(xNe(t))return xP("WeakRef");if(vNe(t))return _l(h(Number(t)));if(bNe(t))return _l(h(OP.call(t)));if(SNe(t))return _l(lNe.call(t));if(ENe(t))return _l(h(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof global<"u"&&t===global)return"{ [object globalThis] }";if(!yNe(t)&&!E8(t)){var le=rg(t,h),oe=h8?h8(t)===Object.prototype:t instanceof Object||t.constructor===Object,te=t instanceof Object?"":"null prototype",q=!oe&&Sl&&Object(t)===t&&Sl in t?kP.call(mo(t),8,-1):te?"Object":"",ue=oe||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",nr=ue+(q||te?"["+Lr.call(f8.call([],q||[],te||[]),": ")+"] ":"");return le.length===0?nr+"{}":f?nr+"{"+NP(le,f)+"}":nr+"{ "+Lr.call(le,", ")+" }"}return String(t)};function w8(e,t,r){var n=r.quoteStyle||t,o=T8[n];return o+e+o}function gNe(e){return fo.call(String(e),/"/g,"&quot;")}function ps(e){return!Sl||!(typeof e=="object"&&(Sl in e||typeof e[Sl]<"u"))}function IP(e){return mo(e)==="[object Array]"&&ps(e)}function yNe(e){return mo(e)==="[object Date]"&&ps(e)}function E8(e){return mo(e)==="[object RegExp]"&&ps(e)}function _Ne(e){return mo(e)==="[object Error]"&&ps(e)}function ENe(e){return mo(e)==="[object String]"&&ps(e)}function vNe(e){return mo(e)==="[object Number]"&&ps(e)}function SNe(e){return mo(e)==="[object Boolean]"&&ps(e)}function P8(e){if(Ri)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!RP)return!1;try{return RP.call(e),!0}catch{}return!1}function bNe(e){if(!e||typeof e!="object"||!OP)return!1;try{return OP.call(e),!0}catch{}return!1}var TNe=Object.prototype.hasOwnProperty||function(e){return e in this};function mn(e,t){return TNe.call(e,t)}function mo(e){return uNe.call(e)}function wNe(e){if(e.name)return e.name;var t=pNe.call(dNe.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function C8(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function PNe(e){if(!ng||!e||typeof e!="object")return!1;try{ng.call(e);try{og.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function CNe(e){if(!El||!e||typeof e!="object")return!1;try{El.call(e,El);try{vl.call(e,vl)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function xNe(e){if(!d8||!e||typeof e!="object")return!1;try{return d8.call(e),!0}catch{}return!1}function ONe(e){if(!og||!e||typeof e!="object")return!1;try{og.call(e);try{ng.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function RNe(e){if(!vl||!e||typeof e!="object")return!1;try{vl.call(e,vl);try{El.call(e,El)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function ANe(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function x8(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return x8(kP.call(e,0,t.maxStringLength),t)+n}var o=hNe[t.quoteStyle||"single"];o.lastIndex=0;var s=fo.call(fo.call(e,o,"\\$1"),/[\x00-\x1f]/g,INe);return w8(s,"single",t)}function INe(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+fNe.call(t.toString(16))}function _l(e){return"Object("+e+")"}function xP(e){return e+" { ? }"}function v8(e,t,r,n){var o=n?NP(r,n):Lr.call(r,", ");return e+" ("+t+") {"+o+"}"}function NNe(e){for(var t=0;t<e.length;t++)if(C8(e[t],`
`)>=0)return!1;return!0}function DNe(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Lr.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Lr.call(Array(t+1),r)}}function NP(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+Lr.call(e,","+r)+`
`+t.prev}function rg(e,t){var r=IP(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=mn(e,o)?t(e[o],e):""}var s=typeof CP=="function"?CP(e):[],i;if(Ri){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=s[c]}for(var l in e)mn(e,l)&&(r&&String(Number(l))===l&&l<e.length||Ri&&i["$"+l]instanceof Symbol||(S8.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof CP=="function")for(var u=0;u<s.length;u++)b8.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}});var A8=b((urt,R8)=>{"use strict";a();var MNe=bl(),kNe=ds(),sg=function(e,t,r){for(var n=e,o;(o=n.next)!=null;n=o)if(o.key===t)return n.next=o.next,r||(o.next=e.next,e.next=o),o},LNe=function(e,t){if(e){var r=sg(e,t);return r&&r.value}},UNe=function(e,t,r){var n=sg(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},FNe=function(e,t){return e?!!sg(e,t):!1},BNe=function(e,t){if(e)return sg(e,t,!0)};R8.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new kNe("Side channel does not contain "+MNe(n))},delete:function(n){var o=t&&t.next,s=BNe(t,n);return s&&o&&o===s&&(t=void 0),!!s},get:function(n){return LNe(t,n)},has:function(n){return FNe(t,n)},set:function(n,o){t||(t={next:void 0}),UNe(t,n,o)}};return r}});var LP=b((prt,I8)=>{"use strict";a();I8.exports=Object});var D8=b((mrt,N8)=>{"use strict";a();N8.exports=Error});var k8=b((grt,M8)=>{"use strict";a();M8.exports=EvalError});var U8=b((_rt,L8)=>{"use strict";a();L8.exports=RangeError});var B8=b((vrt,F8)=>{"use strict";a();F8.exports=ReferenceError});var H8=b((brt,j8)=>{"use strict";a();j8.exports=SyntaxError});var q8=b((wrt,$8)=>{"use strict";a();$8.exports=URIError});var z8=b((Crt,G8)=>{"use strict";a();G8.exports=Math.abs});var W8=b((Ort,V8)=>{"use strict";a();V8.exports=Math.floor});var J8=b((Art,K8)=>{"use strict";a();K8.exports=Math.max});var X8=b((Nrt,Y8)=>{"use strict";a();Y8.exports=Math.min});var Z8=b((Mrt,Q8)=>{"use strict";a();Q8.exports=Math.pow});var tK=b((Lrt,eK)=>{"use strict";a();eK.exports=Math.round});var nK=b((Frt,rK)=>{"use strict";a();rK.exports=Number.isNaN||function(t){return t!==t}});var sK=b((jrt,oK)=>{"use strict";a();var jNe=nK();oK.exports=function(t){return jNe(t)||t===0?t:t<0?-1:1}});var aK=b(($rt,iK)=>{"use strict";a();iK.exports=Object.getOwnPropertyDescriptor});var UP=b((Grt,cK)=>{"use strict";a();var ig=aK();if(ig)try{ig([],"length")}catch{ig=null}cK.exports=ig});var uK=b((Vrt,lK)=>{"use strict";a();var ag=Object.defineProperty||!1;if(ag)try{ag({},"a",{value:1})}catch{ag=!1}lK.exports=ag});var pK=b((Krt,dK)=>{"use strict";a();dK.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,r);if(c.value!==o||c.enumerable!==!0)return!1}return!0}});var hK=b((Yrt,mK)=>{"use strict";a();var fK=typeof Symbol<"u"&&Symbol,HNe=pK();mK.exports=function(){return typeof fK!="function"||typeof Symbol!="function"||typeof fK("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:HNe()}});var FP=b((Qrt,gK)=>{"use strict";a();gK.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var BP=b((ent,yK)=>{"use strict";a();var $Ne=LP();yK.exports=$Ne.getPrototypeOf||null});var vK=b((rnt,EK)=>{"use strict";a();var qNe="Function.prototype.bind called on incompatible ",GNe=Object.prototype.toString,zNe=Math.max,VNe="[object Function]",_K=function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},WNe=function(t,r){for(var n=[],o=r||0,s=0;o<t.length;o+=1,s+=1)n[s]=t[o];return n},KNe=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};EK.exports=function(t){var r=this;if(typeof r!="function"||GNe.apply(r)!==VNe)throw new TypeError(qNe+r);for(var n=WNe(arguments,1),o,s=function(){if(this instanceof o){var d=r.apply(this,_K(n,arguments));return Object(d)===d?d:this}return r.apply(t,_K(n,arguments))},i=zNe(0,r.length-n.length),c=[],l=0;l<i;l++)c[l]="$"+l;if(o=Function("binder","return function ("+KNe(c,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}});var Tl=b((ont,SK)=>{"use strict";a();var JNe=vK();SK.exports=Function.prototype.bind||JNe});var cg=b((int,bK)=>{"use strict";a();bK.exports=Function.prototype.call});var jP=b((cnt,TK)=>{"use strict";a();TK.exports=Function.prototype.apply});var PK=b((unt,wK)=>{"use strict";a();wK.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var xK=b((pnt,CK)=>{"use strict";a();var YNe=Tl(),XNe=jP(),QNe=cg(),ZNe=PK();CK.exports=ZNe||YNe.call(QNe,XNe)});var HP=b((mnt,OK)=>{"use strict";a();var eDe=Tl(),tDe=ds(),rDe=cg(),nDe=xK();OK.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new tDe("a function is required");return nDe(eDe,rDe,t)}});var MK=b((gnt,DK)=>{"use strict";a();var oDe=HP(),RK=UP(),IK;try{IK=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var $P=!!IK&&RK&&RK(Object.prototype,"__proto__"),NK=Object,AK=NK.getPrototypeOf;DK.exports=$P&&typeof $P.get=="function"?oDe([$P.get]):typeof AK=="function"?function(t){return AK(t==null?t:NK(t))}:!1});var BK=b((_nt,FK)=>{"use strict";a();var kK=FP(),LK=BP(),UK=MK();FK.exports=kK?function(t){return kK(t)}:LK?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return LK(t)}:UK?function(t){return UK(t)}:null});var HK=b((vnt,jK)=>{"use strict";a();var sDe=Function.prototype.call,iDe=Object.prototype.hasOwnProperty,aDe=Tl();jK.exports=aDe.call(sDe,iDe)});var dg=b((bnt,WK)=>{"use strict";a();var Y,cDe=LP(),lDe=D8(),uDe=k8(),dDe=U8(),pDe=B8(),Di=H8(),Ni=ds(),fDe=q8(),mDe=z8(),hDe=W8(),gDe=J8(),yDe=X8(),_De=Z8(),EDe=tK(),vDe=sK(),zK=Function,qP=function(e){try{return zK('"use strict"; return ('+e+").constructor;")()}catch{}},wl=UP(),SDe=uK(),GP=function(){throw new Ni},bDe=wl?function(){try{return arguments.callee,GP}catch{try{return wl(arguments,"callee").get}catch{return GP}}}():GP,Ai=hK()(),je=BK(),TDe=BP(),wDe=FP(),VK=jP(),Pl=cg(),Ii={},PDe=typeof Uint8Array>"u"||!je?Y:je(Uint8Array),fs={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Y:ArrayBuffer,"%ArrayIteratorPrototype%":Ai&&je?je([][Symbol.iterator]()):Y,"%AsyncFromSyncIteratorPrototype%":Y,"%AsyncFunction%":Ii,"%AsyncGenerator%":Ii,"%AsyncGeneratorFunction%":Ii,"%AsyncIteratorPrototype%":Ii,"%Atomics%":typeof Atomics>"u"?Y:Atomics,"%BigInt%":typeof BigInt>"u"?Y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":lDe,"%eval%":eval,"%EvalError%":uDe,"%Float16Array%":typeof Float16Array>"u"?Y:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Y:FinalizationRegistry,"%Function%":zK,"%GeneratorFunction%":Ii,"%Int8Array%":typeof Int8Array>"u"?Y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ai&&je?je(je([][Symbol.iterator]())):Y,"%JSON%":typeof JSON=="object"?JSON:Y,"%Map%":typeof Map>"u"?Y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ai||!je?Y:je(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":cDe,"%Object.getOwnPropertyDescriptor%":wl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Y:Promise,"%Proxy%":typeof Proxy>"u"?Y:Proxy,"%RangeError%":dDe,"%ReferenceError%":pDe,"%Reflect%":typeof Reflect>"u"?Y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ai||!je?Y:je(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ai&&je?je(""[Symbol.iterator]()):Y,"%Symbol%":Ai?Symbol:Y,"%SyntaxError%":Di,"%ThrowTypeError%":bDe,"%TypedArray%":PDe,"%TypeError%":Ni,"%Uint8Array%":typeof Uint8Array>"u"?Y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Y:Uint32Array,"%URIError%":fDe,"%WeakMap%":typeof WeakMap>"u"?Y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Y:WeakSet,"%Function.prototype.call%":Pl,"%Function.prototype.apply%":VK,"%Object.defineProperty%":SDe,"%Object.getPrototypeOf%":TDe,"%Math.abs%":mDe,"%Math.floor%":hDe,"%Math.max%":gDe,"%Math.min%":yDe,"%Math.pow%":_De,"%Math.round%":EDe,"%Math.sign%":vDe,"%Reflect.getPrototypeOf%":wDe};if(je)try{null.error}catch(e){$K=je(je(e)),fs["%Error.prototype%"]=$K}var $K,CDe=function e(t){var r;if(t==="%AsyncFunction%")r=qP("async function () {}");else if(t==="%GeneratorFunction%")r=qP("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=qP("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&je&&(r=je(o.prototype))}return fs[t]=r,r},qK={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cl=Tl(),lg=HK(),xDe=Cl.call(Pl,Array.prototype.concat),ODe=Cl.call(VK,Array.prototype.splice),GK=Cl.call(Pl,String.prototype.replace),ug=Cl.call(Pl,String.prototype.slice),RDe=Cl.call(Pl,RegExp.prototype.exec),ADe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,IDe=/\\(\\)?/g,NDe=function(t){var r=ug(t,0,1),n=ug(t,-1);if(r==="%"&&n!=="%")throw new Di("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Di("invalid intrinsic syntax, expected opening `%`");var o=[];return GK(t,ADe,function(s,i,c,l){o[o.length]=c?GK(l,IDe,"$1"):i||s}),o},DDe=function(t,r){var n=t,o;if(lg(qK,n)&&(o=qK[n],n="%"+o[0]+"%"),lg(fs,n)){var s=fs[n];if(s===Ii&&(s=CDe(n)),typeof s>"u"&&!r)throw new Ni("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:s}}throw new Di("intrinsic "+t+" does not exist!")};WK.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new Ni("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ni('"allowMissing" argument must be a boolean');if(RDe(/^%?[^%]*%?$/,t)===null)throw new Di("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=NDe(t),o=n.length>0?n[0]:"",s=DDe("%"+o+"%",r),i=s.name,c=s.value,l=!1,u=s.alias;u&&(o=u[0],ODe(n,xDe([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var h=n[d],g=ug(h,0,1),y=ug(h,-1);if((g==='"'||g==="'"||g==="`"||y==='"'||y==="'"||y==="`")&&g!==y)throw new Di("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(l=!0),o+="."+h,i="%"+o+"%",lg(fs,i))c=fs[i];else if(c!=null){if(!(h in c)){if(!r)throw new Ni("base intrinsic for "+t+" exists, but the property is not available.");return}if(wl&&d+1>=n.length){var _=wl(c,h);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?c=_.get:c=c[h]}else f=lg(c,h),c=c[h];f&&!l&&(fs[i]=c)}}return c}});var zP=b((wnt,YK)=>{"use strict";a();var KK=dg(),JK=HP(),MDe=JK([KK("%String.prototype.indexOf%")]);YK.exports=function(t,r){var n=KK(t,!!r);return typeof n=="function"&&MDe(t,".prototype.")>-1?JK([n]):n}});var VP=b((Cnt,QK)=>{"use strict";a();var kDe=dg(),xl=zP(),LDe=bl(),UDe=ds(),XK=kDe("%Map%",!0),FDe=xl("Map.prototype.get",!0),BDe=xl("Map.prototype.set",!0),jDe=xl("Map.prototype.has",!0),HDe=xl("Map.prototype.delete",!0),$De=xl("Map.prototype.size",!0);QK.exports=!!XK&&function(){var t,r={assert:function(n){if(!r.has(n))throw new UDe("Side channel does not contain "+LDe(n))},delete:function(n){if(t){var o=HDe(t,n);return $De(t)===0&&(t=void 0),o}return!1},get:function(n){if(t)return FDe(t,n)},has:function(n){return t?jDe(t,n):!1},set:function(n,o){t||(t=new XK),BDe(t,n,o)}};return r}});var e6=b((Ont,ZK)=>{"use strict";a();var qDe=dg(),fg=zP(),GDe=bl(),pg=VP(),zDe=ds(),Mi=qDe("%WeakMap%",!0),VDe=fg("WeakMap.prototype.get",!0),WDe=fg("WeakMap.prototype.set",!0),KDe=fg("WeakMap.prototype.has",!0),JDe=fg("WeakMap.prototype.delete",!0);ZK.exports=Mi?function(){var t,r,n={assert:function(o){if(!n.has(o))throw new zDe("Side channel does not contain "+GDe(o))},delete:function(o){if(Mi&&o&&(typeof o=="object"||typeof o=="function")){if(t)return JDe(t,o)}else if(pg&&r)return r.delete(o);return!1},get:function(o){return Mi&&o&&(typeof o=="object"||typeof o=="function")&&t?VDe(t,o):r&&r.get(o)},has:function(o){return Mi&&o&&(typeof o=="object"||typeof o=="function")&&t?KDe(t,o):!!r&&r.has(o)},set:function(o,s){Mi&&o&&(typeof o=="object"||typeof o=="function")?(t||(t=new Mi),WDe(t,o,s)):pg&&(r||(r=pg()),r.set(o,s))}};return n}:pg});var r6=b((Ant,t6)=>{"use strict";a();var YDe=ds(),XDe=bl(),QDe=A8(),ZDe=VP(),eMe=e6(),tMe=eMe||ZDe||QDe;t6.exports=function(){var t,r={assert:function(n){if(!r.has(n))throw new YDe("Side channel does not contain "+XDe(n))},delete:function(n){return!!t&&t.delete(n)},get:function(n){return t&&t.get(n)},has:function(n){return!!t&&t.has(n)},set:function(n,o){t||(t=tMe()),t.set(n,o)}};return r}});var mg=b((Nnt,n6)=>{"use strict";a();var rMe=String.prototype.replace,nMe=/%20/g,WP={RFC1738:"RFC1738",RFC3986:"RFC3986"};n6.exports={default:WP.RFC3986,formatters:{RFC1738:function(e){return rMe.call(e,nMe,"+")},RFC3986:function(e){return String(e)}},RFC1738:WP.RFC1738,RFC3986:WP.RFC3986}});var YP=b((Mnt,s6)=>{"use strict";a();var oMe=mg(),KP=Object.prototype.hasOwnProperty,ms=Array.isArray,Ur=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),sMe=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(ms(n)){for(var o=[],s=0;s<n.length;++s)typeof n[s]<"u"&&o.push(n[s]);r.obj[r.prop]=o}}},o6=function(t,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},o=0;o<t.length;++o)typeof t[o]<"u"&&(n[o]=t[o]);return n},iMe=function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(ms(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!KP.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var o=t;return ms(t)&&!ms(r)&&(o=o6(t,n)),ms(t)&&ms(r)?(r.forEach(function(s,i){if(KP.call(t,i)){var c=t[i];c&&typeof c=="object"&&s&&typeof s=="object"?t[i]=e(c,s,n):t.push(s)}else t[i]=s}),t):Object.keys(r).reduce(function(s,i){var c=r[i];return KP.call(s,i)?s[i]=e(s[i],c,n):s[i]=c,s},o)},aMe=function(t,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},t)},cMe=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},JP=1024,lMe=function(t,r,n,o,s){if(t.length===0)return t;var i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var c="",l=0;l<i.length;l+=JP){for(var u=i.length>=JP?i.slice(l,l+JP):i,d=[],f=0;f<u.length;++f){var h=u.charCodeAt(f);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===oMe.RFC1738&&(h===40||h===41)){d[d.length]=u.charAt(f);continue}if(h<128){d[d.length]=Ur[h];continue}if(h<2048){d[d.length]=Ur[192|h>>6]+Ur[128|h&63];continue}if(h<55296||h>=57344){d[d.length]=Ur[224|h>>12]+Ur[128|h>>6&63]+Ur[128|h&63];continue}f+=1,h=65536+((h&1023)<<10|u.charCodeAt(f)&1023),d[d.length]=Ur[240|h>>18]+Ur[128|h>>12&63]+Ur[128|h>>6&63]+Ur[128|h&63]}c+=d.join("")}return c},uMe=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],o=0;o<r.length;++o)for(var s=r[o],i=s.obj[s.prop],c=Object.keys(i),l=0;l<c.length;++l){var u=c[l],d=i[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:i,prop:u}),n.push(d))}return sMe(r),t},dMe=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},pMe=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},fMe=function(t,r){return[].concat(t,r)},mMe=function(t,r){if(ms(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(r(t[o]));return n}return r(t)};s6.exports={arrayToObject:o6,assign:aMe,combine:fMe,compact:uMe,decode:cMe,encode:lMe,isBuffer:pMe,isRegExp:dMe,maybeMap:mMe,merge:iMe}});var d6=b((Lnt,u6)=>{"use strict";a();var a6=r6(),hg=YP(),Ol=mg(),hMe=Object.prototype.hasOwnProperty,c6={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},Fr=Array.isArray,gMe=Array.prototype.push,l6=function(e,t){gMe.apply(e,Fr(t)?t:[t])},yMe=Date.prototype.toISOString,i6=Ol.default,Ue={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hg.encode,encodeValuesOnly:!1,filter:void 0,format:i6,formatter:Ol.formatters[i6],indices:!1,serializeDate:function(t){return yMe.call(t)},skipNulls:!1,strictNullHandling:!1},_Me=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},XP={},EMe=function e(t,r,n,o,s,i,c,l,u,d,f,h,g,y,_,S,T,w){for(var C=t,O=w,x=0,A=!1;(O=O.get(XP))!==void 0&&!A;){var le=O.get(t);if(x+=1,typeof le<"u"){if(le===x)throw new RangeError("Cyclic object value");A=!0}typeof O.get(XP)>"u"&&(x=0)}if(typeof d=="function"?C=d(r,C):C instanceof Date?C=g(C):n==="comma"&&Fr(C)&&(C=hg.maybeMap(C,function($g){return $g instanceof Date?g($g):$g})),C===null){if(i)return u&&!S?u(r,Ue.encoder,T,"key",y):r;C=""}if(_Me(C)||hg.isBuffer(C)){if(u){var oe=S?r:u(r,Ue.encoder,T,"key",y);return[_(oe)+"="+_(u(C,Ue.encoder,T,"value",y))]}return[_(r)+"="+_(String(C))]}var te=[];if(typeof C>"u")return te;var q;if(n==="comma"&&Fr(C))S&&u&&(C=hg.maybeMap(C,u)),q=[{value:C.length>0?C.join(",")||null:void 0}];else if(Fr(d))q=d;else{var ue=Object.keys(C);q=f?ue.sort(f):ue}var nr=l?String(r).replace(/\./g,"%2E"):String(r),zt=o&&Fr(C)&&C.length===1?nr+"[]":nr;if(s&&Fr(C)&&C.length===0)return zt+"[]";for(var hn=0;hn<q.length;++hn){var Hr=q[hn],Gi=typeof Hr=="object"&&Hr&&typeof Hr.value<"u"?Hr.value:C[Hr];if(!(c&&Gi===null)){var Hg=h&&l?String(Hr).replace(/\./g,"%2E"):String(Hr),QY=Fr(C)?typeof n=="function"?n(zt,Hg):zt:zt+(h?"."+Hg:"["+Hg+"]");w.set(t,x);var yC=a6();yC.set(XP,w),l6(te,e(Gi,QY,n,o,s,i,c,l,n==="comma"&&S&&Fr(C)?null:u,d,f,h,g,y,_,S,T,yC))}}return te},vMe=function(t){if(!t)return Ue;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Ue.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ol.default;if(typeof t.format<"u"){if(!hMe.call(Ol.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var o=Ol.formatters[n],s=Ue.filter;(typeof t.filter=="function"||Fr(t.filter))&&(s=t.filter);var i;if(t.arrayFormat in c6?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=Ue.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof t.allowDots>"u"?t.encodeDotInKeys===!0?!0:Ue.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ue.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ue.allowEmptyArrays,arrayFormat:i,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ue.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ue.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ue.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ue.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ue.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ue.encodeValuesOnly,filter:s,format:n,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ue.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ue.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ue.strictNullHandling}};u6.exports=function(e,t){var r=e,n=vMe(t),o,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Fr(n.filter)&&(s=n.filter,o=s);var i=[];if(typeof r!="object"||r===null)return"";var c=c6[n.arrayFormat],l=c==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var u=a6(),d=0;d<o.length;++d){var f=o[d],h=r[f];n.skipNulls&&h===null||l6(i,EMe(h,f,c,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var g=i.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""}});var h6=b((Fnt,m6)=>{"use strict";a();var hs=YP(),QP=Object.prototype.hasOwnProperty,p6=Array.isArray,Se={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:hs.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},SMe=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},f6=function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},bMe="utf8=%26%2310003%3B",TMe="utf8=%E2%9C%93",wMe=function(t,r){var n={__proto__:null},o=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;o=o.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,i=o.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&i.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var c=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<i.length;++l)i[l].indexOf("utf8=")===0&&(i[l]===TMe?u="utf-8":i[l]===bMe&&(u="iso-8859-1"),c=l,l=i.length);for(l=0;l<i.length;++l)if(l!==c){var d=i[l],f=d.indexOf("]="),h=f===-1?d.indexOf("="):f+1,g,y;h===-1?(g=r.decoder(d,Se.decoder,u,"key"),y=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,h),Se.decoder,u,"key"),y=hs.maybeMap(f6(d.slice(h+1),r,p6(n[g])?n[g].length:0),function(S){return r.decoder(S,Se.decoder,u,"value")})),y&&r.interpretNumericEntities&&u==="iso-8859-1"&&(y=SMe(String(y))),d.indexOf("[]=")>-1&&(y=p6(y)?[y]:y);var _=QP.call(n,g);_&&r.duplicates==="combine"?n[g]=hs.combine(n[g],y):(!_||r.duplicates==="last")&&(n[g]=y)}return n},PMe=function(e,t,r,n){var o=0;if(e.length>0&&e[e.length-1]==="[]"){var s=e.slice(0,-1).join("");o=Array.isArray(t)&&t[s]?t[s].length:0}for(var i=n?t:f6(t,r,o),c=e.length-1;c>=0;--c){var l,u=e[c];if(u==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:hs.combine([],i);else{l=r.plainObjects?{__proto__:null}:{};var d=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,f=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,h=parseInt(f,10);!r.parseArrays&&f===""?l={0:i}:!isNaN(h)&&u!==f&&String(h)===f&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(l=[],l[h]=i):f!=="__proto__"&&(l[f]=i)}i=l}return i},CMe=function(t,r,n,o){if(t){var s=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,l=n.depth>0&&i.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!n.plainObjects&&QP.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var f=0;n.depth>0&&(l=c.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&QP.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+s.slice(l.index)+"]")}return PMe(d,r,n,o)}},xMe=function(t){if(!t)return Se;if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.decodeDotInKeys<"u"&&typeof t.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(t.decoder!==null&&typeof t.decoder<"u"&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof t.throwOnLimitExceeded<"u"&&typeof t.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof t.charset>"u"?Se.charset:t.charset,n=typeof t.duplicates>"u"?Se.duplicates:t.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var o=typeof t.allowDots>"u"?t.decodeDotInKeys===!0?!0:Se.allowDots:!!t.allowDots;return{allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Se.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Se.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Se.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Se.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Se.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Se.comma,decodeDotInKeys:typeof t.decodeDotInKeys=="boolean"?t.decodeDotInKeys:Se.decodeDotInKeys,decoder:typeof t.decoder=="function"?t.decoder:Se.decoder,delimiter:typeof t.delimiter=="string"||hs.isRegExp(t.delimiter)?t.delimiter:Se.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Se.depth,duplicates:n,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Se.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Se.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Se.plainObjects,strictDepth:typeof t.strictDepth=="boolean"?!!t.strictDepth:Se.strictDepth,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Se.strictNullHandling,throwOnLimitExceeded:typeof t.throwOnLimitExceeded=="boolean"?t.throwOnLimitExceeded:!1}};m6.exports=function(e,t){var r=xMe(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?wMe(e,r):e,o=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),i=0;i<s.length;++i){var c=s[i],l=CMe(c,n[c],r,typeof e=="string");o=hs.merge(o,l,r)}return r.allowSparse===!0?o:hs.compact(o)}});var y6=b((jnt,g6)=>{"use strict";a();var OMe=d6(),RMe=h6(),AMe=mg();g6.exports={formats:AMe,parse:RMe,stringify:OMe}});a();var jg=P(t8(),1);a();a();import*as ki from"crypto";import{EventEmitter as O6}from"events";a();import*as r8 from"crypto";a();var uo=class{computeHMACSignature(t,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(t,r){throw new Error("computeHMACSignatureAsync not implemented.")}},Pi=class extends Error{};var Vh=class extends uo{computeHMACSignature(t,r){return r8.createHmac("sha256",r).update(t,"utf8").digest("hex")}async computeHMACSignatureAsync(t,r){return await this.computeHMACSignature(t,r)}};a();import*as vP from"http";import*as SP from"https";a();var ut=class e{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(t,r,n,o,s,i,c,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let t=new TypeError(e.TIMEOUT_ERROR_CODE);return t.code=e.TIMEOUT_ERROR_CODE,t}};ut.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];ut.TIMEOUT_ERROR_CODE="ETIMEDOUT";var po=class{constructor(t,r){this._statusCode=t,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(t){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var n8=vP.default||vP,o8=SP.default||SP,oNe=new n8.Agent({keepAlive:!0}),sNe=new o8.Agent({keepAlive:!0}),hl=class extends ut{constructor(t){super(),this._agent=t}getClientName(){return"node"}makeRequest(t,r,n,o,s,i,c,l){let u=c==="http",d=this._agent;return d||(d=u?oNe:sNe),new Promise((h,g)=>{let y=(u?n8:o8).request({host:t,port:r,path:n,method:o,agent:d,headers:s,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});y.setTimeout(l,()=>{y.destroy(ut.makeTimeoutError())}),y.on("response",_=>{h(new EP(_))}),y.on("error",_=>{g(_)}),y.once("socket",_=>{_.connecting?_.once(u?"connect":"secureConnect",()=>{y.write(i),y.end()}):(y.write(i),y.end())})})}},EP=class extends po{constructor(t){super(t.statusCode,t.headers||{}),this._res=t}getRawResponse(){return this._res}toStream(t){return this._res.once("end",()=>t()),this._res}toJSON(){return new Promise((t,r)=>{let n="";this._res.setEncoding("utf8"),this._res.on("data",o=>{n+=o}),this._res.once("end",()=>{try{t(JSON.parse(n))}catch(o){r(o)}})})}};a();a();var Wh=class extends ut{constructor(t){super(),this._fetchFn=t}getClientName(){return"fetch"}makeRequest(t,r,n,o,s,i,c,l){let u=c==="http",d=new URL(n,`${u?"http":"https"}://${t}`);d.port=r;let f=o=="POST"||o=="PUT"||o=="PATCH",h=i||(f?"":void 0),y=(this._fetchFn||fetch)(d.toString(),{method:o,headers:s,body:h}),_,S=new Promise((T,w)=>{_=setTimeout(()=>{_=null,w(ut.makeTimeoutError())},l)});return Promise.race([y,S]).then(T=>new bP(T)).finally(()=>{_&&clearTimeout(_)})}},bP=class e extends po{constructor(t){super(t.status,e._transformHeadersToObject(t.headers)),this._res=t}getRawResponse(){return this._res}toStream(t){return t(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(t){let r={};for(let n of t){if(!Array.isArray(n)||n.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[n[0]]=n[1]}return r}};a();var Kh=class extends uo{constructor(t){super(),this.subtleCrypto=t||crypto.subtle}computeHMACSignature(t,r){throw new Pi("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(t,r){let n=new TextEncoder,o=await this.subtleCrypto.importKey("raw",n.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),s=await this.subtleCrypto.sign("hmac",o,n.encode(t)),i=new Uint8Array(s),c=new Array(i.length);for(let l=0;l<i.length;l++)c[l]=TP[i[l]];return c.join("")}},TP=new Array(256);for(let e=0;e<TP.length;e++)TP[e]=e.toString(16).padStart(2,"0");var Jh=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=Math.random()*16|0;return(t==="x"?r:r&3|8).toString(16)})}secureCompare(t,r){if(t.length!==r.length)return!1;let n=t.length,o=0;for(let s=0;s<n;++s)o|=t.charCodeAt(s)^r.charCodeAt(s);return o===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(t){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(t){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(t){return new Wh(t)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(t){return new Kh(t)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var tg={};Fe(tg,{StripeAPIError:()=>Ci,StripeAuthenticationError:()=>xi,StripeCardError:()=>Yh,StripeConnectionError:()=>yl,StripeError:()=>Pe,StripeIdempotencyError:()=>Qh,StripeInvalidGrantError:()=>Zh,StripeInvalidRequestError:()=>Xh,StripePermissionError:()=>gl,StripeRateLimitError:()=>Oi,StripeSignatureVerificationError:()=>tr,StripeUnknownError:()=>eg,generate:()=>s8});a();var s8=e=>{switch(e.type){case"card_error":return new Yh(e);case"invalid_request_error":return new Xh(e);case"api_error":return new Ci(e);case"authentication_error":return new xi(e);case"rate_limit_error":return new Oi(e);case"idempotency_error":return new Qh(e);case"invalid_grant":return new Zh(e);default:return new eg(e)}},Pe=class extends Error{constructor(t={}){super(t.message),this.type=this.constructor.name,this.raw=t,this.rawType=t.type,this.code=t.code,this.doc_url=t.doc_url,this.param=t.param,this.detail=t.detail,this.headers=t.headers,this.requestId=t.requestId,this.statusCode=t.statusCode,this.message=t.message,this.charge=t.charge,this.decline_code=t.decline_code,this.payment_intent=t.payment_intent,this.payment_method=t.payment_method,this.payment_method_type=t.payment_method_type,this.setup_intent=t.setup_intent,this.source=t.source}};Pe.generate=s8;var Yh=class extends Pe{},Xh=class extends Pe{},Ci=class extends Pe{},xi=class extends Pe{},gl=class extends Pe{},Oi=class extends Pe{},yl=class extends Pe{},tr=class extends Pe{constructor(t,r,n={}){super(n),this.header=t,this.payload=r}},Qh=class extends Pe{},Zh=class extends Pe{},eg=class extends Pe{};a();var _6=P(y6(),1),ZP=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"];function E6(e){return e&&typeof e=="object"&&ZP.some(t=>Object.prototype.hasOwnProperty.call(e,t))}function ho(e){return _6.stringify(e,{serializeDate:t=>Math.floor(t.getTime()/1e3).toString()}).replace(/%5B/g,"[").replace(/%5D/g,"]")}var gg=(()=>{let e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{let r=t.replace(/["\n\r\u2028\u2029]/g,n=>e[n]);return n=>r.replace(/\{([\s\S]+?)\}/g,(o,s)=>encodeURIComponent(n[s]||""))}})();function v6(e){let t=e.match(/\{\w+\}/g);return t?t.map(r=>r.replace(/[{}]/g,"")):[]}function yg(e){if(!Array.isArray(e)||!e[0]||typeof e[0]!="object")return{};if(!E6(e[0]))return e.shift();let t=Object.keys(e[0]),r=t.filter(n=>ZP.includes(n));return r.length>0&&r.length!==t.length&&Al(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function S6(e){let t={auth:null,host:null,headers:{},settings:{}};if(e.length>0){let r=e[e.length-1];if(typeof r=="string")t.auth=e.pop();else if(E6(r)){let n=Object.assign({},e.pop()),o=Object.keys(n).filter(s=>!ZP.includes(s));o.length&&Al(`Invalid options found (${o.join(", ")}); ignoring.`),n.apiKey&&(t.auth=n.apiKey),n.idempotencyKey&&(t.headers["Idempotency-Key"]=n.idempotencyKey),n.stripeAccount&&(t.headers["Stripe-Account"]=n.stripeAccount),n.apiVersion&&(t.headers["Stripe-Version"]=n.apiVersion),Number.isInteger(n.maxNetworkRetries)&&(t.settings.maxNetworkRetries=n.maxNetworkRetries),Number.isInteger(n.timeout)&&(t.settings.timeout=n.timeout),n.host&&(t.host=n.host)}}return t}function b6(e){let t=this,r=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...n){t.apply(this,n)};return Object.assign(r,t),r.prototype=Object.create(t.prototype),Object.assign(r.prototype,e),r}function _g(e){if(typeof e!="object")throw new Error("Argument must be an object");return Object.keys(e).reduce((t,r)=>(e[r]!=null&&(t[r]=e[r]),t),{})}function T6(e){return e&&typeof e=="object"?Object.keys(e).reduce((t,r)=>(t[IMe(r)]=e[r],t),{}):e}function IMe(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()).join("-")}function Rl(e,t){return t?e.then(r=>{setTimeout(()=>{t(null,r)},0)},r=>{setTimeout(()=>{t(r,null)},0)}):e}function w6(e){return e==="OAuth"?"oauth":e[0].toLowerCase()+e.substring(1)}function Al(e){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function NMe(e){let t=typeof e;return(t==="function"||t==="object")&&!!e}function P6(e){let t={},r=(n,o)=>{Object.keys(n).forEach(s=>{let i=n[s],c=o?`${o}[${s}]`:s;if(NMe(i)){if(!(i instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(i,"data"))return r(i,c);t[c]=i}else t[c]=String(i)})};return r(e,null),t}function Eg(e,t,r){if(!Number.isInteger(t)){if(r!==void 0)return r;throw new Error(`${e} must be an integer`)}return t}function C6(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}function x6(e){let t=e.reduce((o,s)=>o+s.length,0),r=new Uint8Array(t),n=0;return e.forEach(o=>{r.set(o,n),n+=o.length}),r}import{exec as DMe}from"child_process";var eC=class extends Pe{},vg=class extends Jh{constructor(){super(),this._exec=DMe,this._UNAME_CACHE=null}uuid4(){return ki.randomUUID?ki.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((t,r)=>{try{this._exec("uname -a",(n,o)=>{if(n)return t(null);t(o)})}catch{t(null)}})),this._UNAME_CACHE}secureCompare(t,r){if(!t||!r)throw new Error("secureCompare must receive two arguments");if(t.length!==r.length)return!1;if(ki.timingSafeEqual){let n=new TextEncoder,o=n.encode(t),s=n.encode(r);return ki.timingSafeEqual(o,s)}return super.secureCompare(t,r)}createEmitter(){return new O6}tryBufferData(t){if(!(t.file.data instanceof O6))return Promise.resolve(t);let r=[];return new Promise((n,o)=>{t.file.data.on("data",s=>{r.push(s)}).once("end",()=>{let s=Object.assign({},t);s.file.data=x6(r),n(s)}).on("error",s=>{o(new eC({message:"An error occurred while attempting to process the file for upload.",detail:s}))})})}createNodeHttpClient(t){return new hl(t)}createDefaultHttpClient(){return new hl}createNodeCryptoProvider(){return new Vh}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};a();a();var R6="2023-08-16";var Yl={};Fe(Yl,{Account:()=>pC,AccountLinks:()=>jJ,AccountSessions:()=>HJ,Accounts:()=>pC,ApplePayDomains:()=>$J,ApplicationFees:()=>qJ,Apps:()=>rke,Balance:()=>GJ,BalanceTransactions:()=>VJ,BillingPortal:()=>nke,Charges:()=>WJ,Checkout:()=>oke,CountrySpecs:()=>JJ,Coupons:()=>YJ,CreditNotes:()=>XJ,Customers:()=>QJ,Disputes:()=>ZJ,EphemeralKeys:()=>tY,Events:()=>nY,ExchangeRates:()=>sY,FileLinks:()=>iY,Files:()=>cY,FinancialConnections:()=>ske,Identity:()=>ike,InvoiceItems:()=>lY,Invoices:()=>uY,Issuing:()=>ake,Mandates:()=>dY,OAuth:()=>fY,PaymentIntents:()=>mY,PaymentLinks:()=>hY,PaymentMethodConfigurations:()=>gY,PaymentMethodDomains:()=>yY,PaymentMethods:()=>_Y,Payouts:()=>EY,Plans:()=>vY,Prices:()=>SY,Products:()=>bY,PromotionCodes:()=>TY,Quotes:()=>wY,Radar:()=>cke,Refunds:()=>PY,Reporting:()=>lke,Reviews:()=>CY,SetupAttempts:()=>xY,SetupIntents:()=>OY,ShippingRates:()=>RY,Sigma:()=>uke,Sources:()=>AY,SubscriptionItems:()=>IY,SubscriptionSchedules:()=>NY,Subscriptions:()=>DY,Tax:()=>dke,TaxCodes:()=>kY,TaxRates:()=>LY,Terminal:()=>pke,TestHelpers:()=>fke,Tokens:()=>FY,Topups:()=>BY,Transfers:()=>jY,Treasury:()=>mke,WebhookEndpoints:()=>HY});a();a();function kMe(e,t){for(let r in t){let n=r[0].toLowerCase()+r.substring(1),o=new t[r](e);this[n]=o}}function Xe(e,t){return function(r){return new kMe(r,t)}}a();a();a();a();var Sg=class{constructor(t,r,n,o){this.index=0,this.pagePromise=t,this.promiseCache={currentPromise:null},this.requestArgs=r,this.spec=n,this.stripeResource=o}async iterate(t){if(!(t&&t.data&&typeof t.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let r=N6(this.requestArgs);if(this.index<t.data.length){let n=r?t.data.length-1-this.index:this.index,o=t.data[n];return this.index+=1,{value:o,done:!1}}else if(t.has_more){this.index=0,this.pagePromise=this.getNextPage(t);let n=await this.pagePromise;return this.iterate(n)}return{done:!0,value:void 0}}getNextPage(t){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let t=(async()=>{let r=await this._next();return this.promiseCache.currentPromise=null,r})();return this.promiseCache.currentPromise=t,t}},tC=class extends Sg{getNextPage(t){let r=N6(this.requestArgs),n=BMe(t,r);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[r?"ending_before":"starting_after"]:n})}},rC=class extends Sg{getNextPage(t){if(!t.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:t.next_page})}},I6=(e,t,r,n)=>r.methodType==="search"?A6(new rC(n,t,r,e)):r.methodType==="list"?A6(new tC(n,t,r,e)):null,A6=e=>{let t=jMe((...o)=>e.next(...o)),r=HMe(t),n={autoPagingEach:t,autoPagingToArray:r,next:()=>e.next(),return:()=>({}),[LMe()]:()=>n};return n};function LMe(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function UMe(e){if(e.length<2)return null;let t=e[1];if(typeof t!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);return t}function FMe(e){if(e.length===0)return;let t=e[0];if(typeof t!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof t}`);if(t.length===2)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(n,o){let s=t(n);o(s)}}function BMe(e,t){let r=t?0:e.data.length-1,n=e.data[r],o=n&&n.id;if(!o)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return o}function jMe(e){return function(){let r=[].slice.call(arguments),n=FMe(r),o=UMe(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let s=$Me(e,n);return Rl(s,o)}}function HMe(e){return function(r,n){let o=r&&r.limit;if(!o)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(o>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let s=new Promise((i,c)=>{let l=[];e(u=>{if(l.push(u),l.length>=o)return!1}).then(()=>{i(l)}).catch(c)});return Rl(s,n)}}function $Me(e,t){return new Promise((r,n)=>{function o(s){if(s.done){r();return}let i=s.value;return new Promise(c=>{t(i,c)}).then(c=>c===!1?o({done:!0,value:void 0}):e().then(o))}e().then(o).catch(n)})}function N6(e){let t=[].slice.call(e);return!!yg(t).ending_before}function D6(e){if(e.path!==void 0&&e.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){let r=typeof t[t.length-1]=="function"&&t.pop();e.urlParams=v6(e.fullPath||this.createResourcePathWithSymbols(e.path||""));let n=Rl(this._makeRequest(t,e,{}),r);return Object.assign(n,I6(this,t,e,n)),n}}E.extend=b6;E.method=D6;E.MAX_BUFFERED_REQUEST_METRICS=100;function E(e,t){if(this._stripe=e,t)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=gg(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=gg(this.path),this.initialize(...arguments)}E.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){let r=[this.basePath(t),this.path(t)];if(typeof e=="function"){let n=e(t);n&&r.push(n)}else r.push(e);return this._joinUrlParts(r)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts(e){return e.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(e,t,r){let n=(t.method||"GET").toUpperCase(),o=t.urlParams||[],s=t.encode||(x=>x),i=!!t.fullPath,c=gg(i?t.fullPath:t.path||""),l=i?t.fullPath:this.createResourcePathWithSymbols(t.path),u=[].slice.call(e),d=o.reduce((x,A)=>{let le=u.shift();if(typeof le!="string")throw new Error(`Stripe: Argument "${A}" must be a string, but got: ${le} (on API request to \`${n} ${l}\`)`);return x[A]=le,x},{}),f=yg(u),h=s(Object.assign({},f,r)),g=S6(u),y=g.host||t.host,_=!!t.streaming;if(u.filter(x=>x!=null).length)throw new Error(`Stripe: Unknown arguments (${u}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${n} \`${l}\`)`);let S=i?c(d):this.createFullPath(c,d),T=Object.assign(g.headers,t.headers);t.validator&&t.validator(h,{headers:T});let w=t.method==="GET"||t.method==="DELETE";return{requestMethod:n,requestPath:S,bodyData:w?{}:h,queryData:w?h:{},auth:g.auth,headers:T,host:y??null,streaming:_,settings:g.settings}},_makeRequest(e,t,r){return new Promise((n,o)=>{var s;let i;try{i=this._getRequestOpts(e,t,r)}catch(h){o(h);return}function c(h,g){h?o(h):n(t.transformResponseData?t.transformResponseData(g):g)}let l=Object.keys(i.queryData).length===0,u=[i.requestPath,l?"":"?",ho(i.queryData)].join(""),{headers:d,settings:f}=i;this._stripe._requestSender._request(i.requestMethod,i.host,u,i.bodyData,i.auth,{headers:d,settings:f,streaming:i.streaming},c,(s=this.requestDataProcessor)===null||s===void 0?void 0:s.bind(this))})}};var Il=E.method,M6=E.extend({retrieve:Il({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Il({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Il({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Il({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Il({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"})});a();var Nl=E.method,k6=E.extend({create:Nl({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Nl({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Nl({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),increment:Nl({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),reverse:Nl({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});a();var Dl=E.method,L6=E.extend({retrieve:Dl({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Dl({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Dl({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Dl({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Dl({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});a();var U6=E.method,F6=E.extend({create:U6({method:"POST",fullPath:"/v1/tax/calculations"}),listLineItems:U6({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});a();var bg=E.method,B6=E.extend({create:bg({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:bg({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:bg({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:bg({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});a();var Tg=E.method,j6=E.extend({deliverCard:Tg({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:Tg({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:Tg({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:Tg({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"})});a();var wg=E.method,H6=E.extend({create:wg({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:wg({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:wg({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:wg({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});a();var Pg=E.method,$6=E.extend({create:Pg({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Pg({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Pg({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Pg({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});a();var Ml=E.method,q6=E.extend({create:Ml({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Ml({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Ml({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Ml({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Ml({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});a();var qMe=E.method,G6=E.extend({create:qMe({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});a();var nC=E.method,z6=E.extend({create:nC({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:nC({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:nC({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});a();var GMe=E.method,V6=E.extend({fundCashBalance:GMe({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});a();var oC=E.method,W6=E.extend({create:oC({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:oC({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:oC({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});a();var kl=E.method,K6=E.extend({create:kl({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:kl({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:kl({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:kl({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:kl({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});a();var J6=E.method,Y6=E.extend({retrieve:J6({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:J6({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});a();var Li=E.method,X6=E.extend({create:Li({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Li({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Li({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Li({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:Li({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Li({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});a();var sC=E.method,Q6=E.extend({fail:sC({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:sC({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:sC({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});a();var Cg=E.method,Z6=E.extend({create:Cg({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Cg({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Cg({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Cg({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});a();var Ll=E.method,eJ=E.extend({create:Ll({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:Ll({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:Ll({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:Ll({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:Ll({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});a();var iC=E.method,tJ=E.extend({fail:iC({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:iC({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:iC({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});a();var xg=E.method,rJ=E.extend({create:xg({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:xg({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:xg({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:xg({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});a();var aC=E.method,nJ=E.extend({fail:aC({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:aC({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:aC({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});a();var Og=E.method,oJ=E.extend({create:Og({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:Og({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:Og({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:Og({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});a();var zMe=E.method,sJ=E.extend({presentPaymentMethod:zMe({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})});a();var Br=E.method,iJ=E.extend({create:Br({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:Br({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:Br({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:Br({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:Br({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:Br({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:Br({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:Br({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:Br({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:Br({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});a();var VMe=E.method,aJ=E.extend({create:VMe({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});a();var cJ=E.method,lJ=E.extend({retrieve:cJ({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:cJ({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});a();var WMe=E.method,uJ=E.extend({create:WMe({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});a();var dJ=E.method,pJ=E.extend({retrieve:dJ({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:dJ({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});a();var KMe=E.method,fJ=E.extend({expire:KMe({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});a();var cC=E.method,mJ=E.extend({create:cC({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:cC({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:cC({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});a();var hJ=E.method,gJ=E.extend({retrieve:hJ({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:hJ({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});a();var yJ=E.method,_J=E.extend({retrieve:yJ({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:yJ({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});a();var Rg=E.method,EJ=E.extend({create:Rg({method:"POST",fullPath:"/v1/apps/secrets"}),list:Rg({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Rg({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Rg({method:"GET",fullPath:"/v1/apps/secrets/find"})});a();var JMe=E.method,vJ=E.extend({create:JMe({method:"POST",fullPath:"/v1/billing_portal/sessions"})});a();var Ul=E.method,SJ=E.extend({create:Ul({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Ul({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),list:Ul({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Ul({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Ul({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});a();var bJ=E.method,TJ=E.extend({create:bJ({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:bJ({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});a();var wJ=E.method,PJ=E.extend({retrieve:wJ({method:"GET",fullPath:"/v1/tax/settings"}),update:wJ({method:"POST",fullPath:"/v1/tax/settings"})});a();var Fl=E.method,CJ=E.extend({create:Fl({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:Fl({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:Fl({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:Fl({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:Fl({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});a();var lC=E.method,xJ=E.extend({retrieve:lC({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:lC({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:lC({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});a();var OJ=E.method,RJ=E.extend({retrieve:OJ({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:OJ({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});a();var uC=E.method,AJ=E.extend({createForceCapture:uC({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:uC({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:uC({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});a();var dC=E.method,IJ=E.extend({retrieve:dC({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:dC({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:dC({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});a();var Ag=E.method,NJ=E.extend({retrieve:Ag({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Ag({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Ag({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Ag({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});a();var DJ=E.method,MJ=E.extend({retrieve:DJ({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:DJ({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});a();var Ig=E.method,kJ=E.extend({create:Ig({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Ig({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Ig({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Ig({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});a();var Bl=E.method,LJ=E.extend({create:Bl({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:Bl({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:Bl({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:Bl({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:Bl({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});a();var UJ=E.method,FJ=E.extend({retrieve:UJ({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:UJ({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});a();var Ui=E.method,BJ=E.extend({create:Ui({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Ui({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Ui({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Ui({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Ui({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Ui({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});a();var Ce=E.method,pC=E.extend({create:Ce({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return typeof e=="string"?Ce({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(e==null&&[].shift.apply([e,...t]),Ce({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:Ce({method:"POST",fullPath:"/v1/accounts/{account}"}),list:Ce({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:Ce({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:Ce({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:Ce({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:Ce({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:Ce({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:Ce({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:Ce({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:Ce({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:Ce({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:Ce({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCapability:Ce({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:Ce({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:Ce({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:Ce({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:Ce({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:Ce({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});a();var YMe=E.method,jJ=E.extend({create:YMe({method:"POST",fullPath:"/v1/account_links"})});a();var XMe=E.method,HJ=E.extend({create:XMe({method:"POST",fullPath:"/v1/account_sessions"})});a();var Ng=E.method,$J=E.extend({create:Ng({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Ng({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Ng({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Ng({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});a();var Fi=E.method,qJ=E.extend({retrieve:Fi({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Fi({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Fi({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Fi({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Fi({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Fi({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});a();var QMe=E.method,GJ=E.extend({retrieve:QMe({method:"GET",fullPath:"/v1/balance"})});a();var zJ=E.method,VJ=E.extend({retrieve:zJ({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:zJ({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});a();var Bi=E.method,WJ=E.extend({create:Bi({method:"POST",fullPath:"/v1/charges"}),retrieve:Bi({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Bi({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Bi({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Bi({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Bi({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});a();var KJ=E.method,JJ=E.extend({retrieve:KJ({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:KJ({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});a();var jl=E.method,YJ=E.extend({create:jl({method:"POST",fullPath:"/v1/coupons"}),retrieve:jl({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:jl({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:jl({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:jl({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});a();var go=E.method,XJ=E.extend({create:go({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:go({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:go({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:go({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:go({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:go({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:go({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:go({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});a();var de=E.method,QJ=E.extend({create:de({method:"POST",fullPath:"/v1/customers"}),retrieve:de({method:"GET",fullPath:"/v1/customers/{customer}"}),update:de({method:"POST",fullPath:"/v1/customers/{customer}"}),list:de({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:de({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createFundingInstructions:de({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createBalanceTransaction:de({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createSource:de({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:de({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:de({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:de({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:de({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listPaymentMethods:de({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listBalanceTransactions:de({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:de({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listSources:de({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:de({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrievePaymentMethod:de({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveBalanceTransaction:de({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:de({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:de({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrieveSource:de({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:de({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:de({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:de({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:de({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:de({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:de({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});a();var Dg=E.method,ZJ=E.extend({retrieve:Dg({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Dg({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Dg({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Dg({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});a();var eY=E.method,tY=E.extend({create:eY({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:eY({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});a();var rY=E.method,nY=E.extend({retrieve:rY({method:"GET",fullPath:"/v1/events/{id}"}),list:rY({method:"GET",fullPath:"/v1/events",methodType:"list"})});a();var oY=E.method,sY=E.extend({retrieve:oY({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:oY({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});a();var Mg=E.method,iY=E.extend({create:Mg({method:"POST",fullPath:"/v1/file_links"}),retrieve:Mg({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Mg({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Mg({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});a();a();var ZMe=(e,t,r)=>{let n=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${n}`;let o=new TextEncoder,s=new Uint8Array(0),i=o.encode(`\r
`);function c(d){let f=s,h=d instanceof Uint8Array?d:new Uint8Array(o.encode(d));s=new Uint8Array(f.length+h.length+2),s.set(f),s.set(h,f.length),s.set(i,s.length-2)}function l(d){return`"${d.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let u=P6(t);for(let d in u){let f=u[d];if(c(`--${n}`),Object.prototype.hasOwnProperty.call(f,"data")){let h=f;c(`Content-Disposition: form-data; name=${l(d)}; filename=${l(h.name||"blob")}`),c(`Content-Type: ${h.type||"application/octet-stream"}`),c(""),c(h.data)}else c(`Content-Disposition: form-data; name=${l(d)}`),c(""),c(f)}return c(`--${n}--`),s};function aY(e,t,r,n){if(t=t||{},e!=="POST")return n(null,ho(t));this._stripe._platformFunctions.tryBufferData(t).then(o=>{let s=ZMe(e,o,r);return n(null,s)}).catch(o=>n(o,null))}var fC=E.method,cY=E.extend({create:fC({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:fC({method:"GET",fullPath:"/v1/files/{file}"}),list:fC({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:aY});a();var Hl=E.method,lY=E.extend({create:Hl({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:Hl({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:Hl({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:Hl({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:Hl({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});a();var yt=E.method,uY=E.extend({create:yt({method:"POST",fullPath:"/v1/invoices"}),retrieve:yt({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:yt({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:yt({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:yt({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),finalizeInvoice:yt({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:yt({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:yt({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:yt({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:yt({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),retrieveUpcoming:yt({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:yt({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:yt({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),voidInvoice:yt({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});a();var eke=E.method,dY=E.extend({retrieve:eke({method:"GET",fullPath:"/v1/mandates/{mandate}"})});a();var pY=E.method,mC="connect.stripe.com",fY=E.extend({basePath:"/",authorizeUrl(e,t){e=e||{},t=t||{};let r="oauth/authorize";return t.express&&(r=`express/${r}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${mC}/${r}?${ho(e)}`},token:pY({method:"POST",path:"oauth/token",host:mC}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),pY({method:"POST",path:"oauth/deauthorize",host:mC}).apply(this,[e,...t])}});a();var rr=E.method,mY=E.extend({create:rr({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:rr({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:rr({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:rr({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:rr({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:rr({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:rr({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:rr({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:rr({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:rr({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:rr({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});a();var $l=E.method,hY=E.extend({create:$l({method:"POST",fullPath:"/v1/payment_links"}),retrieve:$l({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:$l({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:$l({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:$l({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});a();var kg=E.method,gY=E.extend({create:kg({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:kg({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:kg({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:kg({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});a();var ql=E.method,yY=E.extend({create:ql({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:ql({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:ql({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:ql({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:ql({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});a();var ji=E.method,_Y=E.extend({create:ji({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:ji({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:ji({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:ji({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:ji({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:ji({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});a();var Hi=E.method,EY=E.extend({create:Hi({method:"POST",fullPath:"/v1/payouts"}),retrieve:Hi({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Hi({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Hi({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Hi({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Hi({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});a();var Gl=E.method,vY=E.extend({create:Gl({method:"POST",fullPath:"/v1/plans"}),retrieve:Gl({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Gl({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Gl({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Gl({method:"DELETE",fullPath:"/v1/plans/{plan}"})});a();var zl=E.method,SY=E.extend({create:zl({method:"POST",fullPath:"/v1/prices"}),retrieve:zl({method:"GET",fullPath:"/v1/prices/{price}"}),update:zl({method:"POST",fullPath:"/v1/prices/{price}"}),list:zl({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:zl({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});a();var $i=E.method,bY=E.extend({create:$i({method:"POST",fullPath:"/v1/products"}),retrieve:$i({method:"GET",fullPath:"/v1/products/{id}"}),update:$i({method:"POST",fullPath:"/v1/products/{id}"}),list:$i({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:$i({method:"DELETE",fullPath:"/v1/products/{id}"}),search:$i({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});a();var Lg=E.method,TY=E.extend({create:Lg({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Lg({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Lg({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Lg({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});a();var jr=E.method,wY=E.extend({create:jr({method:"POST",fullPath:"/v1/quotes"}),retrieve:jr({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:jr({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:jr({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:jr({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:jr({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:jr({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:jr({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:jr({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:jr({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});a();var Vl=E.method,PY=E.extend({create:Vl({method:"POST",fullPath:"/v1/refunds"}),retrieve:Vl({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Vl({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Vl({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Vl({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});a();var hC=E.method,CY=E.extend({retrieve:hC({method:"GET",fullPath:"/v1/reviews/{review}"}),list:hC({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:hC({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});a();var tke=E.method,xY=E.extend({list:tke({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});a();var gs=E.method,OY=E.extend({create:gs({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:gs({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:gs({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:gs({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:gs({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:gs({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:gs({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});a();var Ug=E.method,RY=E.extend({create:Ug({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Ug({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Ug({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Ug({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});a();var Wl=E.method,AY=E.extend({create:Wl({method:"POST",fullPath:"/v1/sources"}),retrieve:Wl({method:"GET",fullPath:"/v1/sources/{source}"}),update:Wl({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Wl({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Wl({method:"POST",fullPath:"/v1/sources/{source}/verify"})});a();var ys=E.method,IY=E.extend({create:ys({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:ys({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:ys({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:ys({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:ys({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:ys({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:ys({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})});a();var qi=E.method,NY=E.extend({create:qi({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:qi({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:qi({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:qi({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:qi({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:qi({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});a();var yo=E.method,DY=E.extend({create:yo({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:yo({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:yo({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:yo({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:yo({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:yo({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:yo({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:yo({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});a();var MY=E.method,kY=E.extend({retrieve:MY({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:MY({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});a();var Fg=E.method,LY=E.extend({create:Fg({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:Fg({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:Fg({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:Fg({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});a();var UY=E.method,FY=E.extend({create:UY({method:"POST",fullPath:"/v1/tokens"}),retrieve:UY({method:"GET",fullPath:"/v1/tokens/{token}"})});a();var Kl=E.method,BY=E.extend({create:Kl({method:"POST",fullPath:"/v1/topups"}),retrieve:Kl({method:"GET",fullPath:"/v1/topups/{topup}"}),update:Kl({method:"POST",fullPath:"/v1/topups/{topup}"}),list:Kl({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:Kl({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});a();var _o=E.method,jY=E.extend({create:_o({method:"POST",fullPath:"/v1/transfers"}),retrieve:_o({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:_o({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:_o({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:_o({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:_o({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:_o({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:_o({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});a();var Jl=E.method,HY=E.extend({create:Jl({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Jl({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Jl({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Jl({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Jl({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var rke=Xe("apps",{Secrets:EJ}),nke=Xe("billingPortal",{Configurations:$6,Sessions:vJ}),oke=Xe("checkout",{Sessions:SJ}),ske=Xe("financialConnections",{Accounts:M6,Sessions:TJ}),ike=Xe("identity",{VerificationReports:FJ,VerificationSessions:BJ}),ake=Xe("issuing",{Authorizations:L6,Cardholders:B6,Cards:H6,Disputes:K6,Tokens:xJ,Transactions:IJ}),cke=Xe("radar",{EarlyFraudWarnings:Y6,ValueListItems:kJ,ValueLists:LJ}),lke=Xe("reporting",{ReportRuns:mJ,ReportTypes:gJ}),uke=Xe("sigma",{ScheduledQueryRuns:_J}),dke=Xe("tax",{Calculations:F6,Settings:PJ,Transactions:NJ}),pke=Xe("terminal",{Configurations:q6,ConnectionTokens:G6,Locations:eJ,Readers:iJ}),fke=Xe("testHelpers",{Customers:V6,Refunds:fJ,TestClocks:CJ,Issuing:Xe("issuing",{Authorizations:k6,Cards:j6,Transactions:AJ}),Terminal:Xe("terminal",{Readers:sJ}),Treasury:Xe("treasury",{InboundTransfers:Q6,OutboundPayments:tJ,OutboundTransfers:nJ,ReceivedCredits:aJ,ReceivedDebits:uJ})}),mke=Xe("treasury",{CreditReversals:z6,DebitReversals:W6,FinancialAccounts:X6,InboundTransfers:Z6,OutboundPayments:rJ,OutboundTransfers:oJ,ReceivedCredits:lJ,ReceivedDebits:pJ,TransactionEntries:RJ,Transactions:MJ});a();var hke=60,Bg=class e{constructor(t,r){this._stripe=t,this._maxBufferedRequestMetric=r}_addHeadersDirectlyToObject(t,r){t.requestId=r["request-id"],t.stripeAccount=t.stripeAccount||r["stripe-account"],t.apiVersion=t.apiVersion||r["stripe-version"],t.idempotencyKey=t.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(t,r,n){let o=Date.now(),s=o-t.request_start_time;return _g({api_version:n["stripe-version"],account:n["stripe-account"],idempotency_key:n["idempotency-key"],method:t.method,path:t.path,status:r,request_id:this._getRequestId(n),elapsed:s,request_start_time:t.request_start_time,request_end_time:o})}_getRequestId(t){return t["request-id"]}_streamingResponseHandler(t,r){return n=>{let o=n.getHeaders(),s=()=>{let c=this._makeResponseEvent(t,n.getStatusCode(),o);this._stripe._emitter.emit("response",c),this._recordRequestMetrics(this._getRequestId(o),c.elapsed)},i=n.toStream(s);return this._addHeadersDirectlyToObject(i,o),r(null,i)}}_jsonResponseHandler(t,r){return n=>{let o=n.getHeaders(),s=this._getRequestId(o),i=n.getStatusCode(),c=this._makeResponseEvent(t,i,o);this._stripe._emitter.emit("response",c),n.toJSON().then(l=>{if(l.error){let u;throw typeof l.error=="string"&&(l.error={type:l.error,message:l.error_description}),l.error.headers=o,l.error.statusCode=i,l.error.requestId=s,i===401?u=new xi(l.error):i===403?u=new gl(l.error):i===429?u=new Oi(l.error):u=Pe.generate(l.error),u}return l},l=>{throw new Ci({message:"Invalid JSON received from the Stripe API",exception:l,requestId:o["request-id"]})}).then(l=>{this._recordRequestMetrics(s,c.elapsed);let u=n.getRawResponse();this._addHeadersDirectlyToObject(u,o),Object.defineProperty(l,"lastResponse",{enumerable:!1,writable:!1,value:u}),r(null,l)},l=>r(l,null))}}static _generateConnectionErrorMessage(t){return`An error occurred with our connection to Stripe.${t>0?` Request was retried ${t} times.`:""}`}static _shouldRetry(t,r,n,o){return o&&r===0&&ut.CONNECTION_CLOSED_ERROR_CODES.includes(o.code)?!0:r>=n?!1:t?t.getHeaders()["stripe-should-retry"]==="false"?!1:t.getHeaders()["stripe-should-retry"]==="true"||t.getStatusCode()===409||t.getStatusCode()>=500:!0}_getSleepTimeInMS(t,r=null){let n=this._stripe.getInitialNetworkRetryDelay(),o=this._stripe.getMaxNetworkRetryDelay(),s=Math.min(n*Math.pow(t-1,2),o);return s*=.5*(1+Math.random()),s=Math.max(n,s),Number.isInteger(r)&&r<=hke&&(s=Math.max(s,r)),s*1e3}_getMaxNetworkRetries(t={}){return t.maxNetworkRetries!==void 0&&Number.isInteger(t.maxNetworkRetries)?t.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(t,r){let n=this._getMaxNetworkRetries(r);return t==="POST"&&n>0?`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`:null}_makeHeaders(t,r,n,o,s,i,c){let l={Authorization:t?`Bearer ${t}`:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":o,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":n,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(s,c)},u=s=="POST"||s=="PUT"||s=="PATCH";return(u||r)&&(u||Al(`${s} method had non-zero contentLength but no payload is expected for this verb`),l["Content-Length"]=r),Object.assign(_g(l),T6(i))}_getUserAgentString(){let t=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/v1 NodeBindings/${t} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let t=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:t})}}_recordRequestMetrics(t,r){this._stripe.getTelemetryEnabled()&&t&&(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric?Al("Request metrics buffer is full, dropping telemetry message."):this._stripe._prevRequestMetrics.push({request_id:t,request_duration_ms:r}))}_request(t,r,n,o,s,i={},c,l=null){let u,d=(g,y,_,S,T)=>setTimeout(g,this._getSleepTimeInMS(S,T),y,_,S+1),f=(g,y,_)=>{let S=i.settings&&i.settings.timeout&&Number.isInteger(i.settings.timeout)&&i.settings.timeout>=0?i.settings.timeout:this._stripe.getApiField("timeout"),T=this._stripe.getApiField("httpClient").makeRequest(r||this._stripe.getApiField("host"),this._stripe.getApiField("port"),n,t,y,u,this._stripe.getApiField("protocol"),S),w=Date.now(),C=_g({api_version:g,account:y["Stripe-Account"],idempotency_key:y["Idempotency-Key"],method:t,path:n,request_start_time:w}),O=_||0,x=this._getMaxNetworkRetries(i.settings||{});this._stripe._emitter.emit("request",C),T.then(A=>e._shouldRetry(A,O,x)?d(f,g,y,O,A.getHeaders()["retry-after"]):i.streaming&&A.getStatusCode()<400?this._streamingResponseHandler(C,c)(A):this._jsonResponseHandler(C,c)(A)).catch(A=>{if(e._shouldRetry(null,O,x,A))return d(f,g,y,O,null);{let le=A.code&&A.code===ut.TIMEOUT_ERROR_CODE;return c(new yl({message:le?`Request aborted due to timeout being reached (${S}ms)`:e._generateConnectionErrorMessage(O),detail:A}))}})},h=(g,y)=>{if(g)return c(g);u=y,this._stripe.getClientUserAgent(_=>{var S,T;let w=this._stripe.getApiField("version"),C=this._makeHeaders(s,u.length,w,_,t,(S=i.headers)!==null&&S!==void 0?S:null,(T=i.settings)!==null&&T!==void 0?T:{});f(w,C,0)})};l?l(t,o,i.headers,h):h(null,ho(o||{}))}};a();function gC(e){let t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(u,d,f,h,g,y){try{this.signature.verifyHeader(u,d,f,h||t.DEFAULT_TOLERANCE,g,y)}catch(S){throw S instanceof Pi&&(S.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),S}return u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},async constructEventAsync(u,d,f,h,g,y){return await this.signature.verifyHeaderAsync(u,d,f,h||t.DEFAULT_TOLERANCE,g,y),u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},generateTestHeaderString:function(u){if(!u)throw new Pe({message:"Options are required"});return u.timestamp=Math.floor(u.timestamp)||Math.floor(Date.now()/1e3),u.scheme=u.scheme||r.EXPECTED_SCHEME,u.cryptoProvider=u.cryptoProvider||l(),u.signature=u.signature||u.cryptoProvider.computeHMACSignature(u.timestamp+"."+u.payload,u.secret),["t="+u.timestamp,u.scheme+"="+u.signature].join(",")}},r={EXPECTED_SCHEME:"v1",verifyHeader(u,d,f,h,g,y){let{decodedHeader:_,decodedPayload:S,details:T,suspectPayloadType:w}=o(u,d,this.EXPECTED_SCHEME),C=/\s/.test(f);g=g||l();let O=g.computeHMACSignature(n(S,T),f);return s(S,_,T,O,h,w,C,y),!0},async verifyHeaderAsync(u,d,f,h,g,y){let{decodedHeader:_,decodedPayload:S,details:T,suspectPayloadType:w}=o(u,d,this.EXPECTED_SCHEME),C=/\s/.test(f);g=g||l();let O=await g.computeHMACSignatureAsync(n(S,T),f);return s(S,_,T,O,h,w,C,y)}};function n(u,d){return`${d.timestamp}.${u}`}function o(u,d,f){if(!u)throw new tr(d,u,{message:"No webhook payload was provided."});let h=typeof u!="string"&&!(u instanceof Uint8Array),g=new TextDecoder("utf8"),y=u instanceof Uint8Array?g.decode(u):u;if(Array.isArray(d))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(d==null||d=="")throw new tr(d,u,{message:"No stripe-signature header value was provided."});let _=d instanceof Uint8Array?g.decode(d):d,S=i(_,f);if(!S||S.timestamp===-1)throw new tr(_,y,{message:"Unable to extract timestamp and signatures from header"});if(!S.signatures.length)throw new tr(_,y,{message:"No signatures found with expected scheme"});return{decodedPayload:y,decodedHeader:_,details:S,suspectPayloadType:h}}function s(u,d,f,h,g,y,_,S){let T=!!f.signatures.filter(e.secureCompare.bind(e,h)).length,w=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://github.com/stripe/stripe-node#webhook-signing`,C=_?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!T)throw y?new tr(d,u,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+w+`
`+C}):new tr(d,u,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
`+w+`
`+C});let O=Math.floor((typeof S=="number"?S:Date.now())/1e3)-f.timestamp;if(g>0&&O>g)throw new tr(d,u,{message:"Timestamp outside the tolerance zone"});return!0}function i(u,d){return typeof u!="string"?null:u.split(",").reduce((f,h)=>{let g=h.split("=");return g[0]==="t"&&(f.timestamp=parseInt(g[1],10)),g[0]===d&&f.signatures.push(g[1]),f},{timestamp:-1,signatures:[]})}let c=null;function l(){return c||(c=e.createDefaultCryptoProvider()),c}return t.signature=r,t}var $Y="api.stripe.com",qY="443",GY="/v1/",zY=R6,VY=8e4,WY=2,KY=.5,gke=["name","version","url","partner_id"],JY=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],yke=e=>new Bg(e,E.MAX_BUFFERED_REQUEST_METRICS);function YY(e,t=yke){r.PACKAGE_VERSION="13.11.0",r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},C6()),r.StripeResource=E,r.resources=Yl,r.HttpClient=ut,r.HttpClientResponse=po,r.CryptoProvider=uo;function r(n,o={}){if(!(this instanceof r))return new r(n,o);let s=this._getPropsFromConfig(o);if(this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter),s.protocol&&s.protocol!=="https"&&(!s.host||/\.stripe\.com$/.test(s.host)))throw new Error("The `https` protocol must be used when sending requests to `*.stripe.com`");let i=s.httpAgent||null;this._api={auth:null,host:s.host||$Y,port:s.port||qY,protocol:s.protocol||"https",basePath:GY,version:s.apiVersion||zY,timeout:Eg("timeout",s.timeout,VY),maxNetworkRetries:Eg("maxNetworkRetries",s.maxNetworkRetries,1),agent:i,httpClient:s.httpClient||(i?this._platformFunctions.createNodeHttpClient(i):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:s.stripeAccount||null};let c=s.typescript||!1;c!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=c),s.appInfo&&this._setAppInfo(s.appInfo),this._prepResources(),this._setApiKey(n),this.errors=tg,this.webhooks=gC(e),this._prevRequestMetrics=[],this._enableTelemetry=s.telemetry!==!1,this._requestSender=t(this),this.StripeResource=r.StripeResource}return r.errors=tg,r.webhooks=gC,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,_setApiKey(n){n&&this._setApiField("auth",`Bearer ${n}`)},_setAppInfo(n){if(n&&typeof n!="object")throw new Error("AppInfo must be an object.");if(n&&!n.name)throw new Error("AppInfo.name is required");n=n||{},this._appInfo=gke.reduce((o,s)=>(typeof n[s]=="string"&&(o=o||{},o[s]=n[s]),o),void 0)},_setApiField(n,o){this._api[n]=o},getApiField(n){return this._api[n]},setClientId(n){this._clientId=n},getClientId(){return this._clientId},getConstant:n=>{switch(n){case"DEFAULT_HOST":return $Y;case"DEFAULT_PORT":return qY;case"DEFAULT_BASE_PATH":return GY;case"DEFAULT_API_VERSION":return zY;case"DEFAULT_TIMEOUT":return VY;case"MAX_NETWORK_RETRY_DELAY_SEC":return WY;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return KY}return r[n]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(n,o,s){let i=Eg(n,o,s);this._setApiField(n,i)},getMaxNetworkRetryDelay(){return WY},getInitialNetworkRetryDelay(){return KY},getClientUserAgent(n){return this.getClientUserAgentSeeded(r.USER_AGENT,n)},getClientUserAgentSeeded(n,o){this._platformFunctions.getUname().then(s=>{var i;let c={};for(let u in n)c[u]=encodeURIComponent((i=n[u])!==null&&i!==void 0?i:"null");c.uname=encodeURIComponent(s||"UNKNOWN");let l=this.getApiField("httpClient");l&&(c.httplib=encodeURIComponent(l.getClientName())),this._appInfo&&(c.application=this._appInfo),o(JSON.stringify(c))})},getAppInfoAsString(){if(!this._appInfo)return"";let n=this._appInfo.name;return this._appInfo.version&&(n+=`/${this._appInfo.version}`),this._appInfo.url&&(n+=` (${this._appInfo.url})`),n},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let n in Yl)this[w6(n)]=new Yl[n](this)},_getPropsFromConfig(n){if(!n)return{};let o=typeof n=="string";if(!(n===Object(n)&&!Array.isArray(n))&&!o)throw new Error("Config must either be an object or a string");if(o)return{apiVersion:n};if(Object.keys(n).filter(c=>!JY.includes(c)).length>0)throw new Error(`Config object may only contain the following: ${JY.join(", ")}`);return n}},r}var _ke=YY(new vg),XY=_ke;var Eke=new jg.DynamoDBClient({region:process.env.AWS_REGION}),vke=new XY(process.env.STRIPE_SECRET_KEY,{apiVersion:"2023-08-16"}),Zdt=async e=>{try{let t=e.headers["stripe-signature"],r=process.env.STRIPE_WEBHOOK_SECRET;if(!t||!r)return{statusCode:400,body:JSON.stringify({error:"Missing signature or webhook secret"})};let n;try{n=vke.webhooks.constructEvent(e.body,t,r)}catch(o){return console.error("Webhook signature verification failed:",o),{statusCode:400,body:JSON.stringify({error:"Invalid signature"})}}switch(n.type){case"checkout.session.completed":let o=n.data.object;await Ske(o);break;case"invoice.payment_succeeded":let s=n.data.object;await bke(s);break;case"customer.subscription.updated":case"customer.subscription.deleted":let i=n.data.object;await Tke(i);break;default:console.log(`Unhandled event type: ${n.type}`)}return{statusCode:200,body:JSON.stringify({received:!0})}}catch(t){return console.error("Webhook error:",t),{statusCode:500,body:JSON.stringify({error:"Webhook processing failed"})}}};async function Ske(e){let{customer:t,metadata:r}=e;if(!r?.userId||!r?.gameId||!r?.year){console.error("Missing metadata in checkout session");return}let{userId:n,gameId:o,year:s}=r,i=`GAME#${s}`,c=`USER#${n}#${o}`;await Eke.send(new jg.UpdateItemCommand({TableName:process.env.DYNAMODB_TABLE_NAME,Key:{PK:{S:i},SK:{S:c}},UpdateExpression:"SET subscription_status = :status, stripe_customer_id = :customerId",ExpressionAttributeValues:{":status":{S:"active"},":customerId":{S:t}}})),console.log(`Updated subscription for user ${n} in game ${o}`)}async function bke(e){console.log("Subscription payment succeeded:",e.id)}async function Tke(e){let t=e.status;console.log("Subscription status changed:",t)}export{Zdt as handler};
//# sourceMappingURL=index.mjs.map
