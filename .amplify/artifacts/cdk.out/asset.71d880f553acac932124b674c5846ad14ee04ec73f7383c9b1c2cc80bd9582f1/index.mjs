/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var w2=Object.create;var mc=Object.defineProperty;var T2=Object.getOwnPropertyDescriptor;var C2=Object.getOwnPropertyNames;var P2=Object.getPrototypeOf,A2=Object.prototype.hasOwnProperty;var k=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),$e=(e,t)=>{for(var r in t)mc(e,r,{get:t[r],enumerable:!0})},Bb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of C2(t))!A2.call(e,o)&&o!==r&&mc(e,o,{get:()=>t[o],enumerable:!(n=T2(t,o))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?w2(P2(e)):{},Bb(t||!e||!e.__esModule?mc(r,"default",{value:e,enumerable:!0}):r,e)),z=e=>Bb(mc({},"__esModule",{value:!0}),e);import{createRequire as I2}from"node:module";import x2 from"node:path";import R2 from"node:url";var d=y(()=>{global.require=I2(import.meta.url);global.__filename=R2.fileURLToPath(import.meta.url);global.__dirname=x2.dirname(__filename)});var zt=b((NTe,Kb)=>{d();var fc=Object.defineProperty,O2=Object.getOwnPropertyDescriptor,N2=Object.getOwnPropertyNames,D2=Object.prototype.hasOwnProperty,hc=(e,t)=>fc(e,"name",{value:t,configurable:!0}),M2=(e,t)=>{for(var r in t)fc(e,r,{get:t[r],enumerable:!0})},k2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N2(t))!D2.call(e,o)&&o!==r&&fc(e,o,{get:()=>t[o],enumerable:!(n=O2(t,o))||n.enumerable});return e},L2=e=>k2(fc({},"__esModule",{value:!0}),e),jb={};M2(jb,{AlgorithmId:()=>zb,EndpointURLScheme:()=>qb,FieldPosition:()=>Vb,HttpApiKeyAuthLocation:()=>$b,HttpAuthLocation:()=>Hb,IniSectionType:()=>Gb,RequestHandlerProtocol:()=>Wb,SMITHY_CONTEXT_KEY:()=>H2,getDefaultClientConfiguration:()=>B2,resolveDefaultRuntimeConfig:()=>j2});Kb.exports=L2(jb);var Hb=(e=>(e.HEADER="header",e.QUERY="query",e))(Hb||{}),$b=(e=>(e.HEADER="header",e.QUERY="query",e))($b||{}),qb=(e=>(e.HTTP="http",e.HTTPS="https",e))(qb||{}),zb=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(zb||{}),U2=hc(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),F2=hc(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),B2=hc(e=>U2(e),"getDefaultClientConfiguration"),j2=hc(e=>F2(e),"resolveDefaultRuntimeConfig"),Vb=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(Vb||{}),H2="__smithy_context",Gb=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Gb||{}),Wb=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Wb||{})});var Vt=b((MTe,Qb)=>{d();var gc=Object.defineProperty,$2=Object.getOwnPropertyDescriptor,q2=Object.getOwnPropertyNames,z2=Object.prototype.hasOwnProperty,Yb=(e,t)=>gc(e,"name",{value:t,configurable:!0}),V2=(e,t)=>{for(var r in t)gc(e,r,{get:t[r],enumerable:!0})},G2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q2(t))!z2.call(e,o)&&o!==r&&gc(e,o,{get:()=>t[o],enumerable:!(n=$2(t,o))||n.enumerable});return e},W2=e=>G2(gc({},"__esModule",{value:!0}),e),Xb={};V2(Xb,{getSmithyContext:()=>K2,normalizeProvider:()=>J2});Qb.exports=W2(Xb);var Jb=zt(),K2=Yb(e=>e[Jb.SMITHY_CONTEXT_KEY]||(e[Jb.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),J2=Yb(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});function ko(e){return Zb.includes(e)}var qs,Zb,yc=y(()=>{d();qs="preferred",Zb=["disabled","preferred","required"]});var ew,Y2,tw=y(()=>{d();ew=T(Vt());yc();Y2=e=>{let{accountIdEndpointMode:t}=e,r=(0,ew.normalizeProvider)(t??qs);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!ko(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var rw,nw,ow,sw,X2,iw=y(()=>{d();yc();rw="Invalid AccountIdEndpointMode value",nw=e=>{throw new Error(e)},ow="AWS_ACCOUNT_ID_ENDPOINT_MODE",sw="account_id_endpoint_mode",X2={environmentVariableSelector:e=>{let t=e[ow];return t&&!ko(t)&&nw(rw),t},configFileSelector:e=>{let t=e[sw];return t&&!ko(t)&&nw(rw),t},default:qs}});var df={};$e(df,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>Zb,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>sw,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>qs,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>ow,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>X2,resolveAccountIdEndpointModeConfig:()=>Y2,validateAccountIdEndpointMode:()=>ko});var lf=y(()=>{d();tw();yc();iw()});var gw=b((KTe,hw)=>{d();var _c=Object.defineProperty,Q2=Object.getOwnPropertyDescriptor,Z2=Object.getOwnPropertyNames,e3=Object.prototype.hasOwnProperty,Ec=(e,t)=>_c(e,"name",{value:t,configurable:!0}),t3=(e,t)=>{for(var r in t)_c(e,r,{get:t[r],enumerable:!0})},r3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Z2(t))!e3.call(e,o)&&o!==r&&_c(e,o,{get:()=>t[o],enumerable:!(n=Q2(t,o))||n.enumerable});return e},n3=e=>r3(_c({},"__esModule",{value:!0}),e),aw={};t3(aw,{AlgorithmId:()=>uw,EndpointURLScheme:()=>lw,FieldPosition:()=>pw,HttpApiKeyAuthLocation:()=>dw,HttpAuthLocation:()=>cw,IniSectionType:()=>mw,RequestHandlerProtocol:()=>fw,SMITHY_CONTEXT_KEY:()=>c3,getDefaultClientConfiguration:()=>i3,resolveDefaultRuntimeConfig:()=>a3});hw.exports=n3(aw);var cw=(e=>(e.HEADER="header",e.QUERY="query",e))(cw||{}),dw=(e=>(e.HEADER="header",e.QUERY="query",e))(dw||{}),lw=(e=>(e.HTTP="http",e.HTTPS="https",e))(lw||{}),uw=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(uw||{}),o3=Ec(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),s3=Ec(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),i3=Ec(e=>o3(e),"getDefaultClientConfiguration"),a3=Ec(e=>s3(e),"resolveDefaultRuntimeConfig"),pw=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(pw||{}),c3="__smithy_context",mw=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(mw||{}),fw=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(fw||{})});var bw=b((YTe,vw)=>{d();var Sc=Object.defineProperty,d3=Object.getOwnPropertyDescriptor,l3=Object.getOwnPropertyNames,u3=Object.prototype.hasOwnProperty,Wr=(e,t)=>Sc(e,"name",{value:t,configurable:!0}),p3=(e,t)=>{for(var r in t)Sc(e,r,{get:t[r],enumerable:!0})},m3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l3(t))!u3.call(e,o)&&o!==r&&Sc(e,o,{get:()=>t[o],enumerable:!(n=d3(t,o))||n.enumerable});return e},f3=e=>m3(Sc({},"__esModule",{value:!0}),e),yw={};p3(yw,{Field:()=>y3,Fields:()=>_3,HttpRequest:()=>E3,HttpResponse:()=>S3,IHttpRequest:()=>_w.HttpRequest,getHttpHandlerExtensionConfiguration:()=>h3,isValidHostname:()=>Sw,resolveHttpHandlerRuntimeConfig:()=>g3});vw.exports=f3(yw);var h3=Wr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),g3=Wr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),_w=gw(),y3=class{static{Wr(this,"Field")}constructor({name:e,kind:t=_w.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},_3=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Wr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},E3=class uf{static{Wr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new uf({...t,headers:{...t.headers}});return r.query&&(r.query=Ew(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return uf.clone(this)}};function Ew(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Wr(Ew,"cloneQuery");var S3=class{static{Wr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Sw(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Wr(Sw,"isValidHostname")});var Tw=b((tCe,ww)=>{d();function br(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}br.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(br.prototype[Symbol.iterator]=function(){return this});br.of=function(){var e=arguments,t=e.length,r=0;return new br(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};br.empty=function(){var e=new br(null);return e.done=!0,e};br.is=function(e){return e instanceof br?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};ww.exports=br});var pf=b((nCe,Iw)=>{d();var Cw=typeof ArrayBuffer<"u",Pw=typeof Symbol<"u";function Aw(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Cw&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Pw&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}Aw.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||Cw&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Pw&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};Iw.exports=Aw});var mf=b(Gt=>{d();var v3=Math.pow(2,8)-1,b3=Math.pow(2,16)-1,w3=Math.pow(2,32)-1,T3=Math.pow(2,7)-1,C3=Math.pow(2,15)-1,P3=Math.pow(2,31)-1;Gt.getPointerArray=function(e){var t=e-1;return t<=v3?Uint8Array:t<=b3?Uint16Array:t<=w3?Uint32Array:Float64Array};Gt.getSignedPointerArray=function(e){var t=e-1;return t<=T3?Int8Array:t<=C3?Int16Array:t<=P3?Int32Array:Float64Array};Gt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var A3={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Gt.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,c;for(a=0,c=e.length;a<c;a++)i=t?t(e[a]):e[a],s=Gt.getNumberType(i),o=A3[s.name],o>n&&(n=o,r=s);return r};Gt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Gt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};Gt.indices=function(e){for(var t=Gt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var Ow=b(zs=>{d();var xw=pf(),Rw=mf();function I3(e){return Array.isArray(e)||Rw.isTypedArray(e)}function ff(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function x3(e){var t=ff(e),r=typeof t=="number"?new Array(t):[],n=0;return xw(e,function(o){r[n++]=o}),r}function R3(e){var t=ff(e),r=typeof t=="number"?Rw.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return xw(e,function(i){n[s]=i,o[s]=s++}),[n,o]}zs.isArrayLike=I3;zs.guessLength=ff;zs.toArray=x3;zs.toArrayWithIndices=R3});var Dw=b((dCe,Nw)=>{d();var hf=Tw(),O3=pf(),N3=mf(),D3=Ow();function Se(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=N3.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Se.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Se.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Se.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Se.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Se.prototype.has=function(e){return e in this.items};Se.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Se.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Se.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};Se.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new hf(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Se.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new hf(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Se.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new hf(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Se.prototype[Symbol.iterator]=Se.prototype.entries);Se.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Se,enumerable:!1}),e};typeof Symbol<"u"&&(Se.prototype[Symbol.for("nodejs.util.inspect.custom")]=Se.prototype.inspect);Se.from=function(e,t,r,n){if(arguments.length<2){if(n=D3.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Se(t,r,n);return O3(e,function(s,i){o.set(i,s)}),o};Nw.exports=Se});var Uw=b((uCe,Lw)=>{"use strict";d();var M3=Object.create,Vs=Object.defineProperty,k3=Object.getOwnPropertyDescriptor,L3=Object.getOwnPropertyNames,U3=Object.getPrototypeOf,F3=Object.prototype.hasOwnProperty,B3=(e,t)=>Vs(e,"name",{value:t,configurable:!0}),j3=(e,t)=>{for(var r in t)Vs(e,r,{get:t[r],enumerable:!0})},Mw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L3(t))!F3.call(e,o)&&o!==r&&Vs(e,o,{get:()=>t[o],enumerable:!(n=k3(t,o))||n.enumerable});return e},H3=(e,t,r)=>(r=e!=null?M3(U3(e)):{},Mw(t||!e||!e.__esModule?Vs(r,"default",{value:e,enumerable:!0}):r,e)),$3=e=>Mw(Vs({},"__esModule",{value:!0}),e),kw={};j3(kw,{EndpointCache:()=>z3});Lw.exports=$3(kw);var q3=H3(Dw()),z3=class{static{B3(this,"EndpointCache")}cache;constructor(e){this.cache=new q3.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var _f=b((fCe,$w)=>{"use strict";d();var vc=Object.defineProperty,V3=Object.getOwnPropertyDescriptor,G3=Object.getOwnPropertyNames,W3=Object.prototype.hasOwnProperty,at=(e,t)=>vc(e,"name",{value:t,configurable:!0}),K3=(e,t)=>{for(var r in t)vc(e,r,{get:t[r],enumerable:!0})},J3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G3(t))!W3.call(e,o)&&o!==r&&vc(e,o,{get:()=>t[o],enumerable:!(n=V3(t,o))||n.enumerable});return e},Y3=e=>J3(vc({},"__esModule",{value:!0}),e),Hw={};K3(Hw,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>X3,endpointDiscoveryMiddlewareOptions:()=>bc,getEndpointDiscoveryOptionalPlugin:()=>r4,getEndpointDiscoveryPlugin:()=>e4,getEndpointDiscoveryRequiredPlugin:()=>t4,resolveEndpointDiscoveryConfig:()=>o4});$w.exports=Y3(Hw);var Fw=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],gf="endpoint_discovery_enabled",Bw=at(e=>["false","0"].indexOf(e)>=0,"isFalsy"),X3={environmentVariableSelector:at(e=>{for(let t=0;t<Fw.length;t++){let r=Fw[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!Bw(n)}}},"environmentVariableSelector"),configFileSelector:at(e=>{if(gf in e){let t=e[gf];if(t===void 0)throw Error(`Shared config entry ${gf} can't be undefined, got "${t}"`);return!Bw(t)}},"configFileSelector"),default:void 0},Q3=bw(),Z3=at(async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},"getCacheKey"),wr={},jw=at(async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,c=o.get(s);if(c&&c.length===1&&c[0].Address==="")t.isDiscoveredEndpointRequired?(wr[s]||(wr[s]=[]),wr[s].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];o.set(s,l);let p=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(h=>{o.set(s,h.output.Endpoints),wr[s]&&(wr[s].forEach(({resolve:g})=>{g()}),delete wr[s]),r()}).catch(h=>{o.delete(s);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:h});wr[s]&&(wr[s].forEach(({reject:_})=>{_(g)}),delete wr[s]),t.isDiscoveredEndpointRequired?n(g):(o.set(s,l),r())})}}),"updateDiscoveredEndpointInCache"),yf=at((e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,c=n.clientName,l=n.commandName,p=await e.endpointDiscoveryEnabled(),f=await Z3(l,e,{identifiers:a});if(i){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${c} requires it. Please check your configurations.`);await jw(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:s})}else p&&jw(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:s});let{request:h}=o;if(f&&Q3.HttpRequest.isInstance(h)){let g=e.endpointCache.getEndpoint(f);g&&(h.hostname=g)}return r(o)},"endpointDiscoveryMiddleware"),bc={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},e4=at((e,t)=>({applyToStack:at(r=>{r.add(yf(e,t),bc)},"applyToStack")}),"getEndpointDiscoveryPlugin"),t4=at((e,t)=>({applyToStack:at(r=>{r.add(yf(e,{...t,isDiscoveredEndpointRequired:!0}),bc)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),r4=at((e,t)=>({applyToStack:at(r=>{r.add(yf(e,{...t,isDiscoveredEndpointRequired:!1}),bc)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),n4=Uw(),o4=at((e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new n4.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var me=b((gCe,Ww)=>{d();var wc=Object.defineProperty,s4=Object.getOwnPropertyDescriptor,i4=Object.getOwnPropertyNames,a4=Object.prototype.hasOwnProperty,Kr=(e,t)=>wc(e,"name",{value:t,configurable:!0}),c4=(e,t)=>{for(var r in t)wc(e,r,{get:t[r],enumerable:!0})},d4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i4(t))!a4.call(e,o)&&o!==r&&wc(e,o,{get:()=>t[o],enumerable:!(n=s4(t,o))||n.enumerable});return e},l4=e=>d4(wc({},"__esModule",{value:!0}),e),qw={};c4(qw,{Field:()=>m4,Fields:()=>f4,HttpRequest:()=>h4,HttpResponse:()=>g4,IHttpRequest:()=>zw.HttpRequest,getHttpHandlerExtensionConfiguration:()=>u4,isValidHostname:()=>Gw,resolveHttpHandlerRuntimeConfig:()=>p4});Ww.exports=l4(qw);var u4=Kr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),p4=Kr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),zw=zt(),m4=class{static{Kr(this,"Field")}constructor({name:e,kind:t=zw.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},f4=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Kr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},h4=class Ef{static{Kr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Ef({...t,headers:{...t.headers}});return r.query&&(r.query=Vw(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Ef.clone(this)}};function Vw(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Kr(Vw,"cloneQuery");var g4=class{static{Kr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Gw(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Kr(Gw,"isValidHostname")});var Sf=b((vCe,Qw)=>{"use strict";d();var Cc=Object.defineProperty,y4=Object.getOwnPropertyDescriptor,_4=Object.getOwnPropertyNames,E4=Object.prototype.hasOwnProperty,Tc=(e,t)=>Cc(e,"name",{value:t,configurable:!0}),S4=(e,t)=>{for(var r in t)Cc(e,r,{get:t[r],enumerable:!0})},v4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _4(t))!E4.call(e,o)&&o!==r&&Cc(e,o,{get:()=>t[o],enumerable:!(n=y4(t,o))||n.enumerable});return e},b4=e=>v4(Cc({},"__esModule",{value:!0}),e),Kw={};S4(Kw,{getHostHeaderPlugin:()=>T4,hostHeaderMiddleware:()=>Yw,hostHeaderMiddlewareOptions:()=>Xw,resolveHostHeaderConfig:()=>Jw});Qw.exports=b4(Kw);var w4=me();function Jw(e){return e}Tc(Jw,"resolveHostHeaderConfig");var Yw=Tc(e=>t=>async r=>{if(!w4.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),Xw={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},T4=Tc(e=>({applyToStack:Tc(t=>{t.add(Yw(e),Xw)},"applyToStack")}),"getHostHeaderPlugin")});var bf=b((wCe,rT)=>{"use strict";d();var Pc=Object.defineProperty,C4=Object.getOwnPropertyDescriptor,P4=Object.getOwnPropertyNames,A4=Object.prototype.hasOwnProperty,vf=(e,t)=>Pc(e,"name",{value:t,configurable:!0}),I4=(e,t)=>{for(var r in t)Pc(e,r,{get:t[r],enumerable:!0})},x4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P4(t))!A4.call(e,o)&&o!==r&&Pc(e,o,{get:()=>t[o],enumerable:!(n=C4(t,o))||n.enumerable});return e},R4=e=>x4(Pc({},"__esModule",{value:!0}),e),Zw={};I4(Zw,{getLoggerPlugin:()=>O4,loggerMiddleware:()=>eT,loggerMiddlewareOptions:()=>tT});rT.exports=R4(Zw);var eT=vf(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,p=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),tT={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},O4=vf(e=>({applyToStack:vf(t=>{t.add(eT(),tT)},"applyToStack")}),"getLoggerPlugin")});var Tf=b((CCe,iT)=>{"use strict";d();var Ic=Object.defineProperty,N4=Object.getOwnPropertyDescriptor,D4=Object.getOwnPropertyNames,M4=Object.prototype.hasOwnProperty,Ac=(e,t)=>Ic(e,"name",{value:t,configurable:!0}),k4=(e,t)=>{for(var r in t)Ic(e,r,{get:t[r],enumerable:!0})},L4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D4(t))!M4.call(e,o)&&o!==r&&Ic(e,o,{get:()=>t[o],enumerable:!(n=N4(t,o))||n.enumerable});return e},U4=e=>L4(Ic({},"__esModule",{value:!0}),e),nT={};k4(nT,{addRecursionDetectionMiddlewareOptions:()=>sT,getRecursionDetectionPlugin:()=>H4,recursionDetectionMiddleware:()=>oT});iT.exports=U4(nT);var F4=me(),wf="X-Amzn-Trace-Id",B4="AWS_LAMBDA_FUNCTION_NAME",j4="_X_AMZN_TRACE_ID",oT=Ac(e=>t=>async r=>{let{request:n}=r;if(!F4.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===wf.toLowerCase())??wf;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[B4],i=process.env[j4],a=Ac(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[wf]=i),t({...r,request:n})},"recursionDetectionMiddleware"),sT={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},H4=Ac(e=>({applyToStack:Ac(t=>{t.add(oT(e),sT)},"applyToStack")}),"getRecursionDetectionPlugin")});var Cf,$4,aT=y(()=>{d();Cf=T(zt()),$4=e=>e[Cf.SMITHY_CONTEXT_KEY]||(e[Cf.SMITHY_CONTEXT_KEY]={})});var cT,dT=y(()=>{d();cT=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function q4(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var OCe,lT,Gs,xc=y(()=>{d();OCe=T(zt()),lT=T(Vt());dT();Gs=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=cT(s,i),c=q4(e.httpAuthSchemes),l=(0,lT.getSmithyContext)(n),p=[];for(let f of a){let h=c.get(f.schemeId);if(!h){p.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){p.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:E={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},E),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var uT,z4,pT=y(()=>{d();xc();uT={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},z4=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Gs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),uT)}})});var Ws=b((BCe,ET)=>{d();var Rc=Object.defineProperty,V4=Object.getOwnPropertyDescriptor,G4=Object.getOwnPropertyNames,W4=Object.prototype.hasOwnProperty,Oc=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),K4=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},J4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G4(t))!W4.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=V4(t,o))||n.enumerable});return e},Y4=e=>J4(Rc({},"__esModule",{value:!0}),e),mT={};K4(mT,{deserializerMiddleware:()=>fT,deserializerMiddlewareOption:()=>gT,getSerdePlugin:()=>_T,serializerMiddleware:()=>hT,serializerMiddlewareOption:()=>yT});ET.exports=Y4(mT);var X4=me(),fT=Oc((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(X4.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:Pf(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Pf(/^x-[\w-]+-id-2$/,l),cfId:Pf(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),Pf=Oc((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),hT=Oc((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),gT={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},yT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function _T(e,t,r){return{applyToStack:n=>{n.add(fT(e,r),gT),n.add(hT(e,t),yT)}}}Oc(_T,"getSerdePlugin")});var ST,vT,Q4,bT=y(()=>{d();ST=T(Ws());xc();vT={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:ST.serializerMiddlewareOption.name},Q4=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Gs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),vT)}})});var wT=y(()=>{d();xc();pT();bT()});var TT,JCe,CT,Z4,eW,Af,If=y(()=>{d();TT=T(me()),JCe=T(zt()),CT=T(Vt()),Z4=e=>t=>{throw t},eW=(e,t)=>{},Af=e=>(t,r)=>async n=>{if(!TT.HttpRequest.isInstance(n.request))return t(n);let s=(0,CT.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||Z4)(i));return(c.successHandler||eW)(l.response,i),l}});var PT,tW,AT=y(()=>{d();If();PT={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},tW=e=>({applyToStack:t=>{t.addRelativeTo(Af(e),PT)}})});var IT=y(()=>{d();If();AT()});var Jr,xT=y(()=>{d();Jr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function RT(e,t,r,n,o){return async function*(i,a,...c){let l=a,p=i.startingToken??l[r],f=!0,h;for(;f;){if(l[r]=p,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)h=await rW(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=p;p=nW(h,n),f=!!(p&&(!i.stopOnSameToken||p!==g))}return void 0}}var rW,nW,OT=y(()=>{d();rW=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};nW=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var xf=b((lPe,DT)=>{d();var Nc=Object.defineProperty,oW=Object.getOwnPropertyDescriptor,sW=Object.getOwnPropertyNames,iW=Object.prototype.hasOwnProperty,aW=(e,t)=>Nc(e,"name",{value:t,configurable:!0}),cW=(e,t)=>{for(var r in t)Nc(e,r,{get:t[r],enumerable:!0})},dW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sW(t))!iW.call(e,o)&&o!==r&&Nc(e,o,{get:()=>t[o],enumerable:!(n=oW(t,o))||n.enumerable});return e},lW=e=>dW(Nc({},"__esModule",{value:!0}),e),NT={};cW(NT,{isArrayBuffer:()=>uW});DT.exports=lW(NT);var uW=aW(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Lo=b((pPe,LT)=>{d();var Dc=Object.defineProperty,pW=Object.getOwnPropertyDescriptor,mW=Object.getOwnPropertyNames,fW=Object.prototype.hasOwnProperty,MT=(e,t)=>Dc(e,"name",{value:t,configurable:!0}),hW=(e,t)=>{for(var r in t)Dc(e,r,{get:t[r],enumerable:!0})},gW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mW(t))!fW.call(e,o)&&o!==r&&Dc(e,o,{get:()=>t[o],enumerable:!(n=pW(t,o))||n.enumerable});return e},yW=e=>gW(Dc({},"__esModule",{value:!0}),e),kT={};hW(kT,{fromArrayBuffer:()=>EW,fromString:()=>SW});LT.exports=yW(kT);var _W=xf(),Rf=k("buffer"),EW=MT((e,t=0,r=e.byteLength-t)=>{if(!(0,_W.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Rf.Buffer.from(e,t,r)},"fromArrayBuffer"),SW=MT((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Rf.Buffer.from(e,t):Rf.Buffer.from(e)},"fromString")});var UT=b(Mc=>{"use strict";d();Object.defineProperty(Mc,"__esModule",{value:!0});Mc.fromBase64=void 0;var vW=Lo(),bW=/^[A-Za-z0-9+/]*={0,2}$/,wW=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!bW.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,vW.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Mc.fromBase64=wW});var Ge=b((gPe,HT)=>{d();var kc=Object.defineProperty,TW=Object.getOwnPropertyDescriptor,CW=Object.getOwnPropertyNames,PW=Object.prototype.hasOwnProperty,Of=(e,t)=>kc(e,"name",{value:t,configurable:!0}),AW=(e,t)=>{for(var r in t)kc(e,r,{get:t[r],enumerable:!0})},IW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CW(t))!PW.call(e,o)&&o!==r&&kc(e,o,{get:()=>t[o],enumerable:!(n=TW(t,o))||n.enumerable});return e},xW=e=>IW(kc({},"__esModule",{value:!0}),e),FT={};AW(FT,{fromUtf8:()=>jT,toUint8Array:()=>RW,toUtf8:()=>OW});HT.exports=xW(FT);var BT=Lo(),jT=Of(e=>{let t=(0,BT.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),RW=Of(e=>typeof e=="string"?jT(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),OW=Of(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,BT.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var $T=b(Lc=>{"use strict";d();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.toBase64=void 0;var NW=Lo(),DW=Ge(),MW=e=>{let t;if(typeof e=="string"?t=(0,DW.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,NW.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Lc.toBase64=MW});var ct=b((SPe,Uc)=>{d();var qT=Object.defineProperty,kW=Object.getOwnPropertyDescriptor,LW=Object.getOwnPropertyNames,UW=Object.prototype.hasOwnProperty,Nf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LW(t))!UW.call(e,o)&&o!==r&&qT(e,o,{get:()=>t[o],enumerable:!(n=kW(t,o))||n.enumerable});return e},zT=(e,t,r)=>(Nf(e,t,"default"),r&&Nf(r,t,"default")),FW=e=>Nf(qT({},"__esModule",{value:!0}),e),Df={};Uc.exports=FW(Df);zT(Df,UT(),Uc.exports);zT(Df,$T(),Uc.exports)});var kf=b(Fc=>{"use strict";d();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ChecksumStream=void 0;var BW=ct(),jW=k("stream"),Mf=class extends jW.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??BW.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Fc.ChecksumStream=Mf});var Yr=b(Uo=>{"use strict";d();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.isBlob=Uo.isReadableStream=void 0;var HW=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Uo.isReadableStream=HW;var $W=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Uo.isBlob=$W});var VT=b(Bc=>{"use strict";d();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.ChecksumStream=void 0;var qW=typeof ReadableStream=="function"?ReadableStream:function(){},Lf=class extends qW{};Bc.ChecksumStream=Lf});var GT=b(jc=>{"use strict";d();Object.defineProperty(jc,"__esModule",{value:!0});jc.createChecksumStream=void 0;var zW=ct(),VW=Yr(),GW=VT(),WW=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,VW.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??zW.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(p,f){t.update(p),f.enqueue(p)},async flush(p){let f=await t.digest(),h=a(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);p.error(g)}else p.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,GW.ChecksumStream.prototype),l};jc.createChecksumStream=WW});var WT=b(Uf=>{"use strict";d();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.createChecksumStream=XW;var KW=Yr(),JW=kf(),YW=GT();function XW(e){return typeof ReadableStream=="function"&&(0,KW.isReadableStream)(e.source)?(0,YW.createChecksumStream)(e):new JW.ChecksumStream(e)}});var Bf=b(Hc=>{"use strict";d();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.ByteArrayCollector=void 0;var Ff=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Hc.ByteArrayCollector=Ff});var XT=b(Tr=>{"use strict";d();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.createBufferedReadable=void 0;Tr.createBufferedReadableStream=KT;Tr.merge=JT;Tr.flush=$c;Tr.sizeOf=Fo;Tr.modeOf=YT;var QW=Bf();function KT(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new QW.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:p,done:f}=await n.read(),h=p;if(f){if(a!==-1){let g=$c(i,a);Fo(g)>0&&l.enqueue(g)}l.close()}else{let g=YT(h,!1);if(a!==g&&(a>=0&&l.enqueue($c(i,a)),a=g),a===-1){l.enqueue(h);return}let _=Fo(h);s+=_;let E=Fo(i[a]);if(_>=t&&E===0)l.enqueue(h);else{let S=JT(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${t}, automatically buffering.`)),S>=t?l.enqueue($c(i,a)):await c(l)}}};return new ReadableStream({pull:c})}Tr.createBufferedReadable=KT;function JT(e,t,r){switch(t){case 0:return e[0]+=r,Fo(e[0]);case 1:case 2:return e[t].push(r),Fo(e[t])}}function $c(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Fo(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function YT(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var ZT=b(jf=>{"use strict";d();Object.defineProperty(jf,"__esModule",{value:!0});jf.createBufferedReadable=t8;var ZW=k("node:stream"),QT=Bf(),Cr=XT(),e8=Yr();function t8(e,t,r){if((0,e8.isReadableStream)(e))return(0,Cr.createBufferedReadableStream)(e,t,r);let n=new ZW.Readable({read(){}}),o=!1,s=0,i=["",new QT.ByteArrayCollector(c=>new Uint8Array(c)),new QT.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Cr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Cr.flush)(i,a)),a=l),a===-1){n.push(c);return}let p=(0,Cr.sizeOf)(c);s+=p;let f=(0,Cr.sizeOf)(i[a]);if(p>=t&&f===0)n.push(c);else{let h=(0,Cr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Cr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Cr.flush)(i,a);(0,Cr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var eC=b(qc=>{"use strict";d();Object.defineProperty(qc,"__esModule",{value:!0});qc.getAwsChunkedEncodingStream=void 0;var r8=k("stream"),n8=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new r8.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${s}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};qc.getAwsChunkedEncodingStream=n8});var tC=b(Hf=>{"use strict";d();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.headStream=o8;async function o8(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var rC=b(zc=>{"use strict";d();Object.defineProperty(zc,"__esModule",{value:!0});zc.headStream=void 0;var s8=k("stream"),i8=tC(),a8=Yr(),c8=(e,t)=>(0,a8.isReadableStream)(e)?(0,i8.headStream)(e,t):new Promise((r,n)=>{let o=new $f;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});zc.headStream=c8;var $f=class extends s8.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var zf=b((zPe,sC)=>{d();var Vc=Object.defineProperty,d8=Object.getOwnPropertyDescriptor,l8=Object.getOwnPropertyNames,u8=Object.prototype.hasOwnProperty,qf=(e,t)=>Vc(e,"name",{value:t,configurable:!0}),p8=(e,t)=>{for(var r in t)Vc(e,r,{get:t[r],enumerable:!0})},m8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l8(t))!u8.call(e,o)&&o!==r&&Vc(e,o,{get:()=>t[o],enumerable:!(n=d8(t,o))||n.enumerable});return e},f8=e=>m8(Vc({},"__esModule",{value:!0}),e),nC={};p8(nC,{escapeUri:()=>oC,escapeUriPath:()=>g8});sC.exports=f8(nC);var oC=qf(e=>encodeURIComponent(e).replace(/[!'()*]/g,h8),"escapeUri"),h8=qf(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),g8=qf(e=>e.split("/").map(oC).join("/"),"escapeUriPath")});var Gf=b((GPe,cC)=>{d();var Gc=Object.defineProperty,y8=Object.getOwnPropertyDescriptor,_8=Object.getOwnPropertyNames,E8=Object.prototype.hasOwnProperty,S8=(e,t)=>Gc(e,"name",{value:t,configurable:!0}),v8=(e,t)=>{for(var r in t)Gc(e,r,{get:t[r],enumerable:!0})},b8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _8(t))!E8.call(e,o)&&o!==r&&Gc(e,o,{get:()=>t[o],enumerable:!(n=y8(t,o))||n.enumerable});return e},w8=e=>b8(Gc({},"__esModule",{value:!0}),e),iC={};v8(iC,{buildQueryString:()=>aC});cC.exports=w8(iC);var Vf=zf();function aC(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,Vf.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,Vf.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,Vf.escapeUri)(n)}`),t.push(o)}}return t.join("&")}S8(aC,"buildQueryString")});var Js=b((KPe,wC)=>{d();var T8=Object.create,Ks=Object.defineProperty,C8=Object.getOwnPropertyDescriptor,P8=Object.getOwnPropertyNames,A8=Object.getPrototypeOf,I8=Object.prototype.hasOwnProperty,ie=(e,t)=>Ks(e,"name",{value:t,configurable:!0}),x8=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},mC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P8(t))!I8.call(e,o)&&o!==r&&Ks(e,o,{get:()=>t[o],enumerable:!(n=C8(t,o))||n.enumerable});return e},R8=(e,t,r)=>(r=e!=null?T8(A8(e)):{},mC(t||!e||!e.__esModule?Ks(r,"default",{value:e,enumerable:!0}):r,e)),O8=e=>mC(Ks({},"__esModule",{value:!0}),e),fC={};x8(fC,{DEFAULT_REQUEST_TIMEOUT:()=>SC,NodeHttp2Handler:()=>H8,NodeHttpHandler:()=>U8,streamCollector:()=>q8});wC.exports=O8(fC);var hC=me(),gC=Gf(),Wf=k("http"),Kf=k("https"),N8=["ECONNRESET","EPIPE","ETIMEDOUT"],yC=ie(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),tt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},dC=1e3,D8=ie((e,t,r=0)=>{if(!r)return-1;let n=ie(o=>{let s=tt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ie(a=>{a?.connecting?a.on("connect",()=>{tt.clearTimeout(s)}):tt.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):tt.setTimeout(n.bind(null,dC),dC)},"setConnectionTimeout"),M8=3e3,k8=ie((e,{keepAlive:t,keepAliveMsecs:r},n=M8)=>{if(t!==!0)return-1;let o=ie(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):tt.setTimeout(o,n)},"setSocketKeepAlive"),lC=3e3,L8=ie((e,t,r=SC)=>{let n=ie(o=>{let s=r-o,i=ie(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):tt.setTimeout(n.bind(null,r===0?0:lC),lC)},"setSocketTimeout"),_C=k("stream"),uC=6e3;async function Yf(e,t,r=uC){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(tt.setTimeout(()=>a(!0),Math.max(uC,r)))}),new Promise(a=>{e.on("continue",()=>{tt.clearTimeout(s),a(!0)}),e.on("response",()=>{tt.clearTimeout(s),a(!1)}),e.on("error",()=>{tt.clearTimeout(s),a(!1)})})])),i&&EC(e,t.body)}ie(Yf,"writeRequestBody");function EC(e,t){if(t instanceof _C.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ie(EC,"writeBody");var SC=0,U8=class Jf{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ie(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Jf(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,p=s[c]?.length??0;if(l>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof Wf.Agent||typeof i?.destroy=="function"?i:new Wf.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof Kf.Agent||typeof a?.destroy=="function"?a:new Kf.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ie(async C=>{await i,a.forEach(tt.clearTimeout),o(C)},"resolve"),l=ie(async C=>{await i,a.forEach(tt.clearTimeout),s(C)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let C=new Error("Request aborted");C.name="AbortError",l(C);return}let p=t.protocol==="https:",f=p?this.config.httpsAgent:this.config.httpAgent;a.push(tt.setTimeout(()=>{this.socketWarningTimestamp=Jf.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,gC.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let C=t.username??"",M=t.password??"";g=`${C}:${M}`}let _=t.path;h&&(_+=`?${h}`),t.fragment&&(_+=`#${t.fragment}`);let E=t.hostname??"";E[0]==="["&&E.endsWith("]")?E=t.hostname.slice(1,-1):E=t.hostname;let S={headers:t.headers,host:E,method:t.method,path:_,port:t.port,agent:f,auth:g},w=(p?Kf.request:Wf.request)(S,C=>{let M=new hC.HttpResponse({statusCode:C.statusCode||-1,reason:C.statusMessage,headers:yC(C.headers),body:C});c({response:M})});if(w.on("error",C=>{N8.includes(C.code)?l(Object.assign(C,{name:"TimeoutError"})):l(C)}),r){let C=ie(()=>{w.destroy();let M=new Error("Request aborted");M.name="AbortError",l(M)},"onAbort");if(typeof r.addEventListener=="function"){let M=r;M.addEventListener("abort",C,{once:!0}),w.once("close",()=>M.removeEventListener("abort",C))}else r.onabort=C}let I=n??this.config.requestTimeout;a.push(D8(w,l,this.config.connectionTimeout)),a.push(L8(w,l,I));let A=S.agent;typeof A=="object"&&"keepAlive"in A&&a.push(k8(w,{keepAlive:A.keepAlive,keepAliveMsecs:A.keepAliveMsecs})),i=Yf(w,t,I).catch(C=>(a.forEach(tt.clearTimeout),s(C)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},pC=k("http2"),F8=R8(k("http2")),B8=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ie(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},j8=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ie(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=F8.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ie(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new B8;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},H8=class vC{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new j8({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ie(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new vC(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,p,f=ie(async G=>{await p,a(G)},"resolve"),h=ie(async G=>{await p,c(G)},"reject");if(r?.aborted){l=!0;let G=new Error("Request aborted");G.name="AbortError",h(G);return}let{hostname:g,method:_,port:E,protocol:S,query:v}=t,w="";if(t.username!=null||t.password!=null){let G=t.username??"",pe=t.password??"";w=`${G}:${pe}@`}let I=`${S}//${w}${g}${E?`:${E}`:""}`,A={destination:new URL(I)},C=this.connectionManager.lease(A,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),M=ie(G=>{s&&this.destroySession(C),l=!0,h(G)},"rejectWithDestroy"),Re=(0,gC.buildQueryString)(v||{}),se=t.path;Re&&(se+=`?${Re}`),t.fragment&&(se+=`#${t.fragment}`);let le=C.request({...t.headers,[pC.constants.HTTP2_HEADER_PATH]:se,[pC.constants.HTTP2_HEADER_METHOD]:_});if(C.ref(),le.on("response",G=>{let pe=new hC.HttpResponse({statusCode:G[":status"]||-1,headers:yC(G),body:le});l=!0,f({response:pe}),s&&(C.close(),this.connectionManager.deleteSession(I,C))}),i&&le.setTimeout(i,()=>{le.close();let G=new Error(`Stream timed out because of no activity for ${i} ms`);G.name="TimeoutError",M(G)}),r){let G=ie(()=>{le.close();let pe=new Error("Request aborted");pe.name="AbortError",M(pe)},"onAbort");if(typeof r.addEventListener=="function"){let pe=r;pe.addEventListener("abort",G,{once:!0}),le.once("close",()=>pe.removeEventListener("abort",G))}else r.onabort=G}le.on("frameError",(G,pe,cf)=>{M(new Error(`Frame type id ${G} in stream id ${cf} has failed with code ${pe}.`))}),le.on("error",M),le.on("aborted",()=>{M(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${le.rstCode}.`))}),le.on("close",()=>{C.unref(),s&&C.destroy(),l||M(new Error("Unexpected error: http2 request did not get a response"))}),p=Yf(le,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},$8=class extends _C.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ie(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},q8=ie(e=>z8(e)?bC(e):new Promise((t,r)=>{let n=new $8;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),z8=ie(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function bC(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ie(bC,"collectReadableStream")});var NC=b((ZPe,OC)=>{d();var Kc=Object.defineProperty,V8=Object.getOwnPropertyDescriptor,G8=Object.getOwnPropertyNames,W8=Object.prototype.hasOwnProperty,Wt=(e,t)=>Kc(e,"name",{value:t,configurable:!0}),K8=(e,t)=>{for(var r in t)Kc(e,r,{get:t[r],enumerable:!0})},J8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G8(t))!W8.call(e,o)&&o!==r&&Kc(e,o,{get:()=>t[o],enumerable:!(n=V8(t,o))||n.enumerable});return e},Y8=e=>J8(Kc({},"__esModule",{value:!0}),e),CC={};K8(CC,{FetchHttpHandler:()=>Q8,keepAliveSupport:()=>Wc,streamCollector:()=>eK});OC.exports=Y8(CC);var TC=me(),X8=Gf();function Xf(e,t){return new Request(e,t)}Wt(Xf,"createRequest");function PC(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Wt(PC,"requestTimeout");var Wc={supported:void 0},Q8=class AC{static{Wt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new AC(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Wc.supported===void 0&&(Wc.supported=typeof Request<"u"&&"keepalive"in Xf("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,X8.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",I=t.password??"";l=`${w}:${I}@`}let{port:p,method:f}=t,h=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,g=f==="GET"||f==="HEAD"?void 0:t.body,_={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(_.cache=this.config.cache),g&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=r),Wc.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(t));let E=Wt(()=>{},"removeSignalEventListener"),S=Xf(h,_),v=[fetch(S).then(w=>{let I=w.headers,A={};for(let M of I.entries())A[M[0]]=M[1];return w.body!=null?{response:new TC.HttpResponse({headers:A,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(M=>({response:new TC.HttpResponse({headers:A,reason:w.statusText,statusCode:w.status,body:M})}))}),PC(o)];return r&&v.push(new Promise((w,I)=>{let A=Wt(()=>{let C=new Error("Request aborted");C.name="AbortError",I(C)},"onAbort");if(typeof r.addEventListener=="function"){let C=r;C.addEventListener("abort",A,{once:!0}),E=Wt(()=>C.removeEventListener("abort",A),"removeSignalEventListener")}else r.onabort=A})),Promise.race(v).finally(E)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},Z8=ct(),eK=Wt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):IC(e):xC(e),"streamCollector");async function IC(e){let t=await RC(e),r=(0,Z8.fromBase64)(t);return new Uint8Array(r)}Wt(IC,"collectBlob");async function xC(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Wt(xC,"collectStream");function RC(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Wt(RC,"readToBase64")});var Zf=b((tAe,FC)=>{d();var Jc=Object.defineProperty,tK=Object.getOwnPropertyDescriptor,rK=Object.getOwnPropertyNames,nK=Object.prototype.hasOwnProperty,DC=(e,t)=>Jc(e,"name",{value:t,configurable:!0}),oK=(e,t)=>{for(var r in t)Jc(e,r,{get:t[r],enumerable:!0})},sK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rK(t))!nK.call(e,o)&&o!==r&&Jc(e,o,{get:()=>t[o],enumerable:!(n=tK(t,o))||n.enumerable});return e},iK=e=>sK(Jc({},"__esModule",{value:!0}),e),MC={};oK(MC,{fromHex:()=>LC,toHex:()=>UC});FC.exports=iK(MC);var kC={},Qf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),kC[e]=t,Qf[t]=e}function LC(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Qf)t[r/2]=Qf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}DC(LC,"fromHex");function UC(e){let t="";for(let r=0;r<e.byteLength;r++)t+=kC[e[r]];return t}DC(UC,"toHex")});var $C=b(Yc=>{"use strict";d();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.sdkStreamMixin=void 0;var aK=NC(),cK=ct(),dK=Zf(),lK=Ge(),BC=Yr(),jC="The stream has already been transformed.",uK=e=>{var t,r;if(!HC(e)&&!(0,BC.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(jC);return n=!0,await(0,aK.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,cK.toBase64)(a);if(i==="hex")return(0,dK.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,lK.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(jC);if(n=!0,HC(e))return s(e);if((0,BC.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Yc.sdkStreamMixin=uK;var HC=e=>typeof Blob=="function"&&e instanceof Blob});var zC=b(Xc=>{"use strict";d();Object.defineProperty(Xc,"__esModule",{value:!0});Xc.sdkStreamMixin=void 0;var pK=Js(),mK=Lo(),eh=k("stream"),fK=$C(),qC="The stream has already been transformed.",hK=e=>{var t,r;if(!(e instanceof eh.Readable))try{return(0,fK.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(qC);return n=!0,await(0,pK.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,mK.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(qC);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof eh.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,eh.Readable.toWeb(e)}})};Xc.sdkStreamMixin=hK});var VC=b(th=>{"use strict";d();Object.defineProperty(th,"__esModule",{value:!0});th.splitStream=gK;async function gK(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var KC=b(rh=>{"use strict";d();Object.defineProperty(rh,"__esModule",{value:!0});rh.splitStream=_K;var GC=k("stream"),yK=VC(),WC=Yr();async function _K(e){if((0,WC.isReadableStream)(e)||(0,WC.isBlob)(e))return(0,yK.splitStream)(e);let t=new GC.PassThrough,r=new GC.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Zc=b((uAe,Jt)=>{d();var Qc=Object.defineProperty,EK=Object.getOwnPropertyDescriptor,SK=Object.getOwnPropertyNames,vK=Object.prototype.hasOwnProperty,sh=(e,t)=>Qc(e,"name",{value:t,configurable:!0}),bK=(e,t)=>{for(var r in t)Qc(e,r,{get:t[r],enumerable:!0})},nh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SK(t))!vK.call(e,o)&&o!==r&&Qc(e,o,{get:()=>t[o],enumerable:!(n=EK(t,o))||n.enumerable});return e},Xr=(e,t,r)=>(nh(e,t,"default"),r&&nh(r,t,"default")),wK=e=>nh(Qc({},"__esModule",{value:!0}),e),Kt={};bK(Kt,{Uint8ArrayBlobAdapter:()=>oh});Jt.exports=wK(Kt);var JC=ct(),YC=Ge();function XC(e,t="utf-8"){return t==="base64"?(0,JC.toBase64)(e):(0,YC.toUtf8)(e)}sh(XC,"transformToString");function QC(e,t){return t==="base64"?oh.mutate((0,JC.fromBase64)(e)):oh.mutate((0,YC.fromUtf8)(e))}sh(QC,"transformFromString");var oh=class ZC extends Uint8Array{static{sh(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return QC(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,ZC.prototype),t}transformToString(t="utf-8"){return XC(this,t)}};Xr(Kt,kf(),Jt.exports);Xr(Kt,WT(),Jt.exports);Xr(Kt,ZT(),Jt.exports);Xr(Kt,eC(),Jt.exports);Xr(Kt,rC(),Jt.exports);Xr(Kt,zC(),Jt.exports);Xr(Kt,KC(),Jt.exports);Xr(Kt,Yr(),Jt.exports)});var ed,ht,Ys=y(()=>{d();ed=T(Zc()),ht=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return ed.Uint8ArrayBlobAdapter.mutate(e);if(!e)return ed.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return ed.Uint8ArrayBlobAdapter.mutate(await r)}});function Yt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var td=y(()=>{d()});var Pr,ih=y(()=>{d();Pr=e=>typeof e=="function"?e():e});var eP=y(()=>{d()});var We,tP=y(()=>{d();We=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};We.registries=new Map});var Xt,Bo=y(()=>{d();Xt=class{constructor(t,r){this.name=t,this.traits=r}}});var Xs,ah=y(()=>{d();Bo();Xs=class e extends Xt{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Xs.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Qs,ch=y(()=>{d();Bo();Qs=class e extends Xt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Qs.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var rP=y(()=>{d()});var $n,rd=y(()=>{d();Bo();$n=class e extends Xt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};$n.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var dh,nP=y(()=>{d();rd();dh=class e extends $n{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};dh.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var R,lh=y(()=>{d();R={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Zs,uh=y(()=>{d();Bo();Zs=class e extends Xt{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Zs.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var $,oP=y(()=>{d();ih();ah();ch();lh();uh();rd();$=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Pr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Pr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Zs?Pr(this.schema.schemaRef):Pr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=R.LIST_MODIFIER&&t<R.MAP_MODIFIER:t instanceof Xs}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=R.MAP_MODIFIER&&t<=255:t instanceof Qs}isDocumentSchema(){return this.getSchema()===R.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof $n}isBlobSchema(){return this.getSchema()===R.BLOB||this.getSchema()===R.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=R.TIMESTAMP_DEFAULT&&t<=R.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===R.STRING}isBooleanSchema(){return this.getSchema()===R.BOOLEAN}isNumericSchema(){return this.getSchema()===R.NUMERIC}isBigIntegerSchema(){return this.getSchema()===R.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===R.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===R.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([R.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([R.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([R.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(R).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case R.MAP_MODIFIER:return`${o}Map`;case R.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};$.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Ie=y(()=>{d();ih();eP();ah();ch();rP();nP();oP();Bo();uh();rd();lh();tP()});var ei,sP=y(()=>{d();Ie();ei=(e,t,r=n=>n)=>{let n=$.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let a of e)s[i++]=ei(a,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=ei(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=ei(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=ei(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var TK,CK,ti,PK,nd,ri,AK,ph,mh,fh,hh,IK,xK,iP,RK,OK,sd,NK,gh,DK,jo,yh,MK,kK,LK,aP,cP,UK,FK,qn,_h,od,ni,Eh=y(()=>{d();TK=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},CK=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ni.warn(od(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ni.warn(od(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ti=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ni.warn(od(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},PK=Math.ceil(34028234663852886e22),nd=e=>{let t=ti(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>PK)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ri=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},AK=ri,ph=e=>hh(e,32),mh=e=>hh(e,16),fh=e=>hh(e,8),hh=(e,t)=>{let r=ri(e);if(r!==void 0&&IK(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},IK=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},xK=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},iP=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},RK=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ni.warn(od(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},OK=e=>{if(e==null)return;let t=iP(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},sd=e=>ti(typeof e=="string"?jo(e):e),NK=sd,gh=e=>nd(typeof e=="string"?jo(e):e),DK=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,jo=e=>{let t=e.match(DK);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},yh=e=>typeof e=="string"?aP(e):ti(e),MK=yh,kK=yh,LK=e=>typeof e=="string"?aP(e):nd(e),aP=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},cP=e=>ri(typeof e=="string"?jo(e):e),UK=cP,FK=e=>ph(typeof e=="string"?jo(e):e),qn=e=>mh(typeof e=="string"?jo(e):e),_h=e=>fh(typeof e=="string"?jo(e):e),od=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ni={warn:console.warn}});function si(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${BK[n]}, ${c} ${vh[r]} ${t} ${l}:${p}:${f} GMT`}var BK,vh,jK,HK,$K,ii,qK,zK,VK,ai,ci,oi,GK,WK,KK,Sh,JK,YK,XK,Qt,QK,ZK,Ho,dP=y(()=>{d();Eh();BK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],vh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];jK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),HK=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=jK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,p=qn(Ho(n)),f=Qt(o,"month",1,12),h=Qt(s,"day",1,31);return oi(p,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},$K=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ii=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=$K.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,p]=t,f=qn(Ho(n)),h=Qt(o,"month",1,12),g=Qt(s,"day",1,31),_=oi(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&_.setTime(_.getTime()-ZK(p)),_},qK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),zK=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),VK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ai=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=qK.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return oi(qn(Ho(s)),Sh(o),Qt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=zK.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return KK(oi(GK(s),Sh(o),Qt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=VK.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return oi(qn(Ho(l)),Sh(n),Qt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ci=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=sd(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},oi=(e,t,r,n)=>{let o=t-1;return YK(e,o,r),new Date(Date.UTC(e,o,r,Qt(n.hours,"hour",0,23),Qt(n.minutes,"minute",0,59),Qt(n.seconds,"seconds",0,60),QK(n.fractionalMilliseconds)))},GK=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+qn(Ho(e));return r<t?r+100:r},WK=50*365*24*60*60*1e3,KK=e=>e.getTime()-new Date().getTime()>WK?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Sh=e=>{let t=vh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},JK=[31,28,31,30,31,30,31,31,30,31,30,31],YK=(e,t,r)=>{let n=JK[t];if(t===1&&XK(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${vh[t]} in ${e}: ${r}`)},XK=e=>e%4===0&&(e%100!==0||e%400===0),Qt=(e,t,r,n)=>{let o=_h(Ho(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},QK=e=>e==null?0:gh("0."+e)*1e3,ZK=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},Ho=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ke,lP=y(()=>{d();Ke=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ke.from=e=>e&&typeof e=="object"&&(e instanceof Ke||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ke(String(e)):Ke(JSON.stringify(e));Ke.fromObject=Ke.from});function bh(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var uP=y(()=>{d()});function wh(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var pP=y(()=>{d()});var di,mP=y(()=>{d();di=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function e6(e){return new Ne(String(e),"bigDecimal")}var Ne,fP=y(()=>{d();Ne=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var hP={};$e(hP,{LazyJsonString:()=>Ke,NumericValue:()=>Ne,copyDocumentWithTransform:()=>ei,dateToUtcString:()=>si,expectBoolean:()=>CK,expectByte:()=>fh,expectFloat32:()=>nd,expectInt:()=>AK,expectInt32:()=>ph,expectLong:()=>ri,expectNonNull:()=>xK,expectNumber:()=>ti,expectObject:()=>iP,expectShort:()=>mh,expectString:()=>RK,expectUnion:()=>OK,handleFloat:()=>MK,limitedParseDouble:()=>yh,limitedParseFloat:()=>kK,limitedParseFloat32:()=>LK,logger:()=>ni,nv:()=>e6,parseBoolean:()=>TK,parseEpochTimestamp:()=>ci,parseRfc3339DateTime:()=>HK,parseRfc3339DateTimeWithOffset:()=>ii,parseRfc7231DateTime:()=>ai,quoteHeader:()=>bh,splitEvery:()=>wh,splitHeader:()=>di,strictParseByte:()=>_h,strictParseDouble:()=>sd,strictParseFloat:()=>NK,strictParseFloat32:()=>gh,strictParseInt:()=>UK,strictParseInt32:()=>FK,strictParseLong:()=>cP,strictParseShort:()=>qn});var gt=y(()=>{d();sP();dP();lP();Eh();uP();pP();mP();fP()});var id,gP,$o,Th=y(()=>{d();Ie();gt();id=T(me()),gP=T(Zc());Ys();$o=class{constructor(t){this.options=t}getRequestType(){return id.HttpRequest}getResponseType(){return id.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=$.of(r),s=$.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=$.of(t),l=[];for(let[p,f]of c.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let E=this.serdeContext;if(!E.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[p]=E.eventStreamMarshaller.deserialize(n.body,async v=>{let w=Object.keys(v).find(I=>I!=="__type")??"";if(w in S){let I=S[w];return{[w]:await a.read(I,v[w].body)}}else return{$unknown:v}})}else i[p]=(0,gP.sdkStreamMixin)(n.body);else if(n.body){let _=await ht(n.body,r);_.byteLength>0&&(i[p]=await a.read(f,_))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),_=n.headers[g];if(_!=null)if(f.isListSchema()){let E=f.getValueSchema(),S;E.isTimestampSchema()&&E.getSchema()===R.TIMESTAMP_DEFAULT?S=wh(_,",",2):S=di(_);let v=[];for(let w of S)v.push(await a.read([E,{httpHeader:g}],w.trim()));i[p]=v}else i[p]=await a.read(f,_)}else if(h.httpPrefixHeaders!==void 0){i[p]={};for(let[g,_]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[p][g.slice(h.httpPrefixHeaders.length)]=await a.read([f.getValueSchema(),{httpHeader:g}],_))}else h.httpResponseCode?i[p]=n.statusCode:l.push(p)}return l}}});var yP,zn,_P=y(()=>{d();Ie();yP=T(me());Ys();td();Th();zn=class extends $o{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=$.of(t?.input),p=l.getSchema(),f=!1,h,g=new yP.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let _=$.translateTraits(t.traits);if(_.http){g.method=_.http[0];let[E,S]=_.http[1].split("?");g.path=="/"?g.path=E:g.path+=E;let v=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(v))}}for(let[_,E]of l.structIterator()){let S=E.getMergedTraits()??{},v=o[_];if(v!=null)if(S.httpPayload){if(E.isStreaming()){if(E.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=v}else s.write(E,v),h=s.flush();delete o[_]}else if(S.httpLabel){s.write(E,v);let w=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,w.split("/").map(Yt).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,Yt(w))),delete o[_]}else if(S.httpHeader)s.write(E,v),a[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[_];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,I]of Object.entries(v)){let A=S.httpPrefixHeaders+w;s.write([E.getValueSchema(),{httpHeader:A}],I),a[A.toLowerCase()]=s.flush()}delete o[_]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(E,v,i),delete o[_]):f=!0}return f&&o&&(s.write(p,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery($.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let l=await ht(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(R.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await ht(n.body,r);if(l.byteLength>0){let p=await o.read(s,l);for(let f of a)i[f]=p[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var EP,Vn,SP=y(()=>{d();Ie();EP=T(me());Ys();Th();Vn=class extends $o{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=$.of(t?.input).getSchema(),p,f=new EP.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(l,h),p=o.flush()),f.headers=i,f.query=s,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let l=await ht(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(R.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await ht(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var Ch,Ph=y(()=>{d();td();Ch=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Yt(a)).join("/"):Yt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Ah(e,t){return new ad(e,t)}var vP,ad,bP=y(()=>{d();vP=T(me());Ph();ad=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new vP.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Ch(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Gn(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===R.TIMESTAMP_DATE_TIME||e.getSchema()===R.TIMESTAMP_HTTP_DATE||e.getSchema()===R.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?R.TIMESTAMP_HTTP_DATE:s||r?R.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var cd=y(()=>{d();Ie()});var Ih,wP,Wn,xh=y(()=>{d();Ie();gt();Ih=T(ct()),wP=T(Ge());cd();Wn=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=$.of(t);if(n.isListSchema())return di(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Ih.fromBase64)(r);if(n.isTimestampSchema())switch(Gn(n,this.settings)){case R.TIMESTAMP_DATE_TIME:return ii(r);case R.TIMESTAMP_HTTP_DATE:return ai(r);case R.TIMESTAMP_EPOCH_SECONDS:return ci(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ke.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Ne(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??wP.toUtf8)((this.serdeContext?.base64Decoder??Ih.fromBase64)(t))}}});var dd,Kn,TP=y(()=>{d();Ie();dd=T(Ge());xh();Kn=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Wn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=$.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??dd.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??dd.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Rh,li,Oh=y(()=>{d();Ie();gt();Rh=T(ct());cd();li=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=$.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Gn(n,this.settings)){case R.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case R.TIMESTAMP_HTTP_DATE:this.stringBuffer=si(r);break;case R.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Rh.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:bh(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ke.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Rh.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Jn,CP=y(()=>{d();Ie();Oh();Jn=class{constructor(t,r,n=new li(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=$.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var PP={};$e(PP,{FromStringShapeDeserializer:()=>Wn,HttpBindingProtocol:()=>zn,HttpInterceptingShapeDeserializer:()=>Kn,HttpInterceptingShapeSerializer:()=>Jn,RequestBuilder:()=>ad,RpcProtocol:()=>Vn,ToStringShapeSerializer:()=>li,collectBody:()=>ht,determineTimestampFormat:()=>Gn,extendedEncodeURIComponent:()=>Yt,requestBuilder:()=>Ah,resolvedPath:()=>Ch});var Ar=y(()=>{d();Ys();td();_P();SP();bP();Ph();xh();TP();CP();Oh();cd()});var AP=y(()=>{d();Ar()});function t6(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var IP=y(()=>{d()});var Nh,xP=y(()=>{d();Nh=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var RP,Dh,Mh,OP=y(()=>{d();RP=T(me()),Dh=T(zt()),Mh=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=RP.HttpRequest.clone(t);if(n.in===Dh.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Dh.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var NP,kh,DP=y(()=>{d();NP=T(me()),kh=class{async sign(t,r,n){let o=NP.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Lh,MP=y(()=>{d();Lh=class{async sign(t,r,n){return t}}});var kP=y(()=>{d();OP();DP();MP()});var LP,r6,Uh,ld,Fh,UP=y(()=>{d();LP=e=>t=>ld(t)&&t.expiration.getTime()-Date.now()<e,r6=3e5,Uh=LP(3e5),ld=e=>e.expiration!==void 0,Fh=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var FP=y(()=>{d();xP();kP();UP()});var yt={};$e(yt,{DefaultIdentityProviderConfig:()=>Nh,EXPIRATION_MS:()=>r6,HttpApiKeyAuthSigner:()=>Mh,HttpBearerAuthSigner:()=>kh,NoAuthSigner:()=>Lh,createIsIdentityExpiredFunction:()=>LP,createPaginator:()=>RT,doesIdentityRequireRefresh:()=>ld,getHttpAuthSchemeEndpointRuleSetPlugin:()=>z4,getHttpAuthSchemePlugin:()=>Q4,getHttpSigningPlugin:()=>tW,getSmithyContext:()=>$4,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>uT,httpAuthSchemeMiddleware:()=>Gs,httpAuthSchemeMiddlewareOptions:()=>vT,httpSigningMiddleware:()=>Af,httpSigningMiddlewareOptions:()=>PT,isIdentityExpired:()=>Uh,memoizeIdentityProvider:()=>Fh,normalizeProvider:()=>Jr,requestBuilder:()=>Ah,setFeature:()=>t6});var rt=y(()=>{d();aT();wT();IT();xT();OT();AP();IP();FP()});var md=b((SRe,WP)=>{d();var ud=Object.defineProperty,n6=Object.getOwnPropertyDescriptor,o6=Object.getOwnPropertyNames,s6=Object.prototype.hasOwnProperty,re=(e,t)=>ud(e,"name",{value:t,configurable:!0}),i6=(e,t)=>{for(var r in t)ud(e,r,{get:t[r],enumerable:!0})},a6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of o6(t))!s6.call(e,o)&&o!==r&&ud(e,o,{get:()=>t[o],enumerable:!(n=n6(t,o))||n.enumerable});return e},c6=e=>a6(ud({},"__esModule",{value:!0}),e),BP={};i6(BP,{EndpointCache:()=>d6,EndpointError:()=>nt,customEndpointFunctions:()=>jh,isIpAddress:()=>jP,isValidHostLabel:()=>$h,resolveEndpoint:()=>I6});WP.exports=c6(BP);var d6=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{re(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},l6=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),jP=re(e=>l6.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),u6=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),$h=re((e,t=!1)=>{if(!t)return u6.test(e);let r=e.split(".");for(let n of r)if(!$h(n))return!1;return!0},"isValidHostLabel"),jh={},ui="endpoints";function Ir(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ir(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ir).join(", ")})`:JSON.stringify(e,null,2)}re(Ir,"toDebugString");var nt=class extends Error{static{re(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},p6=re((e,t)=>e===t,"booleanEquals"),m6=re(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new nt(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new nt(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),HP=re((e,t)=>m6(t).reduce((r,n)=>{if(typeof r!="object")throw new nt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),f6=re(e=>e!=null,"isSet"),h6=re(e=>!e,"not"),Hh=zt(),Bh={[Hh.EndpointURLScheme.HTTP]:80,[Hh.EndpointURLScheme.HTTPS]:443},g6=re(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:_="",path:E="",query:S={}}=e,v=new URL(`${_}//${h}${g?`:${g}`:""}${E}`);return v.search=Object.entries(S).map(([w,I])=>`${w}=${I}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Hh.EndpointURLScheme).includes(c))return null;let l=jP(o),p=r.includes(`${n}:${Bh[c]}`)||typeof e=="string"&&e.includes(`${n}:${Bh[c]}`),f=`${n}${p?`:${Bh[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),y6=re((e,t)=>e===t,"stringEquals"),_6=re((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),E6=re(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),S6={booleanEquals:p6,getAttr:HP,isSet:f6,isValidHostLabel:$h,not:h6,parseURL:g6,stringEquals:y6,substring:_6,uriEncode:E6},$P=re((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(HP(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),v6=re(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),pd=re((e,t,r)=>{if(typeof e=="string")return $P(e,r);if(e.fn)return qP(e,r);if(e.ref)return v6(e,r);throw new nt(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),qP=re(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:pd(s,"arg",r)),o=e.split(".");return o[0]in jh&&o[1]!=null?jh[o[0]][o[1]](...n):S6[e](...n)},"callFunction"),b6=re(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new nt(`'${e}' is already defined in Reference Record.`);let n=qP(t,r);return r.logger?.debug?.(`${ui} evaluateCondition: ${Ir(t)} = ${Ir(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),qh=re((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=b6(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${ui} assign: ${s.name} := ${Ir(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),w6=re((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=pd(s,"Header value entry",t);if(typeof i!="string")throw new nt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),zP=re((e,t)=>{if(Array.isArray(e))return e.map(r=>zP(r,t));switch(typeof e){case"string":return $P(e,t);case"object":if(e===null)throw new nt(`Unexpected endpoint property: ${e}`);return VP(e,t);case"boolean":return e;default:throw new nt(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),VP=re((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:zP(o,t)}),{}),"getEndpointProperties"),T6=re((e,t)=>{let r=pd(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new nt(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),C6=re((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=qh(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${ui} Resolving endpoint from template: ${Ir(n)}`),{...l!=null&&{headers:w6(l,i)},...c!=null&&{properties:VP(c,i)},url:T6(a,i)}},"evaluateEndpointRule"),P6=re((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=qh(r,t);if(o)throw new nt(pd(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),A6=re((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=qh(r,t);if(o)return GP(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),GP=re((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=C6(r,t);if(n)return n}else if(r.type==="error")P6(r,t);else if(r.type==="tree"){let n=A6(r,t);if(n)return n}else throw new nt(`Unknown endpoint rule: ${r}`);throw new nt("Rules evaluation failed")},"evaluateRules"),I6=re((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${ui} Initial EndpointParams: ${Ir(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(i.length>0)for(let[l,p]of i)r[l]=r[l]??p;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new nt(`Missing required parameter: '${l}'`);let c=GP(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ui} Resolved endpoint: ${Ir(c)}`),c},"resolveEndpoint")});var XP=b((TRe,YP)=>{d();var fd=Object.defineProperty,x6=Object.getOwnPropertyDescriptor,R6=Object.getOwnPropertyNames,O6=Object.prototype.hasOwnProperty,N6=(e,t)=>fd(e,"name",{value:t,configurable:!0}),D6=(e,t)=>{for(var r in t)fd(e,r,{get:t[r],enumerable:!0})},M6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R6(t))!O6.call(e,o)&&o!==r&&fd(e,o,{get:()=>t[o],enumerable:!(n=x6(t,o))||n.enumerable});return e},k6=e=>M6(fd({},"__esModule",{value:!0}),e),KP={};D6(KP,{parseQueryString:()=>JP});YP.exports=k6(KP);function JP(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}N6(JP,"parseQueryString")});var qo=b((PRe,eA)=>{d();var hd=Object.defineProperty,L6=Object.getOwnPropertyDescriptor,U6=Object.getOwnPropertyNames,F6=Object.prototype.hasOwnProperty,B6=(e,t)=>hd(e,"name",{value:t,configurable:!0}),j6=(e,t)=>{for(var r in t)hd(e,r,{get:t[r],enumerable:!0})},H6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U6(t))!F6.call(e,o)&&o!==r&&hd(e,o,{get:()=>t[o],enumerable:!(n=L6(t,o))||n.enumerable});return e},$6=e=>H6(hd({},"__esModule",{value:!0}),e),QP={};j6(QP,{parseUrl:()=>ZP});eA.exports=$6(QP);var q6=XP(),ZP=B6(e=>{if(typeof e=="string")return ZP(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,q6.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var yd=b((IRe,uA)=>{"use strict";d();var gd=Object.defineProperty,z6=Object.getOwnPropertyDescriptor,V6=Object.getOwnPropertyNames,G6=Object.prototype.hasOwnProperty,Qr=(e,t)=>gd(e,"name",{value:t,configurable:!0}),W6=(e,t)=>{for(var r in t)gd(e,r,{get:t[r],enumerable:!0})},K6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of V6(t))!G6.call(e,o)&&o!==r&&gd(e,o,{get:()=>t[o],enumerable:!(n=z6(t,o))||n.enumerable});return e},J6=e=>K6(gd({},"__esModule",{value:!0}),e),rA={};W6(rA,{ConditionObject:()=>ce.ConditionObject,DeprecatedObject:()=>ce.DeprecatedObject,EndpointError:()=>ce.EndpointError,EndpointObject:()=>ce.EndpointObject,EndpointObjectHeaders:()=>ce.EndpointObjectHeaders,EndpointObjectProperties:()=>ce.EndpointObjectProperties,EndpointParams:()=>ce.EndpointParams,EndpointResolverOptions:()=>ce.EndpointResolverOptions,EndpointRuleObject:()=>ce.EndpointRuleObject,ErrorRuleObject:()=>ce.ErrorRuleObject,EvaluateOptions:()=>ce.EvaluateOptions,Expression:()=>ce.Expression,FunctionArgv:()=>ce.FunctionArgv,FunctionObject:()=>ce.FunctionObject,FunctionReturn:()=>ce.FunctionReturn,ParameterObject:()=>ce.ParameterObject,ReferenceObject:()=>ce.ReferenceObject,ReferenceRecord:()=>ce.ReferenceRecord,RuleSetObject:()=>ce.RuleSetObject,RuleSetRules:()=>ce.RuleSetRules,TreeRuleObject:()=>ce.TreeRuleObject,awsEndpointFunctions:()=>dA,getUserAgentPrefix:()=>Z6,isIpAddress:()=>ce.isIpAddress,partition:()=>aA,resolveDefaultAwsRegionalEndpointsConfig:()=>tJ,resolveEndpoint:()=>ce.resolveEndpoint,setPartitionInfo:()=>cA,toEndpointV1:()=>lA,useDefaultPartitionInfo:()=>Q6});uA.exports=J6(rA);var ce=md(),nA=Qr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!nA(r))return!1;return!0}return!(!(0,ce.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,ce.isIpAddress)(e))},"isVirtualHostableS3Bucket"),tA=":",Y6="/",X6=Qr(e=>{let t=e.split(tA);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(tA)==="")return null;let c=a.map(l=>l.split(Y6)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),oA={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},sA=oA,iA="",aA=Qr(e=>{let{partitions:t}=sA;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),cA=Qr((e,t="")=>{sA=e,iA=t},"setPartitionInfo"),Q6=Qr(()=>{cA(oA,"")},"useDefaultPartitionInfo"),Z6=Qr(()=>iA,"getUserAgentPrefix"),dA={isVirtualHostableS3Bucket:nA,parseArn:X6,partition:aA};ce.customEndpointFunctions.aws=dA;var eJ=qo(),tJ=Qr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>lA(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),lA=Qr(e=>(0,eJ.parseUrl)(e.url),"toEndpointV1")});var _d,pA,mA=y(()=>{d();_d={warningEmitted:!1},pA=e=>{e&&!_d.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(_d.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Ed(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var fA=y(()=>{d()});function hA(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var gA=y(()=>{d()});function yA(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var _A=y(()=>{d()});var Zr={};$e(Zr,{emitWarningIfUnsupportedVersion:()=>pA,setCredentialFeature:()=>Ed,setFeature:()=>hA,setTokenFeature:()=>yA,state:()=>_d});var Zt=y(()=>{d();mA();fA();gA();_A()});var EA,zh,SA=y(()=>{d();EA=T(me()),zh=e=>EA.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var zo,Vh=y(()=>{d();zo=e=>new Date(Date.now()+e)});var vA,bA=y(()=>{d();Vh();vA=(e,t)=>Math.abs(zo(t).getTime()-e)>=3e5});var Gh,wA=y(()=>{d();bA();Gh=(e,t)=>{let r=Date.parse(e);return vA(r,t)?r-Date.now():t}});var Wh=y(()=>{d();SA();Vh();wA()});var TA,pi,Vo,en,Kh,Jh=y(()=>{d();TA=T(me());Wh();pi=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Vo=async e=>{let t=pi("context",e.context),r=pi("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await pi("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},en=class{async sign(t,r,n){if(!TA.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await Vo(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:zo(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??zh(r.$response);if(n){let o=pi("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Gh(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=zh(t);if(n){let o=pi("config",r.config);o.systemClockOffset=Gh(n,o.systemClockOffset)}}},Kh=en});var CA,mi,PA=y(()=>{d();CA=T(me());Wh();Jh();mi=class extends en{async sign(t,r,n){if(!CA.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await Vo(n),p=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:zo(o.systemClockOffset),signingRegion:p,signingService:c})}}});var Yh,AA=y(()=>{d();Yh=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Sd,Xh=y(()=>{d();Sd=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var IA,xA,RA,OA=y(()=>{d();AA();Xh();IA="AWS_AUTH_SCHEME_PREFERENCE",xA="auth_scheme_preference",RA={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Sd(t.signingName)in e)return["httpBearerAuth"];if(IA in e)return Yh(e[IA])},configFileSelector:e=>{if(xA in e)return Yh(e[xA])},default:[]}});var Je=b((EOe,LA)=>{d();var vd=Object.defineProperty,rJ=Object.getOwnPropertyDescriptor,nJ=Object.getOwnPropertyNames,oJ=Object.prototype.hasOwnProperty,Yn=(e,t)=>vd(e,"name",{value:t,configurable:!0}),sJ=(e,t)=>{for(var r in t)vd(e,r,{get:t[r],enumerable:!0})},iJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nJ(t))!oJ.call(e,o)&&o!==r&&vd(e,o,{get:()=>t[o],enumerable:!(n=rJ(t,o))||n.enumerable});return e},aJ=e=>iJ(vd({},"__esModule",{value:!0}),e),NA={};sJ(NA,{CredentialsProviderError:()=>cJ,ProviderError:()=>bd,TokenProviderError:()=>dJ,chain:()=>lJ,fromStatic:()=>uJ,memoize:()=>pJ});LA.exports=aJ(NA);var bd=class DA extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,DA.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{Yn(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},cJ=class MA extends bd{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,MA.prototype)}static{Yn(this,"CredentialsProviderError")}},dJ=class kA extends bd{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,kA.prototype)}static{Yn(this,"TokenProviderError")}},lJ=Yn((...e)=>async()=>{if(e.length===0)throw new bd("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),uJ=Yn(e=>()=>Promise.resolve(e),"fromStatic"),pJ=Yn((e,t,r)=>{let n,o,s,i=!1,a=Yn(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Qh,UA,FA,BA=y(()=>{d();rt();Qh=T(Je()),UA=e=>(e.sigv4aSigningRegionSet=Jr(e.sigv4aSigningRegionSet),e),FA={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Qh.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Qh.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var fI=b((TOe,mI)=>{d();var xd=Object.defineProperty,mJ=Object.getOwnPropertyDescriptor,fJ=Object.getOwnPropertyNames,hJ=Object.prototype.hasOwnProperty,De=(e,t)=>xd(e,"name",{value:t,configurable:!0}),gJ=(e,t)=>{for(var r in t)xd(e,r,{get:t[r],enumerable:!0})},yJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fJ(t))!hJ.call(e,o)&&o!==r&&xd(e,o,{get:()=>t[o],enumerable:!(n=mJ(t,o))||n.enumerable});return e},_J=e=>yJ(xd({},"__esModule",{value:!0}),e),zA={};gJ(zA,{ALGORITHM_IDENTIFIER:()=>wd,ALGORITHM_IDENTIFIER_V4A:()=>bJ,ALGORITHM_QUERY_PARAM:()=>VA,ALWAYS_UNSIGNABLE_HEADERS:()=>ZA,AMZ_DATE_HEADER:()=>ig,AMZ_DATE_QUERY_PARAM:()=>rg,AUTH_HEADER:()=>sg,CREDENTIAL_QUERY_PARAM:()=>GA,DATE_HEADER:()=>JA,EVENT_ALGORITHM_IDENTIFIER:()=>rI,EXPIRES_QUERY_PARAM:()=>KA,GENERATED_HEADERS:()=>YA,HOST_HEADER:()=>SJ,KEY_TYPE_IDENTIFIER:()=>ag,MAX_CACHE_SIZE:()=>oI,MAX_PRESIGNED_TTL:()=>sI,PROXY_HEADER_PATTERN:()=>eI,REGION_SET_PARAM:()=>EJ,SEC_HEADER_PATTERN:()=>tI,SHA256_HEADER:()=>Id,SIGNATURE_HEADER:()=>XA,SIGNATURE_QUERY_PARAM:()=>ng,SIGNED_HEADERS_QUERY_PARAM:()=>WA,SignatureV4:()=>DJ,SignatureV4Base:()=>pI,TOKEN_HEADER:()=>QA,TOKEN_QUERY_PARAM:()=>og,UNSIGNABLE_PATTERNS:()=>vJ,UNSIGNED_PAYLOAD:()=>nI,clearCredentialCache:()=>TJ,createScope:()=>Cd,getCanonicalHeaders:()=>Zh,getCanonicalQuery:()=>uI,getPayloadHash:()=>Pd,getSigningKey:()=>iI,hasHeader:()=>cI,moveHeadersToQuery:()=>lI,prepareRequest:()=>tg,signatureV4aContainer:()=>MJ});mI.exports=_J(zA);var jA=Ge(),VA="X-Amz-Algorithm",GA="X-Amz-Credential",rg="X-Amz-Date",WA="X-Amz-SignedHeaders",KA="X-Amz-Expires",ng="X-Amz-Signature",og="X-Amz-Security-Token",EJ="X-Amz-Region-Set",sg="authorization",ig=rg.toLowerCase(),JA="date",YA=[sg,ig,JA],XA=ng.toLowerCase(),Id="x-amz-content-sha256",QA=og.toLowerCase(),SJ="host",ZA={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},eI=/^proxy-/,tI=/^sec-/,vJ=[/^proxy-/i,/^sec-/i],wd="AWS4-HMAC-SHA256",bJ="AWS4-ECDSA-P256-SHA256",rI="AWS4-HMAC-SHA256-PAYLOAD",nI="UNSIGNED-PAYLOAD",oI=50,ag="aws4_request",sI=3600*24*7,tn=Zf(),wJ=Ge(),Go={},Td=[],Cd=De((e,t,r)=>`${e}/${t}/${r}/${ag}`,"createScope"),iI=De(async(e,t,r,n,o)=>{let s=await HA(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,tn.toHex)(s)}:${t.sessionToken}`;if(i in Go)return Go[i];for(Td.push(i);Td.length>oI;)delete Go[Td.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,ag])a=await HA(e,a,c);return Go[i]=a},"getSigningKey"),TJ=De(()=>{Td.length=0,Object.keys(Go).forEach(e=>{delete Go[e]})},"clearCredentialCache"),HA=De((e,t,r)=>{let n=new e(t);return n.update((0,wJ.toUint8Array)(r)),n.digest()},"hmac"),Zh=De(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in ZA||t?.has(s)||eI.test(s)||tI.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),CJ=xf(),PJ=Ge(),Pd=De(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Id)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,CJ.isArrayBuffer)(t)){let n=new r;return n.update((0,PJ.toUint8Array)(t)),(0,tn.toHex)(await n.digest())}return nI},"getPayloadHash"),$A=Ge(),AJ=class{static{De(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,$A.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,$A.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(xJ.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!IJ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,tn.fromHex)(e.value.replace(/\-/g,"")),1),p}}},IJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,xJ=class aI{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{De(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&eg(r),new aI(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&eg(t),parseInt((0,tn.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function eg(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}De(eg,"negate");var cI=De((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),dI=me(),lI=De((e,t={})=>{let{headers:r,query:n={}}=dI.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),tg=De(e=>{e=dI.HttpRequest.clone(e);for(let t of Object.keys(e.headers))YA.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),qA=Vt(),RJ=Ge(),Ad=zf(),uI=De(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===XA)continue;let o=(0,Ad.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,Ad.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,Ad.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),OJ=De(e=>NJ(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),NJ=De(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),pI=class{static{De(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,qA.normalizeProvider)(r),this.credentialProvider=(0,qA.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${uI(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,RJ.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,tn.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,Ad.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=OJ(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},DJ=class extends pI{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new AJ}static{De(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=c??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>sI)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=Cd(g,f,l??this.service),E=lI(tg(e),{unhoistableHeaders:s,hoistableHeaders:a});p.sessionToken&&(E.query[og]=p.sessionToken),E.query[VA]=wd,E.query[GA]=`${p.accessKeyId}/${_}`,E.query[rg]=h,E.query[KA]=n.toString(10);let S=Zh(E,o,i);return E.query[WA]=this.getCanonicalHeaderList(S),E.query[ng]=await this.getSignature(h,_,this.getSigningKey(p,f,g,l),this.createCanonicalRequest(E,S,await Pd(e,this.sha256))),E}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=Cd(a,i,s??this.service),p=await Pd({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,tn.toHex)(await f.digest()),g=[rI,c,l,n,h,p].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,jA.toUint8Array)(e)),(0,tn.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=tg(e),{longDate:l,shortDate:p}=this.formatDate(t),f=Cd(p,a,s??this.service);c.headers[ig]=l,i.sessionToken&&(c.headers[QA]=i.sessionToken);let h=await Pd(c,this.sha256);!cI(Id,c.headers)&&this.applyChecksum&&(c.headers[Id]=h);let g=Zh(c,n,r),_=await this.getSignature(l,f,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(c,g,h));return c.headers[sg]=`${wd} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${_}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,wd),s=new this.sha256(await r);return s.update((0,jA.toUint8Array)(o)),(0,tn.toHex)(await s.digest())}getSigningKey(e,t,r,n){return iI(this.sha256,e,r,t,n||this.service)}},MJ={SignatureV4a:null}});function kJ(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Fh(t,Uh,ld):r?n=Jr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function LJ(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var cg,dg,hI,gI=y(()=>{d();Zt();rt();cg=T(fI()),dg=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=kJ(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=LJ(e,p);r&&!f.attributed?(n=async h=>f(h).then(g=>Ed(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Jr(e.signer):e.regionInfoProvider?a=()=>Jr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:h}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},_=e.signerConstructor||cg.SignatureV4;return new _(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Jr(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||cg.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},hI=dg});var yI=y(()=>{d();Jh();PA();OA();BA();gI()});var _I={};$e(_I,{AWSSDKSigV4Signer:()=>Kh,AwsSdkSigV4ASigner:()=>mi,AwsSdkSigV4Signer:()=>en,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>RA,NODE_SIGV4A_CONFIG_OPTIONS:()=>FA,getBearerTokenEnvKey:()=>Sd,resolveAWSSDKSigV4Config:()=>hI,resolveAwsSdkSigV4AConfig:()=>UA,resolveAwsSdkSigV4Config:()=>dg,validateSigningProperties:()=>Vo});var lg=y(()=>{d();yI();Xh()});var UJ,FJ,BJ,EI=y(()=>{d();UJ=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},FJ=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},BJ=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var fi=b((VOe,bI)=>{d();var Rd=Object.defineProperty,jJ=Object.getOwnPropertyDescriptor,HJ=Object.getOwnPropertyNames,$J=Object.prototype.hasOwnProperty,qJ=(e,t)=>Rd(e,"name",{value:t,configurable:!0}),zJ=(e,t)=>{for(var r in t)Rd(e,r,{get:t[r],enumerable:!0})},VJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HJ(t))!$J.call(e,o)&&o!==r&&Rd(e,o,{get:()=>t[o],enumerable:!(n=jJ(t,o))||n.enumerable});return e},GJ=e=>VJ(Rd({},"__esModule",{value:!0}),e),vI={};zJ(vI,{calculateBodyLength:()=>WJ});bI.exports=GJ(vI);var SI=typeof TextEncoder=="function"?new TextEncoder:null,WJ=qJ(e=>{if(typeof e=="string"){if(SI)return SI.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var qe,rn=y(()=>{d();qe=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function wI(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Ne(n,"bigDecimal"):BigInt(n)}return t}var TI=y(()=>{d();gt()});var xI=b((QOe,II)=>{d();var Od=Object.defineProperty,KJ=Object.getOwnPropertyDescriptor,JJ=Object.getOwnPropertyNames,YJ=Object.prototype.hasOwnProperty,_t=(e,t)=>Od(e,"name",{value:t,configurable:!0}),XJ=(e,t)=>{for(var r in t)Od(e,r,{get:t[r],enumerable:!0})},QJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JJ(t))!YJ.call(e,o)&&o!==r&&Od(e,o,{get:()=>t[o],enumerable:!(n=KJ(t,o))||n.enumerable});return e},ZJ=e=>QJ(Od({},"__esModule",{value:!0}),e),AI={};XJ(AI,{constructStack:()=>ug});II.exports=ZJ(AI);var Xn=_t((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),nn=_t((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),ug=_t(()=>{let e=[],t=[],r=!1,n=new Set,o=_t(f=>f.sort((h,g)=>CI[g.step]-CI[h.step]||PI[g.priority||"normal"]-PI[h.priority||"normal"]),"sort"),s=_t(f=>{let h=!1,g=_t(_=>{let E=Xn(_.name,_.aliases);if(E.includes(f)){h=!0;for(let S of E)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=_t(f=>{let h=!1,g=_t(_=>{if(_.middleware===f){h=!0;for(let E of Xn(_.name,_.aliases))n.delete(E);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=_t(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(p.identifyOnResolve()),f),"cloneTo"),c=_t(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=_t((f=!1)=>{let h=[],g=[],_={};return e.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Xn(v.name,v.aliases))_[w]=v;h.push(v)}),t.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Xn(v.name,v.aliases))_[w]=v;g.push(v)}),g.forEach(S=>{if(S.toMiddleware){let v=_[S.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${nn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&v.after.push(S),S.relation==="before"&&v.before.push(S)}}),o(h).map(c).reduce((S,v)=>(S.push(...v),S),[])},"getMiddlewareList"),p={add:(f,h={})=>{let{name:g,override:_,aliases:E}=h,S={step:"initialize",priority:"normal",middleware:f,...h},v=Xn(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${nn(g,E)}'`);for(let w of v){let I=e.findIndex(C=>C.name===w||C.aliases?.some(M=>M===w));if(I===-1)continue;let A=e[I];if(A.step!==S.step||S.priority!==A.priority)throw new Error(`"${nn(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${nn(g,E)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(I,1)}}for(let w of v)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:E}=h,S={middleware:f,...h},v=Xn(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${nn(g,E)}'`);for(let w of v){let I=t.findIndex(C=>C.name===w||C.aliases?.some(M=>M===w));if(I===-1)continue;let A=t[I];if(A.toMiddleware!==S.toMiddleware||A.relation!==S.relation)throw new Error(`"${nn(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${nn(g,E)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(I,1)}}for(let w of v)n.add(w)}t.push(S)},clone:()=>a(ug()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=_t(_=>{let{tags:E,name:S,aliases:v}=_;if(E&&E.includes(f)){let w=Xn(S,v);for(let I of w)n.delete(I);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=a(ug());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return nn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of l().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(p.identify()),f}};return p},"constructStack"),CI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},PI={high:3,normal:2,low:1}});var Me=b((e0e,_g)=>{d();var Nd=Object.defineProperty,eY=Object.getOwnPropertyDescriptor,tY=Object.getOwnPropertyNames,rY=Object.prototype.hasOwnProperty,Z=(e,t)=>Nd(e,"name",{value:t,configurable:!0}),nY=(e,t)=>{for(var r in t)Nd(e,r,{get:t[r],enumerable:!0})},mg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tY(t))!rY.call(e,o)&&o!==r&&Nd(e,o,{get:()=>t[o],enumerable:!(n=eY(t,o))||n.enumerable});return e},oY=(e,t,r)=>(mg(e,t,"default"),r&&mg(r,t,"default")),sY=e=>mg(Nd({},"__esModule",{value:!0}),e),gg={};nY(gg,{Client:()=>iY,Command:()=>NI,NoOpLogger:()=>wY,SENSITIVE_STRING:()=>cY,ServiceException:()=>lY,_json:()=>hg,collectBody:()=>pg.collectBody,convertMap:()=>TY,createAggregatedClient:()=>dY,decorateServiceException:()=>DI,emitWarningIfUnsupportedVersion:()=>fY,extendedEncodeURIComponent:()=>pg.extendedEncodeURIComponent,getArrayIfSingleItem:()=>vY,getDefaultClientConfiguration:()=>EY,getDefaultExtensionConfiguration:()=>kI,getValueFromTextNode:()=>LI,isSerializableHeaderValue:()=>bY,loadConfigsForDefaultMode:()=>mY,map:()=>yg,resolveDefaultRuntimeConfig:()=>SY,resolvedPath:()=>pg.resolvedPath,serializeDateTime:()=>RY,serializeFloat:()=>xY,take:()=>CY,throwDefaultError:()=>MI,withBaseException:()=>uY});_g.exports=sY(gg);var OI=xI(),iY=class{constructor(e){this.config=e,this.middlewareStack=(0,OI.constructStack)()}static{Z(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},pg=(Ar(),z(PP)),fg=zt(),NI=class{constructor(){this.middlewareStack=(0,OI.constructStack)()}static{Z(this,"Command")}static classBuilder(){return new aY}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:p}){for(let E of n.bind(this)(p,e,t,r))this.middlewareStack.use(E);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[fg.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:_}=t;return f.resolve(E=>_.handle(E.request,r||{}),g)}},aY=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{Z(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends NI{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{Z(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},cY="***SensitiveInformation***",dY=Z((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=Z(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),lY=class hi extends Error{static{Z(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return hi.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===hi?hi.isInstance(t):hi.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},DI=Z((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),MI=Z(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=pY(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw DI(i,t)},"throwDefaultError"),uY=Z(e=>({output:t,parsedBody:r,errorCode:n})=>{MI({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),pY=Z(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),mY=Z(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),RI=!1,fY=Z(e=>{e&&!RI&&parseInt(e.substring(1,e.indexOf(".")))<16&&(RI=!0)},"emitWarningIfUnsupportedVersion"),hY=Z(e=>{let t=[];for(let r in fg.AlgorithmId){let n=fg.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),gY=Z(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),yY=Z(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),_Y=Z(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),kI=Z(e=>Object.assign(hY(e),yY(e)),"getDefaultExtensionConfiguration"),EY=kI,SY=Z(e=>Object.assign(gY(e),_Y(e)),"resolveDefaultRuntimeConfig"),vY=Z(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),LI=Z(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=LI(e[r]));return e},"getValueFromTextNode"),bY=Z(e=>e!=null,"isSerializableHeaderValue"),wY=class{static{Z(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function yg(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,PY(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}UI(n,null,s,i)}return n}Z(yg,"map");var TY=Z(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),CY=Z((e,t)=>{let r={};for(let n in t)UI(r,e,t,n);return r},"take"),PY=Z((e,t,r)=>yg(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),UI=Z((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=AY,c=IY,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),AY=Z(e=>e!=null,"nonNullish"),IY=Z(e=>e,"pass"),xY=Z(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),RY=Z(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),hg=Z(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(hg);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=hg(e[r]));return t}return e},"_json");oY(gg,(gt(),z(hP)),_g.exports)});var FI,Dd,Eg=y(()=>{d();FI=T(Me()),Dd=(e,t)=>(0,FI.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var Md,OY,gi,yi=y(()=>{d();Eg();Md=(e,t)=>Dd(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),OY=async(e,t)=>{let r=await Md(e,t);return r.message=r.message??r.Message,r},gi=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var BI,_i,Sg=y(()=>{d();Ie();gt();BI=T(ct());rn();TI();yi();_i=class extends qe{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,wI):await Md(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=$.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(c||p!=null)&&(a[l]=this._read(i,p));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,p=this._read(c,r[l]);p!=null&&(i[a]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,BI.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ke.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===R.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case R.TIMESTAMP_DATE_TIME:return ii(r);case R.TIMESTAMP_HTTP_DATE:return ai(r);case R.TIMESTAMP_EPOCH_SECONDS:return ci(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof Ne?r:new Ne(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var jI,kd,HI=y(()=>{d();gt();jI="\u039D",kd=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Ne){let n=`${jI+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${jI+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var Ei,vg=y(()=>{d();Ie();gt();gt();rn();HI();Ei=class extends qe{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=$.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new kd;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=$.of(t);if(s.isListSchema()&&Array.isArray(r)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let p of r)(l||p!=null)&&c.push(this._write(a,p));return c}else if(s.isMapSchema()&&o){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[p,f]of Object.entries(r))(l||f!=null)&&(c[p]=this._write(a,f));return c}else if(s.isStructSchema()&&o){let a={};for(let[c,l]of s.structIterator()){let p=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,r[c],s);f!==void 0&&(a[p]=f)}return a}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===R.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case R.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case R.TIMESTAMP_HTTP_DATE:return si(r);case R.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?Ke.from(r):r}}});var Qn,Ld=y(()=>{d();rn();Sg();vg();Qn=class extends qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ei(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new _i(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var $I,Zn,Ud=y(()=>{d();Ar();Ie();$I=T(fi());Ld();yi();Zn=class extends Vn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new Qn({timestampFormat:{useTrait:!0,default:R.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+$.of(t).getName()}),(Pr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,$I.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=gi(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var bg,qI=y(()=>{d();Ud();bg=class extends Zn{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var wg,zI=y(()=>{d();Ud();wg=class extends Zn{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var VI,Tg,GI=y(()=>{d();Ar();Ie();VI=T(fi());Ld();yi();Tg=class extends zn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:R.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Qn(r),this.serializer=new Jn(this.codec.createSerializer(),r),this.deserializer=new Kn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=$.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,VI.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=gi(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var WI,NY,KI=y(()=>{d();WI=T(Me()),NY=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,WI.expectUnion)(e)}});function Fd(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function YI(e){return typeof e<"u"}var JI,DY,MY,kY,Si,Bd=y(()=>{"use strict";d();JI=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",DY=JI+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",MY="["+JI+"]["+DY+"]*",kY=new RegExp("^"+MY+"$");Si=function(e){let t=kY.exec(e);return!(t===null||typeof t>"u")}});function tx(e,t){t=Object.assign({},LY,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=QI(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=ZI(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!zY(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",ye("InvalidTag",f,Ye(e,s))}let l=BY(e,s);if(l===!1)return ye("InvalidAttr","Attributes for '"+c+"' have open quote.",Ye(e,s));let p=l.value;if(s=l.index,p[p.length-1]==="/"){let f=s-p.length;p=p.substring(0,p.length-1);let h=ex(p,t);if(h===!0)n=!0;else return ye(h.err.code,h.err.msg,Ye(e,f+h.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return ye("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ye(e,i));if(r.length===0)return ye("InvalidTag","Closing tag '"+c+"' has not been opened.",Ye(e,i));{let f=r.pop();if(c!==f.tagName){let h=Ye(e,f.tagStartPos);return ye("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Ye(e,i))}r.length==0&&(o=!0)}}else return ye("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ye(e,s));else{let f=ex(p,t);if(f!==!0)return ye(f.err.code,f.err.msg,Ye(e,s-p.length+f.err.line));if(o===!0)return ye("InvalidXml","Multiple possible root nodes found.",Ye(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=ZI(e,s);continue}else if(e[s+1]==="?"){if(s=QI(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=$Y(e,s);if(f==-1)return ye("InvalidChar","char '&' is not expected.",Ye(e,s));s=f}else if(o===!0&&!XI(e[s]))return ye("InvalidXml","Extra text at the end",Ye(e,s));e[s]==="<"&&s--}}else{if(XI(e[s]))continue;return ye("InvalidChar","char '"+e[s]+"' is not expected.",Ye(e,s))}if(n){if(r.length==1)return ye("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ye(e,r[0].tagStartPos));if(r.length>0)return ye("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ye("InvalidXml","Start tag expected.",1);return!0}function XI(e){return e===" "||e==="	"||e===`
`||e==="\r"}function QI(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ye("InvalidXml","XML declaration allowed only at the start of the document.",Ye(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function ZI(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function BY(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===UY||e[t]===FY)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function ex(e,t){let r=Fd(e,jY),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ye("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",vi(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ye("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",vi(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ye("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",vi(r[o]));let s=r[o][2];if(!qY(s))return ye("InvalidAttr","Attribute '"+s+"' is an invalid name.",vi(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ye("InvalidAttr","Attribute '"+s+"' is repeated.",vi(r[o]))}return!0}function HY(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function $Y(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,HY(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ye(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function qY(e){return Si(e)}function zY(e){return Si(e)}function Ye(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function vi(e){return e.startIndex+e[1].length}var LY,UY,FY,jY,rx=y(()=>{"use strict";d();Bd();LY={allowBooleanAttributes:!1,unpairedTags:[]};UY='"',FY="'";jY=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var VY,nx,ox=y(()=>{d();VY={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},nx=function(e){return Object.assign({},VY,e)}});var jd,dt,Hd=y(()=>{"use strict";d();typeof Symbol!="function"?jd="@@xmlMetadata":jd=Symbol("XML Node Metadata");dt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][jd]={startIndex:r})}static getMetaDataSymbol(){return jd}}});function Cg(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&eo(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=GY(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&eo(e,"!ELEMENT",t)){t+=8;let{index:a}=KY(e,t+1);t=a}else if(o&&eo(e,"!ATTLIST",t))t+=8;else if(o&&eo(e,"!NOTATION",t)){t+=9;let{index:a}=WY(e,t+1);t=a}else if(eo(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function GY(e,t){t=on(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Pg(r),t=on(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=$d(e,t,"entity"),t--,[r,n,t]}function WY(e,t){t=on(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Pg(r),t=on(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=on(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=$d(e,t,"publicIdentifier"),t=on(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=$d(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=$d(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function $d(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function KY(e,t){t=on(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Pg(r))throw new Error(`Invalid element name: "${r}"`);t=on(e,t);let n="";if(e[t]==="E"&&eo(e,"MPTY",t))t+=4;else if(e[t]==="A"&&eo(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function eo(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Pg(e){if(Si(e))return e;throw new Error(`Invalid entity name ${e}`)}var on,sx=y(()=>{d();Bd();on=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Ag(e,t={}){if(t=Object.assign({},XY,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&JY.test(r))return t5(r,16);if(r.search(/.+[eE].+/)!==-1)return ZY(e,r,t);{let n=YY.exec(r);if(n){let o=n[1]||"",s=n[2],i=e5(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let p=s?i:r;return s?p===l||o+p===l?c:e:p===l||p===o+l?c:e}}else return e}}function ZY(e,t,r){if(!r.eNotation)return e;let n=t.match(QY);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function e5(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function t5(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var JY,YY,XY,QY,ix=y(()=>{d();JY=/^[-+]?0x[a-fA-F0-9]+$/,YY=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,XY={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};QY=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Ig(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var ax=y(()=>{d()});function r5(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function n5(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Rg(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Rg(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function o5(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function i5(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Fd(e,s5),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?s[l]=c:typeof p!=typeof c||p!==c?s[l]=p:s[l]=Rg(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function c5(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function l5(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function u5(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function p5(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function to(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function xg(e,t,r,n=">"){let o=p5(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let p=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:p}}function m5(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=to(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=to(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=to(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=to(e,"]]>",r,"StopNode is not closed.")-2;else{let s=xg(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Rg(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Ag(e,r)}else return YI(e)?e:""}var bi,s5,a5,d5,cx=y(()=>{"use strict";d();Bd();Hd();sx();ix();ax();bi=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=r5,this.parseXml=a5,this.parseTextData=n5,this.resolveNameSpace=o5,this.buildAttributesMap=i5,this.isItStopNode=u5,this.replaceEntitiesValue=d5,this.readStopNodeData=m5,this.saveTextToParentTag=l5,this.addChild=c5,this.ignoreAttributesFn=Ig(this.options.ignoreAttributes)}};s5=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");a5=function(e){e=e.replace(/\r\n?/g,`
`);let t=new dt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=to(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=xg(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new dt(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=to(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=Cg(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=to(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=xg(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,p=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let v=this.readStopNodeData(e,l,h+1);if(!v)throw new Error(`Unexpected end of ${l}`);s=v.i,E=v.tagContent}let S=new dt(c);c!==p&&f&&(S[":@"]=this.buildAttributesMap(p,o,c)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,E),this.addChild(r,S,o,_)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new dt(c);c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),o=o.substr(0,o.lastIndexOf("."))}else{let E=new dt(c);this.tagsNodeStack.push(r),c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),r=E}n="",s=h}}else n+=e[s];return t.child};d5=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Ng(e,t){return dx(e,t)}function dx(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=f5(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=dx(i[a],t,c),p=g5(l,t);i[Og]!==void 0&&(l[Og]=i[Og]),i[":@"]?h5(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function f5(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function h5(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function g5(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var Og,lx=y(()=>{"use strict";d();Hd();Og=dt.getMetaDataSymbol()});var sn,ux=y(()=>{d();ox();cx();lx();rx();Hd();sn=class{constructor(t){this.externalEntities={},this.options=nx(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=tx(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new bi(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Ng(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return dt.getMetaDataSymbol()}}});var Dg=y(()=>{"use strict";d();ux()});var px,mx,ro,qd=y(()=>{d();Ar();Ie();px=T(Me()),mx=T(Ge());Dg();rn();ro=class extends qe{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Wn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=$.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(s)[0];return s[p].isBlobSchema()?l[p]=r:l[p]=this.read(s[p],r),l}let a=(this.serdeContext?.utf8Encoder??mx.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=$.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],p=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of p){let _=g[f],E=g[h];(E!=null||s)&&(a[_]=this.readSchema(l,E))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new sn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,px.getValueFromTextNode)(i)}return{}}}});var fx,hx,zd,gx=y(()=>{d();Ar();Ie();gt();fx=T(Me()),hx=T(ct());rn();zd=class extends qe{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=$.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??hx.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Ne?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Gn(o,this.settings)){case R.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case R.TIMESTAMP_HTTP_DATE:this.writeValue((0,fx.dateToUtcString)(r));break;case R.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,p),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,h),this.write(i,p,_),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Yt(t)}=`}writeValue(t){this.buffer+=Yt(t)}}});var yx,wi,Mg=y(()=>{d();Ar();Ie();yx=T(fi());qd();gx();wi=class extends Vn{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:R.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new zd(r),this.deserializer=new ro(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Pr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,yx.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let p=await ht(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(R.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let f=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=f}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await ht(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),p=We.for(a),f;try{f=p.find(S=>$.of(S).getMergedTraits().awsQueryError?.[0]===c),f||(f=p.getSchema(i))}catch{let v=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(v){let w=v.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let h=$.of(f),g=this.loadQueryErrorMessage(o),_=new f.ctor(g),E={};for(let[S,v]of h.structIterator()){let w=v.getMergedTraits().xmlName??S,I=l[w]??o[w];E[S]=this.deserializer.readSchema(v,I)}throw Object.assign(_,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,...E}),_}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var kg,_x=y(()=>{d();Mg();kg=class extends wi{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Ex,Sx,y5,Lg,Ug=y(()=>{d();Ex=T(Me());Dg();Eg();Sx=(e,t)=>Dd(e,t).then(r=>{if(r.length){let n=new sn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,Ex.getValueFromTextNode)(a)}return{}}),y5=async(e,t)=>{let r=await Sx(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Lg=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Fg=b((aDe,Cx)=>{"use strict";d();var Gd=Object.defineProperty,_5=Object.getOwnPropertyDescriptor,E5=Object.getOwnPropertyNames,S5=Object.prototype.hasOwnProperty,Wd=(e,t)=>Gd(e,"name",{value:t,configurable:!0}),v5=(e,t)=>{for(var r in t)Gd(e,r,{get:t[r],enumerable:!0})},b5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E5(t))!S5.call(e,o)&&o!==r&&Gd(e,o,{get:()=>t[o],enumerable:!(n=_5(t,o))||n.enumerable});return e},w5=e=>b5(Gd({},"__esModule",{value:!0}),e),vx={};v5(vx,{XmlNode:()=>T5,XmlText:()=>Tx});Cx.exports=w5(vx);function bx(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Wd(bx,"escapeAttribute");function wx(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Wd(wx,"escapeElement");var Tx=class{constructor(e){this.value=e}static{Wd(this,"XmlText")}toString(){return wx(""+this.value)}},T5=class Vd{constructor(t,r=[]){this.name=t,this.children=r}static{Wd(this,"XmlNode")}attributes={};static of(t,r,n){let o=new Vd(t);return r!==void 0&&o.addChildNode(new Tx(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=Vd.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new Vd(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${bx(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var Et,Bg,Kd,Ti,jg=y(()=>{d();Et=T(Fg());Ie();gt();Bg=T(Me()),Kd=T(ct());rn();Ti=class extends qe{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=$.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Kd.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Et.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,c);else if(p.isMapSchema())this.writeMap(p,f,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,c));else{let h=Et.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,h,c),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,o),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let E=this.writeStruct(i,_,f);g.addChildNode(E.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let E=Et.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,E,f),g.addChildNode(E)}};if(l)for(let g of r)(c||g!=null)&&h(n,g);else{let g=Et.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(p,f);for(let _ of r)(c||_!=null)&&h(g,_);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[E,S]=this.getXmlnsAttribute(t,o),v=(w,I,A)=>{let C=Et.XmlNode.of(l,I),[M,Re]=this.getXmlnsAttribute(a,S);Re&&C.addAttribute(M,Re),w.addChildNode(C);let se=Et.XmlNode.of(h);p.isListSchema()?this.writeList(p,A,se,S):p.isMapSchema()?this.writeMap(p,A,se,S,!0):p.isStructSchema()?se=this.writeStruct(p,A,S):this.writeSimpleInto(p,A,se,S),w.addChildNode(se)};if(_){for(let[w,I]of Object.entries(r))if(g||I!=null){let A=Et.XmlNode.of(i.xmlName??t.getMemberName());v(A,w,I),n.addChildNode(A)}}else{let w;s||(w=Et.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(E,S),n.addChildNode(w));for(let[I,A]of Object.entries(r))if(g||A!=null){let C=Et.XmlNode.of("entry");v(C,I,A),(s?n:w).addChildNode(C)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=$.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Kd.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===R.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case R.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case R.TIMESTAMP_HTTP_DATE:o=(0,Bg.dateToUtcString)(r);break;case R.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Bg.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Ne?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=$.of(t),a=new Et.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Ci,Hg=y(()=>{d();rn();qd();jg();Ci=class extends qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ti(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ro(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Px,$g,Ax=y(()=>{d();Ar();Ie();Px=T(fi());Ug();Hg();$g=class extends zn{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:R.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Ci(r),this.serializer=new Jn(this.codec.createSerializer(),r),this.deserializer=new Kn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=$.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,Px.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=Lg(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().xmlName??E,w=o.Error?.[v]??o[v];_[E]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var Ix=y(()=>{d();EI();qI();zI();Ud();GI();Ld();Sg();vg();KI();yi();_x();Mg();Ax();Hg();qd();jg();Ug()});var er={};$e(er,{AWSSDKSigV4Signer:()=>Kh,AwsEc2QueryProtocol:()=>kg,AwsJson1_0Protocol:()=>bg,AwsJson1_1Protocol:()=>wg,AwsJsonRpcProtocol:()=>Zn,AwsQueryProtocol:()=>wi,AwsRestJsonProtocol:()=>Tg,AwsRestXmlProtocol:()=>$g,AwsSdkSigV4ASigner:()=>mi,AwsSdkSigV4Signer:()=>en,JsonCodec:()=>Qn,JsonShapeDeserializer:()=>_i,JsonShapeSerializer:()=>Ei,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>RA,NODE_SIGV4A_CONFIG_OPTIONS:()=>FA,XmlCodec:()=>Ci,XmlShapeDeserializer:()=>ro,XmlShapeSerializer:()=>Ti,_toBool:()=>FJ,_toNum:()=>BJ,_toStr:()=>UJ,awsExpectUnion:()=>NY,emitWarningIfUnsupportedVersion:()=>pA,getBearerTokenEnvKey:()=>Sd,loadRestJsonErrorCode:()=>gi,loadRestXmlErrorCode:()=>Lg,parseJsonBody:()=>Md,parseJsonErrorBody:()=>OY,parseXmlBody:()=>Sx,parseXmlErrorBody:()=>y5,resolveAWSSDKSigV4Config:()=>hI,resolveAwsSdkSigV4AConfig:()=>UA,resolveAwsSdkSigV4Config:()=>dg,setCredentialFeature:()=>Ed,setFeature:()=>hA,setTokenFeature:()=>yA,state:()=>_d,validateSigningProperties:()=>Vo});var tr=y(()=>{d();Zt();lg();Ix()});var Xd=b((JDe,jx)=>{"use strict";d();var Yd=Object.defineProperty,C5=Object.getOwnPropertyDescriptor,P5=Object.getOwnPropertyNames,A5=Object.prototype.hasOwnProperty,xr=(e,t)=>Yd(e,"name",{value:t,configurable:!0}),I5=(e,t)=>{for(var r in t)Yd(e,r,{get:t[r],enumerable:!0})},x5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P5(t))!A5.call(e,o)&&o!==r&&Yd(e,o,{get:()=>t[o],enumerable:!(n=C5(t,o))||n.enumerable});return e},R5=e=>x5(Yd({},"__esModule",{value:!0}),e),Nx={};I5(Nx,{DEFAULT_UA_APP_ID:()=>Dx,getUserAgentMiddlewareOptions:()=>Bx,getUserAgentPlugin:()=>F5,resolveUserAgentConfig:()=>kx,userAgentMiddleware:()=>Fx});jx.exports=R5(Nx);var O5=(rt(),z(yt)),Dx=void 0;function Mx(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}xr(Mx,"isValidUserAgentAppId");function kx(e){let t=(0,O5.normalizeProvider)(e.userAgentAppId??Dx),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:xr(async()=>{let n=await t();if(!Mx(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}xr(kx,"resolveUserAgentConfig");var N5=yd(),D5=me(),rr=(tr(),z(er)),M5=/\d{12}\.ddb/;async function Lx(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,rr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,rr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,rr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,rr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(M5)&&(0,rr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,rr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,rr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,rr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,rr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,rr.setFeature)(e,i,a)}}xr(Lx,"checkFeatures");var xx="user-agent",qg="x-amz-user-agent",Rx=" ",zg="/",k5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,L5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Ox="-",U5=1024;function Ux(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=U5){t.length?t+=","+n:t+=n;continue}break}return t}xr(Ux,"encodeFeatures");var Fx=xr(e=>(t,r)=>async n=>{let{request:o}=n;if(!D5.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Jd)||[],a=(await e.defaultUserAgentProvider()).map(Jd);await Lx(r,e,n);let c=r;a.push(`m/${Ux(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Jd)||[],p=await e.userAgentAppId();p&&a.push(Jd([`app/${p}`]));let f=(0,N5.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...a,...i,...l]).join(Rx),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...l].join(Rx);return e.runtime!=="browser"?(g&&(s[qg]=s[qg]?`${s[xx]} ${g}`:g),s[xx]=h):s[qg]=h,t({...n,request:o})},"userAgentMiddleware"),Jd=xr(e=>{let t=e[0].split(zg).map(i=>i.replace(k5,Ox)).join(zg),r=e[1]?.replace(L5,Ox),n=t.indexOf(zg),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),Bx={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},F5=xr(e=>({applyToStack:xr(t=>{t.add(Fx(e),Bx)},"applyToStack")}),"getUserAgentPlugin")});var Vx=b((XDe,zx)=>{d();var Qd=Object.defineProperty,B5=Object.getOwnPropertyDescriptor,j5=Object.getOwnPropertyNames,H5=Object.prototype.hasOwnProperty,Hx=(e,t)=>Qd(e,"name",{value:t,configurable:!0}),$5=(e,t)=>{for(var r in t)Qd(e,r,{get:t[r],enumerable:!0})},q5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j5(t))!H5.call(e,o)&&o!==r&&Qd(e,o,{get:()=>t[o],enumerable:!(n=B5(t,o))||n.enumerable});return e},z5=e=>q5(Qd({},"__esModule",{value:!0}),e),$x={};$5($x,{SelectorType:()=>qx,booleanSelector:()=>V5,numberSelector:()=>G5});zx.exports=z5($x);var V5=Hx((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),G5=Hx((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),qx=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(qx||{})});var Wo=b((ZDe,rR)=>{d();var el=Object.defineProperty,W5=Object.getOwnPropertyDescriptor,K5=Object.getOwnPropertyNames,J5=Object.prototype.hasOwnProperty,Mt=(e,t)=>el(e,"name",{value:t,configurable:!0}),Y5=(e,t)=>{for(var r in t)el(e,r,{get:t[r],enumerable:!0})},X5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K5(t))!J5.call(e,o)&&o!==r&&el(e,o,{get:()=>t[o],enumerable:!(n=W5(t,o))||n.enumerable});return e},Q5=e=>X5(el({},"__esModule",{value:!0}),e),Kx={};Y5(Kx,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Yx,CONFIG_USE_FIPS_ENDPOINT:()=>Qx,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Z5,DEFAULT_USE_FIPS_ENDPOINT:()=>tX,ENV_USE_DUALSTACK_ENDPOINT:()=>Jx,ENV_USE_FIPS_ENDPOINT:()=>Xx,NODE_REGION_CONFIG_FILE_OPTIONS:()=>aX,NODE_REGION_CONFIG_OPTIONS:()=>iX,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>eX,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>rX,REGION_ENV_NAME:()=>Zx,REGION_INI_NAME:()=>eR,getRegionInfo:()=>pX,resolveCustomEndpointsConfig:()=>nX,resolveEndpointsConfig:()=>sX,resolveRegionConfig:()=>cX});rR.exports=Q5(Kx);var an=Vx(),Jx="AWS_USE_DUALSTACK_ENDPOINT",Yx="use_dualstack_endpoint",Z5=!1,eX={environmentVariableSelector:e=>(0,an.booleanSelector)(e,Jx,an.SelectorType.ENV),configFileSelector:e=>(0,an.booleanSelector)(e,Yx,an.SelectorType.CONFIG),default:!1},Xx="AWS_USE_FIPS_ENDPOINT",Qx="use_fips_endpoint",tX=!1,rX={environmentVariableSelector:e=>(0,an.booleanSelector)(e,Xx,an.SelectorType.ENV),configFileSelector:e=>(0,an.booleanSelector)(e,Qx,an.SelectorType.CONFIG),default:!1},Zd=Vt(),nX=Mt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Zd.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Zd.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),oX=Mt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),sX=Mt(e=>{let t=(0,Zd.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Zd.normalizeProvider)(typeof r=="string"?o(r):r):()=>oX({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),Zx="AWS_REGION",eR="region",iX={environmentVariableSelector:e=>e[Zx],configFileSelector:e=>e[eR],default:()=>{throw new Error("Region is missing")}},aX={preferredFile:"credentials"},tR=Mt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),Gx=Mt(e=>tR(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),cX=Mt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return Gx(t);let n=await t();return Gx(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return tR(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),Wx=Mt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),dX=Mt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),lX=Mt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),uX=Mt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),pX=Mt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=lX(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=Wx(o[a]?.variants,c),p=Wx(s[i]?.variants,c),f=dX(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=uX(f,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var Gg=b((tMe,aR)=>{d();var tl=Object.defineProperty,mX=Object.getOwnPropertyDescriptor,fX=Object.getOwnPropertyNames,hX=Object.prototype.hasOwnProperty,oR=(e,t)=>tl(e,"name",{value:t,configurable:!0}),gX=(e,t)=>{for(var r in t)tl(e,r,{get:t[r],enumerable:!0})},yX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fX(t))!hX.call(e,o)&&o!==r&&tl(e,o,{get:()=>t[o],enumerable:!(n=mX(t,o))||n.enumerable});return e},_X=e=>yX(tl({},"__esModule",{value:!0}),e),sR={};gX(sR,{contentLengthMiddleware:()=>Vg,contentLengthMiddlewareOptions:()=>iR,getContentLengthPlugin:()=>SX});aR.exports=_X(sR);var EX=me(),nR="content-length";function Vg(e){return t=>async r=>{let n=r.request;if(EX.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(nR)===-1)try{let i=e(o);n.headers={...n.headers,[nR]:String(i)}}catch{}}return t({...r,request:n})}}oR(Vg,"contentLengthMiddleware");var iR={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},SX=oR(e=>({applyToStack:t=>{t.add(Vg(e.bodyLengthChecker),iR)}}),"getContentLengthPlugin")});import vX from"crypto";function Pi(){return rl>nl.length-16&&(vX.randomFillSync(nl),rl=0),nl.slice(rl,rl+=16)}var nl,rl,Wg=y(()=>{d();nl=new Uint8Array(256),rl=nl.length});var cR,dR=y(()=>{d();cR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function bX(e){return typeof e=="string"&&cR.test(e)}var cn,Ai=y(()=>{d();dR();cn=bX});function no(e,t=0){return ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]}function wX(e,t=0){let r=no(e,t);if(!cn(r))throw TypeError("Stringified UUID is invalid");return r}var ke,lR,Ii=y(()=>{d();Ai();ke=[];for(let e=0;e<256;++e)ke.push((e+256).toString(16).slice(1));lR=wX});function TX(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||uR,i=e.clockseq!==void 0?e.clockseq:Kg;if(s==null||i==null){let h=e.random||(e.rng||Pi)();s==null&&(s=uR=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=Kg=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Yg+1,l=a-Jg+(c-Yg)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>Jg)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Jg=a,Yg=c,Kg=i,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||no(o)}var uR,Kg,Jg,Yg,pR,mR=y(()=>{d();Wg();Ii();Jg=0,Yg=0;pR=TX});function CX(e){if(!cn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var ol,Xg=y(()=>{d();Ai();ol=CX});function PX(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function xi(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=PX(o)),typeof s=="string"&&(s=ol(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let p=0;p<16;++p)i[a+p]=l[p];return i}return no(l)}try{n.name=e}catch{}return n.DNS=AX,n.URL=IX,n}var AX,IX,Qg=y(()=>{d();Ii();Xg();AX="6ba7b810-9dad-11d1-80b4-00c04fd430c8",IX="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import xX from"crypto";function RX(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),xX.createHash("md5").update(e).digest()}var fR,hR=y(()=>{d();fR=RX});var OX,gR,yR=y(()=>{d();Qg();hR();OX=xi("v3",48,fR),gR=OX});import NX from"crypto";var Zg,_R=y(()=>{d();Zg={randomUUID:NX.randomUUID}});function DX(e,t,r){if(Zg.randomUUID&&!t&&!e)return Zg.randomUUID();e=e||{};let n=e.random||(e.rng||Pi)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return no(n)}var ER,SR=y(()=>{d();_R();Wg();Ii();ER=DX});import MX from"crypto";function kX(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),MX.createHash("sha1").update(e).digest()}var vR,bR=y(()=>{d();vR=kX});var LX,wR,TR=y(()=>{d();Qg();bR();LX=xi("v5",80,vR),wR=LX});var CR,PR=y(()=>{d();CR="00000000-0000-0000-0000-000000000000"});function UX(e){if(!cn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var AR,IR=y(()=>{d();Ai();AR=UX});var ey={};$e(ey,{NIL:()=>CR,parse:()=>ol,stringify:()=>lR,v1:()=>pR,v3:()=>gR,v4:()=>ER,v5:()=>wR,validate:()=>cn,version:()=>AR});var ty=y(()=>{d();mR();yR();SR();TR();PR();IR();Ai();Ii();Xg()});var ny=b((cke,NR)=>{d();var sl=Object.defineProperty,FX=Object.getOwnPropertyDescriptor,BX=Object.getOwnPropertyNames,jX=Object.prototype.hasOwnProperty,oo=(e,t)=>sl(e,"name",{value:t,configurable:!0}),HX=(e,t)=>{for(var r in t)sl(e,r,{get:t[r],enumerable:!0})},$X=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BX(t))!jX.call(e,o)&&o!==r&&sl(e,o,{get:()=>t[o],enumerable:!(n=FX(t,o))||n.enumerable});return e},qX=e=>$X(sl({},"__esModule",{value:!0}),e),xR={};HX(xR,{isBrowserNetworkError:()=>OR,isClockSkewCorrectedError:()=>RR,isClockSkewError:()=>XX,isRetryableByTrait:()=>YX,isServerError:()=>ZX,isThrottlingError:()=>QX,isTransientError:()=>ry});NR.exports=qX(xR);var zX=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],VX=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],GX=["TimeoutError","RequestTimeout","RequestTimeoutException"],WX=[500,502,503,504],KX=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],JX=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],YX=oo(e=>e.$retryable!==void 0,"isRetryableByTrait"),XX=oo(e=>zX.includes(e.name),"isClockSkewError"),RR=oo(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),OR=oo(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),QX=oo(e=>e.$metadata?.httpStatusCode===429||VX.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),ry=oo((e,t=0)=>RR(e)||GX.includes(e.name)||KX.includes(e?.code||"")||JX.includes(e?.code||"")||WX.includes(e.$metadata?.httpStatusCode||0)||OR(e)||e.cause!==void 0&&t<=10&&ry(e.cause,t+1),"isTransientError"),ZX=oo(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!ry(e)}return!1},"isServerError")});var al=b((lke,$R)=>{d();var il=Object.defineProperty,eQ=Object.getOwnPropertyDescriptor,tQ=Object.getOwnPropertyNames,rQ=Object.prototype.hasOwnProperty,kt=(e,t)=>il(e,"name",{value:t,configurable:!0}),nQ=(e,t)=>{for(var r in t)il(e,r,{get:t[r],enumerable:!0})},oQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tQ(t))!rQ.call(e,o)&&o!==r&&il(e,o,{get:()=>t[o],enumerable:!(n=eQ(t,o))||n.enumerable});return e},sQ=e=>oQ(il({},"__esModule",{value:!0}),e),MR={};nQ(MR,{AdaptiveRetryStrategy:()=>uQ,ConfiguredRetryStrategy:()=>pQ,DEFAULT_MAX_ATTEMPTS:()=>oy,DEFAULT_RETRY_DELAY_BASE:()=>Ri,DEFAULT_RETRY_MODE:()=>iQ,DefaultRateLimiter:()=>LR,INITIAL_RETRY_TOKENS:()=>sy,INVOCATION_ID_HEADER:()=>cQ,MAXIMUM_RETRY_DELAY:()=>iy,NO_RETRY_INCREMENT:()=>HR,REQUEST_HEADER:()=>dQ,RETRY_COST:()=>BR,RETRY_MODES:()=>kR,StandardRetryStrategy:()=>ay,THROTTLING_RETRY_DELAY_BASE:()=>FR,TIMEOUT_RETRY_COST:()=>jR});$R.exports=sQ(MR);var kR=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(kR||{}),oy=3,iQ="standard",aQ=ny(),LR=class UR{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{kt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>UR.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,aQ.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ri=100,iy=20*1e3,FR=500,sy=500,BR=5,jR=10,HR=1,cQ="amz-sdk-invocation-id",dQ="amz-sdk-request",lQ=kt(()=>{let e=Ri;return{computeNextBackoffDelay:kt(n=>Math.floor(Math.min(iy,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:kt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),DR=kt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:kt(()=>t,"getRetryCount"),getRetryDelay:kt(()=>Math.min(iy,e),"getRetryDelay"),getRetryCost:kt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),ay=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=sy,this.retryBackoffStrategy=lQ(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{kt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return DR({retryDelay:Ri,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?FR:Ri);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,DR({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(sy,this.capacity+(e.getRetryCost()??HR))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${oy}`),oy}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?jR:BR}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},uQ=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new LR,this.standardRetryStrategy=new ay(e)}static{kt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},pQ=class extends ay{static{kt(this,"ConfiguredRetryStrategy")}constructor(e,t=Ri){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var qR=b(cl=>{"use strict";d();Object.defineProperty(cl,"__esModule",{value:!0});cl.isStreamingPayload=void 0;var mQ=k("stream"),fQ=e=>e?.body instanceof mQ.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;cl.isStreamingPayload=fQ});var Oi=b((yke,oO)=>{d();var dl=Object.defineProperty,hQ=Object.getOwnPropertyDescriptor,gQ=Object.getOwnPropertyNames,yQ=Object.prototype.hasOwnProperty,ve=(e,t)=>dl(e,"name",{value:t,configurable:!0}),_Q=(e,t)=>{for(var r in t)dl(e,r,{get:t[r],enumerable:!0})},EQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gQ(t))!yQ.call(e,o)&&o!==r&&dl(e,o,{get:()=>t[o],enumerable:!(n=hQ(t,o))||n.enumerable});return e},SQ=e=>EQ(dl({},"__esModule",{value:!0}),e),VR={};_Q(VR,{AdaptiveRetryStrategy:()=>wQ,CONFIG_MAX_ATTEMPTS:()=>dy,CONFIG_RETRY_MODE:()=>QR,ENV_MAX_ATTEMPTS:()=>cy,ENV_RETRY_MODE:()=>XR,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>TQ,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>PQ,StandardRetryStrategy:()=>YR,defaultDelayDecider:()=>WR,defaultRetryDecider:()=>KR,getOmitRetryHeadersPlugin:()=>AQ,getRetryAfterHint:()=>nO,getRetryPlugin:()=>DQ,omitRetryHeadersMiddleware:()=>ZR,omitRetryHeadersMiddlewareOptions:()=>eO,resolveRetryConfig:()=>CQ,retryMiddleware:()=>tO,retryMiddlewareOptions:()=>rO});oO.exports=SQ(VR);var Ko=me(),GR=(ty(),z(ey)),fe=al(),vQ=ve((e,t)=>{let r=e,n=t?.noRetryIncrement??fe.NO_RETRY_INCREMENT,o=t?.retryCost??fe.RETRY_COST,s=t?.timeoutRetryCost??fe.TIMEOUT_RETRY_COST,i=e,a=ve(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),c=ve(f=>a(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ve(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:ve(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),WR=ve((e,t)=>Math.floor(Math.min(fe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),dn=ny(),KR=ve(e=>e?(0,dn.isRetryableByTrait)(e)||(0,dn.isClockSkewError)(e)||(0,dn.isThrottlingError)(e)||(0,dn.isTransientError)(e):!1,"defaultRetryDecider"),JR=ve(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),YR=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=fe.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??KR,this.delayDecider=t?.delayDecider??WR,this.retryQuota=t?.retryQuota??vQ(fe.INITIAL_RETRY_TOKENS)}static{ve(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=fe.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(Ko.HttpRequest.isInstance(a)&&(a.headers[fe.INVOCATION_ID_HEADER]=(0,GR.v4)());;)try{Ko.HttpRequest.isInstance(a)&&(a.headers[fe.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=JR(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,dn.isThrottlingError)(l)?fe.THROTTLING_RETRY_DELAY_BASE:fe.DEFAULT_RETRY_DELAY_BASE,o),f=bQ(l.$response),h=Math.max(f||0,p);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},bQ=ve(e=>{if(!Ko.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),wQ=class extends YR{static{ve(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new fe.DefaultRateLimiter,this.mode=fe.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},zR=Vt(),cy="AWS_MAX_ATTEMPTS",dy="max_attempts",TQ={environmentVariableSelector:e=>{let t=e[cy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${cy} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[dy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${dy} mast be a number, got "${t}"`);return r},default:fe.DEFAULT_MAX_ATTEMPTS},CQ=ve(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,zR.normalizeProvider)(n??fe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,zR.normalizeProvider)(r)()===fe.RETRY_MODES.ADAPTIVE?new fe.AdaptiveRetryStrategy(o):new fe.StandardRetryStrategy(o))})},"resolveRetryConfig"),XR="AWS_RETRY_MODE",QR="retry_mode",PQ={environmentVariableSelector:e=>e[XR],configFileSelector:e=>e[QR],default:fe.DEFAULT_RETRY_MODE},ZR=ve(()=>e=>async t=>{let{request:r}=t;return Ko.HttpRequest.isInstance(r)&&(delete r.headers[fe.INVOCATION_ID_HEADER],delete r.headers[fe.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),eO={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},AQ=ve(e=>({applyToStack:t=>{t.addRelativeTo(ZR(),eO)}}),"getOmitRetryHeadersPlugin"),IQ=Me(),xQ=qR(),tO=ve(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(RQ(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:p}=n,f=Ko.HttpRequest.isInstance(p);for(f&&(p.headers[fe.INVOCATION_ID_HEADER]=(0,GR.v4)());;)try{f&&(p.headers[fe.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:h,output:g}}catch(h){let g=OQ(h);if(a=JR(h),f&&(0,xQ.isStreamingPayload)(p))throw(r.logger instanceof IQ.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let _=i.getRetryDelay();l+=_,await new Promise(E=>setTimeout(E,_))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),RQ=ve(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),OQ=ve(e=>{let t={error:e,errorType:NQ(e)},r=nO(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),NQ=ve(e=>(0,dn.isThrottlingError)(e)?"THROTTLING":(0,dn.isTransientError)(e)?"TRANSIENT":(0,dn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),rO={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},DQ=ve(e=>({applyToStack:t=>{t.add(tO(e),rO)}}),"getRetryPlugin"),nO=ve(e=>{if(!Ko.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var uy=b(ln=>{"use strict";d();Object.defineProperty(ln,"__esModule",{value:!0});ln.resolveHttpAuthSchemeConfig=ln.defaultDynamoDBHttpAuthSchemeProvider=ln.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var MQ=(tr(),z(er)),ly=Vt(),kQ=async(e,t,r)=>({operation:(0,ly.getSmithyContext)(t).operation,region:await(0,ly.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});ln.defaultDynamoDBHttpAuthSchemeParametersProvider=kQ;function LQ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var UQ=e=>{let t=[];switch(e.operation){default:t.push(LQ(e))}return t};ln.defaultDynamoDBHttpAuthSchemeProvider=UQ;var FQ=e=>{let t=(0,MQ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,ly.normalizeProvider)(e.authSchemePreference??[])})};ln.resolveHttpAuthSchemeConfig=FQ});var Jo=b(ll=>{"use strict";d();Object.defineProperty(ll,"__esModule",{value:!0});ll.getHomeDir=void 0;var BQ=k("os"),jQ=k("path"),py={},HQ=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",$Q=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${jQ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=HQ();return py[o]||(py[o]=(0,BQ.homedir)()),py[o]};ll.getHomeDir=$Q});var my=b(ul=>{"use strict";d();Object.defineProperty(ul,"__esModule",{value:!0});ul.getSSOTokenFilepath=void 0;var qQ=k("crypto"),zQ=k("path"),VQ=Jo(),GQ=e=>{let r=(0,qQ.createHash)("sha1").update(e).digest("hex");return(0,zQ.join)((0,VQ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ul.getSSOTokenFilepath=GQ});var sO=b(pl=>{"use strict";d();Object.defineProperty(pl,"__esModule",{value:!0});pl.getSSOTokenFromFile=void 0;var WQ=k("fs"),KQ=my(),{readFile:JQ}=WQ.promises,YQ=async e=>{let t=(0,KQ.getSSOTokenFilepath)(e),r=await JQ(t,"utf8");return JSON.parse(r)};pl.getSSOTokenFromFile=YQ});var hy=b(ml=>{"use strict";d();Object.defineProperty(ml,"__esModule",{value:!0});ml.slurpFile=void 0;var XQ=k("fs"),{readFile:QQ}=XQ.promises,fy={},ZQ=(e,t)=>((!fy[e]||t?.ignoreCache)&&(fy[e]=QQ(e,"utf8")),fy[e]);ml.slurpFile=ZQ});var un=b((Oke,Di)=>{d();var gl=Object.defineProperty,e9=Object.getOwnPropertyDescriptor,t9=Object.getOwnPropertyNames,r9=Object.prototype.hasOwnProperty,St=(e,t)=>gl(e,"name",{value:t,configurable:!0}),n9=(e,t)=>{for(var r in t)gl(e,r,{get:t[r],enumerable:!0})},gy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of t9(t))!r9.call(e,o)&&o!==r&&gl(e,o,{get:()=>t[o],enumerable:!(n=e9(t,o))||n.enumerable});return e},_y=(e,t,r)=>(gy(e,t,"default"),r&&gy(r,t,"default")),o9=e=>gy(gl({},"__esModule",{value:!0}),e),Ni={};n9(Ni,{CONFIG_PREFIX_SEPARATOR:()=>so,DEFAULT_PROFILE:()=>dO,ENV_PROFILE:()=>cO,getProfileName:()=>s9,loadSharedConfigFiles:()=>uO,loadSsoSessionData:()=>_9,parseKnownFiles:()=>S9});Di.exports=o9(Ni);_y(Ni,Jo(),Di.exports);var cO="AWS_PROFILE",dO="default",s9=St(e=>e.profile||process.env[cO]||dO,"getProfileName");_y(Ni,my(),Di.exports);_y(Ni,sO(),Di.exports);var fl=zt(),i9=St(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(so);return r===-1?!1:Object.values(fl.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(so),s=r.substring(0,o)===fl.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),hl=k("path"),a9=Jo(),c9="AWS_CONFIG_FILE",lO=St(()=>process.env[c9]||(0,hl.join)((0,a9.getHomeDir)(),".aws","config"),"getConfigFilepath"),d9=Jo(),l9="AWS_SHARED_CREDENTIALS_FILE",u9=St(()=>process.env[l9]||(0,hl.join)((0,d9.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),p9=Jo(),m9=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,f9=["__proto__","profile __proto__"],yy=St(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=m9.exec(a);if(c){let[,l,,p]=c;Object.values(fl.IniSectionType).includes(l)&&(r=[l,p].join(so))}else r=a;if(f9.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(so):c;t[r][p]=l}}}}return t},"parseIni"),iO=hy(),aO=St(()=>({}),"swallowError"),so=".",uO=St(async(e={})=>{let{filepath:t=u9(),configFilepath:r=lO()}=e,n=(0,p9.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,hl.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,hl.join)(n,r.slice(2)));let a=await Promise.all([(0,iO.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(yy).then(i9).catch(aO),(0,iO.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(yy).catch(aO)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),h9=St(e=>Object.entries(e).filter(([t])=>t.startsWith(fl.IniSectionType.SSO_SESSION+so)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(so)+1)]:n}),{}),"getSsoSessionData"),g9=hy(),y9=St(()=>({}),"swallowError"),_9=St(async(e={})=>(0,g9.slurpFile)(e.configFilepath??lO()).then(yy).then(h9).catch(y9),"loadSsoSessionData"),E9=St((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),S9=St(async e=>{let t=await uO(e);return E9(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Xo=b((Dke,fO)=>{d();var yl=Object.defineProperty,v9=Object.getOwnPropertyDescriptor,b9=Object.getOwnPropertyNames,w9=Object.prototype.hasOwnProperty,Yo=(e,t)=>yl(e,"name",{value:t,configurable:!0}),T9=(e,t)=>{for(var r in t)yl(e,r,{get:t[r],enumerable:!0})},C9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b9(t))!w9.call(e,o)&&o!==r&&yl(e,o,{get:()=>t[o],enumerable:!(n=v9(t,o))||n.enumerable});return e},P9=e=>C9(yl({},"__esModule",{value:!0}),e),mO={};T9(mO,{loadConfig:()=>O9});fO.exports=P9(mO);var Mi=Je();function Ey(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Yo(Ey,"getSelectorName");var A9=Yo((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Mi.CredentialsProviderError(r.message||`Not found in ENV: ${Ey(e.toString())}`,{logger:t?.logger})}},"fromEnv"),pO=un(),I9=Yo((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,pO.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,pO.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let p=e(c,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(l){throw new Mi.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${Ey(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),x9=Yo(e=>typeof e=="function","isFunction"),R9=Yo(e=>x9(e)?async()=>await e():(0,Mi.fromStatic)(e),"fromStatic"),O9=Yo(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Mi.memoize)((0,Mi.chain)(A9(e,i),I9(t,n),R9(r)))},"loadConfig")});var _O=b(_l=>{"use strict";d();Object.defineProperty(_l,"__esModule",{value:!0});_l.getEndpointUrlConfig=void 0;var hO=un(),gO="AWS_ENDPOINT_URL",yO="endpoint_url",N9=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[gO,...r].join("_")];if(n)return n;let o=t[gO];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(hO.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),yO].join(hO.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[yO];if(n)return n},default:void 0});_l.getEndpointUrlConfig=N9});var Sy=b(El=>{"use strict";d();Object.defineProperty(El,"__esModule",{value:!0});El.getEndpointFromConfig=void 0;var D9=Xo(),M9=_O(),k9=async e=>(0,D9.loadConfig)((0,M9.getEndpointUrlConfig)(e??""))();El.getEndpointFromConfig=k9});var by=b((Bke,CO)=>{d();var vl=Object.defineProperty,L9=Object.getOwnPropertyDescriptor,U9=Object.getOwnPropertyNames,F9=Object.prototype.hasOwnProperty,vt=(e,t)=>vl(e,"name",{value:t,configurable:!0}),B9=(e,t)=>{for(var r in t)vl(e,r,{get:t[r],enumerable:!0})},j9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U9(t))!F9.call(e,o)&&o!==r&&vl(e,o,{get:()=>t[o],enumerable:!(n=L9(t,o))||n.enumerable});return e},H9=e=>j9(vl({},"__esModule",{value:!0}),e),SO={};B9(SO,{endpointMiddleware:()=>wO,endpointMiddlewareOptions:()=>TO,getEndpointFromInstructions:()=>vO,getEndpointPlugin:()=>Q9,resolveEndpointConfig:()=>e7,resolveEndpointRequiredConfig:()=>t7,resolveParams:()=>bO,toEndpointV1:()=>vy});CO.exports=H9(SO);var $9=vt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),W9(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!G9(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),q9=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,z9=/(\d+\.){3}\d+/,V9=/\.\./,G9=vt(e=>q9.test(e)&&!z9.test(e)&&!V9.test(e),"isDnsCompatibleBucketName"),W9=vt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),K9=vt((e,t,r)=>{let n=vt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),J9=Sy(),EO=qo(),vy=vt(e=>typeof e=="object"?"url"in e?(0,EO.parseUrl)(e.url):e:(0,EO.parseUrl)(e),"toEndpointV1"),vO=vt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,J9.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(vy(i)),r.isCustomEndpoint=!0)}let o=await bO(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),bO=vt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await K9(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await $9(n),n},"resolveParams"),Y9=(rt(),z(yt)),Sl=Vt(),wO=vt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,Y9.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await vO(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,Sl.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),X9=Ws(),TO={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:X9.serializerMiddlewareOption.name},Q9=vt((e,t)=>({applyToStack:r=>{r.addRelativeTo(wO({config:e,instructions:t}),TO)}}),"getEndpointPlugin"),Z9=Sy(),e7=vt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>vy(await(0,Sl.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Sl.normalizeProvider)(n??!1),useFipsEndpoint:(0,Sl.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,Z9.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),t7=vt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var Cl={};$e(Cl,{__addDisposableResource:()=>YO,__assign:()=>bl,__asyncDelegator:()=>$O,__asyncGenerator:()=>HO,__asyncValues:()=>qO,__await:()=>Qo,__awaiter:()=>kO,__classPrivateFieldGet:()=>WO,__classPrivateFieldIn:()=>JO,__classPrivateFieldSet:()=>KO,__createBinding:()=>Tl,__decorate:()=>IO,__disposeResources:()=>XO,__esDecorate:()=>RO,__exportStar:()=>UO,__extends:()=>PO,__generator:()=>LO,__importDefault:()=>GO,__importStar:()=>VO,__makeTemplateObject:()=>zO,__metadata:()=>MO,__param:()=>xO,__propKey:()=>NO,__read:()=>Cy,__rest:()=>AO,__rewriteRelativeImportExtension:()=>QO,__runInitializers:()=>OO,__setFunctionName:()=>DO,__spread:()=>FO,__spreadArray:()=>jO,__spreadArrays:()=>BO,__values:()=>wl,default:()=>o7});function PO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function AO(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function IO(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function xO(e,t){return function(r,n){t(r,n,e)}}function RO(e,t,r,n,o,s){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,h=!1,g=r.length-1;g>=0;g--){var _={};for(var E in n)_[E]=E==="access"?{}:n[E];for(var E in n.access)_.access[E]=n.access[E];_.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(v||null))};var S=(0,r[g])(a==="accessor"?{get:p.get,set:p.set}:p[c],_);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=i(S.get))&&(p.get=f),(f=i(S.set))&&(p.set=f),(f=i(S.init))&&o.unshift(f)}else(f=i(S))&&(a==="field"?o.unshift(f):p[c]=f)}l&&Object.defineProperty(l,n.name,p),h=!0}function OO(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function NO(e){return typeof e=="symbol"?e:"".concat(e)}function DO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function MO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function kO(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(p){try{l(n.next(p))}catch(f){i(f)}}function c(p){try{l(n.throw(p))}catch(f){i(f)}}function l(p){p.done?s(p.value):o(p.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function LO(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(s=l[0]&2?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],o=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function UO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tl(t,e,r)}function wl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function FO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cy(arguments[t]));return e}function BO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function jO(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Qo(e){return this instanceof Qo?(this.v=e,this):new Qo(e)}function HO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(_){return Promise.resolve(_).then(g,f)}}function a(g,_){n[g]&&(o[g]=function(E){return new Promise(function(S,v){s.push([g,E,S,v])>1||c(g,E)})},_&&(o[g]=_(o[g])))}function c(g,_){try{l(n[g](_))}catch(E){h(s[0][3],E)}}function l(g){g.value instanceof Qo?Promise.resolve(g.value.v).then(p,f):h(s[0][2],g)}function p(g){c("next",g)}function f(g){c("throw",g)}function h(g,_){g(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function $O(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:Qo(e[o](i)),done:!1}:s?s(i):i}:s}}function qO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wl=="function"?wl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}function zO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function VO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ty(e),n=0;n<r.length;n++)r[n]!=="default"&&Tl(t,e,r[n]);return r7(t,e),t}function GO(e){return e&&e.__esModule?e:{default:e}}function WO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function KO(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function JO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function YO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function XO(e){function t(s){e.error=e.hasError?new n7(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function QO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var wy,bl,Tl,r7,Ty,n7,o7,Pl=y(()=>{d();wy=function(e,t){return wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},wy(e,t)};bl=function(){return bl=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},bl.apply(this,arguments)};Tl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};r7=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ty=function(e){return Ty=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ty(e)};n7=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};o7={__extends:PO,__assign:bl,__rest:AO,__decorate:IO,__param:xO,__esDecorate:RO,__runInitializers:OO,__propKey:NO,__setFunctionName:DO,__metadata:MO,__awaiter:kO,__generator:LO,__createBinding:Tl,__exportStar:UO,__values:wl,__read:Cy,__spread:FO,__spreadArrays:BO,__spreadArray:jO,__await:Qo,__asyncGenerator:HO,__asyncDelegator:$O,__asyncValues:qO,__makeTemplateObject:zO,__importStar:VO,__importDefault:GO,__classPrivateFieldGet:WO,__classPrivateFieldSet:KO,__classPrivateFieldIn:JO,__addDisposableResource:YO,__disposeResources:XO,__rewriteRelativeImportExtension:QO}});var ZO=b(($ke,s7)=>{s7.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/credential-provider-node":"3.848.0","@aws-sdk/middleware-endpoint-discovery":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.6","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Py=b((qke,a0)=>{"use strict";d();var Al=Object.defineProperty,i7=Object.getOwnPropertyDescriptor,a7=Object.getOwnPropertyNames,c7=Object.prototype.hasOwnProperty,d7=(e,t)=>Al(e,"name",{value:t,configurable:!0}),l7=(e,t)=>{for(var r in t)Al(e,r,{get:t[r],enumerable:!0})},u7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of a7(t))!c7.call(e,o)&&o!==r&&Al(e,o,{get:()=>t[o],enumerable:!(n=i7(t,o))||n.enumerable});return e},p7=e=>u7(Al({},"__esModule",{value:!0}),e),e0={};l7(e0,{ENV_ACCOUNT_ID:()=>i0,ENV_CREDENTIAL_SCOPE:()=>s0,ENV_EXPIRATION:()=>o0,ENV_KEY:()=>t0,ENV_SECRET:()=>r0,ENV_SESSION:()=>n0,fromEnv:()=>h7});a0.exports=p7(e0);var m7=(Zt(),z(Zr)),f7=Je(),t0="AWS_ACCESS_KEY_ID",r0="AWS_SECRET_ACCESS_KEY",n0="AWS_SESSION_TOKEN",o0="AWS_CREDENTIAL_EXPIRATION",s0="AWS_CREDENTIAL_SCOPE",i0="AWS_ACCOUNT_ID",h7=d7(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[t0],r=process.env[r0],n=process.env[n0],o=process.env[o0],s=process.env[s0],i=process.env[i0];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,m7.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new f7.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var ki=b((Vke,v0)=>{d();var Rl=Object.defineProperty,g7=Object.getOwnPropertyDescriptor,y7=Object.getOwnPropertyNames,_7=Object.prototype.hasOwnProperty,be=(e,t)=>Rl(e,"name",{value:t,configurable:!0}),E7=(e,t)=>{for(var r in t)Rl(e,r,{get:t[r],enumerable:!0})},S7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of y7(t))!_7.call(e,o)&&o!==r&&Rl(e,o,{get:()=>t[o],enumerable:!(n=g7(t,o))||n.enumerable});return e},v7=e=>S7(Rl({},"__esModule",{value:!0}),e),u0={};E7(u0,{DEFAULT_MAX_RETRIES:()=>h0,DEFAULT_TIMEOUT:()=>f0,ENV_CMDS_AUTH_TOKEN:()=>xy,ENV_CMDS_FULL_URI:()=>Il,ENV_CMDS_RELATIVE_URI:()=>xl,Endpoint:()=>y0,fromContainerMetadata:()=>C7,fromInstanceMetadata:()=>G7,getInstanceMetadataEndpoint:()=>E0,httpRequest:()=>Zo,providerConfigFromInit:()=>Ry});v0.exports=v7(u0);var b7=k("url"),nr=Je(),w7=k("buffer"),T7=k("http");function Zo(e){return new Promise((t,r)=>{let n=(0,T7.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new nr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new nr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new nr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(w7.Buffer.concat(i)),n.destroy()})}),n.end()})}be(Zo,"httpRequest");var p0=be(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),m0=be(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),f0=1e3,h0=0,Ry=be(({maxRetries:e=h0,timeout:t=f0})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Iy=be((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Il="AWS_CONTAINER_CREDENTIALS_FULL_URI",xl="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",xy="AWS_CONTAINER_AUTHORIZATION_TOKEN",C7=be((e={})=>{let{timeout:t,maxRetries:r}=Ry(e);return()=>Iy(async()=>{let n=await R7({logger:e.logger}),o=JSON.parse(await P7(t,n));if(!p0(o))throw new nr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return m0(o)},r)},"fromContainerMetadata"),P7=be(async(e,t)=>(process.env[xy]&&(t.headers={...t.headers,Authorization:process.env[xy]}),(await Zo({...t,timeout:e})).toString()),"requestFromEcsImds"),A7="169.254.170.2",I7={localhost:!0,"127.0.0.1":!0},x7={"http:":!0,"https:":!0},R7=be(async({logger:e})=>{if(process.env[xl])return{hostname:A7,path:process.env[xl]};if(process.env[Il]){let t=(0,b7.parse)(process.env[Il]);if(!t.hostname||!(t.hostname in I7))throw new nr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in x7))throw new nr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new nr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${xl} or ${Il} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),O7=class g0 extends nr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,g0.prototype)}static{be(this,"InstanceMetadataV1FallbackError")}},Oy=Xo(),N7=qo(),y0=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(y0||{}),D7="AWS_EC2_METADATA_SERVICE_ENDPOINT",M7="ec2_metadata_service_endpoint",k7={environmentVariableSelector:e=>e[D7],configFileSelector:e=>e[M7],default:void 0},_0=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(_0||{}),L7="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",U7="ec2_metadata_service_endpoint_mode",F7={environmentVariableSelector:e=>e[L7],configFileSelector:e=>e[U7],default:"IPv4"},E0=be(async()=>(0,N7.parseUrl)(await B7()||await j7()),"getInstanceMetadataEndpoint"),B7=be(async()=>(0,Oy.loadConfig)(k7)(),"getFromEndpointConfig"),j7=be(async()=>{let e=await(0,Oy.loadConfig)(F7)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(_0)}`)}},"getFromEndpointModeConfig"),H7=300,$7=300,q7="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",c0=be((e,t)=>{let r=H7+Math.floor(Math.random()*$7),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+q7);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),z7=be((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=c0(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=c0(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),S0="/latest/meta-data/iam/security-credentials/",V7="/latest/api/token",Ay="AWS_EC2_METADATA_V1_DISABLED",d0="ec2_metadata_v1_disabled",l0="x-aws-ec2-metadata-token",G7=be((e={})=>z7(W7(e),{logger:e.logger}),"fromInstanceMetadata"),W7=be((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=Ry(e),i=be(async(a,c)=>{if(t||c.headers?.[l0]==null){let f=!1,h=!1,g=await(0,Oy.loadConfig)({environmentVariableSelector:_=>{let E=_[Ay];if(h=!!E&&E!=="false",E===void 0)throw new nr.CredentialsProviderError(`${Ay} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:_=>{let E=_[d0];return f=!!E&&E!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${d0})`),h&&_.push(`process environment variable (${Ay})`),new O7(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let p=(await Iy(async()=>{let f;try{f=await J7(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)).trim();return Iy(async()=>{let f;try{f=await Y7(p,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)},"getCredentials");return async()=>{let a=await E0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await K7({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[l0]:c},timeout:o})}}},"getInstanceMetadataProvider"),K7=be(async e=>Zo({...e,path:V7,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),J7=be(async e=>(await Zo({...e,path:S0})).toString(),"getProfile"),Y7=be(async(e,t,r)=>{let n=JSON.parse((await Zo({...t,path:S0+e})).toString());if(!p0(n))throw new nr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return m0(n)},"getCredentialsFromProfile")});var b0=b(Ol=>{"use strict";d();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.checkUrl=void 0;var X7=Je(),Q7="169.254.170.2",Z7="169.254.170.23",eZ="[fd00:ec2::23]",tZ=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Q7||e.hostname===Z7||e.hostname===eZ)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new X7.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Ol.checkUrl=tZ});var w0=b(Nl=>{"use strict";d();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.createGetRequest=sZ;Nl.getCredentials=iZ;var Ny=Je(),rZ=me(),nZ=Me(),oZ=Zc();function sZ(e){return new rZ.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function iZ(e,t){let n=await(0,oZ.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Ny.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,nZ.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new Ny.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new Ny.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var T0=b(Dl=>{"use strict";d();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.retryWrapper=void 0;var aZ=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Dl.retryWrapper=aZ});var A0=b(Ml=>{"use strict";d();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.fromHttp=void 0;var cZ=(Pl(),z(Cl)),dZ=(Zt(),z(Zr)),lZ=Js(),C0=Je(),uZ=cZ.__importDefault(k("fs/promises")),pZ=b0(),P0=w0(),mZ=T0(),fZ="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",hZ="http://169.254.170.2",gZ="AWS_CONTAINER_CREDENTIALS_FULL_URI",yZ="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",_Z="AWS_CONTAINER_AUTHORIZATION_TOKEN",EZ=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[fZ],n=e.awsContainerCredentialsFullUri??process.env[gZ],o=e.awsContainerAuthorizationToken??process.env[_Z],s=e.awsContainerAuthorizationTokenFile??process.env[yZ],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${hZ}${r}`;else throw new C0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,pZ.checkUrl)(a,e.logger);let c=new lZ.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,mZ.retryWrapper)(async()=>{let l=(0,P0.createGetRequest)(a);o?l.headers.Authorization=o:s&&(l.headers.Authorization=(await uZ.default.readFile(s)).toString());try{let p=await c.handle(l);return(0,P0.getCredentials)(p.response).then(f=>(0,dZ.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(p){throw new C0.CredentialsProviderError(String(p),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Ml.fromHttp=EZ});var Dy=b(kl=>{"use strict";d();Object.defineProperty(kl,"__esModule",{value:!0});kl.fromHttp=void 0;var SZ=A0();Object.defineProperty(kl,"fromHttp",{enumerable:!0,get:function(){return SZ.fromHttp}})});var ky=b(pn=>{"use strict";d();Object.defineProperty(pn,"__esModule",{value:!0});pn.resolveHttpAuthSchemeConfig=pn.defaultSSOHttpAuthSchemeProvider=pn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var vZ=(tr(),z(er)),My=Vt(),bZ=async(e,t,r)=>({operation:(0,My.getSmithyContext)(t).operation,region:await(0,My.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});pn.defaultSSOHttpAuthSchemeParametersProvider=bZ;function wZ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Ll(e){return{schemeId:"smithy.api#noAuth"}}var TZ=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Ll(e));break}case"ListAccountRoles":{t.push(Ll(e));break}case"ListAccounts":{t.push(Ll(e));break}case"Logout":{t.push(Ll(e));break}default:t.push(wZ(e))}return t};pn.defaultSSOHttpAuthSchemeProvider=TZ;var CZ=e=>{let t=(0,vZ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,My.normalizeProvider)(e.authSchemePreference??[])})};pn.resolveHttpAuthSchemeConfig=CZ});var I0=b((sLe,PZ)=>{PZ.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Uy=b((iLe,k0)=>{"use strict";d();var Fl=Object.defineProperty,AZ=Object.getOwnPropertyDescriptor,IZ=Object.getOwnPropertyNames,xZ=Object.prototype.hasOwnProperty,Ul=(e,t)=>Fl(e,"name",{value:t,configurable:!0}),RZ=(e,t)=>{for(var r in t)Fl(e,r,{get:t[r],enumerable:!0})},OZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IZ(t))!xZ.call(e,o)&&o!==r&&Fl(e,o,{get:()=>t[o],enumerable:!(n=AZ(t,o))||n.enumerable});return e},NZ=e=>OZ(Fl({},"__esModule",{value:!0}),e),R0={};RZ(R0,{NODE_APP_ID_CONFIG_OPTIONS:()=>UZ,UA_APP_ID_ENV_NAME:()=>D0,UA_APP_ID_INI_NAME:()=>M0,createDefaultUserAgentProvider:()=>N0,crtAvailability:()=>O0,defaultUserAgent:()=>MZ});k0.exports=NZ(R0);var x0=k("os"),Ly=k("process"),O0={isCrtAvailable:!1},DZ=Ul(()=>O0.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),N0=Ul(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,x0.platform)()}`,(0,x0.release)()],["lang/js"],["md/nodejs",`${Ly.versions.node}`]],o=DZ();o&&n.push(o),e&&n.push([`api/${e}`,t]),Ly.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Ly.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),MZ=N0,kZ=Xd(),D0="AWS_SDK_UA_APP_ID",M0="sdk_ua_app_id",LZ="sdk-ua-app-id",UZ={environmentVariableSelector:Ul(e=>e[D0],"environmentVariableSelector"),configFileSelector:Ul(e=>e[M0]??e[LZ],"configFileSelector"),default:kZ.DEFAULT_UA_APP_ID}});var jy=b((cLe,B0)=>{d();var Bl=Object.defineProperty,FZ=Object.getOwnPropertyDescriptor,BZ=Object.getOwnPropertyNames,jZ=Object.prototype.hasOwnProperty,U0=(e,t)=>Bl(e,"name",{value:t,configurable:!0}),HZ=(e,t)=>{for(var r in t)Bl(e,r,{get:t[r],enumerable:!0})},$Z=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BZ(t))!jZ.call(e,o)&&o!==r&&Bl(e,o,{get:()=>t[o],enumerable:!(n=FZ(t,o))||n.enumerable});return e},qZ=e=>$Z(Bl({},"__esModule",{value:!0}),e),F0={};HZ(F0,{Hash:()=>GZ});B0.exports=qZ(F0);var Fy=Lo(),zZ=Ge(),VZ=k("buffer"),L0=k("crypto"),GZ=class{static{U0(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,zZ.toUint8Array)(By(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,L0.createHmac)(this.algorithmIdentifier,By(this.secret)):(0,L0.createHash)(this.algorithmIdentifier)}};function By(e,t){return VZ.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Fy.fromString)(e,t):ArrayBuffer.isView(e)?(0,Fy.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Fy.fromArrayBuffer)(e)}U0(By,"castSourceData")});var Hy=b((uLe,$0)=>{d();var jl=Object.defineProperty,WZ=Object.getOwnPropertyDescriptor,KZ=Object.getOwnPropertyNames,JZ=Object.prototype.hasOwnProperty,YZ=(e,t)=>jl(e,"name",{value:t,configurable:!0}),XZ=(e,t)=>{for(var r in t)jl(e,r,{get:t[r],enumerable:!0})},QZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KZ(t))!JZ.call(e,o)&&o!==r&&jl(e,o,{get:()=>t[o],enumerable:!(n=WZ(t,o))||n.enumerable});return e},ZZ=e=>QZ(jl({},"__esModule",{value:!0}),e),H0={};XZ(H0,{calculateBodyLength:()=>eee});$0.exports=ZZ(H0);var j0=k("fs"),eee=YZ(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,j0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,j0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var nN=b(Hl=>{"use strict";d();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.ruleSet=void 0;var Z0="required",wt="fn",Tt="argv",rs="ref",q0=!0,z0="isSet",Li="booleanEquals",es="error",ts="endpoint",Rr="tree",$y="PartitionResult",qy="getAttr",V0={[Z0]:!1,type:"String"},G0={[Z0]:!0,default:!1,type:"Boolean"},W0={[rs]:"Endpoint"},eN={[wt]:Li,[Tt]:[{[rs]:"UseFIPS"},!0]},tN={[wt]:Li,[Tt]:[{[rs]:"UseDualStack"},!0]},bt={},K0={[wt]:qy,[Tt]:[{[rs]:$y},"supportsFIPS"]},rN={[rs]:$y},J0={[wt]:Li,[Tt]:[!0,{[wt]:qy,[Tt]:[rN,"supportsDualStack"]}]},Y0=[eN],X0=[tN],Q0=[{[rs]:"Region"}],tee={version:"1.0",parameters:{Region:V0,UseDualStack:G0,UseFIPS:G0,Endpoint:V0},rules:[{conditions:[{[wt]:z0,[Tt]:[W0]}],rules:[{conditions:Y0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:es},{conditions:X0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:es},{endpoint:{url:W0,properties:bt,headers:bt},type:ts}],type:Rr},{conditions:[{[wt]:z0,[Tt]:Q0}],rules:[{conditions:[{[wt]:"aws.partition",[Tt]:Q0,assign:$y}],rules:[{conditions:[eN,tN],rules:[{conditions:[{[wt]:Li,[Tt]:[q0,K0]},J0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},type:ts}],type:Rr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:es}],type:Rr},{conditions:Y0,rules:[{conditions:[{[wt]:Li,[Tt]:[K0,q0]}],rules:[{conditions:[{[wt]:"stringEquals",[Tt]:[{[wt]:qy,[Tt]:[rN,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:bt,headers:bt},type:ts},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},type:ts}],type:Rr},{error:"FIPS is enabled but this partition does not support FIPS",type:es}],type:Rr},{conditions:X0,rules:[{conditions:[J0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},type:ts}],type:Rr},{error:"DualStack is enabled but this partition does not support DualStack",type:es}],type:Rr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},type:ts}],type:Rr}],type:Rr},{error:"Invalid Configuration: Missing Region",type:es}]};Hl.ruleSet=tee});var oN=b($l=>{"use strict";d();Object.defineProperty($l,"__esModule",{value:!0});$l.defaultEndpointResolver=void 0;var ree=yd(),zy=md(),nee=nN(),oee=new zy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),see=(e,t={})=>oee.get(e,()=>(0,zy.resolveEndpoint)(nee.ruleSet,{endpointParams:e,logger:t.logger}));$l.defaultEndpointResolver=see;zy.customEndpointFunctions.aws=ree.awsEndpointFunctions});var aN=b(ql=>{"use strict";d();Object.defineProperty(ql,"__esModule",{value:!0});ql.getRuntimeConfig=void 0;var iee=(tr(),z(er)),aee=(rt(),z(yt)),cee=Me(),dee=qo(),sN=ct(),iN=Ge(),lee=ky(),uee=oN(),pee=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??sN.fromBase64,base64Encoder:e?.base64Encoder??sN.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uee.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??lee.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new iee.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aee.NoAuthSigner}],logger:e?.logger??new cee.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??dee.parseUrl,utf8Decoder:e?.utf8Decoder??iN.fromUtf8,utf8Encoder:e?.utf8Encoder??iN.toUtf8});ql.getRuntimeConfig=pee});var Gy=b((ELe,mN)=>{d();var mee=Object.create,Ui=Object.defineProperty,fee=Object.getOwnPropertyDescriptor,hee=Object.getOwnPropertyNames,gee=Object.getPrototypeOf,yee=Object.prototype.hasOwnProperty,Vy=(e,t)=>Ui(e,"name",{value:t,configurable:!0}),_ee=(e,t)=>{for(var r in t)Ui(e,r,{get:t[r],enumerable:!0})},uN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hee(t))!yee.call(e,o)&&o!==r&&Ui(e,o,{get:()=>t[o],enumerable:!(n=fee(t,o))||n.enumerable});return e},Eee=(e,t,r)=>(r=e!=null?mee(gee(e)):{},uN(t||!e||!e.__esModule?Ui(r,"default",{value:e,enumerable:!0}):r,e)),See=e=>uN(Ui({},"__esModule",{value:!0}),e),pN={};_ee(pN,{resolveDefaultsModeConfig:()=>Ree});mN.exports=See(pN);var vee=Wo(),cN=Xo(),bee=Je(),wee="AWS_EXECUTION_ENV",dN="AWS_REGION",lN="AWS_DEFAULT_REGION",Tee="AWS_EC2_METADATA_DISABLED",Cee=["in-region","cross-region","mobile","standard","legacy"],Pee="/latest/meta-data/placement/region",Aee="AWS_DEFAULTS_MODE",Iee="defaults_mode",xee={environmentVariableSelector:e=>e[Aee],configFileSelector:e=>e[Iee],default:"legacy"},Ree=Vy(({region:e=(0,cN.loadConfig)(vee.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,cN.loadConfig)(xee)}={})=>(0,bee.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Oee(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Cee.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Oee=Vy(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Nee();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Nee=Vy(async()=>{if(process.env[wee]&&(process.env[dN]||process.env[lN]))return process.env[dN]??process.env[lN];if(!process.env[Tee])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Eee(ki())),r=await e();return(await t({...r,path:Pee})).toString()}catch{}},"inferPhysicalRegion")});var _N=b(Vl=>{"use strict";d();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.getRuntimeConfig=void 0;var Dee=(Pl(),z(Cl)),Mee=Dee.__importDefault(I0()),fN=(tr(),z(er)),hN=Uy(),zl=Wo(),kee=jy(),gN=Oi(),io=Xo(),yN=Js(),Lee=Hy(),Uee=al(),Fee=aN(),Bee=Me(),jee=Gy(),Hee=Me(),$ee=e=>{(0,Hee.emitWarningIfUnsupportedVersion)(process.version);let t=(0,jee.resolveDefaultsModeConfig)(e),r=()=>t().then(Bee.loadConfigsForDefaultMode),n=(0,Fee.getRuntimeConfig)(e);(0,fN.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,io.loadConfig)(fN.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??Lee.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,hN.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Mee.default.version}),maxAttempts:e?.maxAttempts??(0,io.loadConfig)(gN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,io.loadConfig)(zl.NODE_REGION_CONFIG_OPTIONS,{...zl.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:yN.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,io.loadConfig)({...gN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Uee.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??kee.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??yN.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,io.loadConfig)(zl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,io.loadConfig)(zl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,io.loadConfig)(hN.NODE_APP_ID_CONFIG_OPTIONS,o)}};Vl.getRuntimeConfig=$ee});var Wy=b((wLe,TN)=>{"use strict";d();var Gl=Object.defineProperty,qee=Object.getOwnPropertyDescriptor,zee=Object.getOwnPropertyNames,Vee=Object.prototype.hasOwnProperty,or=(e,t)=>Gl(e,"name",{value:t,configurable:!0}),Gee=(e,t)=>{for(var r in t)Gl(e,r,{get:t[r],enumerable:!0})},Wee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zee(t))!Vee.call(e,o)&&o!==r&&Gl(e,o,{get:()=>t[o],enumerable:!(n=qee(t,o))||n.enumerable});return e},Kee=e=>Wee(Gl({},"__esModule",{value:!0}),e),SN={};Gee(SN,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Qee,NODE_REGION_CONFIG_OPTIONS:()=>Xee,REGION_ENV_NAME:()=>vN,REGION_INI_NAME:()=>bN,getAwsRegionExtensionConfiguration:()=>Jee,resolveAwsRegionExtensionConfiguration:()=>Yee,resolveRegionConfig:()=>Zee});TN.exports=Kee(SN);var Jee=or(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Yee=or(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),vN="AWS_REGION",bN="region",Xee={environmentVariableSelector:or(e=>e[vN],"environmentVariableSelector"),configFileSelector:or(e=>e[bN],"configFileSelector"),default:or(()=>{throw new Error("Region is missing")},"default")},Qee={preferredFile:"credentials"},wN=or(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),EN=or(e=>wN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Zee=or(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:or(async()=>{if(typeof t=="string")return EN(t);let n=await t();return EN(n)},"region"),useFipsEndpoint:or(async()=>{let n=typeof t=="string"?t:await t();return wN(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var nD=b((CLe,rD)=>{"use strict";d();var Wl=Object.defineProperty,ete=Object.getOwnPropertyDescriptor,tte=Object.getOwnPropertyNames,rte=Object.prototype.hasOwnProperty,J=(e,t)=>Wl(e,"name",{value:t,configurable:!0}),nte=(e,t)=>{for(var r in t)Wl(e,r,{get:t[r],enumerable:!0})},ote=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tte(t))!rte.call(e,o)&&o!==r&&Wl(e,o,{get:()=>t[o],enumerable:!(n=ete(t,o))||n.enumerable});return e},ste=e=>ote(Wl({},"__esModule",{value:!0}),e),ON={};nte(ON,{GetRoleCredentialsCommand:()=>ZN,GetRoleCredentialsRequestFilterSensitiveLog:()=>HN,GetRoleCredentialsResponseFilterSensitiveLog:()=>qN,InvalidRequestException:()=>DN,ListAccountRolesCommand:()=>Ky,ListAccountRolesRequestFilterSensitiveLog:()=>zN,ListAccountsCommand:()=>Jy,ListAccountsRequestFilterSensitiveLog:()=>VN,LogoutCommand:()=>eD,LogoutRequestFilterSensitiveLog:()=>GN,ResourceNotFoundException:()=>kN,RoleCredentialsFilterSensitiveLog:()=>$N,SSO:()=>tD,SSOClient:()=>Jl,SSOServiceException:()=>ns,TooManyRequestsException:()=>UN,UnauthorizedException:()=>BN,__Client:()=>N.Client,paginateListAccountRoles:()=>Ote,paginateListAccounts:()=>Nte});rD.exports=ste(ON);var CN=Sf(),ite=bf(),ate=Tf(),PN=Xd(),cte=Wo(),Or=(rt(),z(yt)),dte=Gg(),Bi=by(),AN=Oi(),IN=ky(),lte=J(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Kl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ute=_N(),xN=Wy(),RN=me(),N=Me(),pte=J(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),mte=J(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),fte=J((e,t)=>{let r=Object.assign((0,xN.getAwsRegionExtensionConfiguration)(e),(0,N.getDefaultExtensionConfiguration)(e),(0,RN.getHttpHandlerExtensionConfiguration)(e),pte(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,xN.resolveAwsRegionExtensionConfiguration)(r),(0,N.resolveDefaultRuntimeConfig)(r),(0,RN.resolveHttpHandlerRuntimeConfig)(r),mte(r))},"resolveRuntimeExtensions"),Jl=class extends N.Client{static{J(this,"SSOClient")}config;constructor(...[e]){let t=(0,ute.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=lte(t),n=(0,PN.resolveUserAgentConfig)(r),o=(0,AN.resolveRetryConfig)(n),s=(0,cte.resolveRegionConfig)(o),i=(0,CN.resolveHostHeaderConfig)(s),a=(0,Bi.resolveEndpointConfig)(i),c=(0,IN.resolveHttpAuthSchemeConfig)(a),l=fte(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,PN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,AN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,dte.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,CN.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ite.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,ate.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Or.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:IN.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:J(async p=>new Or.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Or.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Yl=Ws(),ns=class NN extends N.ServiceException{static{J(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,NN.prototype)}},DN=class MN extends ns{static{J(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,MN.prototype)}},kN=class LN extends ns{static{J(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,LN.prototype)}},UN=class FN extends ns{static{J(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,FN.prototype)}},BN=class jN extends ns{static{J(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,jN.prototype)}},HN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),$N=J(e=>({...e,...e.secretAccessKey&&{secretAccessKey:N.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:N.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),qN=J(e=>({...e,...e.roleCredentials&&{roleCredentials:$N(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),zN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),VN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),GN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Fi=(tr(),z(er)),hte=J(async(e,t)=>{let r=(0,Or.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Zl]:e[Ql]});r.bp("/federation/credentials");let o=(0,N.map)({[xte]:[,(0,N.expectNonNull)(e[Ite],"roleName")],[KN]:[,(0,N.expectNonNull)(e[WN],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),gte=J(async(e,t)=>{let r=(0,Or.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Zl]:e[Ql]});r.bp("/assignment/roles");let o=(0,N.map)({[QN]:[,e[XN]],[YN]:[()=>e.maxResults!==void 0,()=>e[JN].toString()],[KN]:[,(0,N.expectNonNull)(e[WN],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),yte=J(async(e,t)=>{let r=(0,Or.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Zl]:e[Ql]});r.bp("/assignment/accounts");let o=(0,N.map)({[QN]:[,e[XN]],[YN]:[()=>e.maxResults!==void 0,()=>e[JN].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),_te=J(async(e,t)=>{let r=(0,Or.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Zl]:e[Ql]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Ete=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xl(e,t);let r=(0,N.map)({$metadata:mn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Fi.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{roleCredentials:N._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),Ste=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xl(e,t);let r=(0,N.map)({$metadata:mn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Fi.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{nextToken:N.expectString,roleList:N._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),vte=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xl(e,t);let r=(0,N.map)({$metadata:mn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Fi.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{accountList:N._json,nextToken:N.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),bte=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xl(e,t);let r=(0,N.map)({$metadata:mn(e)});return await(0,N.collectBody)(e.body,t),r},"de_LogoutCommand"),Xl=J(async(e,t)=>{let r={...e,body:await(0,Fi.parseJsonErrorBody)(e.body,t)},n=(0,Fi.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Tte(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Cte(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Pte(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ate(r,t);default:let o=r.body;return wte({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),wte=(0,N.withBaseException)(ns),Tte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new DN({$metadata:mn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),Cte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new kN({$metadata:mn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),Pte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new UN({$metadata:mn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),Ate=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new BN({$metadata:mn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),mn=J(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),WN="accountId",Ql="accessToken",KN="account_id",JN="maxResults",YN="max_result",XN="nextToken",QN="next_token",Ite="roleName",xte="role_name",Zl="x-amz-sso_bearer_token",ZN=class extends N.Command.classBuilder().ep(Kl).m(function(e,t,r,n){return[(0,Yl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Bi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(HN,qN).ser(hte).de(Ete).build(){static{J(this,"GetRoleCredentialsCommand")}},Ky=class extends N.Command.classBuilder().ep(Kl).m(function(e,t,r,n){return[(0,Yl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Bi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(zN,void 0).ser(gte).de(Ste).build(){static{J(this,"ListAccountRolesCommand")}},Jy=class extends N.Command.classBuilder().ep(Kl).m(function(e,t,r,n){return[(0,Yl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Bi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(VN,void 0).ser(yte).de(vte).build(){static{J(this,"ListAccountsCommand")}},eD=class extends N.Command.classBuilder().ep(Kl).m(function(e,t,r,n){return[(0,Yl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Bi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(GN,void 0).ser(_te).de(bte).build(){static{J(this,"LogoutCommand")}},Rte={GetRoleCredentialsCommand:ZN,ListAccountRolesCommand:Ky,ListAccountsCommand:Jy,LogoutCommand:eD},tD=class extends Jl{static{J(this,"SSO")}};(0,N.createAggregatedClient)(Rte,tD);var Ote=(0,Or.createPaginator)(Jl,Ky,"nextToken","nextToken","maxResults"),Nte=(0,Or.createPaginator)(Jl,Jy,"nextToken","nextToken","maxResults")});var sr=b((DLe,pD)=>{d();var eu=Object.defineProperty,Dte=Object.getOwnPropertyDescriptor,Mte=Object.getOwnPropertyNames,kte=Object.prototype.hasOwnProperty,tu=(e,t)=>eu(e,"name",{value:t,configurable:!0}),Lte=(e,t)=>{for(var r in t)eu(e,r,{get:t[r],enumerable:!0})},Ute=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Mte(t))!kte.call(e,o)&&o!==r&&eu(e,o,{get:()=>t[o],enumerable:!(n=Dte(t,o))||n.enumerable});return e},Fte=e=>Ute(eu({},"__esModule",{value:!0}),e),oD={};Lte(oD,{AlgorithmId:()=>cD,EndpointURLScheme:()=>aD,FieldPosition:()=>dD,HttpApiKeyAuthLocation:()=>iD,HttpAuthLocation:()=>sD,IniSectionType:()=>lD,RequestHandlerProtocol:()=>uD,SMITHY_CONTEXT_KEY:()=>qte,getDefaultClientConfiguration:()=>Hte,resolveDefaultRuntimeConfig:()=>$te});pD.exports=Fte(oD);var sD=(e=>(e.HEADER="header",e.QUERY="query",e))(sD||{}),iD=(e=>(e.HEADER="header",e.QUERY="query",e))(iD||{}),aD=(e=>(e.HTTP="http",e.HTTPS="https",e))(aD||{}),cD=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(cD||{}),Bte=tu(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),jte=tu(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Hte=tu(e=>Bte(e),"getDefaultClientConfiguration"),$te=tu(e=>jte(e),"resolveDefaultRuntimeConfig"),dD=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(dD||{}),qte="__smithy_context",lD=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(lD||{}),uD=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(uD||{})});var he=b((kLe,yD)=>{d();var ru=Object.defineProperty,zte=Object.getOwnPropertyDescriptor,Vte=Object.getOwnPropertyNames,Gte=Object.prototype.hasOwnProperty,fn=(e,t)=>ru(e,"name",{value:t,configurable:!0}),Wte=(e,t)=>{for(var r in t)ru(e,r,{get:t[r],enumerable:!0})},Kte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vte(t))!Gte.call(e,o)&&o!==r&&ru(e,o,{get:()=>t[o],enumerable:!(n=zte(t,o))||n.enumerable});return e},Jte=e=>Kte(ru({},"__esModule",{value:!0}),e),mD={};Wte(mD,{Field:()=>Qte,Fields:()=>Zte,HttpRequest:()=>ere,HttpResponse:()=>tre,IHttpRequest:()=>fD.HttpRequest,getHttpHandlerExtensionConfiguration:()=>Yte,isValidHostname:()=>gD,resolveHttpHandlerRuntimeConfig:()=>Xte});yD.exports=Jte(mD);var Yte=fn(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),Xte=fn(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),fD=sr(),Qte=class{static{fn(this,"Field")}constructor({name:e,kind:t=fD.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},Zte=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{fn(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},ere=class Yy{static{fn(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Yy({...t,headers:{...t.headers}});return r.query&&(r.query=hD(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Yy.clone(this)}};function hD(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}fn(hD,"cloneQuery");var tre=class{static{fn(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function gD(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}fn(gD,"isValidHostname")});var Xy=b((jLe,bD)=>{"use strict";d();var ou=Object.defineProperty,rre=Object.getOwnPropertyDescriptor,nre=Object.getOwnPropertyNames,ore=Object.prototype.hasOwnProperty,nu=(e,t)=>ou(e,"name",{value:t,configurable:!0}),sre=(e,t)=>{for(var r in t)ou(e,r,{get:t[r],enumerable:!0})},ire=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nre(t))!ore.call(e,o)&&o!==r&&ou(e,o,{get:()=>t[o],enumerable:!(n=rre(t,o))||n.enumerable});return e},are=e=>ire(ou({},"__esModule",{value:!0}),e),_D={};sre(_D,{getHostHeaderPlugin:()=>dre,hostHeaderMiddleware:()=>SD,hostHeaderMiddlewareOptions:()=>vD,resolveHostHeaderConfig:()=>ED});bD.exports=are(_D);var cre=he();function ED(e){return e}nu(ED,"resolveHostHeaderConfig");var SD=nu(e=>t=>async r=>{if(!cre.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),vD={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},dre=nu(e=>({applyToStack:nu(t=>{t.add(SD(e),vD)},"applyToStack")}),"getHostHeaderPlugin")});var Zy=b(($Le,PD)=>{"use strict";d();var su=Object.defineProperty,lre=Object.getOwnPropertyDescriptor,ure=Object.getOwnPropertyNames,pre=Object.prototype.hasOwnProperty,Qy=(e,t)=>su(e,"name",{value:t,configurable:!0}),mre=(e,t)=>{for(var r in t)su(e,r,{get:t[r],enumerable:!0})},fre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ure(t))!pre.call(e,o)&&o!==r&&su(e,o,{get:()=>t[o],enumerable:!(n=lre(t,o))||n.enumerable});return e},hre=e=>fre(su({},"__esModule",{value:!0}),e),wD={};mre(wD,{getLoggerPlugin:()=>gre,loggerMiddleware:()=>TD,loggerMiddlewareOptions:()=>CD});PD.exports=hre(wD);var TD=Qy(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,p=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),CD={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},gre=Qy(e=>({applyToStack:Qy(t=>{t.add(TD(),CD)},"applyToStack")}),"getLoggerPlugin")});var t_=b((zLe,RD)=>{"use strict";d();var au=Object.defineProperty,yre=Object.getOwnPropertyDescriptor,_re=Object.getOwnPropertyNames,Ere=Object.prototype.hasOwnProperty,iu=(e,t)=>au(e,"name",{value:t,configurable:!0}),Sre=(e,t)=>{for(var r in t)au(e,r,{get:t[r],enumerable:!0})},vre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _re(t))!Ere.call(e,o)&&o!==r&&au(e,o,{get:()=>t[o],enumerable:!(n=yre(t,o))||n.enumerable});return e},bre=e=>vre(au({},"__esModule",{value:!0}),e),AD={};Sre(AD,{addRecursionDetectionMiddlewareOptions:()=>xD,getRecursionDetectionPlugin:()=>Pre,recursionDetectionMiddleware:()=>ID});RD.exports=bre(AD);var wre=he(),e_="X-Amzn-Trace-Id",Tre="AWS_LAMBDA_FUNCTION_NAME",Cre="_X_AMZN_TRACE_ID",ID=iu(e=>t=>async r=>{let{request:n}=r;if(!wre.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===e_.toLowerCase())??e_;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[Tre],i=process.env[Cre],a=iu(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[e_]=i),t({...r,request:n})},"recursionDetectionMiddleware"),xD={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Pre=iu(e=>({applyToStack:iu(t=>{t.add(ID(e),xD)},"applyToStack")}),"getRecursionDetectionPlugin")});var r_,Are,OD=y(()=>{d();r_=T(sr()),Are=e=>e[r_.SMITHY_CONTEXT_KEY]||(e[r_.SMITHY_CONTEXT_KEY]={})});var Nr=b((KLe,kD)=>{d();var cu=Object.defineProperty,Ire=Object.getOwnPropertyDescriptor,xre=Object.getOwnPropertyNames,Rre=Object.prototype.hasOwnProperty,DD=(e,t)=>cu(e,"name",{value:t,configurable:!0}),Ore=(e,t)=>{for(var r in t)cu(e,r,{get:t[r],enumerable:!0})},Nre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xre(t))!Rre.call(e,o)&&o!==r&&cu(e,o,{get:()=>t[o],enumerable:!(n=Ire(t,o))||n.enumerable});return e},Dre=e=>Nre(cu({},"__esModule",{value:!0}),e),MD={};Ore(MD,{getSmithyContext:()=>Mre,normalizeProvider:()=>kre});kD.exports=Dre(MD);var ND=sr(),Mre=DD(e=>e[ND.SMITHY_CONTEXT_KEY]||(e[ND.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),kre=DD(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var LD,UD=y(()=>{d();LD=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function Lre(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var QLe,FD,ji,du=y(()=>{d();QLe=T(sr()),FD=T(Nr());UD();ji=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=LD(s,i),c=Lre(e.httpAuthSchemes),l=(0,FD.getSmithyContext)(n),p=[];for(let f of a){let h=c.get(f.schemeId);if(!h){p.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){p.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:E={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},E),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var BD,Hi,jD=y(()=>{d();du();BD={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Hi=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ji(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),BD)}})});var os=b((iUe,WD)=>{d();var lu=Object.defineProperty,Ure=Object.getOwnPropertyDescriptor,Fre=Object.getOwnPropertyNames,Bre=Object.prototype.hasOwnProperty,uu=(e,t)=>lu(e,"name",{value:t,configurable:!0}),jre=(e,t)=>{for(var r in t)lu(e,r,{get:t[r],enumerable:!0})},Hre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Fre(t))!Bre.call(e,o)&&o!==r&&lu(e,o,{get:()=>t[o],enumerable:!(n=Ure(t,o))||n.enumerable});return e},$re=e=>Hre(lu({},"__esModule",{value:!0}),e),HD={};jre(HD,{deserializerMiddleware:()=>$D,deserializerMiddlewareOption:()=>zD,getSerdePlugin:()=>GD,serializerMiddleware:()=>qD,serializerMiddlewareOption:()=>VD});WD.exports=$re(HD);var qre=he(),$D=uu((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(qre.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:n_(/^x-[\w-]+-request-?id$/,l),extendedRequestId:n_(/^x-[\w-]+-id-2$/,l),cfId:n_(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),n_=uu((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),qD=uu((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),zD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},VD={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function GD(e,t,r){return{applyToStack:n=>{n.add($D(e,r),zD),n.add(qD(e,t),VD)}}}uu(GD,"getSerdePlugin")});var KD,JD,zre,YD=y(()=>{d();KD=T(os());du();JD={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:KD.serializerMiddlewareOption.name},zre=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ji(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),JD)}})});var XD=y(()=>{d();du();jD();YD()});var QD,gUe,ZD,Vre,Gre,o_,s_=y(()=>{d();QD=T(he()),gUe=T(sr()),ZD=T(Nr()),Vre=e=>t=>{throw t},Gre=(e,t)=>{},o_=e=>(t,r)=>async n=>{if(!QD.HttpRequest.isInstance(n.request))return t(n);let s=(0,ZD.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||Vre)(i));return(c.successHandler||Gre)(l.response,i),l}});var eM,$i,tM=y(()=>{d();s_();eM={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},$i=e=>({applyToStack:t=>{t.addRelativeTo(o_(e),eM)}})});var rM=y(()=>{d();s_();tM()});var hn,nM=y(()=>{d();hn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function oM(e,t,r,n,o){return async function*(i,a,...c){let l=a,p=i.startingToken??l[r],f=!0,h;for(;f;){if(l[r]=p,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)h=await Wre(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=p;p=Kre(h,n),f=!!(p&&(!i.stopOnSameToken||p!==g))}return void 0}}var Wre,Kre,sM=y(()=>{d();Wre=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};Kre=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var i_=b((OUe,aM)=>{d();var pu=Object.defineProperty,Jre=Object.getOwnPropertyDescriptor,Yre=Object.getOwnPropertyNames,Xre=Object.prototype.hasOwnProperty,Qre=(e,t)=>pu(e,"name",{value:t,configurable:!0}),Zre=(e,t)=>{for(var r in t)pu(e,r,{get:t[r],enumerable:!0})},ene=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yre(t))!Xre.call(e,o)&&o!==r&&pu(e,o,{get:()=>t[o],enumerable:!(n=Jre(t,o))||n.enumerable});return e},tne=e=>ene(pu({},"__esModule",{value:!0}),e),iM={};Zre(iM,{isArrayBuffer:()=>rne});aM.exports=tne(iM);var rne=Qre(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var ss=b((DUe,lM)=>{d();var mu=Object.defineProperty,nne=Object.getOwnPropertyDescriptor,one=Object.getOwnPropertyNames,sne=Object.prototype.hasOwnProperty,cM=(e,t)=>mu(e,"name",{value:t,configurable:!0}),ine=(e,t)=>{for(var r in t)mu(e,r,{get:t[r],enumerable:!0})},ane=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of one(t))!sne.call(e,o)&&o!==r&&mu(e,o,{get:()=>t[o],enumerable:!(n=nne(t,o))||n.enumerable});return e},cne=e=>ane(mu({},"__esModule",{value:!0}),e),dM={};ine(dM,{fromArrayBuffer:()=>lne,fromString:()=>une});lM.exports=cne(dM);var dne=i_(),a_=k("buffer"),lne=cM((e,t=0,r=e.byteLength-t)=>{if(!(0,dne.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return a_.Buffer.from(e,t,r)},"fromArrayBuffer"),une=cM((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?a_.Buffer.from(e,t):a_.Buffer.from(e)},"fromString")});var uM=b(fu=>{"use strict";d();Object.defineProperty(fu,"__esModule",{value:!0});fu.fromBase64=void 0;var pne=ss(),mne=/^[A-Za-z0-9+/]*={0,2}$/,fne=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!mne.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,pne.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};fu.fromBase64=fne});var Xe=b((UUe,hM)=>{d();var hu=Object.defineProperty,hne=Object.getOwnPropertyDescriptor,gne=Object.getOwnPropertyNames,yne=Object.prototype.hasOwnProperty,c_=(e,t)=>hu(e,"name",{value:t,configurable:!0}),_ne=(e,t)=>{for(var r in t)hu(e,r,{get:t[r],enumerable:!0})},Ene=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gne(t))!yne.call(e,o)&&o!==r&&hu(e,o,{get:()=>t[o],enumerable:!(n=hne(t,o))||n.enumerable});return e},Sne=e=>Ene(hu({},"__esModule",{value:!0}),e),pM={};_ne(pM,{fromUtf8:()=>fM,toUint8Array:()=>vne,toUtf8:()=>bne});hM.exports=Sne(pM);var mM=ss(),fM=c_(e=>{let t=(0,mM.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),vne=c_(e=>typeof e=="string"?fM(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),bne=c_(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,mM.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var gM=b(gu=>{"use strict";d();Object.defineProperty(gu,"__esModule",{value:!0});gu.toBase64=void 0;var wne=ss(),Tne=Xe(),Cne=e=>{let t;if(typeof e=="string"?t=(0,Tne.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,wne.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};gu.toBase64=Cne});var lt=b((HUe,yu)=>{d();var yM=Object.defineProperty,Pne=Object.getOwnPropertyDescriptor,Ane=Object.getOwnPropertyNames,Ine=Object.prototype.hasOwnProperty,d_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ane(t))!Ine.call(e,o)&&o!==r&&yM(e,o,{get:()=>t[o],enumerable:!(n=Pne(t,o))||n.enumerable});return e},_M=(e,t,r)=>(d_(e,t,"default"),r&&d_(r,t,"default")),xne=e=>d_(yM({},"__esModule",{value:!0}),e),l_={};yu.exports=xne(l_);_M(l_,uM(),yu.exports);_M(l_,gM(),yu.exports)});var p_=b(_u=>{"use strict";d();Object.defineProperty(_u,"__esModule",{value:!0});_u.ChecksumStream=void 0;var Rne=lt(),One=k("stream"),u_=class extends One.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??Rne.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};_u.ChecksumStream=u_});var gn=b(is=>{"use strict";d();Object.defineProperty(is,"__esModule",{value:!0});is.isBlob=is.isReadableStream=void 0;var Nne=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};is.isReadableStream=Nne;var Dne=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};is.isBlob=Dne});var EM=b(Eu=>{"use strict";d();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.ChecksumStream=void 0;var Mne=typeof ReadableStream=="function"?ReadableStream:function(){},m_=class extends Mne{};Eu.ChecksumStream=m_});var SM=b(Su=>{"use strict";d();Object.defineProperty(Su,"__esModule",{value:!0});Su.createChecksumStream=void 0;var kne=lt(),Lne=gn(),Une=EM(),Fne=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,Lne.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??kne.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(p,f){t.update(p),f.enqueue(p)},async flush(p){let f=await t.digest(),h=a(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);p.error(g)}else p.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,Une.ChecksumStream.prototype),l};Su.createChecksumStream=Fne});var vM=b(f_=>{"use strict";d();Object.defineProperty(f_,"__esModule",{value:!0});f_.createChecksumStream=$ne;var Bne=gn(),jne=p_(),Hne=SM();function $ne(e){return typeof ReadableStream=="function"&&(0,Bne.isReadableStream)(e.source)?(0,Hne.createChecksumStream)(e):new jne.ChecksumStream(e)}});var g_=b(vu=>{"use strict";d();Object.defineProperty(vu,"__esModule",{value:!0});vu.ByteArrayCollector=void 0;var h_=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};vu.ByteArrayCollector=h_});var CM=b(Dr=>{"use strict";d();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.createBufferedReadable=void 0;Dr.createBufferedReadableStream=bM;Dr.merge=wM;Dr.flush=bu;Dr.sizeOf=as;Dr.modeOf=TM;var qne=g_();function bM(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new qne.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:p,done:f}=await n.read(),h=p;if(f){if(a!==-1){let g=bu(i,a);as(g)>0&&l.enqueue(g)}l.close()}else{let g=TM(h,!1);if(a!==g&&(a>=0&&l.enqueue(bu(i,a)),a=g),a===-1){l.enqueue(h);return}let _=as(h);s+=_;let E=as(i[a]);if(_>=t&&E===0)l.enqueue(h);else{let S=wM(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${t}, automatically buffering.`)),S>=t?l.enqueue(bu(i,a)):await c(l)}}};return new ReadableStream({pull:c})}Dr.createBufferedReadable=bM;function wM(e,t,r){switch(t){case 0:return e[0]+=r,as(e[0]);case 1:case 2:return e[t].push(r),as(e[t])}}function bu(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function as(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function TM(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var AM=b(y_=>{"use strict";d();Object.defineProperty(y_,"__esModule",{value:!0});y_.createBufferedReadable=Gne;var zne=k("node:stream"),PM=g_(),Mr=CM(),Vne=gn();function Gne(e,t,r){if((0,Vne.isReadableStream)(e))return(0,Mr.createBufferedReadableStream)(e,t,r);let n=new zne.Readable({read(){}}),o=!1,s=0,i=["",new PM.ByteArrayCollector(c=>new Uint8Array(c)),new PM.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Mr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Mr.flush)(i,a)),a=l),a===-1){n.push(c);return}let p=(0,Mr.sizeOf)(c);s+=p;let f=(0,Mr.sizeOf)(i[a]);if(p>=t&&f===0)n.push(c);else{let h=(0,Mr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Mr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Mr.flush)(i,a);(0,Mr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var IM=b(wu=>{"use strict";d();Object.defineProperty(wu,"__esModule",{value:!0});wu.getAwsChunkedEncodingStream=void 0;var Wne=k("stream"),Kne=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new Wne.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${s}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};wu.getAwsChunkedEncodingStream=Kne});var xM=b(__=>{"use strict";d();Object.defineProperty(__,"__esModule",{value:!0});__.headStream=Jne;async function Jne(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var RM=b(Tu=>{"use strict";d();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.headStream=void 0;var Yne=k("stream"),Xne=xM(),Qne=gn(),Zne=(e,t)=>(0,Qne.isReadableStream)(e)?(0,Xne.headStream)(e,t):new Promise((r,n)=>{let o=new E_;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});Tu.headStream=Zne;var E_=class extends Yne.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var v_=b((uFe,DM)=>{d();var Cu=Object.defineProperty,eoe=Object.getOwnPropertyDescriptor,toe=Object.getOwnPropertyNames,roe=Object.prototype.hasOwnProperty,S_=(e,t)=>Cu(e,"name",{value:t,configurable:!0}),noe=(e,t)=>{for(var r in t)Cu(e,r,{get:t[r],enumerable:!0})},ooe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of toe(t))!roe.call(e,o)&&o!==r&&Cu(e,o,{get:()=>t[o],enumerable:!(n=eoe(t,o))||n.enumerable});return e},soe=e=>ooe(Cu({},"__esModule",{value:!0}),e),OM={};noe(OM,{escapeUri:()=>NM,escapeUriPath:()=>aoe});DM.exports=soe(OM);var NM=S_(e=>encodeURIComponent(e).replace(/[!'()*]/g,ioe),"escapeUri"),ioe=S_(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),aoe=S_(e=>e.split("/").map(NM).join("/"),"escapeUriPath")});var w_=b((mFe,LM)=>{d();var Pu=Object.defineProperty,coe=Object.getOwnPropertyDescriptor,doe=Object.getOwnPropertyNames,loe=Object.prototype.hasOwnProperty,uoe=(e,t)=>Pu(e,"name",{value:t,configurable:!0}),poe=(e,t)=>{for(var r in t)Pu(e,r,{get:t[r],enumerable:!0})},moe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of doe(t))!loe.call(e,o)&&o!==r&&Pu(e,o,{get:()=>t[o],enumerable:!(n=coe(t,o))||n.enumerable});return e},foe=e=>moe(Pu({},"__esModule",{value:!0}),e),MM={};poe(MM,{buildQueryString:()=>kM});LM.exports=foe(MM);var b_=v_();function kM(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,b_.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,b_.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,b_.escapeUri)(n)}`),t.push(o)}}return t.join("&")}uoe(kM,"buildQueryString")});var Au=b((hFe,XM)=>{d();var hoe=Object.create,qi=Object.defineProperty,goe=Object.getOwnPropertyDescriptor,yoe=Object.getOwnPropertyNames,_oe=Object.getPrototypeOf,Eoe=Object.prototype.hasOwnProperty,ae=(e,t)=>qi(e,"name",{value:t,configurable:!0}),Soe=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},HM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yoe(t))!Eoe.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=goe(t,o))||n.enumerable});return e},voe=(e,t,r)=>(r=e!=null?hoe(_oe(e)):{},HM(t||!e||!e.__esModule?qi(r,"default",{value:e,enumerable:!0}):r,e)),boe=e=>HM(qi({},"__esModule",{value:!0}),e),$M={};Soe($M,{DEFAULT_REQUEST_TIMEOUT:()=>KM,NodeHttp2Handler:()=>Noe,NodeHttpHandler:()=>Ioe,streamCollector:()=>Moe});XM.exports=boe($M);var qM=he(),zM=w_(),T_=k("http"),C_=k("https"),woe=["ECONNRESET","EPIPE","ETIMEDOUT"],VM=ae(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),ot={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},UM=1e3,Toe=ae((e,t,r=0)=>{if(!r)return-1;let n=ae(o=>{let s=ot.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ae(a=>{a?.connecting?a.on("connect",()=>{ot.clearTimeout(s)}):ot.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):ot.setTimeout(n.bind(null,UM),UM)},"setConnectionTimeout"),Coe=3e3,Poe=ae((e,{keepAlive:t,keepAliveMsecs:r},n=Coe)=>{if(t!==!0)return-1;let o=ae(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):ot.setTimeout(o,n)},"setSocketKeepAlive"),FM=3e3,Aoe=ae((e,t,r=KM)=>{let n=ae(o=>{let s=r-o,i=ae(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):ot.setTimeout(n.bind(null,r===0?0:FM),FM)},"setSocketTimeout"),GM=k("stream"),BM=6e3;async function A_(e,t,r=BM){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(ot.setTimeout(()=>a(!0),Math.max(BM,r)))}),new Promise(a=>{e.on("continue",()=>{ot.clearTimeout(s),a(!0)}),e.on("response",()=>{ot.clearTimeout(s),a(!1)}),e.on("error",()=>{ot.clearTimeout(s),a(!1)})})])),i&&WM(e,t.body)}ae(A_,"writeRequestBody");function WM(e,t){if(t instanceof GM.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ae(WM,"writeBody");var KM=0,Ioe=class P_{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ae(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new P_(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,p=s[c]?.length??0;if(l>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof T_.Agent||typeof i?.destroy=="function"?i:new T_.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof C_.Agent||typeof a?.destroy=="function"?a:new C_.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ae(async C=>{await i,a.forEach(ot.clearTimeout),o(C)},"resolve"),l=ae(async C=>{await i,a.forEach(ot.clearTimeout),s(C)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let C=new Error("Request aborted");C.name="AbortError",l(C);return}let p=t.protocol==="https:",f=p?this.config.httpsAgent:this.config.httpAgent;a.push(ot.setTimeout(()=>{this.socketWarningTimestamp=P_.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,zM.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let C=t.username??"",M=t.password??"";g=`${C}:${M}`}let _=t.path;h&&(_+=`?${h}`),t.fragment&&(_+=`#${t.fragment}`);let E=t.hostname??"";E[0]==="["&&E.endsWith("]")?E=t.hostname.slice(1,-1):E=t.hostname;let S={headers:t.headers,host:E,method:t.method,path:_,port:t.port,agent:f,auth:g},w=(p?C_.request:T_.request)(S,C=>{let M=new qM.HttpResponse({statusCode:C.statusCode||-1,reason:C.statusMessage,headers:VM(C.headers),body:C});c({response:M})});if(w.on("error",C=>{woe.includes(C.code)?l(Object.assign(C,{name:"TimeoutError"})):l(C)}),r){let C=ae(()=>{w.destroy();let M=new Error("Request aborted");M.name="AbortError",l(M)},"onAbort");if(typeof r.addEventListener=="function"){let M=r;M.addEventListener("abort",C,{once:!0}),w.once("close",()=>M.removeEventListener("abort",C))}else r.onabort=C}let I=n??this.config.requestTimeout;a.push(Toe(w,l,this.config.connectionTimeout)),a.push(Aoe(w,l,I));let A=S.agent;typeof A=="object"&&"keepAlive"in A&&a.push(Poe(w,{keepAlive:A.keepAlive,keepAliveMsecs:A.keepAliveMsecs})),i=A_(w,t,I).catch(C=>(a.forEach(ot.clearTimeout),s(C)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},jM=k("http2"),xoe=voe(k("http2")),Roe=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ae(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},Ooe=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ae(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=xoe.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ae(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new Roe;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Noe=class JM{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Ooe({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ae(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new JM(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,p,f=ae(async G=>{await p,a(G)},"resolve"),h=ae(async G=>{await p,c(G)},"reject");if(r?.aborted){l=!0;let G=new Error("Request aborted");G.name="AbortError",h(G);return}let{hostname:g,method:_,port:E,protocol:S,query:v}=t,w="";if(t.username!=null||t.password!=null){let G=t.username??"",pe=t.password??"";w=`${G}:${pe}@`}let I=`${S}//${w}${g}${E?`:${E}`:""}`,A={destination:new URL(I)},C=this.connectionManager.lease(A,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),M=ae(G=>{s&&this.destroySession(C),l=!0,h(G)},"rejectWithDestroy"),Re=(0,zM.buildQueryString)(v||{}),se=t.path;Re&&(se+=`?${Re}`),t.fragment&&(se+=`#${t.fragment}`);let le=C.request({...t.headers,[jM.constants.HTTP2_HEADER_PATH]:se,[jM.constants.HTTP2_HEADER_METHOD]:_});if(C.ref(),le.on("response",G=>{let pe=new qM.HttpResponse({statusCode:G[":status"]||-1,headers:VM(G),body:le});l=!0,f({response:pe}),s&&(C.close(),this.connectionManager.deleteSession(I,C))}),i&&le.setTimeout(i,()=>{le.close();let G=new Error(`Stream timed out because of no activity for ${i} ms`);G.name="TimeoutError",M(G)}),r){let G=ae(()=>{le.close();let pe=new Error("Request aborted");pe.name="AbortError",M(pe)},"onAbort");if(typeof r.addEventListener=="function"){let pe=r;pe.addEventListener("abort",G,{once:!0}),le.once("close",()=>pe.removeEventListener("abort",G))}else r.onabort=G}le.on("frameError",(G,pe,cf)=>{M(new Error(`Frame type id ${G} in stream id ${cf} has failed with code ${pe}.`))}),le.on("error",M),le.on("aborted",()=>{M(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${le.rstCode}.`))}),le.on("close",()=>{C.unref(),s&&C.destroy(),l||M(new Error("Unexpected error: http2 request did not get a response"))}),p=A_(le,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Doe=class extends GM.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ae(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},Moe=ae(e=>koe(e)?YM(e):new Promise((t,r)=>{let n=new Doe;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),koe=ae(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function YM(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ae(YM,"collectReadableStream")});var ik=b((SFe,sk)=>{d();var xu=Object.defineProperty,Loe=Object.getOwnPropertyDescriptor,Uoe=Object.getOwnPropertyNames,Foe=Object.prototype.hasOwnProperty,ir=(e,t)=>xu(e,"name",{value:t,configurable:!0}),Boe=(e,t)=>{for(var r in t)xu(e,r,{get:t[r],enumerable:!0})},joe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uoe(t))!Foe.call(e,o)&&o!==r&&xu(e,o,{get:()=>t[o],enumerable:!(n=Loe(t,o))||n.enumerable});return e},Hoe=e=>joe(xu({},"__esModule",{value:!0}),e),ZM={};Boe(ZM,{FetchHttpHandler:()=>qoe,keepAliveSupport:()=>Iu,streamCollector:()=>Voe});sk.exports=Hoe(ZM);var QM=he(),$oe=w_();function I_(e,t){return new Request(e,t)}ir(I_,"createRequest");function ek(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}ir(ek,"requestTimeout");var Iu={supported:void 0},qoe=class tk{static{ir(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new tk(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Iu.supported===void 0&&(Iu.supported=typeof Request<"u"&&"keepalive"in I_("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,$oe.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",I=t.password??"";l=`${w}:${I}@`}let{port:p,method:f}=t,h=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,g=f==="GET"||f==="HEAD"?void 0:t.body,_={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(_.cache=this.config.cache),g&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=r),Iu.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(t));let E=ir(()=>{},"removeSignalEventListener"),S=I_(h,_),v=[fetch(S).then(w=>{let I=w.headers,A={};for(let M of I.entries())A[M[0]]=M[1];return w.body!=null?{response:new QM.HttpResponse({headers:A,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(M=>({response:new QM.HttpResponse({headers:A,reason:w.statusText,statusCode:w.status,body:M})}))}),ek(o)];return r&&v.push(new Promise((w,I)=>{let A=ir(()=>{let C=new Error("Request aborted");C.name="AbortError",I(C)},"onAbort");if(typeof r.addEventListener=="function"){let C=r;C.addEventListener("abort",A,{once:!0}),E=ir(()=>C.removeEventListener("abort",A),"removeSignalEventListener")}else r.onabort=A})),Promise.race(v).finally(E)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},zoe=lt(),Voe=ir(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):rk(e):nk(e),"streamCollector");async function rk(e){let t=await ok(e),r=(0,zoe.fromBase64)(t);return new Uint8Array(r)}ir(rk,"collectBlob");async function nk(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ir(nk,"collectStream");function ok(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}ir(ok,"readToBase64")});var R_=b((bFe,pk)=>{d();var Ru=Object.defineProperty,Goe=Object.getOwnPropertyDescriptor,Woe=Object.getOwnPropertyNames,Koe=Object.prototype.hasOwnProperty,ak=(e,t)=>Ru(e,"name",{value:t,configurable:!0}),Joe=(e,t)=>{for(var r in t)Ru(e,r,{get:t[r],enumerable:!0})},Yoe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Woe(t))!Koe.call(e,o)&&o!==r&&Ru(e,o,{get:()=>t[o],enumerable:!(n=Goe(t,o))||n.enumerable});return e},Xoe=e=>Yoe(Ru({},"__esModule",{value:!0}),e),ck={};Joe(ck,{fromHex:()=>lk,toHex:()=>uk});pk.exports=Xoe(ck);var dk={},x_={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),dk[e]=t,x_[t]=e}function lk(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in x_)t[r/2]=x_[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}ak(lk,"fromHex");function uk(e){let t="";for(let r=0;r<e.byteLength;r++)t+=dk[e[r]];return t}ak(uk,"toHex")});var gk=b(Ou=>{"use strict";d();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.sdkStreamMixin=void 0;var Qoe=ik(),Zoe=lt(),ese=R_(),tse=Xe(),mk=gn(),fk="The stream has already been transformed.",rse=e=>{var t,r;if(!hk(e)&&!(0,mk.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(fk);return n=!0,await(0,Qoe.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,Zoe.toBase64)(a);if(i==="hex")return(0,ese.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,tse.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(fk);if(n=!0,hk(e))return s(e);if((0,mk.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ou.sdkStreamMixin=rse;var hk=e=>typeof Blob=="function"&&e instanceof Blob});var _k=b(Nu=>{"use strict";d();Object.defineProperty(Nu,"__esModule",{value:!0});Nu.sdkStreamMixin=void 0;var nse=Au(),ose=ss(),O_=k("stream"),sse=gk(),yk="The stream has already been transformed.",ise=e=>{var t,r;if(!(e instanceof O_.Readable))try{return(0,sse.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(yk);return n=!0,await(0,nse.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,ose.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(yk);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof O_.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,O_.Readable.toWeb(e)}})};Nu.sdkStreamMixin=ise});var Ek=b(N_=>{"use strict";d();Object.defineProperty(N_,"__esModule",{value:!0});N_.splitStream=ase;async function ase(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var bk=b(D_=>{"use strict";d();Object.defineProperty(D_,"__esModule",{value:!0});D_.splitStream=dse;var Sk=k("stream"),cse=Ek(),vk=gn();async function dse(e){if((0,vk.isReadableStream)(e)||(0,vk.isBlob)(e))return(0,cse.splitStream)(e);let t=new Sk.PassThrough,r=new Sk.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var U_=b((NFe,cr)=>{d();var Du=Object.defineProperty,lse=Object.getOwnPropertyDescriptor,use=Object.getOwnPropertyNames,pse=Object.prototype.hasOwnProperty,L_=(e,t)=>Du(e,"name",{value:t,configurable:!0}),mse=(e,t)=>{for(var r in t)Du(e,r,{get:t[r],enumerable:!0})},M_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of use(t))!pse.call(e,o)&&o!==r&&Du(e,o,{get:()=>t[o],enumerable:!(n=lse(t,o))||n.enumerable});return e},yn=(e,t,r)=>(M_(e,t,"default"),r&&M_(r,t,"default")),fse=e=>M_(Du({},"__esModule",{value:!0}),e),ar={};mse(ar,{Uint8ArrayBlobAdapter:()=>k_});cr.exports=fse(ar);var wk=lt(),Tk=Xe();function Ck(e,t="utf-8"){return t==="base64"?(0,wk.toBase64)(e):(0,Tk.toUtf8)(e)}L_(Ck,"transformToString");function Pk(e,t){return t==="base64"?k_.mutate((0,wk.fromBase64)(e)):k_.mutate((0,Tk.fromUtf8)(e))}L_(Pk,"transformFromString");var k_=class Ak extends Uint8Array{static{L_(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Pk(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Ak.prototype),t}transformToString(t="utf-8"){return Ck(this,t)}};yn(ar,p_(),cr.exports);yn(ar,vM(),cr.exports);yn(ar,AM(),cr.exports);yn(ar,IM(),cr.exports);yn(ar,RM(),cr.exports);yn(ar,_k(),cr.exports);yn(ar,bk(),cr.exports);yn(ar,gn(),cr.exports)});var Mu,Ct,zi=y(()=>{d();Mu=T(U_()),Ct=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Mu.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Mu.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Mu.Uint8ArrayBlobAdapter.mutate(await r)}});function dr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ku=y(()=>{d()});var kr,F_=y(()=>{d();kr=e=>typeof e=="function"?e():e});var Ik=y(()=>{d()});var Qe,xk=y(()=>{d();Qe=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Qe.registries=new Map});var lr,cs=y(()=>{d();lr=class{constructor(t,r){this.name=t,this.traits=r}}});var Vi,B_=y(()=>{d();cs();Vi=class e extends lr{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Vi.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Gi,j_=y(()=>{d();cs();Gi=class e extends lr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Gi.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var Rk=y(()=>{d()});var ao,Lu=y(()=>{d();cs();ao=class e extends lr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ao.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var H_,Ok=y(()=>{d();Lu();H_=class e extends ao{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};H_.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var O,$_=y(()=>{d();O={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Wi,q_=y(()=>{d();cs();Wi=class e extends lr{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Wi.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var q,Nk=y(()=>{d();F_();B_();j_();$_();q_();Lu();q=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=kr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=kr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Wi?kr(this.schema.schemaRef):kr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.LIST_MODIFIER&&t<O.MAP_MODIFIER:t instanceof Vi}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.MAP_MODIFIER&&t<=255:t instanceof Gi}isDocumentSchema(){return this.getSchema()===O.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof ao}isBlobSchema(){return this.getSchema()===O.BLOB||this.getSchema()===O.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=O.TIMESTAMP_DEFAULT&&t<=O.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===O.STRING}isBooleanSchema(){return this.getSchema()===O.BOOLEAN}isNumericSchema(){return this.getSchema()===O.NUMERIC}isBigIntegerSchema(){return this.getSchema()===O.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===O.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===O.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(O).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case O.MAP_MODIFIER:return`${o}Map`;case O.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};q.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var xe=y(()=>{d();F_();Ik();B_();j_();Rk();Ok();Nk();cs();q_();Lu();$_();xk()});var Ki,Dk=y(()=>{d();xe();Ki=(e,t,r=n=>n)=>{let n=q.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let a of e)s[i++]=Ki(a,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=Ki(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=Ki(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=Ki(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var hse,gse,Ji,yse,Uu,Yi,_se,z_,V_,G_,W_,Ese,Sse,Mk,vse,bse,Bu,wse,K_,Tse,ds,J_,Cse,Pse,Ase,kk,Lk,Ise,xse,co,Y_,Fu,Xi,X_=y(()=>{d();hse=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},gse=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Xi.warn(Fu(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Xi.warn(Fu(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Ji=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Xi.warn(Fu(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},yse=Math.ceil(34028234663852886e22),Uu=e=>{let t=Ji(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>yse)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Yi=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},_se=Yi,z_=e=>W_(e,32),V_=e=>W_(e,16),G_=e=>W_(e,8),W_=(e,t)=>{let r=Yi(e);if(r!==void 0&&Ese(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Ese=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Sse=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Mk=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},vse=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Xi.warn(Fu(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},bse=e=>{if(e==null)return;let t=Mk(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Bu=e=>Ji(typeof e=="string"?ds(e):e),wse=Bu,K_=e=>Uu(typeof e=="string"?ds(e):e),Tse=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ds=e=>{let t=e.match(Tse);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},J_=e=>typeof e=="string"?kk(e):Ji(e),Cse=J_,Pse=J_,Ase=e=>typeof e=="string"?kk(e):Uu(e),kk=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Lk=e=>Yi(typeof e=="string"?ds(e):e),Ise=Lk,xse=e=>z_(typeof e=="string"?ds(e):e),co=e=>V_(typeof e=="string"?ds(e):e),Y_=e=>G_(typeof e=="string"?ds(e):e),Fu=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Xi={warn:console.warn}});function Zi(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${Rse[n]}, ${c} ${Z_[r]} ${t} ${l}:${p}:${f} GMT`}var Rse,Z_,Ose,Nse,Dse,ea,Mse,kse,Lse,ta,ra,Qi,Use,Fse,Bse,Q_,jse,Hse,$se,ur,qse,zse,ls,Uk=y(()=>{d();X_();Rse=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Z_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ose=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Nse=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Ose.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,p=co(ls(n)),f=ur(o,"month",1,12),h=ur(s,"day",1,31);return Qi(p,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},Dse=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ea=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Dse.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,p]=t,f=co(ls(n)),h=ur(o,"month",1,12),g=ur(s,"day",1,31),_=Qi(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&_.setTime(_.getTime()-zse(p)),_},Mse=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),kse=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Lse=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ta=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Mse.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return Qi(co(ls(s)),Q_(o),ur(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=kse.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return Bse(Qi(Use(s),Q_(o),ur(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Lse.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return Qi(co(ls(l)),Q_(n),ur(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ra=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Bu(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Qi=(e,t,r,n)=>{let o=t-1;return Hse(e,o,r),new Date(Date.UTC(e,o,r,ur(n.hours,"hour",0,23),ur(n.minutes,"minute",0,59),ur(n.seconds,"seconds",0,60),qse(n.fractionalMilliseconds)))},Use=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+co(ls(e));return r<t?r+100:r},Fse=50*365*24*60*60*1e3,Bse=e=>e.getTime()-new Date().getTime()>Fse?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Q_=e=>{let t=Z_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},jse=[31,28,31,30,31,30,31,31,30,31,30,31],Hse=(e,t,r)=>{let n=jse[t];if(t===1&&$se(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Z_[t]} in ${e}: ${r}`)},$se=e=>e%4===0&&(e%100!==0||e%400===0),ur=(e,t,r,n)=>{let o=Y_(ls(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},qse=e=>e==null?0:K_("0."+e)*1e3,zse=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},ls=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ze,Fk=y(()=>{d();Ze=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ze.from=e=>e&&typeof e=="object"&&(e instanceof Ze||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ze(String(e)):Ze(JSON.stringify(e));Ze.fromObject=Ze.from});function eE(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Bk=y(()=>{d()});function tE(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var jk=y(()=>{d()});var na,Hk=y(()=>{d();na=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Vse(e){return new Le(String(e),"bigDecimal")}var Le,$k=y(()=>{d();Le=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var qk={};$e(qk,{LazyJsonString:()=>Ze,NumericValue:()=>Le,copyDocumentWithTransform:()=>Ki,dateToUtcString:()=>Zi,expectBoolean:()=>gse,expectByte:()=>G_,expectFloat32:()=>Uu,expectInt:()=>_se,expectInt32:()=>z_,expectLong:()=>Yi,expectNonNull:()=>Sse,expectNumber:()=>Ji,expectObject:()=>Mk,expectShort:()=>V_,expectString:()=>vse,expectUnion:()=>bse,handleFloat:()=>Cse,limitedParseDouble:()=>J_,limitedParseFloat:()=>Pse,limitedParseFloat32:()=>Ase,logger:()=>Xi,nv:()=>Vse,parseBoolean:()=>hse,parseEpochTimestamp:()=>ra,parseRfc3339DateTime:()=>Nse,parseRfc3339DateTimeWithOffset:()=>ea,parseRfc7231DateTime:()=>ta,quoteHeader:()=>eE,splitEvery:()=>tE,splitHeader:()=>na,strictParseByte:()=>Y_,strictParseDouble:()=>Bu,strictParseFloat:()=>wse,strictParseFloat32:()=>K_,strictParseInt:()=>Ise,strictParseInt32:()=>xse,strictParseLong:()=>Lk,strictParseShort:()=>co});var Pt=y(()=>{d();Dk();Uk();Fk();X_();Bk();jk();Hk();$k()});var ju,zk,us,rE=y(()=>{d();xe();Pt();ju=T(he()),zk=T(U_());zi();us=class{constructor(t){this.options=t}getRequestType(){return ju.HttpRequest}getResponseType(){return ju.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=q.of(r),s=q.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=q.of(t),l=[];for(let[p,f]of c.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let E=this.serdeContext;if(!E.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[p]=E.eventStreamMarshaller.deserialize(n.body,async v=>{let w=Object.keys(v).find(I=>I!=="__type")??"";if(w in S){let I=S[w];return{[w]:await a.read(I,v[w].body)}}else return{$unknown:v}})}else i[p]=(0,zk.sdkStreamMixin)(n.body);else if(n.body){let _=await Ct(n.body,r);_.byteLength>0&&(i[p]=await a.read(f,_))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),_=n.headers[g];if(_!=null)if(f.isListSchema()){let E=f.getValueSchema(),S;E.isTimestampSchema()&&E.getSchema()===O.TIMESTAMP_DEFAULT?S=tE(_,",",2):S=na(_);let v=[];for(let w of S)v.push(await a.read([E,{httpHeader:g}],w.trim()));i[p]=v}else i[p]=await a.read(f,_)}else if(h.httpPrefixHeaders!==void 0){i[p]={};for(let[g,_]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[p][g.slice(h.httpPrefixHeaders.length)]=await a.read([f.getValueSchema(),{httpHeader:g}],_))}else h.httpResponseCode?i[p]=n.statusCode:l.push(p)}return l}}});var Vk,lo,Gk=y(()=>{d();xe();Vk=T(he());zi();ku();rE();lo=class extends us{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=q.of(t?.input),p=l.getSchema(),f=!1,h,g=new Vk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let _=q.translateTraits(t.traits);if(_.http){g.method=_.http[0];let[E,S]=_.http[1].split("?");g.path=="/"?g.path=E:g.path+=E;let v=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(v))}}for(let[_,E]of l.structIterator()){let S=E.getMergedTraits()??{},v=o[_];if(v!=null)if(S.httpPayload){if(E.isStreaming()){if(E.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=v}else s.write(E,v),h=s.flush();delete o[_]}else if(S.httpLabel){s.write(E,v);let w=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,w.split("/").map(dr).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,dr(w))),delete o[_]}else if(S.httpHeader)s.write(E,v),a[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[_];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,I]of Object.entries(v)){let A=S.httpPrefixHeaders+w;s.write([E.getValueSchema(),{httpHeader:A}],I),a[A.toLowerCase()]=s.flush()}delete o[_]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(E,v,i),delete o[_]):f=!0}return f&&o&&(s.write(p,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(q.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let l=await Ct(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await Ct(n.body,r);if(l.byteLength>0){let p=await o.read(s,l);for(let f of a)i[f]=p[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var Wk,uo,Kk=y(()=>{d();xe();Wk=T(he());zi();rE();uo=class extends us{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=q.of(t?.input).getSchema(),p,f=new Wk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(l,h),p=o.flush()),f.headers=i,f.query=s,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let l=await Ct(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await Ct(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var nE,oE=y(()=>{d();ku();nE=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>dr(a)).join("/"):dr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function oa(e,t){return new Hu(e,t)}var Jk,Hu,Yk=y(()=>{d();Jk=T(he());oE();Hu=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new Jk.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=nE(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function po(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===O.TIMESTAMP_DATE_TIME||e.getSchema()===O.TIMESTAMP_HTTP_DATE||e.getSchema()===O.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?O.TIMESTAMP_HTTP_DATE:s||r?O.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var $u=y(()=>{d();xe()});var sE,Xk,mo,iE=y(()=>{d();xe();Pt();sE=T(lt()),Xk=T(Xe());$u();mo=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=q.of(t);if(n.isListSchema())return na(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??sE.fromBase64)(r);if(n.isTimestampSchema())switch(po(n,this.settings)){case O.TIMESTAMP_DATE_TIME:return ea(r);case O.TIMESTAMP_HTTP_DATE:return ta(r);case O.TIMESTAMP_EPOCH_SECONDS:return ra(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ze.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Le(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Xk.toUtf8)((this.serdeContext?.base64Decoder??sE.fromBase64)(t))}}});var qu,fo,Qk=y(()=>{d();xe();qu=T(Xe());iE();fo=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new mo(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=q.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??qu.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??qu.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var aE,sa,cE=y(()=>{d();xe();Pt();aE=T(lt());$u();sa=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=q.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(po(n,this.settings)){case O.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:this.stringBuffer=Zi(r);break;case O.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??aE.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:eE(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ze.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??aE.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var ho,Zk=y(()=>{d();xe();cE();ho=class{constructor(t,r,n=new sa(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=q.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var eL={};$e(eL,{FromStringShapeDeserializer:()=>mo,HttpBindingProtocol:()=>lo,HttpInterceptingShapeDeserializer:()=>fo,HttpInterceptingShapeSerializer:()=>ho,RequestBuilder:()=>Hu,RpcProtocol:()=>uo,ToStringShapeSerializer:()=>sa,collectBody:()=>Ct,determineTimestampFormat:()=>po,extendedEncodeURIComponent:()=>dr,requestBuilder:()=>oa,resolvedPath:()=>nE});var Lr=y(()=>{d();zi();ku();Gk();Kk();Yk();oE();iE();Qk();Zk();cE();$u()});var tL=y(()=>{d();Lr()});function Gse(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var rL=y(()=>{d()});var go,nL=y(()=>{d();go=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var oL,dE,lE,sL=y(()=>{d();oL=T(he()),dE=T(sr()),lE=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=oL.HttpRequest.clone(t);if(n.in===dE.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===dE.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var iL,uE,aL=y(()=>{d();iL=T(he()),uE=class{async sign(t,r,n){let o=iL.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Ur,cL=y(()=>{d();Ur=class{async sign(t,r,n){return t}}});var dL=y(()=>{d();sL();aL();cL()});var lL,Wse,pE,zu,mE,uL=y(()=>{d();lL=e=>t=>zu(t)&&t.expiration.getTime()-Date.now()<e,Wse=3e5,pE=lL(3e5),zu=e=>e.expiration!==void 0,mE=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var pL=y(()=>{d();nL();dL();uL()});var fE={};$e(fE,{DefaultIdentityProviderConfig:()=>go,EXPIRATION_MS:()=>Wse,HttpApiKeyAuthSigner:()=>lE,HttpBearerAuthSigner:()=>uE,NoAuthSigner:()=>Ur,createIsIdentityExpiredFunction:()=>lL,createPaginator:()=>oM,doesIdentityRequireRefresh:()=>zu,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Hi,getHttpAuthSchemePlugin:()=>zre,getHttpSigningPlugin:()=>$i,getSmithyContext:()=>Are,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>BD,httpAuthSchemeMiddleware:()=>ji,httpAuthSchemeMiddlewareOptions:()=>JD,httpSigningMiddleware:()=>o_,httpSigningMiddlewareOptions:()=>eM,isIdentityExpired:()=>pE,memoizeIdentityProvider:()=>mE,normalizeProvider:()=>hn,requestBuilder:()=>oa,setFeature:()=>Gse});var Lt=y(()=>{d();OD();XD();rM();nM();sM();tL();rL();pL()});var Wu=b((Hje,vL)=>{d();var Vu=Object.defineProperty,Kse=Object.getOwnPropertyDescriptor,Jse=Object.getOwnPropertyNames,Yse=Object.prototype.hasOwnProperty,ne=(e,t)=>Vu(e,"name",{value:t,configurable:!0}),Xse=(e,t)=>{for(var r in t)Vu(e,r,{get:t[r],enumerable:!0})},Qse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jse(t))!Yse.call(e,o)&&o!==r&&Vu(e,o,{get:()=>t[o],enumerable:!(n=Kse(t,o))||n.enumerable});return e},Zse=e=>Qse(Vu({},"__esModule",{value:!0}),e),mL={};Xse(mL,{EndpointCache:()=>eie,EndpointError:()=>st,customEndpointFunctions:()=>gE,isIpAddress:()=>fL,isValidHostLabel:()=>_E,resolveEndpoint:()=>Eie});vL.exports=Zse(mL);var eie=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{ne(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},tie=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),fL=ne(e=>tie.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),rie=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),_E=ne((e,t=!1)=>{if(!t)return rie.test(e);let r=e.split(".");for(let n of r)if(!_E(n))return!1;return!0},"isValidHostLabel"),gE={},ia="endpoints";function Fr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Fr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Fr).join(", ")})`:JSON.stringify(e,null,2)}ne(Fr,"toDebugString");var st=class extends Error{static{ne(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},nie=ne((e,t)=>e===t,"booleanEquals"),oie=ne(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new st(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new st(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),hL=ne((e,t)=>oie(t).reduce((r,n)=>{if(typeof r!="object")throw new st(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),sie=ne(e=>e!=null,"isSet"),iie=ne(e=>!e,"not"),yE=sr(),hE={[yE.EndpointURLScheme.HTTP]:80,[yE.EndpointURLScheme.HTTPS]:443},aie=ne(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:_="",path:E="",query:S={}}=e,v=new URL(`${_}//${h}${g?`:${g}`:""}${E}`);return v.search=Object.entries(S).map(([w,I])=>`${w}=${I}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(yE.EndpointURLScheme).includes(c))return null;let l=fL(o),p=r.includes(`${n}:${hE[c]}`)||typeof e=="string"&&e.includes(`${n}:${hE[c]}`),f=`${n}${p?`:${hE[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),cie=ne((e,t)=>e===t,"stringEquals"),die=ne((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),lie=ne(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),uie={booleanEquals:nie,getAttr:hL,isSet:sie,isValidHostLabel:_E,not:iie,parseURL:aie,stringEquals:cie,substring:die,uriEncode:lie},gL=ne((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(hL(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),pie=ne(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Gu=ne((e,t,r)=>{if(typeof e=="string")return gL(e,r);if(e.fn)return yL(e,r);if(e.ref)return pie(e,r);throw new st(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),yL=ne(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Gu(s,"arg",r)),o=e.split(".");return o[0]in gE&&o[1]!=null?gE[o[0]][o[1]](...n):uie[e](...n)},"callFunction"),mie=ne(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new st(`'${e}' is already defined in Reference Record.`);let n=yL(t,r);return r.logger?.debug?.(`${ia} evaluateCondition: ${Fr(t)} = ${Fr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),EE=ne((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=mie(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${ia} assign: ${s.name} := ${Fr(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),fie=ne((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Gu(s,"Header value entry",t);if(typeof i!="string")throw new st(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),_L=ne((e,t)=>{if(Array.isArray(e))return e.map(r=>_L(r,t));switch(typeof e){case"string":return gL(e,t);case"object":if(e===null)throw new st(`Unexpected endpoint property: ${e}`);return EL(e,t);case"boolean":return e;default:throw new st(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),EL=ne((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:_L(o,t)}),{}),"getEndpointProperties"),hie=ne((e,t)=>{let r=Gu(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new st(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),gie=ne((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=EE(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${ia} Resolving endpoint from template: ${Fr(n)}`),{...l!=null&&{headers:fie(l,i)},...c!=null&&{properties:EL(c,i)},url:hie(a,i)}},"evaluateEndpointRule"),yie=ne((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=EE(r,t);if(o)throw new st(Gu(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),_ie=ne((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=EE(r,t);if(o)return SL(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),SL=ne((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=gie(r,t);if(n)return n}else if(r.type==="error")yie(r,t);else if(r.type==="tree"){let n=_ie(r,t);if(n)return n}else throw new st(`Unknown endpoint rule: ${r}`);throw new st("Rules evaluation failed")},"evaluateRules"),Eie=ne((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${ia} Initial EndpointParams: ${Fr(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(i.length>0)for(let[l,p]of i)r[l]=r[l]??p;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new st(`Missing required parameter: '${l}'`);let c=SL(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${ia} Resolved endpoint: ${Fr(c)}`),c},"resolveEndpoint")});var CL=b((Vje,TL)=>{d();var Ku=Object.defineProperty,Sie=Object.getOwnPropertyDescriptor,vie=Object.getOwnPropertyNames,bie=Object.prototype.hasOwnProperty,wie=(e,t)=>Ku(e,"name",{value:t,configurable:!0}),Tie=(e,t)=>{for(var r in t)Ku(e,r,{get:t[r],enumerable:!0})},Cie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vie(t))!bie.call(e,o)&&o!==r&&Ku(e,o,{get:()=>t[o],enumerable:!(n=Sie(t,o))||n.enumerable});return e},Pie=e=>Cie(Ku({},"__esModule",{value:!0}),e),bL={};Tie(bL,{parseQueryString:()=>wL});TL.exports=Pie(bL);function wL(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}wie(wL,"parseQueryString")});var ps=b((Wje,IL)=>{d();var Ju=Object.defineProperty,Aie=Object.getOwnPropertyDescriptor,Iie=Object.getOwnPropertyNames,xie=Object.prototype.hasOwnProperty,Rie=(e,t)=>Ju(e,"name",{value:t,configurable:!0}),Oie=(e,t)=>{for(var r in t)Ju(e,r,{get:t[r],enumerable:!0})},Nie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Iie(t))!xie.call(e,o)&&o!==r&&Ju(e,o,{get:()=>t[o],enumerable:!(n=Aie(t,o))||n.enumerable});return e},Die=e=>Nie(Ju({},"__esModule",{value:!0}),e),PL={};Oie(PL,{parseUrl:()=>AL});IL.exports=Die(PL);var Mie=CL(),AL=Rie(e=>{if(typeof e=="string")return AL(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,Mie.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Xu=b((Jje,BL)=>{"use strict";d();var Yu=Object.defineProperty,kie=Object.getOwnPropertyDescriptor,Lie=Object.getOwnPropertyNames,Uie=Object.prototype.hasOwnProperty,_n=(e,t)=>Yu(e,"name",{value:t,configurable:!0}),Fie=(e,t)=>{for(var r in t)Yu(e,r,{get:t[r],enumerable:!0})},Bie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Lie(t))!Uie.call(e,o)&&o!==r&&Yu(e,o,{get:()=>t[o],enumerable:!(n=kie(t,o))||n.enumerable});return e},jie=e=>Bie(Yu({},"__esModule",{value:!0}),e),RL={};Fie(RL,{ConditionObject:()=>de.ConditionObject,DeprecatedObject:()=>de.DeprecatedObject,EndpointError:()=>de.EndpointError,EndpointObject:()=>de.EndpointObject,EndpointObjectHeaders:()=>de.EndpointObjectHeaders,EndpointObjectProperties:()=>de.EndpointObjectProperties,EndpointParams:()=>de.EndpointParams,EndpointResolverOptions:()=>de.EndpointResolverOptions,EndpointRuleObject:()=>de.EndpointRuleObject,ErrorRuleObject:()=>de.ErrorRuleObject,EvaluateOptions:()=>de.EvaluateOptions,Expression:()=>de.Expression,FunctionArgv:()=>de.FunctionArgv,FunctionObject:()=>de.FunctionObject,FunctionReturn:()=>de.FunctionReturn,ParameterObject:()=>de.ParameterObject,ReferenceObject:()=>de.ReferenceObject,ReferenceRecord:()=>de.ReferenceRecord,RuleSetObject:()=>de.RuleSetObject,RuleSetRules:()=>de.RuleSetRules,TreeRuleObject:()=>de.TreeRuleObject,awsEndpointFunctions:()=>UL,getUserAgentPrefix:()=>zie,isIpAddress:()=>de.isIpAddress,partition:()=>kL,resolveDefaultAwsRegionalEndpointsConfig:()=>Gie,resolveEndpoint:()=>de.resolveEndpoint,setPartitionInfo:()=>LL,toEndpointV1:()=>FL,useDefaultPartitionInfo:()=>qie});BL.exports=jie(RL);var de=Wu(),OL=_n((e,t=!1)=>{if(t){for(let r of e.split("."))if(!OL(r))return!1;return!0}return!(!(0,de.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,de.isIpAddress)(e))},"isVirtualHostableS3Bucket"),xL=":",Hie="/",$ie=_n(e=>{let t=e.split(xL);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(xL)==="")return null;let c=a.map(l=>l.split(Hie)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),NL={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},DL=NL,ML="",kL=_n(e=>{let{partitions:t}=DL;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),LL=_n((e,t="")=>{DL=e,ML=t},"setPartitionInfo"),qie=_n(()=>{LL(NL,"")},"useDefaultPartitionInfo"),zie=_n(()=>ML,"getUserAgentPrefix"),UL={isVirtualHostableS3Bucket:OL,parseArn:$ie,partition:kL};de.customEndpointFunctions.aws=UL;var Vie=ps(),Gie=_n(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>FL(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),FL=_n(e=>(0,Vie.parseUrl)(e.url),"toEndpointV1")});var SE,aa,jL=y(()=>{d();SE={warningEmitted:!1},aa=e=>{e&&!SE.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(SE.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function yo(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var HL=y(()=>{d()});function Wie(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var $L=y(()=>{d()});function Kie(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var qL=y(()=>{d()});var Qu=y(()=>{d();jL();HL();$L();qL()});var zL,vE,VL=y(()=>{d();zL=T(he()),vE=e=>zL.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ms,bE=y(()=>{d();ms=e=>new Date(Date.now()+e)});var GL,WL=y(()=>{d();bE();GL=(e,t)=>Math.abs(ms(t).getTime()-e)>=3e5});var wE,KL=y(()=>{d();WL();wE=(e,t)=>{let r=Date.parse(e);return GL(r,t)?r-Date.now():t}});var TE=y(()=>{d();VL();bE();KL()});var JL,ca,da,ut,YL,CE=y(()=>{d();JL=T(he());TE();ca=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},da=async e=>{let t=ca("context",e.context),r=ca("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await ca("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},ut=class{async sign(t,r,n){if(!JL.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await da(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:ms(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??vE(r.$response);if(n){let o=ca("config",t.config),s=o.systemClockOffset;o.systemClockOffset=wE(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=vE(t);if(n){let o=ca("config",r.config);o.systemClockOffset=wE(n,o.systemClockOffset)}}},YL=ut});var XL,Zu,QL=y(()=>{d();XL=T(he());TE();CE();Zu=class extends ut{async sign(t,r,n){if(!XL.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await da(n),p=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:ms(o.systemClockOffset),signingRegion:p,signingService:c})}}});var PE,ZL=y(()=>{d();PE=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var AE,IE=y(()=>{d();AE=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var eU,tU,la,rU=y(()=>{d();ZL();IE();eU="AWS_AUTH_SCHEME_PREFERENCE",tU="auth_scheme_preference",la={environmentVariableSelector:(e,t)=>{if(t?.signingName&&AE(t.signingName)in e)return["httpBearerAuth"];if(eU in e)return PE(e[eU])},configFileSelector:e=>{if(tU in e)return PE(e[tU])},default:[]}});var ua=b((HHe,aU)=>{d();var ep=Object.defineProperty,Jie=Object.getOwnPropertyDescriptor,Yie=Object.getOwnPropertyNames,Xie=Object.prototype.hasOwnProperty,_o=(e,t)=>ep(e,"name",{value:t,configurable:!0}),Qie=(e,t)=>{for(var r in t)ep(e,r,{get:t[r],enumerable:!0})},Zie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yie(t))!Xie.call(e,o)&&o!==r&&ep(e,o,{get:()=>t[o],enumerable:!(n=Jie(t,o))||n.enumerable});return e},eae=e=>Zie(ep({},"__esModule",{value:!0}),e),nU={};Qie(nU,{CredentialsProviderError:()=>tae,ProviderError:()=>tp,TokenProviderError:()=>rae,chain:()=>nae,fromStatic:()=>oae,memoize:()=>sae});aU.exports=eae(nU);var tp=class oU extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,oU.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{_o(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},tae=class sU extends tp{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,sU.prototype)}static{_o(this,"CredentialsProviderError")}},rae=class iU extends tp{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,iU.prototype)}static{_o(this,"TokenProviderError")}},nae=_o((...e)=>async()=>{if(e.length===0)throw new tp("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),oae=_o(e=>()=>Promise.resolve(e),"fromStatic"),sae=_o((e,t,r)=>{let n,o,s,i=!1,a=_o(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var xE,iae,aae,cU=y(()=>{d();Lt();xE=T(ua()),iae=e=>(e.sigv4aSigningRegionSet=hn(e.sigv4aSigningRegionSet),e),aae={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new xE.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new xE.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var UU=b((GHe,LU)=>{d();var cp=Object.defineProperty,cae=Object.getOwnPropertyDescriptor,dae=Object.getOwnPropertyNames,lae=Object.prototype.hasOwnProperty,Ue=(e,t)=>cp(e,"name",{value:t,configurable:!0}),uae=(e,t)=>{for(var r in t)cp(e,r,{get:t[r],enumerable:!0})},pae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dae(t))!lae.call(e,o)&&o!==r&&cp(e,o,{get:()=>t[o],enumerable:!(n=cae(t,o))||n.enumerable});return e},mae=e=>pae(cp({},"__esModule",{value:!0}),e),mU={};uae(mU,{ALGORITHM_IDENTIFIER:()=>rp,ALGORITHM_IDENTIFIER_V4A:()=>yae,ALGORITHM_QUERY_PARAM:()=>fU,ALWAYS_UNSIGNABLE_HEADERS:()=>bU,AMZ_DATE_HEADER:()=>UE,AMZ_DATE_QUERY_PARAM:()=>DE,AUTH_HEADER:()=>LE,CREDENTIAL_QUERY_PARAM:()=>hU,DATE_HEADER:()=>_U,EVENT_ALGORITHM_IDENTIFIER:()=>CU,EXPIRES_QUERY_PARAM:()=>yU,GENERATED_HEADERS:()=>EU,HOST_HEADER:()=>hae,KEY_TYPE_IDENTIFIER:()=>FE,MAX_CACHE_SIZE:()=>AU,MAX_PRESIGNED_TTL:()=>IU,PROXY_HEADER_PATTERN:()=>wU,REGION_SET_PARAM:()=>fae,SEC_HEADER_PATTERN:()=>TU,SHA256_HEADER:()=>ap,SIGNATURE_HEADER:()=>SU,SIGNATURE_QUERY_PARAM:()=>ME,SIGNED_HEADERS_QUERY_PARAM:()=>gU,SignatureV4:()=>Iae,SignatureV4Base:()=>kU,TOKEN_HEADER:()=>vU,TOKEN_QUERY_PARAM:()=>kE,UNSIGNABLE_PATTERNS:()=>gae,UNSIGNED_PAYLOAD:()=>PU,clearCredentialCache:()=>Eae,createScope:()=>op,getCanonicalHeaders:()=>RE,getCanonicalQuery:()=>MU,getPayloadHash:()=>sp,getSigningKey:()=>xU,hasHeader:()=>OU,moveHeadersToQuery:()=>DU,prepareRequest:()=>NE,signatureV4aContainer:()=>xae});LU.exports=mae(mU);var dU=Xe(),fU="X-Amz-Algorithm",hU="X-Amz-Credential",DE="X-Amz-Date",gU="X-Amz-SignedHeaders",yU="X-Amz-Expires",ME="X-Amz-Signature",kE="X-Amz-Security-Token",fae="X-Amz-Region-Set",LE="authorization",UE=DE.toLowerCase(),_U="date",EU=[LE,UE,_U],SU=ME.toLowerCase(),ap="x-amz-content-sha256",vU=kE.toLowerCase(),hae="host",bU={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},wU=/^proxy-/,TU=/^sec-/,gae=[/^proxy-/i,/^sec-/i],rp="AWS4-HMAC-SHA256",yae="AWS4-ECDSA-P256-SHA256",CU="AWS4-HMAC-SHA256-PAYLOAD",PU="UNSIGNED-PAYLOAD",AU=50,FE="aws4_request",IU=3600*24*7,En=R_(),_ae=Xe(),fs={},np=[],op=Ue((e,t,r)=>`${e}/${t}/${r}/${FE}`,"createScope"),xU=Ue(async(e,t,r,n,o)=>{let s=await lU(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,En.toHex)(s)}:${t.sessionToken}`;if(i in fs)return fs[i];for(np.push(i);np.length>AU;)delete fs[np.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,FE])a=await lU(e,a,c);return fs[i]=a},"getSigningKey"),Eae=Ue(()=>{np.length=0,Object.keys(fs).forEach(e=>{delete fs[e]})},"clearCredentialCache"),lU=Ue((e,t,r)=>{let n=new e(t);return n.update((0,_ae.toUint8Array)(r)),n.digest()},"hmac"),RE=Ue(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in bU||t?.has(s)||wU.test(s)||TU.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Sae=i_(),vae=Xe(),sp=Ue(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ap)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Sae.isArrayBuffer)(t)){let n=new r;return n.update((0,vae.toUint8Array)(t)),(0,En.toHex)(await n.digest())}return PU},"getPayloadHash"),uU=Xe(),bae=class{static{Ue(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,uU.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,uU.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(Tae.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!wae.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,En.fromHex)(e.value.replace(/\-/g,"")),1),p}}},wae=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Tae=class RU{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ue(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&OE(r),new RU(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&OE(t),parseInt((0,En.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function OE(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ue(OE,"negate");var OU=Ue((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),NU=he(),DU=Ue((e,t={})=>{let{headers:r,query:n={}}=NU.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),NE=Ue(e=>{e=NU.HttpRequest.clone(e);for(let t of Object.keys(e.headers))EU.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),pU=Nr(),Cae=Xe(),ip=v_(),MU=Ue(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===SU)continue;let o=(0,ip.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,ip.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,ip.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),Pae=Ue(e=>Aae(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Aae=Ue(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),kU=class{static{Ue(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,pU.normalizeProvider)(r),this.credentialProvider=(0,pU.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${MU(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,Cae.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,En.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,ip.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=Pae(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},Iae=class extends kU{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new bae}static{Ue(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=c??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>IU)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=op(g,f,l??this.service),E=DU(NE(e),{unhoistableHeaders:s,hoistableHeaders:a});p.sessionToken&&(E.query[kE]=p.sessionToken),E.query[fU]=rp,E.query[hU]=`${p.accessKeyId}/${_}`,E.query[DE]=h,E.query[yU]=n.toString(10);let S=RE(E,o,i);return E.query[gU]=this.getCanonicalHeaderList(S),E.query[ME]=await this.getSignature(h,_,this.getSigningKey(p,f,g,l),this.createCanonicalRequest(E,S,await sp(e,this.sha256))),E}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=op(a,i,s??this.service),p=await sp({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,En.toHex)(await f.digest()),g=[CU,c,l,n,h,p].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,dU.toUint8Array)(e)),(0,En.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=NE(e),{longDate:l,shortDate:p}=this.formatDate(t),f=op(p,a,s??this.service);c.headers[UE]=l,i.sessionToken&&(c.headers[vU]=i.sessionToken);let h=await sp(c,this.sha256);!OU(ap,c.headers)&&this.applyChecksum&&(c.headers[ap]=h);let g=RE(c,n,r),_=await this.getSignature(l,f,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(c,g,h));return c.headers[LE]=`${rp} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${_}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,rp),s=new this.sha256(await r);return s.update((0,dU.toUint8Array)(o)),(0,En.toHex)(await s.digest())}getSigningKey(e,t,r,n){return xU(this.sha256,e,r,t,n||this.service)}},xae={SignatureV4a:null}});function Oae(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=mE(t,pE,zu):r?n=hn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Nae(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var BE,hs,Rae,FU=y(()=>{d();Qu();Lt();BE=T(UU()),hs=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=Oae(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=Nae(e,p);r&&!f.attributed?(n=async h=>f(h).then(g=>yo(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=hn(e.signer):e.regionInfoProvider?a=()=>hn(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:h}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},_=e.signerConstructor||BE.SignatureV4;return new _(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await hn(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||BE.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},Rae=hs});var BU=y(()=>{d();CE();QL();rU();cU();FU()});var jU=y(()=>{d();BU();IE()});var Dae,Mae,kae,HU=y(()=>{d();Dae=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},Mae=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},kae=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var pa=b((f$e,zU)=>{d();var dp=Object.defineProperty,Lae=Object.getOwnPropertyDescriptor,Uae=Object.getOwnPropertyNames,Fae=Object.prototype.hasOwnProperty,Bae=(e,t)=>dp(e,"name",{value:t,configurable:!0}),jae=(e,t)=>{for(var r in t)dp(e,r,{get:t[r],enumerable:!0})},Hae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uae(t))!Fae.call(e,o)&&o!==r&&dp(e,o,{get:()=>t[o],enumerable:!(n=Lae(t,o))||n.enumerable});return e},$ae=e=>Hae(dp({},"__esModule",{value:!0}),e),qU={};jae(qU,{calculateBodyLength:()=>qae});zU.exports=$ae(qU);var $U=typeof TextEncoder=="function"?new TextEncoder:null,qae=Bae(e=>{if(typeof e=="string"){if($U)return $U.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var ze,Sn=y(()=>{d();ze=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function VU(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Le(n,"bigDecimal"):BigInt(n)}return t}var GU=y(()=>{d();Pt()});var XU=b((v$e,YU)=>{d();var lp=Object.defineProperty,zae=Object.getOwnPropertyDescriptor,Vae=Object.getOwnPropertyNames,Gae=Object.prototype.hasOwnProperty,At=(e,t)=>lp(e,"name",{value:t,configurable:!0}),Wae=(e,t)=>{for(var r in t)lp(e,r,{get:t[r],enumerable:!0})},Kae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vae(t))!Gae.call(e,o)&&o!==r&&lp(e,o,{get:()=>t[o],enumerable:!(n=zae(t,o))||n.enumerable});return e},Jae=e=>Kae(lp({},"__esModule",{value:!0}),e),JU={};Wae(JU,{constructStack:()=>jE});YU.exports=Jae(JU);var Eo=At((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),vn=At((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),jE=At(()=>{let e=[],t=[],r=!1,n=new Set,o=At(f=>f.sort((h,g)=>WU[g.step]-WU[h.step]||KU[g.priority||"normal"]-KU[h.priority||"normal"]),"sort"),s=At(f=>{let h=!1,g=At(_=>{let E=Eo(_.name,_.aliases);if(E.includes(f)){h=!0;for(let S of E)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=At(f=>{let h=!1,g=At(_=>{if(_.middleware===f){h=!0;for(let E of Eo(_.name,_.aliases))n.delete(E);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=At(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(p.identifyOnResolve()),f),"cloneTo"),c=At(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=At((f=!1)=>{let h=[],g=[],_={};return e.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Eo(v.name,v.aliases))_[w]=v;h.push(v)}),t.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Eo(v.name,v.aliases))_[w]=v;g.push(v)}),g.forEach(S=>{if(S.toMiddleware){let v=_[S.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${vn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&v.after.push(S),S.relation==="before"&&v.before.push(S)}}),o(h).map(c).reduce((S,v)=>(S.push(...v),S),[])},"getMiddlewareList"),p={add:(f,h={})=>{let{name:g,override:_,aliases:E}=h,S={step:"initialize",priority:"normal",middleware:f,...h},v=Eo(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${vn(g,E)}'`);for(let w of v){let I=e.findIndex(C=>C.name===w||C.aliases?.some(M=>M===w));if(I===-1)continue;let A=e[I];if(A.step!==S.step||S.priority!==A.priority)throw new Error(`"${vn(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${vn(g,E)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(I,1)}}for(let w of v)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:E}=h,S={middleware:f,...h},v=Eo(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${vn(g,E)}'`);for(let w of v){let I=t.findIndex(C=>C.name===w||C.aliases?.some(M=>M===w));if(I===-1)continue;let A=t[I];if(A.toMiddleware!==S.toMiddleware||A.relation!==S.relation)throw new Error(`"${vn(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${vn(g,E)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(I,1)}}for(let w of v)n.add(w)}t.push(S)},clone:()=>a(jE()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=At(_=>{let{tags:E,name:S,aliases:v}=_;if(E&&E.includes(f)){let w=Eo(S,v);for(let I of w)n.delete(I);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=a(jE());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return vn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of l().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(p.identify()),f}};return p},"constructStack"),WU={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},KU={high:3,normal:2,low:1}});var oe=b((w$e,WE)=>{d();var up=Object.defineProperty,Yae=Object.getOwnPropertyDescriptor,Xae=Object.getOwnPropertyNames,Qae=Object.prototype.hasOwnProperty,ee=(e,t)=>up(e,"name",{value:t,configurable:!0}),Zae=(e,t)=>{for(var r in t)up(e,r,{get:t[r],enumerable:!0})},$E=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xae(t))!Qae.call(e,o)&&o!==r&&up(e,o,{get:()=>t[o],enumerable:!(n=Yae(t,o))||n.enumerable});return e},ece=(e,t,r)=>($E(e,t,"default"),r&&$E(r,t,"default")),tce=e=>$E(up({},"__esModule",{value:!0}),e),VE={};Zae(VE,{Client:()=>rce,Command:()=>eF,NoOpLogger:()=>Ece,SENSITIVE_STRING:()=>oce,ServiceException:()=>ice,_json:()=>zE,collectBody:()=>HE.collectBody,convertMap:()=>Sce,createAggregatedClient:()=>sce,decorateServiceException:()=>tF,emitWarningIfUnsupportedVersion:()=>lce,extendedEncodeURIComponent:()=>HE.extendedEncodeURIComponent,getArrayIfSingleItem:()=>yce,getDefaultClientConfiguration:()=>hce,getDefaultExtensionConfiguration:()=>nF,getValueFromTextNode:()=>oF,isSerializableHeaderValue:()=>_ce,loadConfigsForDefaultMode:()=>dce,map:()=>GE,resolveDefaultRuntimeConfig:()=>gce,resolvedPath:()=>HE.resolvedPath,serializeDateTime:()=>Pce,serializeFloat:()=>Cce,take:()=>vce,throwDefaultError:()=>rF,withBaseException:()=>ace});WE.exports=tce(VE);var ZU=XU(),rce=class{constructor(e){this.config=e,this.middlewareStack=(0,ZU.constructStack)()}static{ee(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},HE=(Lr(),z(eL)),qE=sr(),eF=class{constructor(){this.middlewareStack=(0,ZU.constructStack)()}static{ee(this,"Command")}static classBuilder(){return new nce}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:p}){for(let E of n.bind(this)(p,e,t,r))this.middlewareStack.use(E);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[qE.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:_}=t;return f.resolve(E=>_.handle(E.request,r||{}),g)}},nce=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{ee(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends eF{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{ee(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},oce="***SensitiveInformation***",sce=ee((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=ee(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),ice=class ma extends Error{static{ee(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return ma.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===ma?ma.isInstance(t):ma.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},tF=ee((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),rF=ee(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=cce(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw tF(i,t)},"throwDefaultError"),ace=ee(e=>({output:t,parsedBody:r,errorCode:n})=>{rF({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),cce=ee(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),dce=ee(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),QU=!1,lce=ee(e=>{e&&!QU&&parseInt(e.substring(1,e.indexOf(".")))<16&&(QU=!0)},"emitWarningIfUnsupportedVersion"),uce=ee(e=>{let t=[];for(let r in qE.AlgorithmId){let n=qE.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),pce=ee(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),mce=ee(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),fce=ee(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),nF=ee(e=>Object.assign(uce(e),mce(e)),"getDefaultExtensionConfiguration"),hce=nF,gce=ee(e=>Object.assign(pce(e),fce(e)),"resolveDefaultRuntimeConfig"),yce=ee(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),oF=ee(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=oF(e[r]));return e},"getValueFromTextNode"),_ce=ee(e=>e!=null,"isSerializableHeaderValue"),Ece=class{static{ee(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function GE(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,bce(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}sF(n,null,s,i)}return n}ee(GE,"map");var Sce=ee(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),vce=ee((e,t)=>{let r={};for(let n in t)sF(r,e,t,n);return r},"take"),bce=ee((e,t,r)=>GE(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),sF=ee((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=wce,c=Tce,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),wce=ee(e=>e!=null,"nonNullish"),Tce=ee(e=>e,"pass"),Cce=ee(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Pce=ee(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),zE=ee(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(zE);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=zE(e[r]));return t}return e},"_json");ece(VE,(Pt(),z(qk)),WE.exports)});var iF,pp,KE=y(()=>{d();iF=T(oe()),pp=(e,t)=>(0,iF.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var gs,JE,So,fa=y(()=>{d();KE();gs=(e,t)=>pp(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),JE=async(e,t)=>{let r=await gs(e,t);return r.message=r.message??r.Message,r},So=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var aF,ha,YE=y(()=>{d();xe();Pt();aF=T(lt());Sn();GU();fa();ha=class extends ze{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,VU):await gs(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=q.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(c||p!=null)&&(a[l]=this._read(i,p));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,p=this._read(c,r[l]);p!=null&&(i[a]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,aF.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ze.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===O.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case O.TIMESTAMP_DATE_TIME:return ea(r);case O.TIMESTAMP_HTTP_DATE:return ta(r);case O.TIMESTAMP_EPOCH_SECONDS:return ra(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof Le?r:new Le(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var cF,mp,dF=y(()=>{d();Pt();cF="\u039D",mp=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Le){let n=`${cF+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${cF+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var ga,XE=y(()=>{d();xe();Pt();Pt();Sn();dF();ga=class extends ze{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=q.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new mp;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=q.of(t);if(s.isListSchema()&&Array.isArray(r)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let p of r)(l||p!=null)&&c.push(this._write(a,p));return c}else if(s.isMapSchema()&&o){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[p,f]of Object.entries(r))(l||f!=null)&&(c[p]=this._write(a,f));return c}else if(s.isStructSchema()&&o){let a={};for(let[c,l]of s.structIterator()){let p=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,r[c],s);f!==void 0&&(a[p]=f)}return a}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===O.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case O.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case O.TIMESTAMP_HTTP_DATE:return Zi(r);case O.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?Ze.from(r):r}}});var vo,fp=y(()=>{d();Sn();YE();XE();vo=class extends ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ga(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ha(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var lF,bo,hp=y(()=>{d();Lr();xe();lF=T(pa());fp();fa();bo=class extends uo{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new vo({timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+q.of(t).getName()}),(kr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,lF.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=So(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var QE,uF=y(()=>{d();hp();QE=class extends bo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var ZE,pF=y(()=>{d();hp();ZE=class extends bo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var mF,eS,fF=y(()=>{d();Lr();xe();mF=T(pa());fp();fa();eS=class extends lo{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new vo(r),this.serializer=new ho(this.codec.createSerializer(),r),this.deserializer=new fo(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=q.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,mF.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=So(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var hF,Ace,gF=y(()=>{d();hF=T(oe()),Ace=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,hF.expectUnion)(e)}});function gp(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function _F(e){return typeof e<"u"}var yF,Ice,xce,Rce,ya,yp=y(()=>{"use strict";d();yF=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ice=yF+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",xce="["+yF+"]["+Ice+"]*",Rce=new RegExp("^"+xce+"$");ya=function(e){let t=Rce.exec(e);return!(t===null||typeof t>"u")}});function wF(e,t){t=Object.assign({},Oce,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=SF(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=vF(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!Bce(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",_e("InvalidTag",f,et(e,s))}let l=Mce(e,s);if(l===!1)return _e("InvalidAttr","Attributes for '"+c+"' have open quote.",et(e,s));let p=l.value;if(s=l.index,p[p.length-1]==="/"){let f=s-p.length;p=p.substring(0,p.length-1);let h=bF(p,t);if(h===!0)n=!0;else return _e(h.err.code,h.err.msg,et(e,f+h.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return _e("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",et(e,i));if(r.length===0)return _e("InvalidTag","Closing tag '"+c+"' has not been opened.",et(e,i));{let f=r.pop();if(c!==f.tagName){let h=et(e,f.tagStartPos);return _e("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",et(e,i))}r.length==0&&(o=!0)}}else return _e("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",et(e,s));else{let f=bF(p,t);if(f!==!0)return _e(f.err.code,f.err.msg,et(e,s-p.length+f.err.line));if(o===!0)return _e("InvalidXml","Multiple possible root nodes found.",et(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=vF(e,s);continue}else if(e[s+1]==="?"){if(s=SF(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=Uce(e,s);if(f==-1)return _e("InvalidChar","char '&' is not expected.",et(e,s));s=f}else if(o===!0&&!EF(e[s]))return _e("InvalidXml","Extra text at the end",et(e,s));e[s]==="<"&&s--}}else{if(EF(e[s]))continue;return _e("InvalidChar","char '"+e[s]+"' is not expected.",et(e,s))}if(n){if(r.length==1)return _e("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",et(e,r[0].tagStartPos));if(r.length>0)return _e("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return _e("InvalidXml","Start tag expected.",1);return!0}function EF(e){return e===" "||e==="	"||e===`
`||e==="\r"}function SF(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return _e("InvalidXml","XML declaration allowed only at the start of the document.",et(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function vF(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function Mce(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Nce||e[t]===Dce)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function bF(e,t){let r=gp(e,kce),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return _e("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",_a(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return _e("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",_a(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return _e("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",_a(r[o]));let s=r[o][2];if(!Fce(s))return _e("InvalidAttr","Attribute '"+s+"' is an invalid name.",_a(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return _e("InvalidAttr","Attribute '"+s+"' is repeated.",_a(r[o]))}return!0}function Lce(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Uce(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Lce(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function _e(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Fce(e){return ya(e)}function Bce(e){return ya(e)}function et(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function _a(e){return e.startIndex+e[1].length}var Oce,Nce,Dce,kce,TF=y(()=>{"use strict";d();yp();Oce={allowBooleanAttributes:!1,unpairedTags:[]};Nce='"',Dce="'";kce=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var jce,CF,PF=y(()=>{d();jce={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},CF=function(e){return Object.assign({},jce,e)}});var _p,pt,Ep=y(()=>{"use strict";d();typeof Symbol!="function"?_p="@@xmlMetadata":_p=Symbol("XML Node Metadata");pt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][_p]={startIndex:r})}static getMetaDataSymbol(){return _p}}});function tS(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&wo(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=Hce(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&wo(e,"!ELEMENT",t)){t+=8;let{index:a}=qce(e,t+1);t=a}else if(o&&wo(e,"!ATTLIST",t))t+=8;else if(o&&wo(e,"!NOTATION",t)){t+=9;let{index:a}=$ce(e,t+1);t=a}else if(wo(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Hce(e,t){t=bn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(rS(r),t=bn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Sp(e,t,"entity"),t--,[r,n,t]}function $ce(e,t){t=bn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;rS(r),t=bn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=bn(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Sp(e,t,"publicIdentifier"),t=bn(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Sp(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Sp(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Sp(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function qce(e,t){t=bn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!rS(r))throw new Error(`Invalid element name: "${r}"`);t=bn(e,t);let n="";if(e[t]==="E"&&wo(e,"MPTY",t))t+=4;else if(e[t]==="A"&&wo(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function wo(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function rS(e){if(ya(e))return e;throw new Error(`Invalid entity name ${e}`)}var bn,AF=y(()=>{d();yp();bn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function nS(e,t={}){if(t=Object.assign({},Gce,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&zce.test(r))return Yce(r,16);if(r.search(/.+[eE].+/)!==-1)return Kce(e,r,t);{let n=Vce.exec(r);if(n){let o=n[1]||"",s=n[2],i=Jce(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let p=s?i:r;return s?p===l||o+p===l?c:e:p===l||p===o+l?c:e}}else return e}}function Kce(e,t,r){if(!r.eNotation)return e;let n=t.match(Wce);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function Jce(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function Yce(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var zce,Vce,Gce,Wce,IF=y(()=>{d();zce=/^[-+]?0x[a-fA-F0-9]+$/,Vce=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Gce={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Wce=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function oS(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var xF=y(()=>{d()});function Xce(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Qce(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?iS(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?iS(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Zce(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function tde(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=gp(e,ede),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?s[l]=c:typeof p!=typeof c||p!==c?s[l]=p:s[l]=iS(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function nde(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function sde(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ide(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function ade(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function To(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function sS(e,t,r,n=">"){let o=ade(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let p=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:p}}function cde(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=To(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=To(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=To(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=To(e,"]]>",r,"StopNode is not closed.")-2;else{let s=sS(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function iS(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:nS(e,r)}else return _F(e)?e:""}var Ea,ede,rde,ode,RF=y(()=>{"use strict";d();yp();Ep();AF();IF();xF();Ea=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Xce,this.parseXml=rde,this.parseTextData=Qce,this.resolveNameSpace=Zce,this.buildAttributesMap=tde,this.isItStopNode=ide,this.replaceEntitiesValue=ode,this.readStopNodeData=cde,this.saveTextToParentTag=sde,this.addChild=nde,this.ignoreAttributesFn=oS(this.options.ignoreAttributes)}};ede=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");rde=function(e){e=e.replace(/\r\n?/g,`
`);let t=new pt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=To(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=sS(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new pt(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=To(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=tS(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=To(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=sS(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,p=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let v=this.readStopNodeData(e,l,h+1);if(!v)throw new Error(`Unexpected end of ${l}`);s=v.i,E=v.tagContent}let S=new pt(c);c!==p&&f&&(S[":@"]=this.buildAttributesMap(p,o,c)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,E),this.addChild(r,S,o,_)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new pt(c);c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),o=o.substr(0,o.lastIndexOf("."))}else{let E=new pt(c);this.tagsNodeStack.push(r),c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),r=E}n="",s=h}}else n+=e[s];return t.child};ode=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function cS(e,t){return OF(e,t)}function OF(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=dde(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=OF(i[a],t,c),p=ude(l,t);i[aS]!==void 0&&(l[aS]=i[aS]),i[":@"]?lde(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function dde(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function lde(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function ude(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var aS,NF=y(()=>{"use strict";d();Ep();aS=pt.getMetaDataSymbol()});var wn,DF=y(()=>{d();PF();RF();NF();TF();Ep();wn=class{constructor(t){this.externalEntities={},this.options=CF(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=wF(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Ea(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:cS(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return pt.getMetaDataSymbol()}}});var dS=y(()=>{"use strict";d();DF()});var MF,kF,Co,vp=y(()=>{d();Lr();xe();MF=T(oe()),kF=T(Xe());dS();Sn();Co=class extends ze{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new mo(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=q.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(s)[0];return s[p].isBlobSchema()?l[p]=r:l[p]=this.read(s[p],r),l}let a=(this.serdeContext?.utf8Encoder??kF.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=q.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],p=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of p){let _=g[f],E=g[h];(E!=null||s)&&(a[_]=this.readSchema(l,E))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new wn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,MF.getValueFromTextNode)(i)}return{}}}});var LF,UF,bp,FF=y(()=>{d();Lr();xe();Pt();LF=T(oe()),UF=T(lt());Sn();bp=class extends ze{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=q.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??UF.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Le?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),po(o,this.settings)){case O.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case O.TIMESTAMP_HTTP_DATE:this.writeValue((0,LF.dateToUtcString)(r));break;case O.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,p),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,h),this.write(i,p,_),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${dr(t)}=`}writeValue(t){this.buffer+=dr(t)}}});var BF,Sa,lS=y(()=>{d();Lr();xe();BF=T(pa());vp();FF();Sa=class extends uo{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new bp(r),this.deserializer=new Co(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(kr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,BF.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let p=await Ct(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let f=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=f}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await Ct(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),p=Qe.for(a),f;try{f=p.find(S=>q.of(S).getMergedTraits().awsQueryError?.[0]===c),f||(f=p.getSchema(i))}catch{let v=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(v){let w=v.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let h=q.of(f),g=this.loadQueryErrorMessage(o),_=new f.ctor(g),E={};for(let[S,v]of h.structIterator()){let w=v.getMergedTraits().xmlName??S,I=l[w]??o[w];E[S]=this.deserializer.readSchema(v,I)}throw Object.assign(_,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,...E}),_}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var uS,jF=y(()=>{d();lS();uS=class extends Sa{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var HF,va,pS,mS,fS=y(()=>{d();HF=T(oe());dS();KE();va=(e,t)=>pp(e,t).then(r=>{if(r.length){let n=new wn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,HF.getValueFromTextNode)(a)}return{}}),pS=async(e,t)=>{let r=await va(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},mS=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var It,hS,wp,ba,gS=y(()=>{d();It=T(Fg());xe();Pt();hS=T(oe()),wp=T(lt());Sn();ba=class extends ze{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=q.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??wp.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=It.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,c);else if(p.isMapSchema())this.writeMap(p,f,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,c));else{let h=It.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,h,c),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,o),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let E=this.writeStruct(i,_,f);g.addChildNode(E.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let E=It.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,E,f),g.addChildNode(E)}};if(l)for(let g of r)(c||g!=null)&&h(n,g);else{let g=It.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(p,f);for(let _ of r)(c||_!=null)&&h(g,_);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[E,S]=this.getXmlnsAttribute(t,o),v=(w,I,A)=>{let C=It.XmlNode.of(l,I),[M,Re]=this.getXmlnsAttribute(a,S);Re&&C.addAttribute(M,Re),w.addChildNode(C);let se=It.XmlNode.of(h);p.isListSchema()?this.writeList(p,A,se,S):p.isMapSchema()?this.writeMap(p,A,se,S,!0):p.isStructSchema()?se=this.writeStruct(p,A,S):this.writeSimpleInto(p,A,se,S),w.addChildNode(se)};if(_){for(let[w,I]of Object.entries(r))if(g||I!=null){let A=It.XmlNode.of(i.xmlName??t.getMemberName());v(A,w,I),n.addChildNode(A)}}else{let w;s||(w=It.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(E,S),n.addChildNode(w));for(let[I,A]of Object.entries(r))if(g||A!=null){let C=It.XmlNode.of("entry");v(C,I,A),(s?n:w).addChildNode(C)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=q.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??wp.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===O.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case O.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:o=(0,hS.dateToUtcString)(r);break;case O.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,hS.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Le?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=q.of(t),a=new It.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var wa,yS=y(()=>{d();Sn();vp();gS();wa=class extends ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ba(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Co(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var $F,_S,qF=y(()=>{d();Lr();xe();$F=T(pa());fS();yS();_S=class extends lo{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new wa(r),this.serializer=new ho(this.codec.createSerializer(),r),this.deserializer=new fo(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=q.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,$F.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=mS(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().xmlName??E,w=o.Error?.[v]??o[v];_[E]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var zF=y(()=>{d();HU();uF();pF();hp();fF();fp();YE();XE();gF();fa();jF();lS();qF();yS();vp();gS();fS()});var VF={};$e(VF,{AWSSDKSigV4Signer:()=>YL,AwsEc2QueryProtocol:()=>uS,AwsJson1_0Protocol:()=>QE,AwsJson1_1Protocol:()=>ZE,AwsJsonRpcProtocol:()=>bo,AwsQueryProtocol:()=>Sa,AwsRestJsonProtocol:()=>eS,AwsRestXmlProtocol:()=>_S,AwsSdkSigV4ASigner:()=>Zu,AwsSdkSigV4Signer:()=>ut,JsonCodec:()=>vo,JsonShapeDeserializer:()=>ha,JsonShapeSerializer:()=>ga,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>la,NODE_SIGV4A_CONFIG_OPTIONS:()=>aae,XmlCodec:()=>wa,XmlShapeDeserializer:()=>Co,XmlShapeSerializer:()=>ba,_toBool:()=>Mae,_toNum:()=>kae,_toStr:()=>Dae,awsExpectUnion:()=>Ace,emitWarningIfUnsupportedVersion:()=>aa,getBearerTokenEnvKey:()=>AE,loadRestJsonErrorCode:()=>So,loadRestXmlErrorCode:()=>mS,parseJsonBody:()=>gs,parseJsonErrorBody:()=>JE,parseXmlBody:()=>va,parseXmlErrorBody:()=>pS,resolveAWSSDKSigV4Config:()=>Rae,resolveAwsSdkSigV4AConfig:()=>iae,resolveAwsSdkSigV4Config:()=>hs,setCredentialFeature:()=>yo,setFeature:()=>Wie,setTokenFeature:()=>Kie,state:()=>SE,validateSigningProperties:()=>da});var pr=y(()=>{d();Qu();jU();zF()});var Pp=b((hVe,nB)=>{"use strict";d();var Cp=Object.defineProperty,pde=Object.getOwnPropertyDescriptor,mde=Object.getOwnPropertyNames,fde=Object.prototype.hasOwnProperty,Br=(e,t)=>Cp(e,"name",{value:t,configurable:!0}),hde=(e,t)=>{for(var r in t)Cp(e,r,{get:t[r],enumerable:!0})},gde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mde(t))!fde.call(e,o)&&o!==r&&Cp(e,o,{get:()=>t[o],enumerable:!(n=pde(t,o))||n.enumerable});return e},yde=e=>gde(Cp({},"__esModule",{value:!0}),e),JF={};hde(JF,{DEFAULT_UA_APP_ID:()=>YF,getUserAgentMiddlewareOptions:()=>rB,getUserAgentPlugin:()=>Cde,resolveUserAgentConfig:()=>QF,userAgentMiddleware:()=>tB});nB.exports=yde(JF);var _de=(Lt(),z(fE)),YF=void 0;function XF(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Br(XF,"isValidUserAgentAppId");function QF(e){let t=(0,_de.normalizeProvider)(e.userAgentAppId??YF),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Br(async()=>{let n=await t();if(!XF(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Br(QF,"resolveUserAgentConfig");var Ede=Xu(),Sde=he(),mr=(pr(),z(VF)),vde=/\d{12}\.ddb/;async function ZF(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,mr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,mr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,mr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,mr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(vde)&&(0,mr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,mr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,mr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,mr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,mr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,mr.setFeature)(e,i,a)}}Br(ZF,"checkFeatures");var GF="user-agent",ES="x-amz-user-agent",WF=" ",SS="/",bde=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,wde=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,KF="-",Tde=1024;function eB(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Tde){t.length?t+=","+n:t+=n;continue}break}return t}Br(eB,"encodeFeatures");var tB=Br(e=>(t,r)=>async n=>{let{request:o}=n;if(!Sde.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Tp)||[],a=(await e.defaultUserAgentProvider()).map(Tp);await ZF(r,e,n);let c=r;a.push(`m/${eB(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Tp)||[],p=await e.userAgentAppId();p&&a.push(Tp([`app/${p}`]));let f=(0,Ede.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...a,...i,...l]).join(WF),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...l].join(WF);return e.runtime!=="browser"?(g&&(s[ES]=s[ES]?`${s[GF]} ${g}`:g),s[GF]=h):s[ES]=h,t({...n,request:o})},"userAgentMiddleware"),Tp=Br(e=>{let t=e[0].split(SS).map(i=>i.replace(bde,KF)).join(SS),r=e[1]?.replace(wde,KF),n=t.indexOf(SS),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),rB={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Cde=Br(e=>({applyToStack:Br(t=>{t.add(tB(e),rB)},"applyToStack")}),"getUserAgentPlugin")});var cB=b((yVe,aB)=>{d();var Ap=Object.defineProperty,Pde=Object.getOwnPropertyDescriptor,Ade=Object.getOwnPropertyNames,Ide=Object.prototype.hasOwnProperty,oB=(e,t)=>Ap(e,"name",{value:t,configurable:!0}),xde=(e,t)=>{for(var r in t)Ap(e,r,{get:t[r],enumerable:!0})},Rde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ade(t))!Ide.call(e,o)&&o!==r&&Ap(e,o,{get:()=>t[o],enumerable:!(n=Pde(t,o))||n.enumerable});return e},Ode=e=>Rde(Ap({},"__esModule",{value:!0}),e),sB={};xde(sB,{SelectorType:()=>iB,booleanSelector:()=>Nde,numberSelector:()=>Dde});aB.exports=Ode(sB);var Nde=oB((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),Dde=oB((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),iB=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(iB||{})});var ys=b((EVe,EB)=>{d();var xp=Object.defineProperty,Mde=Object.getOwnPropertyDescriptor,kde=Object.getOwnPropertyNames,Lde=Object.prototype.hasOwnProperty,Ut=(e,t)=>xp(e,"name",{value:t,configurable:!0}),Ude=(e,t)=>{for(var r in t)xp(e,r,{get:t[r],enumerable:!0})},Fde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kde(t))!Lde.call(e,o)&&o!==r&&xp(e,o,{get:()=>t[o],enumerable:!(n=Mde(t,o))||n.enumerable});return e},Bde=e=>Fde(xp({},"__esModule",{value:!0}),e),uB={};Ude(uB,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>mB,CONFIG_USE_FIPS_ENDPOINT:()=>hB,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>jde,DEFAULT_USE_FIPS_ENDPOINT:()=>$de,ENV_USE_DUALSTACK_ENDPOINT:()=>pB,ENV_USE_FIPS_ENDPOINT:()=>fB,NODE_REGION_CONFIG_FILE_OPTIONS:()=>Kde,NODE_REGION_CONFIG_OPTIONS:()=>Wde,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>Hde,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>qde,REGION_ENV_NAME:()=>gB,REGION_INI_NAME:()=>yB,getRegionInfo:()=>Zde,resolveCustomEndpointsConfig:()=>zde,resolveEndpointsConfig:()=>Gde,resolveRegionConfig:()=>Jde});EB.exports=Bde(uB);var Tn=cB(),pB="AWS_USE_DUALSTACK_ENDPOINT",mB="use_dualstack_endpoint",jde=!1,Hde={environmentVariableSelector:e=>(0,Tn.booleanSelector)(e,pB,Tn.SelectorType.ENV),configFileSelector:e=>(0,Tn.booleanSelector)(e,mB,Tn.SelectorType.CONFIG),default:!1},fB="AWS_USE_FIPS_ENDPOINT",hB="use_fips_endpoint",$de=!1,qde={environmentVariableSelector:e=>(0,Tn.booleanSelector)(e,fB,Tn.SelectorType.ENV),configFileSelector:e=>(0,Tn.booleanSelector)(e,hB,Tn.SelectorType.CONFIG),default:!1},Ip=Nr(),zde=Ut(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Ip.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ip.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),Vde=Ut(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),Gde=Ut(e=>{let t=(0,Ip.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Ip.normalizeProvider)(typeof r=="string"?o(r):r):()=>Vde({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),gB="AWS_REGION",yB="region",Wde={environmentVariableSelector:e=>e[gB],configFileSelector:e=>e[yB],default:()=>{throw new Error("Region is missing")}},Kde={preferredFile:"credentials"},_B=Ut(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),dB=Ut(e=>_B(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Jde=Ut(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return dB(t);let n=await t();return dB(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return _B(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),lB=Ut((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),Yde=Ut((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),Xde=Ut((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),Qde=Ut((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),Zde=Ut((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=Xde(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=lB(o[a]?.variants,c),p=lB(s[i]?.variants,c),f=Yde(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=Qde(f,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var bS=b((vVe,TB)=>{d();var Rp=Object.defineProperty,ele=Object.getOwnPropertyDescriptor,tle=Object.getOwnPropertyNames,rle=Object.prototype.hasOwnProperty,vB=(e,t)=>Rp(e,"name",{value:t,configurable:!0}),nle=(e,t)=>{for(var r in t)Rp(e,r,{get:t[r],enumerable:!0})},ole=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tle(t))!rle.call(e,o)&&o!==r&&Rp(e,o,{get:()=>t[o],enumerable:!(n=ele(t,o))||n.enumerable});return e},sle=e=>ole(Rp({},"__esModule",{value:!0}),e),bB={};nle(bB,{contentLengthMiddleware:()=>vS,contentLengthMiddlewareOptions:()=>wB,getContentLengthPlugin:()=>ale});TB.exports=sle(bB);var ile=he(),SB="content-length";function vS(e){return t=>async r=>{let n=r.request;if(ile.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(SB)===-1)try{let i=e(o);n.headers={...n.headers,[SB]:String(i)}}catch{}}return t({...r,request:n})}}vB(vS,"contentLengthMiddleware");var wB={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ale=vB(e=>({applyToStack:t=>{t.add(vS(e.bodyLengthChecker),wB)}}),"getContentLengthPlugin")});var _s=b(Op=>{"use strict";d();Object.defineProperty(Op,"__esModule",{value:!0});Op.getHomeDir=void 0;var cle=k("os"),dle=k("path"),wS={},lle=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",ule=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${dle.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=lle();return wS[o]||(wS[o]=(0,cle.homedir)()),wS[o]};Op.getHomeDir=ule});var TS=b(Np=>{"use strict";d();Object.defineProperty(Np,"__esModule",{value:!0});Np.getSSOTokenFilepath=void 0;var ple=k("crypto"),mle=k("path"),fle=_s(),hle=e=>{let r=(0,ple.createHash)("sha1").update(e).digest("hex");return(0,mle.join)((0,fle.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Np.getSSOTokenFilepath=hle});var CB=b(Dp=>{"use strict";d();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.getSSOTokenFromFile=void 0;var gle=k("fs"),yle=TS(),{readFile:_le}=gle.promises,Ele=async e=>{let t=(0,yle.getSSOTokenFilepath)(e),r=await _le(t,"utf8");return JSON.parse(r)};Dp.getSSOTokenFromFile=Ele});var PS=b(Mp=>{"use strict";d();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.slurpFile=void 0;var Sle=k("fs"),{readFile:vle}=Sle.promises,CS={},ble=(e,t)=>((!CS[e]||t?.ignoreCache)&&(CS[e]=vle(e,"utf8")),CS[e]);Mp.slurpFile=ble});var RS=b((OVe,Ca)=>{d();var Up=Object.defineProperty,wle=Object.getOwnPropertyDescriptor,Tle=Object.getOwnPropertyNames,Cle=Object.prototype.hasOwnProperty,xt=(e,t)=>Up(e,"name",{value:t,configurable:!0}),Ple=(e,t)=>{for(var r in t)Up(e,r,{get:t[r],enumerable:!0})},AS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tle(t))!Cle.call(e,o)&&o!==r&&Up(e,o,{get:()=>t[o],enumerable:!(n=wle(t,o))||n.enumerable});return e},xS=(e,t,r)=>(AS(e,t,"default"),r&&AS(r,t,"default")),Ale=e=>AS(Up({},"__esModule",{value:!0}),e),Ta={};Ple(Ta,{CONFIG_PREFIX_SEPARATOR:()=>Po,DEFAULT_PROFILE:()=>xB,ENV_PROFILE:()=>IB,getProfileName:()=>Ile,loadSharedConfigFiles:()=>OB,loadSsoSessionData:()=>Hle,parseKnownFiles:()=>qle});Ca.exports=Ale(Ta);xS(Ta,_s(),Ca.exports);var IB="AWS_PROFILE",xB="default",Ile=xt(e=>e.profile||process.env[IB]||xB,"getProfileName");xS(Ta,TS(),Ca.exports);xS(Ta,CB(),Ca.exports);var kp=sr(),xle=xt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Po);return r===-1?!1:Object.values(kp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Po),s=r.substring(0,o)===kp.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Lp=k("path"),Rle=_s(),Ole="AWS_CONFIG_FILE",RB=xt(()=>process.env[Ole]||(0,Lp.join)((0,Rle.getHomeDir)(),".aws","config"),"getConfigFilepath"),Nle=_s(),Dle="AWS_SHARED_CREDENTIALS_FILE",Mle=xt(()=>process.env[Dle]||(0,Lp.join)((0,Nle.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),kle=_s(),Lle=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Ule=["__proto__","profile __proto__"],IS=xt(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=Lle.exec(a);if(c){let[,l,,p]=c;Object.values(kp.IniSectionType).includes(l)&&(r=[l,p].join(Po))}else r=a;if(Ule.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(Po):c;t[r][p]=l}}}}return t},"parseIni"),PB=PS(),AB=xt(()=>({}),"swallowError"),Po=".",OB=xt(async(e={})=>{let{filepath:t=Mle(),configFilepath:r=RB()}=e,n=(0,kle.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,Lp.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,Lp.join)(n,r.slice(2)));let a=await Promise.all([(0,PB.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(IS).then(xle).catch(AB),(0,PB.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(IS).catch(AB)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),Fle=xt(e=>Object.entries(e).filter(([t])=>t.startsWith(kp.IniSectionType.SSO_SESSION+Po)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Po)+1)]:n}),{}),"getSsoSessionData"),Ble=PS(),jle=xt(()=>({}),"swallowError"),Hle=xt(async(e={})=>(0,Ble.slurpFile)(e.configFilepath??RB()).then(IS).then(Fle).catch(jle),"loadSsoSessionData"),$le=xt((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),qle=xt(async e=>{let t=await OB(e);return $le(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Ss=b((DVe,MB)=>{d();var Fp=Object.defineProperty,zle=Object.getOwnPropertyDescriptor,Vle=Object.getOwnPropertyNames,Gle=Object.prototype.hasOwnProperty,Es=(e,t)=>Fp(e,"name",{value:t,configurable:!0}),Wle=(e,t)=>{for(var r in t)Fp(e,r,{get:t[r],enumerable:!0})},Kle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vle(t))!Gle.call(e,o)&&o!==r&&Fp(e,o,{get:()=>t[o],enumerable:!(n=zle(t,o))||n.enumerable});return e},Jle=e=>Kle(Fp({},"__esModule",{value:!0}),e),DB={};Wle(DB,{loadConfig:()=>eue});MB.exports=Jle(DB);var Pa=ua();function OS(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Es(OS,"getSelectorName");var Yle=Es((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Pa.CredentialsProviderError(r.message||`Not found in ENV: ${OS(e.toString())}`,{logger:t?.logger})}},"fromEnv"),NB=RS(),Xle=Es((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,NB.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,NB.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let p=e(c,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(l){throw new Pa.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${OS(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Qle=Es(e=>typeof e=="function","isFunction"),Zle=Es(e=>Qle(e)?async()=>await e():(0,Pa.fromStatic)(e),"fromStatic"),eue=Es(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Pa.memoize)((0,Pa.chain)(Yle(e,i),Xle(t,n),Zle(r)))},"loadConfig")});var FB=b(Bp=>{"use strict";d();Object.defineProperty(Bp,"__esModule",{value:!0});Bp.getEndpointUrlConfig=void 0;var kB=RS(),LB="AWS_ENDPOINT_URL",UB="endpoint_url",tue=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[LB,...r].join("_")];if(n)return n;let o=t[LB];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(kB.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),UB].join(kB.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[UB];if(n)return n},default:void 0});Bp.getEndpointUrlConfig=tue});var NS=b(jp=>{"use strict";d();Object.defineProperty(jp,"__esModule",{value:!0});jp.getEndpointFromConfig=void 0;var rue=Ss(),nue=FB(),oue=async e=>(0,rue.loadConfig)((0,nue.getEndpointUrlConfig)(e??""))();jp.getEndpointFromConfig=oue});var vs=b((BVe,VB)=>{d();var $p=Object.defineProperty,sue=Object.getOwnPropertyDescriptor,iue=Object.getOwnPropertyNames,aue=Object.prototype.hasOwnProperty,Rt=(e,t)=>$p(e,"name",{value:t,configurable:!0}),cue=(e,t)=>{for(var r in t)$p(e,r,{get:t[r],enumerable:!0})},due=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iue(t))!aue.call(e,o)&&o!==r&&$p(e,o,{get:()=>t[o],enumerable:!(n=sue(t,o))||n.enumerable});return e},lue=e=>due($p({},"__esModule",{value:!0}),e),jB={};cue(jB,{endpointMiddleware:()=>qB,endpointMiddlewareOptions:()=>zB,getEndpointFromInstructions:()=>HB,getEndpointPlugin:()=>vue,resolveEndpointConfig:()=>wue,resolveEndpointRequiredConfig:()=>Tue,resolveParams:()=>$B,toEndpointV1:()=>DS});VB.exports=lue(jB);var uue=Rt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),gue(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!hue(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),pue=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,mue=/(\d+\.){3}\d+/,fue=/\.\./,hue=Rt(e=>pue.test(e)&&!mue.test(e)&&!fue.test(e),"isDnsCompatibleBucketName"),gue=Rt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),yue=Rt((e,t,r)=>{let n=Rt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),_ue=NS(),BB=ps(),DS=Rt(e=>typeof e=="object"?"url"in e?(0,BB.parseUrl)(e.url):e:(0,BB.parseUrl)(e),"toEndpointV1"),HB=Rt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,_ue.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(DS(i)),r.isCustomEndpoint=!0)}let o=await $B(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),$B=Rt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await yue(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await uue(n),n},"resolveParams"),Eue=(Lt(),z(fE)),Hp=Nr(),qB=Rt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,Eue.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await HB(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,Hp.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),Sue=os(),zB={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Sue.serializerMiddlewareOption.name},vue=Rt((e,t)=>({applyToStack:r=>{r.addRelativeTo(qB({config:e,instructions:t}),zB)}}),"getEndpointPlugin"),bue=NS(),wue=Rt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>DS(await(0,Hp.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Hp.normalizeProvider)(n??!1),useFipsEndpoint:(0,Hp.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,bue.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),Tue=Rt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});import Cue from"crypto";function Aa(){return qp>zp.length-16&&(Cue.randomFillSync(zp),qp=0),zp.slice(qp,qp+=16)}var zp,qp,MS=y(()=>{d();zp=new Uint8Array(256),qp=zp.length});var GB,WB=y(()=>{d();GB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Pue(e){return typeof e=="string"&&GB.test(e)}var Cn,Ia=y(()=>{d();WB();Cn=Pue});function Ao(e,t=0){return Fe[e[t+0]]+Fe[e[t+1]]+Fe[e[t+2]]+Fe[e[t+3]]+"-"+Fe[e[t+4]]+Fe[e[t+5]]+"-"+Fe[e[t+6]]+Fe[e[t+7]]+"-"+Fe[e[t+8]]+Fe[e[t+9]]+"-"+Fe[e[t+10]]+Fe[e[t+11]]+Fe[e[t+12]]+Fe[e[t+13]]+Fe[e[t+14]]+Fe[e[t+15]]}function Aue(e,t=0){let r=Ao(e,t);if(!Cn(r))throw TypeError("Stringified UUID is invalid");return r}var Fe,KB,xa=y(()=>{d();Ia();Fe=[];for(let e=0;e<256;++e)Fe.push((e+256).toString(16).slice(1));KB=Aue});function Iue(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||JB,i=e.clockseq!==void 0?e.clockseq:kS;if(s==null||i==null){let h=e.random||(e.rng||Aa)();s==null&&(s=JB=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=kS=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:US+1,l=a-LS+(c-US)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>LS)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");LS=a,US=c,kS=i,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||Ao(o)}var JB,kS,LS,US,YB,XB=y(()=>{d();MS();xa();LS=0,US=0;YB=Iue});function xue(e){if(!Cn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Vp,FS=y(()=>{d();Ia();Vp=xue});function Rue(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Ra(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=Rue(o)),typeof s=="string"&&(s=Vp(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let p=0;p<16;++p)i[a+p]=l[p];return i}return Ao(l)}try{n.name=e}catch{}return n.DNS=Oue,n.URL=Nue,n}var Oue,Nue,BS=y(()=>{d();xa();FS();Oue="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Nue="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import Due from"crypto";function Mue(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Due.createHash("md5").update(e).digest()}var QB,ZB=y(()=>{d();QB=Mue});var kue,e1,t1=y(()=>{d();BS();ZB();kue=Ra("v3",48,QB),e1=kue});import Lue from"crypto";var jS,r1=y(()=>{d();jS={randomUUID:Lue.randomUUID}});function Uue(e,t,r){if(jS.randomUUID&&!t&&!e)return jS.randomUUID();e=e||{};let n=e.random||(e.rng||Aa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Ao(n)}var n1,o1=y(()=>{d();r1();MS();xa();n1=Uue});import Fue from"crypto";function Bue(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Fue.createHash("sha1").update(e).digest()}var s1,i1=y(()=>{d();s1=Bue});var jue,a1,c1=y(()=>{d();BS();i1();jue=Ra("v5",80,s1),a1=jue});var d1,l1=y(()=>{d();d1="00000000-0000-0000-0000-000000000000"});function Hue(e){if(!Cn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var u1,p1=y(()=>{d();Ia();u1=Hue});var m1={};$e(m1,{NIL:()=>d1,parse:()=>Vp,stringify:()=>KB,v1:()=>YB,v3:()=>e1,v4:()=>n1,v5:()=>a1,validate:()=>Cn,version:()=>u1});var f1=y(()=>{d();XB();t1();o1();c1();l1();p1();Ia();xa();FS()});var $S=b((GGe,_1)=>{d();var Gp=Object.defineProperty,$ue=Object.getOwnPropertyDescriptor,que=Object.getOwnPropertyNames,zue=Object.prototype.hasOwnProperty,Io=(e,t)=>Gp(e,"name",{value:t,configurable:!0}),Vue=(e,t)=>{for(var r in t)Gp(e,r,{get:t[r],enumerable:!0})},Gue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of que(t))!zue.call(e,o)&&o!==r&&Gp(e,o,{get:()=>t[o],enumerable:!(n=$ue(t,o))||n.enumerable});return e},Wue=e=>Gue(Gp({},"__esModule",{value:!0}),e),h1={};Vue(h1,{isBrowserNetworkError:()=>y1,isClockSkewCorrectedError:()=>g1,isClockSkewError:()=>tpe,isRetryableByTrait:()=>epe,isServerError:()=>npe,isThrottlingError:()=>rpe,isTransientError:()=>HS});_1.exports=Wue(h1);var Kue=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Jue=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Yue=["TimeoutError","RequestTimeout","RequestTimeoutException"],Xue=[500,502,503,504],Que=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Zue=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],epe=Io(e=>e.$retryable!==void 0,"isRetryableByTrait"),tpe=Io(e=>Kue.includes(e.name),"isClockSkewError"),g1=Io(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),y1=Io(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),rpe=Io(e=>e.$metadata?.httpStatusCode===429||Jue.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),HS=Io((e,t=0)=>g1(e)||Yue.includes(e.name)||Que.includes(e?.code||"")||Zue.includes(e?.code||"")||Xue.includes(e.$metadata?.httpStatusCode||0)||y1(e)||e.cause!==void 0&&t<=10&&HS(e.cause,t+1),"isTransientError"),npe=Io(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!HS(e)}return!1},"isServerError")});var Kp=b((KGe,I1)=>{d();var Wp=Object.defineProperty,ope=Object.getOwnPropertyDescriptor,spe=Object.getOwnPropertyNames,ipe=Object.prototype.hasOwnProperty,Ft=(e,t)=>Wp(e,"name",{value:t,configurable:!0}),ape=(e,t)=>{for(var r in t)Wp(e,r,{get:t[r],enumerable:!0})},cpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of spe(t))!ipe.call(e,o)&&o!==r&&Wp(e,o,{get:()=>t[o],enumerable:!(n=ope(t,o))||n.enumerable});return e},dpe=e=>cpe(Wp({},"__esModule",{value:!0}),e),S1={};ape(S1,{AdaptiveRetryStrategy:()=>hpe,ConfiguredRetryStrategy:()=>gpe,DEFAULT_MAX_ATTEMPTS:()=>qS,DEFAULT_RETRY_DELAY_BASE:()=>Oa,DEFAULT_RETRY_MODE:()=>lpe,DefaultRateLimiter:()=>b1,INITIAL_RETRY_TOKENS:()=>zS,INVOCATION_ID_HEADER:()=>ppe,MAXIMUM_RETRY_DELAY:()=>VS,NO_RETRY_INCREMENT:()=>A1,REQUEST_HEADER:()=>mpe,RETRY_COST:()=>C1,RETRY_MODES:()=>v1,StandardRetryStrategy:()=>GS,THROTTLING_RETRY_DELAY_BASE:()=>T1,TIMEOUT_RETRY_COST:()=>P1});I1.exports=dpe(S1);var v1=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(v1||{}),qS=3,lpe="standard",upe=$S(),b1=class w1{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Ft(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>w1.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,upe.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Oa=100,VS=20*1e3,T1=500,zS=500,C1=5,P1=10,A1=1,ppe="amz-sdk-invocation-id",mpe="amz-sdk-request",fpe=Ft(()=>{let e=Oa;return{computeNextBackoffDelay:Ft(n=>Math.floor(Math.min(VS,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Ft(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),E1=Ft(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Ft(()=>t,"getRetryCount"),getRetryDelay:Ft(()=>Math.min(VS,e),"getRetryDelay"),getRetryCost:Ft(()=>r,"getRetryCost")}),"createDefaultRetryToken"),GS=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=zS,this.retryBackoffStrategy=fpe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{Ft(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return E1({retryDelay:Oa,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?T1:Oa);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,E1({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(zS,this.capacity+(e.getRetryCost()??A1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${qS}`),qS}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?P1:C1}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},hpe=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new b1,this.standardRetryStrategy=new GS(e)}static{Ft(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},gpe=class extends GS{static{Ft(this,"ConfiguredRetryStrategy")}constructor(e,t=Oa){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var x1=b(Jp=>{"use strict";d();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.isStreamingPayload=void 0;var ype=k("stream"),_pe=e=>e?.body instanceof ype.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Jp.isStreamingPayload=_pe});var Na=b((t2e,z1)=>{d();var Yp=Object.defineProperty,Epe=Object.getOwnPropertyDescriptor,Spe=Object.getOwnPropertyNames,vpe=Object.prototype.hasOwnProperty,we=(e,t)=>Yp(e,"name",{value:t,configurable:!0}),bpe=(e,t)=>{for(var r in t)Yp(e,r,{get:t[r],enumerable:!0})},wpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Spe(t))!vpe.call(e,o)&&o!==r&&Yp(e,o,{get:()=>t[o],enumerable:!(n=Epe(t,o))||n.enumerable});return e},Tpe=e=>wpe(Yp({},"__esModule",{value:!0}),e),O1={};bpe(O1,{AdaptiveRetryStrategy:()=>Ape,CONFIG_MAX_ATTEMPTS:()=>KS,CONFIG_RETRY_MODE:()=>F1,ENV_MAX_ATTEMPTS:()=>WS,ENV_RETRY_MODE:()=>U1,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>Ipe,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Rpe,StandardRetryStrategy:()=>L1,defaultDelayDecider:()=>D1,defaultRetryDecider:()=>M1,getOmitRetryHeadersPlugin:()=>Ope,getRetryAfterHint:()=>q1,getRetryPlugin:()=>Upe,omitRetryHeadersMiddleware:()=>B1,omitRetryHeadersMiddlewareOptions:()=>j1,resolveRetryConfig:()=>xpe,retryMiddleware:()=>H1,retryMiddlewareOptions:()=>$1});z1.exports=Tpe(O1);var bs=he(),N1=(f1(),z(m1)),ge=Kp(),Cpe=we((e,t)=>{let r=e,n=t?.noRetryIncrement??ge.NO_RETRY_INCREMENT,o=t?.retryCost??ge.RETRY_COST,s=t?.timeoutRetryCost??ge.TIMEOUT_RETRY_COST,i=e,a=we(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),c=we(f=>a(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:we(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:we(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),D1=we((e,t)=>Math.floor(Math.min(ge.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Pn=$S(),M1=we(e=>e?(0,Pn.isRetryableByTrait)(e)||(0,Pn.isClockSkewError)(e)||(0,Pn.isThrottlingError)(e)||(0,Pn.isTransientError)(e):!1,"defaultRetryDecider"),k1=we(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),L1=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ge.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??M1,this.delayDecider=t?.delayDecider??D1,this.retryQuota=t?.retryQuota??Cpe(ge.INITIAL_RETRY_TOKENS)}static{we(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ge.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(bs.HttpRequest.isInstance(a)&&(a.headers[ge.INVOCATION_ID_HEADER]=(0,N1.v4)());;)try{bs.HttpRequest.isInstance(a)&&(a.headers[ge.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=k1(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,Pn.isThrottlingError)(l)?ge.THROTTLING_RETRY_DELAY_BASE:ge.DEFAULT_RETRY_DELAY_BASE,o),f=Ppe(l.$response),h=Math.max(f||0,p);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},Ppe=we(e=>{if(!bs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Ape=class extends L1{static{we(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ge.DefaultRateLimiter,this.mode=ge.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},R1=Nr(),WS="AWS_MAX_ATTEMPTS",KS="max_attempts",Ipe={environmentVariableSelector:e=>{let t=e[WS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${WS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[KS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${KS} mast be a number, got "${t}"`);return r},default:ge.DEFAULT_MAX_ATTEMPTS},xpe=we(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,R1.normalizeProvider)(n??ge.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,R1.normalizeProvider)(r)()===ge.RETRY_MODES.ADAPTIVE?new ge.AdaptiveRetryStrategy(o):new ge.StandardRetryStrategy(o))})},"resolveRetryConfig"),U1="AWS_RETRY_MODE",F1="retry_mode",Rpe={environmentVariableSelector:e=>e[U1],configFileSelector:e=>e[F1],default:ge.DEFAULT_RETRY_MODE},B1=we(()=>e=>async t=>{let{request:r}=t;return bs.HttpRequest.isInstance(r)&&(delete r.headers[ge.INVOCATION_ID_HEADER],delete r.headers[ge.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),j1={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Ope=we(e=>({applyToStack:t=>{t.addRelativeTo(B1(),j1)}}),"getOmitRetryHeadersPlugin"),Npe=oe(),Dpe=x1(),H1=we(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Mpe(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:p}=n,f=bs.HttpRequest.isInstance(p);for(f&&(p.headers[ge.INVOCATION_ID_HEADER]=(0,N1.v4)());;)try{f&&(p.headers[ge.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:h,output:g}}catch(h){let g=kpe(h);if(a=k1(h),f&&(0,Dpe.isStreamingPayload)(p))throw(r.logger instanceof Npe.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let _=i.getRetryDelay();l+=_,await new Promise(E=>setTimeout(E,_))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),Mpe=we(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),kpe=we(e=>{let t={error:e,errorType:Lpe(e)},r=q1(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Lpe=we(e=>(0,Pn.isThrottlingError)(e)?"THROTTLING":(0,Pn.isTransientError)(e)?"TRANSIENT":(0,Pn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),$1={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Upe=we(e=>({applyToStack:t=>{t.add(H1(e),$1)}}),"getRetryPlugin"),q1=we(e=>{if(!bs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});function Fpe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Bpe(e){return{schemeId:"smithy.api#noAuth"}}var Da,V1,G1,W1,JS=y(()=>{d();pr();Da=T(Nr()),V1=async(e,t,r)=>({operation:(0,Da.getSmithyContext)(t).operation,region:await(0,Da.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});G1=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(Bpe(e));break}default:t.push(Fpe(e))}return t},W1=e=>{let t=hs(e);return Object.assign(t,{authSchemePreference:(0,Da.normalizeProvider)(e.authSchemePreference??[])})}});var K1,J1,YS=y(()=>{d();K1=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),J1={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Xp,XS=y(()=>{Xp={name:"@aws-sdk/nested-clients",version:"3.848.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var ZS=b((u2e,rj)=>{"use strict";d();var Zp=Object.defineProperty,Hpe=Object.getOwnPropertyDescriptor,$pe=Object.getOwnPropertyNames,qpe=Object.prototype.hasOwnProperty,Qp=(e,t)=>Zp(e,"name",{value:t,configurable:!0}),zpe=(e,t)=>{for(var r in t)Zp(e,r,{get:t[r],enumerable:!0})},Vpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $pe(t))!qpe.call(e,o)&&o!==r&&Zp(e,o,{get:()=>t[o],enumerable:!(n=Hpe(t,o))||n.enumerable});return e},Gpe=e=>Vpe(Zp({},"__esModule",{value:!0}),e),X1={};zpe(X1,{NODE_APP_ID_CONFIG_OPTIONS:()=>Xpe,UA_APP_ID_ENV_NAME:()=>ej,UA_APP_ID_INI_NAME:()=>tj,createDefaultUserAgentProvider:()=>Z1,crtAvailability:()=>Q1,defaultUserAgent:()=>Kpe});rj.exports=Gpe(X1);var Y1=k("os"),QS=k("process"),Q1={isCrtAvailable:!1},Wpe=Qp(()=>Q1.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Z1=Qp(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,Y1.platform)()}`,(0,Y1.release)()],["lang/js"],["md/nodejs",`${QS.versions.node}`]],o=Wpe();o&&n.push(o),e&&n.push([`api/${e}`,t]),QS.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${QS.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),Kpe=Z1,Jpe=Pp(),ej="AWS_SDK_UA_APP_ID",tj="sdk_ua_app_id",Ype="sdk-ua-app-id",Xpe={environmentVariableSelector:Qp(e=>e[ej],"environmentVariableSelector"),configFileSelector:Qp(e=>e[tj]??e[Ype],"configFileSelector"),default:Jpe.DEFAULT_UA_APP_ID}});var rv=b((m2e,ij)=>{d();var em=Object.defineProperty,Qpe=Object.getOwnPropertyDescriptor,Zpe=Object.getOwnPropertyNames,eme=Object.prototype.hasOwnProperty,oj=(e,t)=>em(e,"name",{value:t,configurable:!0}),tme=(e,t)=>{for(var r in t)em(e,r,{get:t[r],enumerable:!0})},rme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zpe(t))!eme.call(e,o)&&o!==r&&em(e,o,{get:()=>t[o],enumerable:!(n=Qpe(t,o))||n.enumerable});return e},nme=e=>rme(em({},"__esModule",{value:!0}),e),sj={};tme(sj,{Hash:()=>ime});ij.exports=nme(sj);var ev=ss(),ome=Xe(),sme=k("buffer"),nj=k("crypto"),ime=class{static{oj(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,ome.toUint8Array)(tv(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,nj.createHmac)(this.algorithmIdentifier,tv(this.secret)):(0,nj.createHash)(this.algorithmIdentifier)}};function tv(e,t){return sme.Buffer.isBuffer(e)?e:typeof e=="string"?(0,ev.fromString)(e,t):ArrayBuffer.isView(e)?(0,ev.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,ev.fromArrayBuffer)(e)}oj(tv,"castSourceData")});var ov=b((g2e,dj)=>{d();var tm=Object.defineProperty,ame=Object.getOwnPropertyDescriptor,cme=Object.getOwnPropertyNames,dme=Object.prototype.hasOwnProperty,lme=(e,t)=>tm(e,"name",{value:t,configurable:!0}),ume=(e,t)=>{for(var r in t)tm(e,r,{get:t[r],enumerable:!0})},pme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cme(t))!dme.call(e,o)&&o!==r&&tm(e,o,{get:()=>t[o],enumerable:!(n=ame(t,o))||n.enumerable});return e},mme=e=>pme(tm({},"__esModule",{value:!0}),e),cj={};ume(cj,{calculateBodyLength:()=>fme});dj.exports=mme(cj);var aj=k("fs"),fme=lme(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,aj.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,aj.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var Ej,Nt,lj,Ma,ws,Ts,jr,sv,iv,uj,pj,mj,Sj,vj,Ot,fj,bj,hj,gj,yj,_j,hme,wj,Tj=y(()=>{d();Ej="required",Nt="argv",lj="isSet",Ma="booleanEquals",ws="error",Ts="endpoint",jr="tree",sv="PartitionResult",iv="getAttr",uj={[Ej]:!1,type:"String"},pj={[Ej]:!0,default:!1,type:"Boolean"},mj={ref:"Endpoint"},Sj={fn:Ma,[Nt]:[{ref:"UseFIPS"},!0]},vj={fn:Ma,[Nt]:[{ref:"UseDualStack"},!0]},Ot={},fj={fn:iv,[Nt]:[{ref:sv},"supportsFIPS"]},bj={ref:sv},hj={fn:Ma,[Nt]:[!0,{fn:iv,[Nt]:[bj,"supportsDualStack"]}]},gj=[Sj],yj=[vj],_j=[{ref:"Region"}],hme={version:"1.0",parameters:{Region:uj,UseDualStack:pj,UseFIPS:pj,Endpoint:uj},rules:[{conditions:[{fn:lj,[Nt]:[mj]}],rules:[{conditions:gj,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ws},{conditions:yj,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ws},{endpoint:{url:mj,properties:Ot,headers:Ot},type:Ts}],type:jr},{conditions:[{fn:lj,[Nt]:_j}],rules:[{conditions:[{fn:"aws.partition",[Nt]:_j,assign:sv}],rules:[{conditions:[Sj,vj],rules:[{conditions:[{fn:Ma,[Nt]:[!0,fj]},hj],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:Ts}],type:jr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ws}],type:jr},{conditions:gj,rules:[{conditions:[{fn:Ma,[Nt]:[fj,!0]}],rules:[{conditions:[{fn:"stringEquals",[Nt]:[{fn:iv,[Nt]:[bj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ot,headers:Ot},type:Ts},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:Ts}],type:jr},{error:"FIPS is enabled but this partition does not support FIPS",type:ws}],type:jr},{conditions:yj,rules:[{conditions:[hj],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:Ts}],type:jr},{error:"DualStack is enabled but this partition does not support DualStack",type:ws}],type:jr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:Ts}],type:jr}],type:jr},{error:"Invalid Configuration: Missing Region",type:ws}]},wj=hme});var Cj,Cs,gme,Pj,Aj=y(()=>{d();Cj=T(Xu()),Cs=T(Wu());Tj();gme=new Cs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Pj=(e,t={})=>gme.get(e,()=>(0,Cs.resolveEndpoint)(wj,{endpointParams:e,logger:t.logger}));Cs.customEndpointFunctions.aws=Cj.awsEndpointFunctions});var Ij,xj,rm,nm,Rj,Oj=y(()=>{d();pr();Lt();Ij=T(oe()),xj=T(ps()),rm=T(lt()),nm=T(Xe());JS();Aj();Rj=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??rm.fromBase64,base64Encoder:e?.base64Encoder??rm.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Pj,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??G1,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ur}],logger:e?.logger??new Ij.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??xj.parseUrl,utf8Decoder:e?.utf8Decoder??nm.fromUtf8,utf8Encoder:e?.utf8Encoder??nm.toUtf8})});var Gj=b((x2e,Vj)=>{d();var im=Object.defineProperty,yme=Object.getOwnPropertyDescriptor,_me=Object.getOwnPropertyNames,Eme=Object.prototype.hasOwnProperty,Te=(e,t)=>im(e,"name",{value:t,configurable:!0}),Sme=(e,t)=>{for(var r in t)im(e,r,{get:t[r],enumerable:!0})},vme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _me(t))!Eme.call(e,o)&&o!==r&&im(e,o,{get:()=>t[o],enumerable:!(n=yme(t,o))||n.enumerable});return e},bme=e=>vme(im({},"__esModule",{value:!0}),e),kj={};Sme(kj,{DEFAULT_MAX_RETRIES:()=>Bj,DEFAULT_TIMEOUT:()=>Fj,ENV_CMDS_AUTH_TOKEN:()=>dv,ENV_CMDS_FULL_URI:()=>om,ENV_CMDS_RELATIVE_URI:()=>sm,Endpoint:()=>Hj,fromContainerMetadata:()=>Pme,fromInstanceMetadata:()=>Wme,getInstanceMetadataEndpoint:()=>qj,httpRequest:()=>Ps,providerConfigFromInit:()=>lv});Vj.exports=bme(kj);var wme=k("url"),fr=ua(),Tme=k("buffer"),Cme=k("http");function Ps(e){return new Promise((t,r)=>{let n=(0,Cme.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new fr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new fr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new fr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(Tme.Buffer.concat(i)),n.destroy()})}),n.end()})}Te(Ps,"httpRequest");var Lj=Te(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),Uj=Te(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),Fj=1e3,Bj=0,lv=Te(({maxRetries:e=Bj,timeout:t=Fj})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),cv=Te((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),om="AWS_CONTAINER_CREDENTIALS_FULL_URI",sm="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",dv="AWS_CONTAINER_AUTHORIZATION_TOKEN",Pme=Te((e={})=>{let{timeout:t,maxRetries:r}=lv(e);return()=>cv(async()=>{let n=await Ome({logger:e.logger}),o=JSON.parse(await Ame(t,n));if(!Lj(o))throw new fr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Uj(o)},r)},"fromContainerMetadata"),Ame=Te(async(e,t)=>(process.env[dv]&&(t.headers={...t.headers,Authorization:process.env[dv]}),(await Ps({...t,timeout:e})).toString()),"requestFromEcsImds"),Ime="169.254.170.2",xme={localhost:!0,"127.0.0.1":!0},Rme={"http:":!0,"https:":!0},Ome=Te(async({logger:e})=>{if(process.env[sm])return{hostname:Ime,path:process.env[sm]};if(process.env[om]){let t=(0,wme.parse)(process.env[om]);if(!t.hostname||!(t.hostname in xme))throw new fr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in Rme))throw new fr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new fr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${sm} or ${om} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),Nme=class jj extends fr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,jj.prototype)}static{Te(this,"InstanceMetadataV1FallbackError")}},uv=Ss(),Dme=ps(),Hj=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(Hj||{}),Mme="AWS_EC2_METADATA_SERVICE_ENDPOINT",kme="ec2_metadata_service_endpoint",Lme={environmentVariableSelector:e=>e[Mme],configFileSelector:e=>e[kme],default:void 0},$j=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))($j||{}),Ume="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Fme="ec2_metadata_service_endpoint_mode",Bme={environmentVariableSelector:e=>e[Ume],configFileSelector:e=>e[Fme],default:"IPv4"},qj=Te(async()=>(0,Dme.parseUrl)(await jme()||await Hme()),"getInstanceMetadataEndpoint"),jme=Te(async()=>(0,uv.loadConfig)(Lme)(),"getFromEndpointConfig"),Hme=Te(async()=>{let e=await(0,uv.loadConfig)(Bme)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values($j)}`)}},"getFromEndpointModeConfig"),$me=300,qme=300,zme="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Nj=Te((e,t)=>{let r=$me+Math.floor(Math.random()*qme),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+zme);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Vme=Te((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Nj(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Nj(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),zj="/latest/meta-data/iam/security-credentials/",Gme="/latest/api/token",av="AWS_EC2_METADATA_V1_DISABLED",Dj="ec2_metadata_v1_disabled",Mj="x-aws-ec2-metadata-token",Wme=Te((e={})=>Vme(Kme(e),{logger:e.logger}),"fromInstanceMetadata"),Kme=Te((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=lv(e),i=Te(async(a,c)=>{if(t||c.headers?.[Mj]==null){let f=!1,h=!1,g=await(0,uv.loadConfig)({environmentVariableSelector:_=>{let E=_[av];if(h=!!E&&E!=="false",E===void 0)throw new fr.CredentialsProviderError(`${av} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:_=>{let E=_[Dj];return f=!!E&&E!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${Dj})`),h&&_.push(`process environment variable (${av})`),new Nme(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let p=(await cv(async()=>{let f;try{f=await Yme(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)).trim();return cv(async()=>{let f;try{f=await Xme(p,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)},"getCredentials");return async()=>{let a=await qj();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await Jme({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Mj]:c},timeout:o})}}},"getInstanceMetadataProvider"),Jme=Te(async e=>Ps({...e,path:Gme,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Yme=Te(async e=>(await Ps({...e,path:zj})).toString(),"getProfile"),Xme=Te(async(e,t,r)=>{let n=JSON.parse((await Ps({...t,path:zj+e})).toString());if(!Lj(n))throw new fr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Uj(n)},"getCredentialsFromProfile")});var mv=b((O2e,Qj)=>{d();var Qme=Object.create,ka=Object.defineProperty,Zme=Object.getOwnPropertyDescriptor,efe=Object.getOwnPropertyNames,tfe=Object.getPrototypeOf,rfe=Object.prototype.hasOwnProperty,pv=(e,t)=>ka(e,"name",{value:t,configurable:!0}),nfe=(e,t)=>{for(var r in t)ka(e,r,{get:t[r],enumerable:!0})},Yj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of efe(t))!rfe.call(e,o)&&o!==r&&ka(e,o,{get:()=>t[o],enumerable:!(n=Zme(t,o))||n.enumerable});return e},ofe=(e,t,r)=>(r=e!=null?Qme(tfe(e)):{},Yj(t||!e||!e.__esModule?ka(r,"default",{value:e,enumerable:!0}):r,e)),sfe=e=>Yj(ka({},"__esModule",{value:!0}),e),Xj={};nfe(Xj,{resolveDefaultsModeConfig:()=>hfe});Qj.exports=sfe(Xj);var ife=ys(),Wj=Ss(),afe=ua(),cfe="AWS_EXECUTION_ENV",Kj="AWS_REGION",Jj="AWS_DEFAULT_REGION",dfe="AWS_EC2_METADATA_DISABLED",lfe=["in-region","cross-region","mobile","standard","legacy"],ufe="/latest/meta-data/placement/region",pfe="AWS_DEFAULTS_MODE",mfe="defaults_mode",ffe={environmentVariableSelector:e=>e[pfe],configFileSelector:e=>e[mfe],default:"legacy"},hfe=pv(({region:e=(0,Wj.loadConfig)(ife.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,Wj.loadConfig)(ffe)}={})=>(0,afe.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return gfe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${lfe.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),gfe=pv(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await yfe();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),yfe=pv(async()=>{if(process.env[cfe]&&(process.env[Kj]||process.env[Jj]))return process.env[Kj]??process.env[Jj];if(!process.env[dfe])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>ofe(Gj())),r=await e();return(await t({...r,path:ufe})).toString()}catch{}},"inferPhysicalRegion")});var am,In,Zj,cm,An,dm,eH,tH,rH,nH,oH,sH,iH=y(()=>{d();XS();pr();am=T(ZS()),In=T(ys()),Zj=T(rv()),cm=T(Na()),An=T(Ss()),dm=T(Au()),eH=T(ov()),tH=T(Kp());Oj();rH=T(oe()),nH=T(mv()),oH=T(oe()),sH=e=>{(0,oH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,nH.resolveDefaultsModeConfig)(e),r=()=>t().then(rH.loadConfigsForDefaultMode),n=Rj(e);aa(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,An.loadConfig)(la,o),bodyLengthChecker:e?.bodyLengthChecker??eH.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,am.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Xp.version}),maxAttempts:e?.maxAttempts??(0,An.loadConfig)(cm.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,An.loadConfig)(In.NODE_REGION_CONFIG_OPTIONS,{...In.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:dm.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,An.loadConfig)({...cm.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||tH.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Zj.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??dm.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,An.loadConfig)(In.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,An.loadConfig)(In.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,An.loadConfig)(am.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var fv=b((F2e,pH)=>{"use strict";d();var lm=Object.defineProperty,_fe=Object.getOwnPropertyDescriptor,Efe=Object.getOwnPropertyNames,Sfe=Object.prototype.hasOwnProperty,hr=(e,t)=>lm(e,"name",{value:t,configurable:!0}),vfe=(e,t)=>{for(var r in t)lm(e,r,{get:t[r],enumerable:!0})},bfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Efe(t))!Sfe.call(e,o)&&o!==r&&lm(e,o,{get:()=>t[o],enumerable:!(n=_fe(t,o))||n.enumerable});return e},wfe=e=>bfe(lm({},"__esModule",{value:!0}),e),cH={};vfe(cH,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Afe,NODE_REGION_CONFIG_OPTIONS:()=>Pfe,REGION_ENV_NAME:()=>dH,REGION_INI_NAME:()=>lH,getAwsRegionExtensionConfiguration:()=>Tfe,resolveAwsRegionExtensionConfiguration:()=>Cfe,resolveRegionConfig:()=>Ife});pH.exports=wfe(cH);var Tfe=hr(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Cfe=hr(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),dH="AWS_REGION",lH="region",Pfe={environmentVariableSelector:hr(e=>e[dH],"environmentVariableSelector"),configFileSelector:hr(e=>e[lH],"configFileSelector"),default:hr(()=>{throw new Error("Region is missing")},"default")},Afe={preferredFile:"credentials"},uH=hr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),aH=hr(e=>uH(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Ife=hr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:hr(async()=>{if(typeof t=="string")return aH(t);let n=await t();return aH(n)},"region"),useFipsEndpoint:hr(async()=>{let n=typeof t=="string"?t:await t();return uH(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var mH,fH,hH=y(()=>{d();mH=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},fH=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var um,pm,mm,gH,yH=y(()=>{d();um=T(fv()),pm=T(he()),mm=T(oe());hH();gH=(e,t)=>{let r=Object.assign((0,um.getAwsRegionExtensionConfiguration)(e),(0,mm.getDefaultExtensionConfiguration)(e),(0,pm.getHttpHandlerExtensionConfiguration)(e),mH(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,um.resolveAwsRegionExtensionConfiguration)(r),(0,mm.resolveDefaultRuntimeConfig)(r),(0,pm.resolveHttpHandlerRuntimeConfig)(r),fH(r))}});var fm,_H,EH,hm,SH,vH,bH,gm,hv,La,gv=y(()=>{d();fm=T(Xy()),_H=T(Zy()),EH=T(t_()),hm=T(Pp()),SH=T(ys());Lt();vH=T(bS()),bH=T(vs()),gm=T(Na()),hv=T(oe());JS();YS();iH();yH();La=class extends hv.Client{config;constructor(...[t]){let r=sH(t||{});super(r),this.initConfig=r;let n=K1(r),o=(0,hm.resolveUserAgentConfig)(n),s=(0,gm.resolveRetryConfig)(o),i=(0,SH.resolveRegionConfig)(s),a=(0,fm.resolveHostHeaderConfig)(i),c=(0,bH.resolveEndpointConfig)(a),l=W1(c),p=gH(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,hm.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,gm.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vH.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,fm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,_H.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,EH.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Hi(this.config,{httpAuthSchemeParametersProvider:V1,identityProviderConfigProvider:async f=>new go({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($i(this.config))}destroy(){super.destroy()}}});var wH,Oe,ym=y(()=>{d();wH=T(oe()),Oe=class e extends wH.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var xo,Ua,Fa,yv,_v,Ba,ja,Ha,$a,qa,za,Va,Ga,Wa,_m=y(()=>{d();xo=T(oe());ym();Ua=class e extends Oe{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Fa=class e extends Oe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},yv=e=>({...e,...e.clientSecret&&{clientSecret:xo.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:xo.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:xo.SENSITIVE_STRING}}),_v=e=>({...e,...e.accessToken&&{accessToken:xo.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:xo.SENSITIVE_STRING},...e.idToken&&{idToken:xo.SENSITIVE_STRING}}),Ba=class e extends Oe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ja=class e extends Oe{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ha=class e extends Oe{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$a=class e extends Oe{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qa=class e extends Oe{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},za=class e extends Oe{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Va=class e extends Oe{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ga=class e extends Oe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Wa=class e extends Oe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var x,TH,CH,xfe,Rfe,Ofe,Nfe,Dfe,Mfe,kfe,Lfe,Ufe,Ffe,Bfe,jfe,Hfe,Dt,PH=y(()=>{d();pr();Lt();x=T(oe());_m();ym();TH=async(e,t)=>{let r=oa(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,x.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,x._json)(s)})),r.m("POST").h(n).b(o),r.build()},CH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xfe(e,t);let r=(0,x.map)({$metadata:Dt(e)}),n=(0,x.expectNonNull)((0,x.expectObject)(await gs(e.body,t)),"body"),o=(0,x.take)(n,{accessToken:x.expectString,expiresIn:x.expectInt32,idToken:x.expectString,refreshToken:x.expectString,tokenType:x.expectString});return Object.assign(r,o),r},xfe=async(e,t)=>{let r={...e,body:await JE(e.body,t)},n=So(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Ofe(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Nfe(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Dfe(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Mfe(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await kfe(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Lfe(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Ufe(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Ffe(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Bfe(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await jfe(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Hfe(r,t);default:let o=r.body;return Rfe({output:e,parsedBody:o,errorCode:n})}},Rfe=(0,x.withBaseException)(Oe),Ofe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new Ua({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Nfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new Fa({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Dfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new Ba({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Mfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new ja({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},kfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new Ha({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Lfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new $a({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Ufe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new qa({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Ffe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new za({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Bfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new Va({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},jfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new Ga({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Hfe=async(e,t)=>{let r=(0,x.map)({}),n=e.body,o=(0,x.take)(n,{error:x.expectString,error_description:x.expectString});Object.assign(r,o);let s=new Wa({$metadata:Dt(e),...r});return(0,x.decorateServiceException)(s,e.body)},Dt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var AH,IH,Ev,Ka,Sv=y(()=>{d();AH=T(vs()),IH=T(os()),Ev=T(oe());YS();_m();PH();Ka=class extends Ev.Command.classBuilder().ep(J1).m(function(t,r,n,o){return[(0,IH.getSerdePlugin)(n,this.serialize,this.deserialize),(0,AH.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(yv,_v).ser(TH).de(CH).build(){}});var xH,$fe,Em,RH=y(()=>{d();xH=T(oe());Sv();gv();$fe={CreateTokenCommand:Ka},Em=class extends La{};(0,xH.createAggregatedClient)($fe,Em)});var OH=y(()=>{d();Sv()});var NH=y(()=>{d();_m()});var vv={};$e(vv,{$Command:()=>Ev.Command,AccessDeniedException:()=>Ua,AuthorizationPendingException:()=>Fa,CreateTokenCommand:()=>Ka,CreateTokenRequestFilterSensitiveLog:()=>yv,CreateTokenResponseFilterSensitiveLog:()=>_v,ExpiredTokenException:()=>Ba,InternalServerException:()=>ja,InvalidClientException:()=>Ha,InvalidGrantException:()=>$a,InvalidRequestException:()=>qa,InvalidScopeException:()=>za,SSOOIDC:()=>Em,SSOOIDCClient:()=>La,SSOOIDCServiceException:()=>Oe,SlowDownException:()=>Va,UnauthorizedClientException:()=>Ga,UnsupportedGrantTypeException:()=>Wa,__Client:()=>hv.Client});var bv=y(()=>{d();gv();RH();OH();NH();ym()});var jH=b((R3e,BH)=>{"use strict";d();var qfe=Object.create,Ya=Object.defineProperty,zfe=Object.getOwnPropertyDescriptor,Vfe=Object.getOwnPropertyNames,Gfe=Object.getPrototypeOf,Wfe=Object.prototype.hasOwnProperty,Hr=(e,t)=>Ya(e,"name",{value:t,configurable:!0}),Kfe=(e,t)=>{for(var r in t)Ya(e,r,{get:t[r],enumerable:!0})},kH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vfe(t))!Wfe.call(e,o)&&o!==r&&Ya(e,o,{get:()=>t[o],enumerable:!(n=zfe(t,o))||n.enumerable});return e},LH=(e,t,r)=>(r=e!=null?qfe(Gfe(e)):{},kH(t||!e||!e.__esModule?Ya(r,"default",{value:e,enumerable:!0}):r,e)),Jfe=e=>kH(Ya({},"__esModule",{value:!0}),e),UH={};Kfe(UH,{fromEnvSigningName:()=>Qfe,fromSso:()=>FH,fromStatic:()=>she,nodeProvider:()=>ihe});BH.exports=Jfe(UH);var Yfe=(Zt(),z(Zr)),Xfe=(lg(),z(_I)),mt=Je(),Qfe=Hr(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new mt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Xfe.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new mt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,Yfe.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),Zfe=300*1e3,wv="To refresh this SSO session run 'aws sso login' with the corresponding profile.",ehe=Hr(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>LH((bv(),z(vv))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),the=Hr(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>LH((bv(),z(vv))));return(await ehe(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),DH=Hr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new mt.TokenProviderError(`Token is expired. ${wv}`,!1)},"validateTokenExpiry"),Ro=Hr((e,t,r=!1)=>{if(typeof t>"u")throw new mt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${wv}`,!1)},"validateTokenKey"),Ja=un(),rhe=k("fs"),{writeFile:nhe}=rhe.promises,ohe=Hr((e,t)=>{let r=(0,Ja.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return nhe(r,n)},"writeSSOTokenToFile"),MH=new Date(0),FH=Hr((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Ja.parseKnownFiles)(r),o=(0,Ja.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new mt.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new mt.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,c=(await(0,Ja.loadSsoSessionData)(r))[i];if(!c)throw new mt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!c[E])throw new mt.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);let l=c.sso_start_url,p=c.sso_region,f;try{f=await(0,Ja.getSSOTokenFromFile)(i)}catch{throw new mt.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${wv}`,!1)}Ro("accessToken",f.accessToken),Ro("expiresAt",f.expiresAt);let{accessToken:h,expiresAt:g}=f,_={token:h,expiration:new Date(g)};if(_.expiration.getTime()-Date.now()>Zfe)return _;if(Date.now()-MH.getTime()<30*1e3)return DH(_),_;Ro("clientId",f.clientId,!0),Ro("clientSecret",f.clientSecret,!0),Ro("refreshToken",f.refreshToken,!0);try{MH.setTime(Date.now());let E=await the(f,p,r);Ro("accessToken",E.accessToken),Ro("expiresIn",E.expiresIn);let S=new Date(Date.now()+E.expiresIn*1e3);try{await ohe(i,{...f,accessToken:E.accessToken,expiresAt:S.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:S}}catch{return DH(_),_}},"fromSso"),she=Hr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new mt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),ihe=Hr((e={})=>(0,mt.memoize)((0,mt.chain)(FH(e),async()=>{throw new mt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Cv=b((N3e,JH)=>{"use strict";d();var vm=Object.defineProperty,ahe=Object.getOwnPropertyDescriptor,qH=Object.getOwnPropertyNames,che=Object.prototype.hasOwnProperty,bm=(e,t)=>vm(e,"name",{value:t,configurable:!0}),dhe=(e,t)=>function(){return e&&(t=(0,e[qH(e)[0]])(e=0)),t},zH=(e,t)=>{for(var r in t)vm(e,r,{get:t[r],enumerable:!0})},lhe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qH(t))!che.call(e,o)&&o!==r&&vm(e,o,{get:()=>t[o],enumerable:!(n=ahe(t,o))||n.enumerable});return e},uhe=e=>lhe(vm({},"__esModule",{value:!0}),e),VH={};zH(VH,{GetRoleCredentialsCommand:()=>Tv.GetRoleCredentialsCommand,SSOClient:()=>Tv.SSOClient});var Tv,phe=dhe({"src/loadSso.ts"(){"use strict";Tv=nD()}}),GH={};zH(GH,{fromSSO:()=>fhe,isSsoProfile:()=>WH,validateSsoProfile:()=>KH});JH.exports=uhe(GH);var WH=bm(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),HH=(Zt(),z(Zr)),mhe=jH(),Bt=Je(),Sm=un(),Xa=!1,$H=bm(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let p,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let se=await(0,mhe.fromSso)({profile:c})();p={accessToken:se.token,expiresAt:new Date(se.expiration).toISOString()}}catch(se){throw new Bt.CredentialsProviderError(se.message,{tryNextLink:Xa,logger:l})}else try{p=await(0,Sm.getSSOTokenFromFile)(e)}catch{throw new Bt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Xa,logger:l})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new Bt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Xa,logger:l});let{accessToken:h}=p,{SSOClient:g,GetRoleCredentialsCommand:_}=await Promise.resolve().then(()=>(phe(),VH)),E=s||new g(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),S;try{S=await E.send(new _({accountId:r,roleName:o,accessToken:h}))}catch(se){throw new Bt.CredentialsProviderError(se,{tryNextLink:Xa,logger:l})}let{roleCredentials:{accessKeyId:v,secretAccessKey:w,sessionToken:I,expiration:A,credentialScope:C,accountId:M}={}}=S;if(!v||!w||!I||!A)throw new Bt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Xa,logger:l});let Re={accessKeyId:v,secretAccessKey:w,sessionToken:I,expiration:new Date(A),...C&&{credentialScope:C},...M&&{accountId:M}};return t?(0,HH.setCredentialFeature)(Re,"CREDENTIALS_SSO","s"):(0,HH.setCredentialFeature)(Re,"CREDENTIALS_SSO_LEGACY","u"),Re},"resolveSSOCredentials"),KH=bm((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Bt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),fhe=bm((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,Sm.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let p=(await(0,Sm.parseKnownFiles)(e))[c];if(!p)throw new Bt.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!WH(p))throw new Bt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(p?.sso_session){let v=(await(0,Sm.loadSsoSessionData)(e))[p.sso_session],w=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==v.sso_region)throw new Bt.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==v.sso_start_url)throw new Bt.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});p.sso_region=v.sso_region,p.sso_start_url=v.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:g,sso_role_name:_,sso_session:E}=KH(p,e.logger);return $H({ssoStartUrl:f,ssoSession:E,ssoAccountId:h,ssoRegion:g,ssoRoleName:_,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new Bt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return $H({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function hhe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ghe(e){return{schemeId:"smithy.api#noAuth"}}var Qa,YH,XH,yhe,QH,Pv=y(()=>{d();pr();Qa=T(Nr());Za();YH=async(e,t,r)=>({operation:(0,Qa.getSmithyContext)(t).operation,region:await(0,Qa.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});XH=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(ghe(e));break}default:t.push(hhe(e))}return t},yhe=e=>Object.assign(e,{stsClientCtor:gr}),QH=e=>{let t=yhe(e),r=hs(t);return Object.assign(r,{authSchemePreference:(0,Qa.normalizeProvider)(e.authSchemePreference??[])})}});var ZH,wm,Tm=y(()=>{d();ZH=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),wm={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var l$,W,te,xn,Be,u$,p$,ue,e$,yr,As,Iv,t$,Av,m$,r$,je,n$,f$,h$,Ve,ft,o$,g$,y$,s$,_$,i$,a$,c$,d$,_he,E$,S$=y(()=>{d();l$="required",W="type",te="argv",xn="booleanEquals",Be="stringEquals",u$="sigv4",p$="us-east-1",ue="endpoint",e$="https://sts.{Region}.{PartitionResult#dnsSuffix}",yr="tree",As="error",Iv="getAttr",t$={[l$]:!1,[W]:"String"},Av={[l$]:!0,default:!1,[W]:"Boolean"},m$={ref:"Endpoint"},r$={fn:"isSet",[te]:[{ref:"Region"}]},je={ref:"Region"},n$={fn:"aws.partition",[te]:[je],assign:"PartitionResult"},f$={ref:"UseFIPS"},h$={ref:"UseDualStack"},Ve={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:u$,signingName:"sts",signingRegion:p$}]},headers:{}},ft={},o$={conditions:[{fn:Be,[te]:[je,"aws-global"]}],[ue]:Ve,[W]:ue},g$={fn:xn,[te]:[f$,!0]},y$={fn:xn,[te]:[h$,!0]},s$={fn:Iv,[te]:[{ref:"PartitionResult"},"supportsFIPS"]},_$={ref:"PartitionResult"},i$={fn:xn,[te]:[!0,{fn:Iv,[te]:[_$,"supportsDualStack"]}]},a$=[{fn:"isSet",[te]:[m$]}],c$=[g$],d$=[y$],_he={version:"1.0",parameters:{Region:t$,UseDualStack:Av,UseFIPS:Av,Endpoint:t$,UseGlobalEndpoint:Av},rules:[{conditions:[{fn:xn,[te]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[te]:a$},r$,n$,{fn:xn,[te]:[f$,!1]},{fn:xn,[te]:[h$,!1]}],rules:[{conditions:[{fn:Be,[te]:[je,"ap-northeast-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"ap-south-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"ap-southeast-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"ap-southeast-2"]}],endpoint:Ve,[W]:ue},o$,{conditions:[{fn:Be,[te]:[je,"ca-central-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"eu-central-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"eu-north-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"eu-west-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"eu-west-2"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"eu-west-3"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"sa-east-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,p$]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"us-east-2"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"us-west-1"]}],endpoint:Ve,[W]:ue},{conditions:[{fn:Be,[te]:[je,"us-west-2"]}],endpoint:Ve,[W]:ue},{endpoint:{url:e$,properties:{authSchemes:[{name:u$,signingName:"sts",signingRegion:"{Region}"}]},headers:ft},[W]:ue}],[W]:yr},{conditions:a$,rules:[{conditions:c$,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:As},{conditions:d$,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:As},{endpoint:{url:m$,properties:ft,headers:ft},[W]:ue}],[W]:yr},{conditions:[r$],rules:[{conditions:[n$],rules:[{conditions:[g$,y$],rules:[{conditions:[{fn:xn,[te]:[!0,s$]},i$],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:yr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:As}],[W]:yr},{conditions:c$,rules:[{conditions:[{fn:xn,[te]:[s$,!0]}],rules:[{conditions:[{fn:Be,[te]:[{fn:Iv,[te]:[_$,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ft,headers:ft},[W]:ue},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:yr},{error:"FIPS is enabled but this partition does not support FIPS",[W]:As}],[W]:yr},{conditions:d$,rules:[{conditions:[i$],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:yr},{error:"DualStack is enabled but this partition does not support DualStack",[W]:As}],[W]:yr},o$,{endpoint:{url:e$,properties:ft,headers:ft},[W]:ue}],[W]:yr}],[W]:yr},{error:"Invalid Configuration: Missing Region",[W]:As}]},E$=_he});var v$,Is,Ehe,b$,w$=y(()=>{d();v$=T(Xu()),Is=T(Wu());S$();Ehe=new Is.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),b$=(e,t={})=>Ehe.get(e,()=>(0,Is.resolveEndpoint)(E$,{endpointParams:e,logger:t.logger}));Is.customEndpointFunctions.aws=v$.awsEndpointFunctions});var T$,C$,Cm,Pm,P$,A$=y(()=>{d();pr();Lt();T$=T(oe()),C$=T(ps()),Cm=T(lt()),Pm=T(Xe());Pv();w$();P$=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Cm.fromBase64,base64Encoder:e?.base64Encoder??Cm.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??b$,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??XH,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ur}],logger:e?.logger??new T$.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??C$.parseUrl,utf8Decoder:e?.utf8Decoder??Pm.fromUtf8,utf8Encoder:e?.utf8Encoder??Pm.toUtf8})});var Am,On,I$,Im,Rn,xm,x$,R$,O$,N$,D$,M$,k$=y(()=>{d();XS();pr();Am=T(ZS()),On=T(ys());Lt();I$=T(rv()),Im=T(Na()),Rn=T(Ss()),xm=T(Au()),x$=T(ov()),R$=T(Kp());A$();O$=T(oe()),N$=T(mv()),D$=T(oe()),M$=e=>{(0,D$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,N$.resolveDefaultsModeConfig)(e),r=()=>t().then(O$.loadConfigsForDefaultMode),n=P$(e);aa(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Rn.loadConfig)(la,o),bodyLengthChecker:e?.bodyLengthChecker??x$.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Am.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Xp.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ur}],maxAttempts:e?.maxAttempts??(0,Rn.loadConfig)(Im.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Rn.loadConfig)(On.NODE_REGION_CONFIG_OPTIONS,{...On.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:xm.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Rn.loadConfig)({...Im.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||R$.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??I$.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??xm.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Rn.loadConfig)(On.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Rn.loadConfig)(On.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Rn.loadConfig)(Am.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var L$,U$,F$=y(()=>{d();L$=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},U$=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Rm,Om,Nm,B$,j$=y(()=>{d();Rm=T(fv()),Om=T(he()),Nm=T(oe());F$();B$=(e,t)=>{let r=Object.assign((0,Rm.getAwsRegionExtensionConfiguration)(e),(0,Nm.getDefaultExtensionConfiguration)(e),(0,Om.getHttpHandlerExtensionConfiguration)(e),L$(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Rm.resolveAwsRegionExtensionConfiguration)(r),(0,Nm.resolveDefaultRuntimeConfig)(r),(0,Om.resolveHttpHandlerRuntimeConfig)(r),U$(r))}});var Dm,H$,$$,Mm,q$,z$,V$,km,xv,gr,Za=y(()=>{d();Dm=T(Xy()),H$=T(Zy()),$$=T(t_()),Mm=T(Pp()),q$=T(ys());Lt();z$=T(bS()),V$=T(vs()),km=T(Na()),xv=T(oe());Pv();Tm();k$();j$();gr=class extends xv.Client{config;constructor(...[t]){let r=M$(t||{});super(r),this.initConfig=r;let n=ZH(r),o=(0,Mm.resolveUserAgentConfig)(n),s=(0,km.resolveRetryConfig)(o),i=(0,q$.resolveRegionConfig)(s),a=(0,Dm.resolveHostHeaderConfig)(i),c=(0,V$.resolveEndpointConfig)(a),l=QH(c),p=B$(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Mm.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,km.getRetryPlugin)(this.config)),this.middlewareStack.use((0,z$.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Dm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,H$.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,$$.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Hi(this.config,{httpAuthSchemeParametersProvider:YH,identityProviderConfigProvider:async f=>new go({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use($i(this.config))}destroy(){super.destroy()}}});var G$,it,Lm=y(()=>{d();G$=T(oe()),it=class e extends G$.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Rv,Ov,Nv,ec,tc,rc,nc,oc,sc,Dv,Mv,ic,ac=y(()=>{d();Rv=T(oe());Lm();Ov=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Rv.SENSITIVE_STRING}}),Nv=e=>({...e,...e.Credentials&&{Credentials:Ov(e.Credentials)}}),ec=class e extends it{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tc=class e extends it{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rc=class e extends it{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nc=class e extends it{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oc=class e extends it{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sc=class e extends it{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Dv=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Rv.SENSITIVE_STRING}}),Mv=e=>({...e,...e.Credentials&&{Credentials:Ov(e.Credentials)}}),ic=class e extends it{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var W$,K,K$,J$,Y$,X$,Q$,She,vhe,bhe,whe,The,Che,Phe,Ahe,Ihe,Z$,xhe,Rhe,Ohe,Nhe,Dhe,Mhe,eq,khe,Lhe,tq,Uhe,Fhe,Bhe,jhe,Hhe,$he,qhe,qr,zhe,rq,nq,oq,sq,kv,Vhe,Lv,xs,Ghe,Uv,Fv,Rs,Bv,Os,jv,Hv,$v,Ns,Ds,qv,zv,Vv,Ms,Gv,ks,Ls,Wv,Kv,$r,Jv,Yv,Xv,Qv,Zv,iq,eb,tb,rb,Ee,aq,Whe,nb=y(()=>{d();pr();W$=T(he()),K=T(oe());ac();Lm();K$=async(e,t)=>{let r=nq,n;return n=aq({...Ahe(e,t),[sq]:Vhe,[iq]:oq}),rq(t,r,"/",void 0,n)},J$=async(e,t)=>{let r=nq,n;return n=aq({...Ihe(e,t),[sq]:Ghe,[iq]:oq}),rq(t,r,"/",void 0,n)},Y$=async(e,t)=>{if(e.statusCode>=300)return Q$(e,t);let r=await va(e.body,t),n={};return n=khe(r.AssumeRoleResult,t),{$metadata:qr(e),...n}},X$=async(e,t)=>{if(e.statusCode>=300)return Q$(e,t);let r=await va(e.body,t),n={};return n=Lhe(r.AssumeRoleWithWebIdentityResult,t),{$metadata:qr(e),...n}},Q$=async(e,t)=>{let r={...e,body:await pS(e.body,t)},n=Whe(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await She(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await The(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Che(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Phe(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await vhe(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await bhe(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await whe(r,t);default:let o=r.body;return zhe({output:e,parsedBody:o.Error,errorCode:n})}},She=async(e,t)=>{let r=e.body,n=Uhe(r.Error,t),o=new ec({$metadata:qr(e),...n});return(0,K.decorateServiceException)(o,r)},vhe=async(e,t)=>{let r=e.body,n=Fhe(r.Error,t),o=new ic({$metadata:qr(e),...n});return(0,K.decorateServiceException)(o,r)},bhe=async(e,t)=>{let r=e.body,n=Bhe(r.Error,t),o=new oc({$metadata:qr(e),...n});return(0,K.decorateServiceException)(o,r)},whe=async(e,t)=>{let r=e.body,n=jhe(r.Error,t),o=new sc({$metadata:qr(e),...n});return(0,K.decorateServiceException)(o,r)},The=async(e,t)=>{let r=e.body,n=Hhe(r.Error,t),o=new tc({$metadata:qr(e),...n});return(0,K.decorateServiceException)(o,r)},Che=async(e,t)=>{let r=e.body,n=$he(r.Error,t),o=new rc({$metadata:qr(e),...n});return(0,K.decorateServiceException)(o,r)},Phe=async(e,t)=>{let r=e.body,n=qhe(r.Error,t),o=new nc({$metadata:qr(e),...n});return(0,K.decorateServiceException)(o,r)},Ahe=(e,t)=>{let r={};if(e[ks]!=null&&(r[ks]=e[ks]),e[Ls]!=null&&(r[Ls]=e[Ls]),e[Ds]!=null){let n=Z$(e[Ds],t);e[Ds]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Ns]!=null&&(r[Ns]=e[Ns]),e[Os]!=null&&(r[Os]=e[Os]),e[Xv]!=null){let n=Mhe(e[Xv],t);e[Xv]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[Zv]!=null){let n=Dhe(e[Zv],t);e[Zv]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[Hv]!=null&&(r[Hv]=e[Hv]),e[Jv]!=null&&(r[Jv]=e[Jv]),e[Qv]!=null&&(r[Qv]=e[Qv]),e[$r]!=null&&(r[$r]=e[$r]),e[zv]!=null){let n=Ohe(e[zv],t);e[zv]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},Ihe=(e,t)=>{let r={};if(e[ks]!=null&&(r[ks]=e[ks]),e[Ls]!=null&&(r[Ls]=e[Ls]),e[tb]!=null&&(r[tb]=e[tb]),e[Vv]!=null&&(r[Vv]=e[Vv]),e[Ds]!=null){let n=Z$(e[Ds],t);e[Ds]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[Ns]!=null&&(r[Ns]=e[Ns]),e[Os]!=null&&(r[Os]=e[Os]),r},Z$=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=xhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},xhe=(e,t)=>{let r={};return e[rb]!=null&&(r[rb]=e[rb]),r},Rhe=(e,t)=>{let r={};return e[qv]!=null&&(r[qv]=e[qv]),e[Bv]!=null&&(r[Bv]=e[Bv]),r},Ohe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=Rhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Nhe=(e,t)=>{let r={};return e[$v]!=null&&(r[$v]=e[$v]),e[eb]!=null&&(r[eb]=e[eb]),r},Dhe=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},Mhe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=Nhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},eq=(e,t)=>{let r={};return e[Lv]!=null&&(r[Lv]=(0,K.expectString)(e[Lv])),e[Uv]!=null&&(r[Uv]=(0,K.expectString)(e[Uv])),r},khe=(e,t)=>{let r={};return e[Rs]!=null&&(r[Rs]=tq(e[Rs],t)),e[xs]!=null&&(r[xs]=eq(e[xs],t)),e[Ms]!=null&&(r[Ms]=(0,K.strictParseInt32)(e[Ms])),e[$r]!=null&&(r[$r]=(0,K.expectString)(e[$r])),r},Lhe=(e,t)=>{let r={};return e[Rs]!=null&&(r[Rs]=tq(e[Rs],t)),e[Kv]!=null&&(r[Kv]=(0,K.expectString)(e[Kv])),e[xs]!=null&&(r[xs]=eq(e[xs],t)),e[Ms]!=null&&(r[Ms]=(0,K.strictParseInt32)(e[Ms])),e[Gv]!=null&&(r[Gv]=(0,K.expectString)(e[Gv])),e[Fv]!=null&&(r[Fv]=(0,K.expectString)(e[Fv])),e[$r]!=null&&(r[$r]=(0,K.expectString)(e[$r])),r},tq=(e,t)=>{let r={};return e[kv]!=null&&(r[kv]=(0,K.expectString)(e[kv])),e[Wv]!=null&&(r[Wv]=(0,K.expectString)(e[Wv])),e[Yv]!=null&&(r[Yv]=(0,K.expectString)(e[Yv])),e[jv]!=null&&(r[jv]=(0,K.expectNonNull)((0,K.parseRfc3339DateTimeWithOffset)(e[jv]))),r},Uhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Fhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Bhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},jhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Hhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},$he=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},qhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},qr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),zhe=(0,K.withBaseException)(it),rq=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new W$.HttpRequest(l)},nq={"content-type":"application/x-www-form-urlencoded"},oq="2011-06-15",sq="Action",kv="AccessKeyId",Vhe="AssumeRole",Lv="AssumedRoleId",xs="AssumedRoleUser",Ghe="AssumeRoleWithWebIdentity",Uv="Arn",Fv="Audience",Rs="Credentials",Bv="ContextAssertion",Os="DurationSeconds",jv="Expiration",Hv="ExternalId",$v="Key",Ns="Policy",Ds="PolicyArns",qv="ProviderArn",zv="ProvidedContexts",Vv="ProviderId",Ms="PackedPolicySize",Gv="Provider",ks="RoleArn",Ls="RoleSessionName",Wv="SecretAccessKey",Kv="SubjectFromWebIdentityToken",$r="SourceIdentity",Jv="SerialNumber",Yv="SessionToken",Xv="Tags",Qv="TokenCode",Zv="TransitiveTagKeys",iq="Version",eb="Value",tb="WebIdentityToken",rb="arn",Ee="message",aq=e=>Object.entries(e).map(([t,r])=>(0,K.extendedEncodeURIComponent)(t)+"="+(0,K.extendedEncodeURIComponent)(r)).join("&"),Whe=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var cq,dq,lq,Oo,Um=y(()=>{d();cq=T(vs()),dq=T(os()),lq=T(oe());Tm();ac();nb();Oo=class extends lq.Command.classBuilder().ep(wm).m(function(t,r,n,o){return[(0,dq.getSerdePlugin)(n,this.serialize,this.deserialize),(0,cq.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Nv).ser(K$).de(Y$).build(){}});var uq,pq,mq,No,Fm=y(()=>{d();uq=T(vs()),pq=T(os()),mq=T(oe());Tm();ac();nb();No=class extends mq.Command.classBuilder().ep(wm).m(function(t,r,n,o){return[(0,pq.getSerdePlugin)(n,this.serialize,this.deserialize),(0,uq.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Dv,Mv).ser(J$).de(X$).build(){}});var fq,Khe,Bm,hq=y(()=>{d();fq=T(oe());Um();Fm();Za();Khe={AssumeRoleCommand:Oo,AssumeRoleWithWebIdentityCommand:No},Bm=class extends gr{};(0,fq.createAggregatedClient)(Khe,Bm)});var gq=y(()=>{d();Um();Fm()});var yq=y(()=>{d();ac()});var _q,Eq,Sq,vq,bq,wq,Tq=y(()=>{d();Qu();Um();Fm();_q="us-east-1",Eq=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},Sq=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${_q} (STS default)`),n??o??_q},vq=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:p=e?.parentClientConfig?.logger,region:f,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,_=await Sq(f,e?.parentClientConfig?.region,g),E=!wq(h);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:_,requestHandler:E?h:void 0,logger:p})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Oo(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=Eq(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return yo(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},bq=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,h=await Sq(l,e?.parentClientConfig?.region,f),g=!wq(p);r=new t({profile:e?.parentClientConfig?.profile,region:h,requestHandler:g?p:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new No(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=Eq(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&yo(a,"RESOLVED_ACCOUNT_ID","T"),yo(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},wq=e=>e?.metadata?.handlerProtocol==="h2"});var Cq,Pq,Aq,Jhe,Iq=y(()=>{d();Tq();Za();Cq=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Pq=(e={},t)=>vq(e,Cq(gr,t)),Aq=(e={},t)=>bq(e,Cq(gr,t)),Jhe=e=>t=>e({roleAssumer:Pq(t),roleAssumerWithWebIdentity:Aq(t),...t})});var ob={};$e(ob,{AssumeRoleCommand:()=>Oo,AssumeRoleResponseFilterSensitiveLog:()=>Nv,AssumeRoleWithWebIdentityCommand:()=>No,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Dv,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Mv,CredentialsFilterSensitiveLog:()=>Ov,ExpiredTokenException:()=>ec,IDPCommunicationErrorException:()=>ic,IDPRejectedClaimException:()=>oc,InvalidIdentityTokenException:()=>sc,MalformedPolicyDocumentException:()=>tc,PackedPolicyTooLargeException:()=>rc,RegionDisabledException:()=>nc,STS:()=>Bm,STSClient:()=>gr,STSServiceException:()=>it,__Client:()=>xv.Client,decorateDefaultCredentialProvider:()=>Jhe,getDefaultRoleAssumer:()=>Pq,getDefaultRoleAssumerWithWebIdentity:()=>Aq});var sb=y(()=>{d();Za();hq();gq();yq();Iq();Lm()});var cb=b((lWe,Oq)=>{"use strict";d();var jm=Object.defineProperty,Yhe=Object.getOwnPropertyDescriptor,Xhe=Object.getOwnPropertyNames,Qhe=Object.prototype.hasOwnProperty,ab=(e,t)=>jm(e,"name",{value:t,configurable:!0}),Zhe=(e,t)=>{for(var r in t)jm(e,r,{get:t[r],enumerable:!0})},ege=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xhe(t))!Qhe.call(e,o)&&o!==r&&jm(e,o,{get:()=>t[o],enumerable:!(n=Yhe(t,o))||n.enumerable});return e},tge=e=>ege(jm({},"__esModule",{value:!0}),e),Rq={};Zhe(Rq,{fromProcess:()=>age});Oq.exports=tge(Rq);var xq=un(),ib=Je(),rge=k("child_process"),nge=k("util"),oge=(Zt(),z(Zr)),sge=ab((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,oge.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),ige=ab(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,nge.promisify)(rge.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return sge(e,a,t)}catch(i){throw new ib.CredentialsProviderError(i.message,{logger:r})}}else throw new ib.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new ib.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),age=ab((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,xq.parseKnownFiles)(e);return ige((0,xq.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var db=b(_r=>{"use strict";d();var cge=_r&&_r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dge=_r&&_r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lge=_r&&_r.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&cge(r,t,n[o]);return dge(r,t),r}}();Object.defineProperty(_r,"__esModule",{value:!0});_r.fromWebToken=void 0;var uge=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>lge((sb(),z(ob))));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};_r.fromWebToken=uge});var Dq=b(Hm=>{"use strict";d();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.fromTokenFile=void 0;var pge=(Zt(),z(Zr)),mge=Je(),fge=k("fs"),hge=db(),Nq="AWS_WEB_IDENTITY_TOKEN_FILE",gge="AWS_ROLE_ARN",yge="AWS_ROLE_SESSION_NAME",_ge=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[Nq],r=e?.roleArn??process.env[gge],n=e?.roleSessionName??process.env[yge];if(!t||!r)throw new mge.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,hge.fromWebToken)({...e,webIdentityToken:(0,fge.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[Nq]&&(0,pge.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Hm.fromTokenFile=_ge});var pb=b((gWe,$m)=>{"use strict";d();var Mq=Object.defineProperty,Ege=Object.getOwnPropertyDescriptor,Sge=Object.getOwnPropertyNames,vge=Object.prototype.hasOwnProperty,lb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sge(t))!vge.call(e,o)&&o!==r&&Mq(e,o,{get:()=>t[o],enumerable:!(n=Ege(t,o))||n.enumerable});return e},kq=(e,t,r)=>(lb(e,t,"default"),r&&lb(r,t,"default")),bge=e=>lb(Mq({},"__esModule",{value:!0}),e),ub={};$m.exports=bge(ub);kq(ub,Dq(),$m.exports);kq(ub,db(),$m.exports)});var qq=b((_We,$q)=>{"use strict";d();var wge=Object.create,dc=Object.defineProperty,Tge=Object.getOwnPropertyDescriptor,Cge=Object.getOwnPropertyNames,Pge=Object.getPrototypeOf,Age=Object.prototype.hasOwnProperty,Ce=(e,t)=>dc(e,"name",{value:t,configurable:!0}),Ige=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},Bq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cge(t))!Age.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=Tge(t,o))||n.enumerable});return e},Nn=(e,t,r)=>(r=e!=null?wge(Pge(e)):{},Bq(t||!e||!e.__esModule?dc(r,"default",{value:e,enumerable:!0}):r,e)),xge=e=>Bq(dc({},"__esModule",{value:!0}),e),jq={};Ige(jq,{fromIni:()=>Hge});$q.exports=xge(jq);var fb=un(),Dn=(Zt(),z(Zr)),cc=Je(),Rge=Ce((e,t,r)=>{let n={EcsContainer:Ce(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>Nn(Dy())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>Nn(ki()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,cc.chain)(s(o??{}),i(o))().then(mb)},"EcsContainer"),Ec2InstanceMetadata:Ce(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>Nn(ki()));return async()=>s(o)().then(mb)},"Ec2InstanceMetadata"),Environment:Ce(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>Nn(Py()));return async()=>s(o)().then(mb)},"Environment")};if(e in n)return n[e];throw new cc.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),mb=Ce(e=>(0,Dn.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),Oge=Ce((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Nge(e,{profile:t,logger:r})||Dge(e,{profile:t,logger:r})),"isAssumeRoleProfile"),Nge=Ce((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),Dge=Ce((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),Mge=Ce(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Nn((sb(),z(ob))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new cc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,fb.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?Hq(s,t,r,{...n,[s]:!0},Lq(t[s]??{})):(await Rge(o.credential_source,e,r.logger)(r))();if(Lq(o))return a.then(c=>(0,Dn.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:l}=o;if(l){if(!r.mfaCodeProvider)throw new cc.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c).then(f=>(0,Dn.setCredentialFeature)(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),Lq=Ce(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),kge=Ce(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),Lge=Ce(async(e,t)=>Promise.resolve().then(()=>Nn(cb())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Dn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),Uge=Ce(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Nn(Cv()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,Dn.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,Dn.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),Fge=Ce(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Uq=Ce(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),Fq=Ce(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Dn.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),Bge=Ce(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),jge=Ce(async(e,t)=>Promise.resolve().then(()=>Nn(pb())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Dn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),Hq=Ce(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&Uq(s))return Fq(s,r);if(o||Oge(s,{profile:e,logger:r.logger}))return Mge(e,t,r,n);if(Uq(s))return Fq(s,r);if(Bge(s))return jge(s,r);if(kge(s))return Lge(r,e);if(Fge(s))return await Uge(e,s,r);throw new cc.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),Hge=Ce((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,fb.parseKnownFiles)(r);return Hq((0,fb.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var Xq=b((SWe,Yq)=>{"use strict";d();var $ge=Object.create,lc=Object.defineProperty,qge=Object.getOwnPropertyDescriptor,zge=Object.getOwnPropertyNames,Vge=Object.getPrototypeOf,Gge=Object.prototype.hasOwnProperty,qm=(e,t)=>lc(e,"name",{value:t,configurable:!0}),Wge=(e,t)=>{for(var r in t)lc(e,r,{get:t[r],enumerable:!0})},Gq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zge(t))!Gge.call(e,o)&&o!==r&&lc(e,o,{get:()=>t[o],enumerable:!(n=qge(t,o))||n.enumerable});return e},Us=(e,t,r)=>(r=e!=null?$ge(Vge(e)):{},Gq(t||!e||!e.__esModule?lc(r,"default",{value:e,enumerable:!0}):r,e)),Kge=e=>Gq(lc({},"__esModule",{value:!0}),e),Wq={};Wge(Wq,{credentialsTreatedAsExpired:()=>Jq,credentialsWillNeedRefresh:()=>Kq,defaultProvider:()=>Xge});Yq.exports=Kge(Wq);var hb=Py(),Jge=un(),Do=Je(),zq="AWS_EC2_METADATA_DISABLED",Yge=qm(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>Us(ki()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>Us(Dy()));return(0,Do.chain)(s(e),n(e))}return process.env[zq]&&process.env[zq]!=="false"?async()=>{throw new Do.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),Vq=!1,Xge=qm((e={})=>(0,Do.memoize)((0,Do.chain)(async()=>{if(e.profile??process.env[Jge.ENV_PROFILE])throw process.env[hb.ENV_KEY]&&process.env[hb.ENV_SECRET]&&(Vq||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),Vq=!0)),new Do.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,hb.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new Do.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>Us(Cv()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Us(qq()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Us(cb()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Us(pb()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Yge(e))()),async()=>{throw new Do.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),Jq,Kq),"defaultProvider"),Kq=qm(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),Jq=qm(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var vz=b(Jm=>{"use strict";d();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.ruleSet=void 0;var Sb="required",V="type",Y="fn",X="argv",Ae="ref",Mn="properties",kn="headers",Qq=!1,Mo="isSet",He="error",Er="endpoint",Pe="tree",Km="PartitionResult",Ln="stringEquals",_z="dynamodb",Un="getAttr",Zq="aws.parseArn",Fs="ParsedArn",vb="isValidHostLabel",ez="FirstArn",uc={[Sb]:!1,[V]:"String"},tz={[Sb]:!0,default:!1,[V]:"Boolean"},bb={[Y]:"booleanEquals",[X]:[{[Ae]:"UseFIPS"},!0]},wb={[Y]:"booleanEquals",[X]:[{[Ae]:"UseDualStack"},!0]},jt={},Ez={[Ae]:"Region"},rz={[Y]:"booleanEquals",[X]:[{[Y]:Un,[X]:[{[Ae]:Km},"supportsFIPS"]},!0]},nz={[Y]:"booleanEquals",[X]:[{[Y]:Un,[X]:[{[Ae]:Km},"supportsDualStack"]},!0]},gb={conditions:[{[Y]:Mo,[X]:[{[Ae]:"AccountIdEndpointMode"}]},{[Y]:Ln,[X]:[{[Ae]:"AccountIdEndpointMode"},"required"]}],rules:[{[He]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:He}],[V]:Pe},Gm={[Y]:Mo,[X]:[{[Ae]:"AccountIdEndpointMode"}]},oz={[He]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:He},Sz={[Y]:Un,[X]:[{[Ae]:Km},"name"]},sz={[Er]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Mn]:{},[kn]:{}},[V]:Er},Wm={[Y]:"not",[X]:[bb]},iz={[He]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[V]:He},yb={[Y]:"not",[X]:[{[Y]:Ln,[X]:[{[Ae]:"AccountIdEndpointMode"},"disabled"]}]},zm={[Y]:Ln,[X]:[Sz,"aws"]},Vm={[Y]:"not",[X]:[wb]},az={[Y]:Ln,[X]:[{[Y]:Un,[X]:[{[Ae]:Fs},"service"]},_z]},cz={[Y]:vb,[X]:[{[Y]:Un,[X]:[{[Ae]:Fs},"region"]},!1]},dz={[Y]:Ln,[X]:[{[Y]:Un,[X]:[{[Ae]:Fs},"region"]},"{Region}"]},lz={[Y]:vb,[X]:[{[Y]:Un,[X]:[{[Ae]:Fs},"accountId"]},!1]},uz={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Mn]:{},[kn]:{}},pz={[Ae]:"ResourceArnList"},mz={[Ae]:"AccountId"},_b=[bb],Eb=[wb],fz=[Ez],hz=[Gm,{[Y]:Ln,[X]:[{[Ae]:"AccountIdEndpointMode"},"required"]}],gz=[Wm],yz=[{[Ae]:"ResourceArn"}],Qge={version:"1.0",parameters:{Region:uc,UseDualStack:tz,UseFIPS:tz,Endpoint:uc,AccountId:uc,AccountIdEndpointMode:uc,ResourceArn:uc,ResourceArnList:{[Sb]:Qq,[V]:"stringArray"}},rules:[{conditions:[{[Y]:Mo,[X]:[{[Ae]:"Endpoint"}]}],rules:[{conditions:_b,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:He},{conditions:Eb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:He},{endpoint:{url:"{Endpoint}",[Mn]:jt,[kn]:jt},[V]:Er}],[V]:Pe},{conditions:[{[Y]:Mo,[X]:fz}],rules:[{conditions:[{[Y]:"aws.partition",[X]:fz,assign:Km}],rules:[{conditions:[{[Y]:Ln,[X]:[Ez,"local"]}],rules:[{conditions:_b,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:He},{conditions:Eb,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:He},{endpoint:{url:"http://localhost:8000",[Mn]:{authSchemes:[{signingRegion:"us-east-1",signingName:_z,name:"sigv4"}]},[kn]:jt},[V]:Er}],[V]:Pe},{conditions:[bb,wb],rules:[{conditions:[rz,nz],rules:[gb,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Mn]:jt,[kn]:jt},[V]:Er}],[V]:Pe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:He}],[V]:Pe},{conditions:_b,rules:[{conditions:[rz],rules:[{conditions:[{[Y]:Ln,[X]:[Sz,"aws-us-gov"]}],rules:[gb,sz],[V]:Pe},gb,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Mn]:jt,[kn]:jt},[V]:Er}],[V]:Pe},{error:"FIPS is enabled but this partition does not support FIPS",[V]:He}],[V]:Pe},{conditions:Eb,rules:[{conditions:[nz],rules:[{conditions:hz,rules:[{conditions:gz,rules:[iz],[V]:Pe},oz],[V]:Pe},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Mn]:jt,[kn]:jt},[V]:Er}],[V]:Pe},{error:"DualStack is enabled but this partition does not support DualStack",[V]:He}],[V]:Pe},{conditions:[Gm,yb,zm,Wm,Vm,{[Y]:Mo,[X]:yz},{[Y]:Zq,[X]:yz,assign:Fs},az,cz,dz,lz],endpoint:uz,[V]:Er},{conditions:[Gm,yb,zm,Wm,Vm,{[Y]:Mo,[X]:[pz]},{[Y]:Un,[X]:[pz,"[0]"],assign:ez},{[Y]:Zq,[X]:[{[Ae]:ez}],assign:Fs},az,cz,dz,lz],endpoint:uz,[V]:Er},{conditions:[Gm,yb,zm,Wm,Vm,{[Y]:Mo,[X]:[mz]}],rules:[{conditions:[{[Y]:vb,[X]:[mz,Qq]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Mn]:jt,[kn]:jt},[V]:Er}],[V]:Pe},{error:"Credentials-sourced account ID parameter is invalid",[V]:He}],[V]:Pe},{conditions:hz,rules:[{conditions:gz,rules:[{conditions:[Vm],rules:[{conditions:[zm],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:He}],[V]:Pe},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:He}],[V]:Pe},iz],[V]:Pe},oz],[V]:Pe},sz],[V]:Pe}],[V]:Pe},{error:"Invalid Configuration: Missing Region",[V]:He}]};Jm.ruleSet=Qge});var bz=b(Ym=>{"use strict";d();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.defaultEndpointResolver=void 0;var Zge=yd(),Tb=md(),eye=vz(),tye=new Tb.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),rye=(e,t={})=>tye.get(e,()=>(0,Tb.resolveEndpoint)(eye.ruleSet,{endpointParams:e,logger:t.logger}));Ym.defaultEndpointResolver=rye;Tb.customEndpointFunctions.aws=Zge.awsEndpointFunctions});var Cz=b(Xm=>{"use strict";d();Object.defineProperty(Xm,"__esModule",{value:!0});Xm.getRuntimeConfig=void 0;var nye=(tr(),z(er)),oye=Me(),sye=qo(),wz=ct(),Tz=Ge(),iye=uy(),aye=bz(),cye=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??wz.fromBase64,base64Encoder:e?.base64Encoder??wz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??aye.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??iye.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new nye.AwsSdkSigV4Signer}],logger:e?.logger??new oye.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??sye.parseUrl,utf8Decoder:e?.utf8Decoder??Tz.fromUtf8,utf8Encoder:e?.utf8Encoder??Tz.toUtf8});Xm.getRuntimeConfig=cye});var Rz=b(Zm=>{"use strict";d();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.getRuntimeConfig=void 0;var dye=(Pl(),z(Cl)),lye=dye.__importDefault(ZO()),Pz=(tr(),z(er)),uye=(lf(),z(df)),pye=Xq(),mye=_f(),Az=Uy(),Qm=Wo(),fye=jy(),Iz=Oi(),zr=Xo(),xz=Js(),hye=Hy(),gye=al(),yye=Cz(),_ye=Me(),Eye=Gy(),Sye=Me(),vye=e=>{(0,Sye.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Eye.resolveDefaultsModeConfig)(e),r=()=>t().then(_ye.loadConfigsForDefaultMode),n=(0,yye.getRuntimeConfig)(e);(0,Pz.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,zr.loadConfig)(uye.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,zr.loadConfig)(Pz.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??hye.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??pye.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Az.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:lye.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,zr.loadConfig)(mye.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,zr.loadConfig)(Iz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,zr.loadConfig)(Qm.NODE_REGION_CONFIG_OPTIONS,{...Qm.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:xz.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,zr.loadConfig)({...Iz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||gye.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??fye.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??xz.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,zr.loadConfig)(Qm.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,zr.loadConfig)(Qm.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,zr.loadConfig)(Az.NODE_APP_ID_CONFIG_OPTIONS,o)}};Zm.getRuntimeConfig=vye});var Uz=b((RWe,Lz)=>{d();var ef=Object.defineProperty,bye=Object.getOwnPropertyDescriptor,wye=Object.getOwnPropertyNames,Tye=Object.prototype.hasOwnProperty,Sr=(e,t)=>ef(e,"name",{value:t,configurable:!0}),Cye=(e,t)=>{for(var r in t)ef(e,r,{get:t[r],enumerable:!0})},Pye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wye(t))!Tye.call(e,o)&&o!==r&&ef(e,o,{get:()=>t[o],enumerable:!(n=bye(t,o))||n.enumerable});return e},Aye=e=>Pye(ef({},"__esModule",{value:!0}),e),Dz={};Cye(Dz,{WaiterState:()=>kz,checkExceptions:()=>xye,createWaiter:()=>Mye,waiterServiceDefaults:()=>Mz});Lz.exports=Aye(Dz);var Iye=Sr(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),Mz={minDelay:2,maxDelay:120},kz=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(kz||{}),xye=Sr(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),Rye=Sr((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return Oye(e,o)},"exponentialBackoffWithJitter"),Oye=Sr((e,t)=>e+Math.random()*(t-e),"randomInRange"),Nye=Sr(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let c={},{state:l,reason:p}=await a(o,i);if(p){let _=Oz(p);c[_]|=0,c[_]+=1}if(l!=="RETRY")return{state:l,reason:p,observedResponses:c};let f=1,h=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let v="AbortController signal aborted.";return c[v]|=0,c[v]+=1,{state:"ABORTED",observedResponses:c}}let _=Rye(e,t,g,f);if(Date.now()+_*1e3>h)return{state:"TIMEOUT",observedResponses:c};await Iye(_);let{state:E,reason:S}=await a(o,i);if(S){let v=Oz(S);c[v]|=0,c[v]+=1}if(E!=="RETRY")return{state:E,reason:S,observedResponses:c};f+=1}},"runPolling"),Oz=Sr(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),Dye=Sr(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),Nz=Sr(e=>{let t,r=new Promise(n=>{t=Sr(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),Mye=Sr(async(e,t,r)=>{let n={...Mz,...e};Dye(n);let o=[Nye(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=Nz(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=Nz(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})},"createWaiter")});var b2=b((NWe,v2)=>{"use strict";d();var rf=Object.defineProperty,kye=Object.getOwnPropertyDescriptor,Lye=Object.getOwnPropertyNames,Uye=Object.prototype.hasOwnProperty,u=(e,t)=>rf(e,"name",{value:t,configurable:!0}),Fye=(e,t)=>{for(var r in t)rf(e,r,{get:t[r],enumerable:!0})},Bye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Lye(t))!Uye.call(e,o)&&o!==r&&rf(e,o,{get:()=>t[o],enumerable:!(n=kye(t,o))||n.enumerable});return e},jye=e=>Bye(rf({},"__esModule",{value:!0}),e),zz={};Fye(zz,{ApproximateCreationDateTimePrecision:()=>Kye,AttributeAction:()=>Jye,AttributeValue:()=>tf,BackupInUseException:()=>Gz,BackupNotFoundException:()=>Kz,BackupStatus:()=>Xye,BackupType:()=>Qye,BackupTypeFilter:()=>i_e,BatchExecuteStatementCommand:()=>wG,BatchGetItemCommand:()=>TG,BatchStatementErrorCodeEnum:()=>d_e,BatchWriteItemCommand:()=>CG,BillingMode:()=>Zye,ComparisonOperator:()=>u_e,ConditionalCheckFailedException:()=>rG,ConditionalOperator:()=>p_e,ContinuousBackupsStatus:()=>m_e,ContinuousBackupsUnavailableException:()=>lV,ContributorInsightsAction:()=>h_e,ContributorInsightsStatus:()=>g_e,CreateBackupCommand:()=>PG,CreateGlobalTableCommand:()=>AG,CreateTableCommand:()=>IG,DeleteBackupCommand:()=>xG,DeleteItemCommand:()=>RG,DeleteResourcePolicyCommand:()=>OG,DeleteTableCommand:()=>NG,DescribeBackupCommand:()=>DG,DescribeContinuousBackupsCommand:()=>MG,DescribeContributorInsightsCommand:()=>kG,DescribeEndpointsCommand:()=>Nb,DescribeExportCommand:()=>LG,DescribeGlobalTableCommand:()=>UG,DescribeGlobalTableSettingsCommand:()=>FG,DescribeImportCommand:()=>BG,DescribeKinesisStreamingDestinationCommand:()=>jG,DescribeLimitsCommand:()=>HG,DescribeTableCommand:()=>af,DescribeTableReplicaAutoScalingCommand:()=>$G,DescribeTimeToLiveCommand:()=>qG,DestinationStatus:()=>D_e,DisableKinesisStreamingDestinationCommand:()=>zG,DuplicateItemException:()=>NV,DynamoDB:()=>_2,DynamoDBClient:()=>Hn,DynamoDBServiceException:()=>Q,EnableKinesisStreamingDestinationCommand:()=>VG,ExecuteStatementCommand:()=>GG,ExecuteTransactionCommand:()=>WG,ExportConflictException:()=>FV,ExportFormat:()=>C_e,ExportNotFoundException:()=>PV,ExportStatus:()=>P_e,ExportTableToPointInTimeCommand:()=>KG,ExportType:()=>A_e,ExportViewType:()=>I_e,GetItemCommand:()=>JG,GetResourcePolicyCommand:()=>YG,GlobalTableAlreadyExistsException:()=>_V,GlobalTableNotFoundException:()=>IV,GlobalTableStatus:()=>y_e,IdempotentParameterMismatchException:()=>MV,ImportConflictException:()=>zV,ImportNotFoundException:()=>RV,ImportStatus:()=>R_e,ImportTableCommand:()=>XG,IndexNotFoundException:()=>eG,IndexStatus:()=>__e,InputCompressionType:()=>O_e,InputFormat:()=>N_e,InternalServerError:()=>Yz,InvalidEndpointException:()=>eV,InvalidExportTimeException:()=>jV,InvalidRestoreTimeException:()=>KV,ItemCollectionSizeLimitExceededException:()=>iV,KeyType:()=>e_e,LimitExceededException:()=>pV,ListBackupsCommand:()=>QG,ListContributorInsightsCommand:()=>Db,ListExportsCommand:()=>Mb,ListGlobalTablesCommand:()=>ZG,ListImportsCommand:()=>kb,ListTablesCommand:()=>Lb,ListTagsOfResourceCommand:()=>e2,MultiRegionConsistency:()=>w_e,PointInTimeRecoveryStatus:()=>f_e,PointInTimeRecoveryUnavailableException:()=>$V,PolicyNotFoundException:()=>TV,ProjectionType:()=>t_e,ProvisionedThroughputExceededException:()=>rV,PutItemCommand:()=>t2,PutResourcePolicyCommand:()=>r2,QueryCommand:()=>Ub,ReplicaAlreadyExistsException:()=>YV,ReplicaNotFoundException:()=>QV,ReplicaStatus:()=>E_e,ReplicatedWriteConflictException:()=>cV,RequestLimitExceeded:()=>Qz,ResourceInUseException:()=>SV,ResourceNotFoundException:()=>oV,RestoreTableFromBackupCommand:()=>n2,RestoreTableToPointInTimeCommand:()=>o2,ReturnConsumedCapacity:()=>a_e,ReturnItemCollectionMetrics:()=>l_e,ReturnValue:()=>T_e,ReturnValuesOnConditionCheckFailure:()=>c_e,S3SseAlgorithm:()=>x_e,SSEStatus:()=>n_e,SSEType:()=>r_e,ScalarAttributeType:()=>Yye,ScanCommand:()=>Fb,Select:()=>M_e,StreamViewType:()=>o_e,TableAlreadyExistsException:()=>GV,TableClass:()=>S_e,TableInUseException:()=>fV,TableNotFoundException:()=>gV,TableStatus:()=>v_e,TagResourceCommand:()=>s2,TimeToLiveStatus:()=>s_e,TransactGetItemsCommand:()=>i2,TransactWriteItemsCommand:()=>a2,TransactionCanceledException:()=>oG,TransactionConflictException:()=>bV,TransactionInProgressException:()=>LV,UntagResourceCommand:()=>c2,UpdateContinuousBackupsCommand:()=>d2,UpdateContributorInsightsCommand:()=>l2,UpdateGlobalTableCommand:()=>u2,UpdateGlobalTableSettingsCommand:()=>p2,UpdateItemCommand:()=>m2,UpdateKinesisStreamingDestinationCommand:()=>f2,UpdateTableCommand:()=>h2,UpdateTableReplicaAutoScalingCommand:()=>g2,UpdateTimeToLiveCommand:()=>y2,WitnessStatus:()=>b_e,__Client:()=>m.Client,paginateListContributorInsights:()=>mTe,paginateListExports:()=>hTe,paginateListImports:()=>yTe,paginateListTables:()=>ETe,paginateQuery:()=>vTe,paginateScan:()=>wTe,waitForTableExists:()=>TTe,waitForTableNotExists:()=>PTe,waitUntilTableExists:()=>CTe,waitUntilTableNotExists:()=>ATe});v2.exports=jye(zz);var Hye=(lf(),z(df)),$ye=_f(),Fz=Sf(),qye=bf(),zye=Tf(),Bz=Xd(),Vye=Wo(),Cb=(rt(),z(yt)),Gye=Gg(),jz=Oi(),Hz=uy(),L=by(),F=Ws(),Wye=u(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),B={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},D=(tr(),z(er)),Pb=me(),nf=(ty(),z(ey)),m=Me(),Q=class Vz extends m.ServiceException{static{u(this,"DynamoDBServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,Vz.prototype)}},Kye={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Jye={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},Yye={B:"B",N:"N",S:"S"},Xye={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Qye={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Zye={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},e_e={HASH:"HASH",RANGE:"RANGE"},t_e={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},r_e={AES256:"AES256",KMS:"KMS"},n_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},o_e={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},s_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Gz=class Wz extends Q{static{u(this,"BackupInUseException")}name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,Wz.prototype)}},Kz=class Jz extends Q{static{u(this,"BackupNotFoundException")}name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Jz.prototype)}},i_e={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},a_e={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},c_e={ALL_OLD:"ALL_OLD",NONE:"NONE"},d_e={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},Yz=class Xz extends Q{static{u(this,"InternalServerError")}name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,Xz.prototype)}},Qz=class Zz extends Q{static{u(this,"RequestLimitExceeded")}name="RequestLimitExceeded";$fault="client";constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,Zz.prototype)}},eV=class tV extends Q{static{u(this,"InvalidEndpointException")}name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,tV.prototype),this.Message=t.Message}},rV=class nV extends Q{static{u(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,nV.prototype)}},oV=class sV extends Q{static{u(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,sV.prototype)}},l_e={NONE:"NONE",SIZE:"SIZE"},iV=class aV extends Q{static{u(this,"ItemCollectionSizeLimitExceededException")}name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,aV.prototype)}},cV=class dV extends Q{static{u(this,"ReplicatedWriteConflictException")}name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,dV.prototype)}},u_e={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},p_e={AND:"AND",OR:"OR"},m_e={DISABLED:"DISABLED",ENABLED:"ENABLED"},f_e={DISABLED:"DISABLED",ENABLED:"ENABLED"},lV=class uV extends Q{static{u(this,"ContinuousBackupsUnavailableException")}name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,uV.prototype)}},h_e={DISABLE:"DISABLE",ENABLE:"ENABLE"},g_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},pV=class mV extends Q{static{u(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,mV.prototype)}},fV=class hV extends Q{static{u(this,"TableInUseException")}name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,hV.prototype)}},gV=class yV extends Q{static{u(this,"TableNotFoundException")}name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,yV.prototype)}},y_e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},__e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},E_e={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},S_e={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},v_e={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},_V=class EV extends Q{static{u(this,"GlobalTableAlreadyExistsException")}name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,EV.prototype)}},b_e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},w_e={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},SV=class vV extends Q{static{u(this,"ResourceInUseException")}name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,vV.prototype)}},T_e={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},bV=class wV extends Q{static{u(this,"TransactionConflictException")}name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,wV.prototype)}},TV=class CV extends Q{static{u(this,"PolicyNotFoundException")}name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,CV.prototype)}},C_e={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},P_e={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},A_e={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},I_e={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},x_e={AES256:"AES256",KMS:"KMS"},PV=class AV extends Q{static{u(this,"ExportNotFoundException")}name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,AV.prototype)}},IV=class xV extends Q{static{u(this,"GlobalTableNotFoundException")}name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,xV.prototype)}},R_e={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},O_e={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},N_e={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},RV=class OV extends Q{static{u(this,"ImportNotFoundException")}name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,OV.prototype)}},D_e={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},NV=class DV extends Q{static{u(this,"DuplicateItemException")}name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,DV.prototype)}},MV=class kV extends Q{static{u(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,kV.prototype),this.Message=t.Message}},LV=class UV extends Q{static{u(this,"TransactionInProgressException")}name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,UV.prototype),this.Message=t.Message}},FV=class BV extends Q{static{u(this,"ExportConflictException")}name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,BV.prototype)}},jV=class HV extends Q{static{u(this,"InvalidExportTimeException")}name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,HV.prototype)}},$V=class qV extends Q{static{u(this,"PointInTimeRecoveryUnavailableException")}name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,qV.prototype)}},zV=class VV extends Q{static{u(this,"ImportConflictException")}name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,VV.prototype)}},M_e={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},GV=class WV extends Q{static{u(this,"TableAlreadyExistsException")}name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,WV.prototype)}},KV=class JV extends Q{static{u(this,"InvalidRestoreTimeException")}name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,JV.prototype)}},YV=class XV extends Q{static{u(this,"ReplicaAlreadyExistsException")}name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,XV.prototype)}},QV=class ZV extends Q{static{u(this,"ReplicaNotFoundException")}name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,ZV.prototype)}},eG=class tG extends Q{static{u(this,"IndexNotFoundException")}name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,tG.prototype)}},tf;(e=>{e.visit=u((t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]),"visit")})(tf||(tf={}));var rG=class nG extends Q{static{u(this,"ConditionalCheckFailedException")}name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,nG.prototype),this.Item=t.Item}},oG=class sG extends Q{static{u(this,"TransactionCanceledException")}name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,sG.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},k_e=u(async(e,t)=>{let r=U("BatchExecuteStatement"),n;return n=JSON.stringify(Cve(e,t)),H(t,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),L_e=u(async(e,t)=>{let r=U("BatchGetItem"),n;return n=JSON.stringify(Pve(e,t)),H(t,r,"/",void 0,n)},"se_BatchGetItemCommand"),U_e=u(async(e,t)=>{let r=U("BatchWriteItem"),n;return n=JSON.stringify(xve(e,t)),H(t,r,"/",void 0,n)},"se_BatchWriteItemCommand"),F_e=u(async(e,t)=>{let r=U("CreateBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateBackupCommand"),B_e=u(async(e,t)=>{let r=U("CreateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),j_e=u(async(e,t)=>{let r=U("CreateTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateTableCommand"),H_e=u(async(e,t)=>{let r=U("DeleteBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteBackupCommand"),$_e=u(async(e,t)=>{let r=U("DeleteItem"),n;return n=JSON.stringify(Mve(e,t)),H(t,r,"/",void 0,n)},"se_DeleteItemCommand"),q_e=u(async(e,t)=>{let r=U("DeleteResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),z_e=u(async(e,t)=>{let r=U("DeleteTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteTableCommand"),V_e=u(async(e,t)=>{let r=U("DescribeBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeBackupCommand"),G_e=u(async(e,t)=>{let r=U("DescribeContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),W_e=u(async(e,t)=>{let r=U("DescribeContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),K_e=u(async(e,t)=>{let r=U("DescribeEndpoints"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),J_e=u(async(e,t)=>{let r=U("DescribeExport"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeExportCommand"),Y_e=u(async(e,t)=>{let r=U("DescribeGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),X_e=u(async(e,t)=>{let r=U("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),Q_e=u(async(e,t)=>{let r=U("DescribeImport"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeImportCommand"),Z_e=u(async(e,t)=>{let r=U("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),eEe=u(async(e,t)=>{let r=U("DescribeLimits"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),tEe=u(async(e,t)=>{let r=U("DescribeTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTableCommand"),rEe=u(async(e,t)=>{let r=U("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),nEe=u(async(e,t)=>{let r=U("DescribeTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),oEe=u(async(e,t)=>{let r=U("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),sEe=u(async(e,t)=>{let r=U("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),iEe=u(async(e,t)=>{let r=U("ExecuteStatement"),n;return n=JSON.stringify(Lve(e,t)),H(t,r,"/",void 0,n)},"se_ExecuteStatementCommand"),aEe=u(async(e,t)=>{let r=U("ExecuteTransaction"),n;return n=JSON.stringify(Uve(e,t)),H(t,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),cEe=u(async(e,t)=>{let r=U("ExportTableToPointInTime"),n;return n=JSON.stringify(Bve(e,t)),H(t,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),dEe=u(async(e,t)=>{let r=U("GetItem"),n;return n=JSON.stringify(Hve(e,t)),H(t,r,"/",void 0,n)},"se_GetItemCommand"),lEe=u(async(e,t)=>{let r=U("GetResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),uEe=u(async(e,t)=>{let r=U("ImportTable"),n;return n=JSON.stringify(Gve(e,t)),H(t,r,"/",void 0,n)},"se_ImportTableCommand"),pEe=u(async(e,t)=>{let r=U("ListBackups"),n;return n=JSON.stringify(Qve(e,t)),H(t,r,"/",void 0,n)},"se_ListBackupsCommand"),mEe=u(async(e,t)=>{let r=U("ListContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),fEe=u(async(e,t)=>{let r=U("ListExports"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListExportsCommand"),hEe=u(async(e,t)=>{let r=U("ListGlobalTables"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),gEe=u(async(e,t)=>{let r=U("ListImports"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListImportsCommand"),yEe=u(async(e,t)=>{let r=U("ListTables"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListTablesCommand"),_Ee=u(async(e,t)=>{let r=U("ListTagsOfResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),EEe=u(async(e,t)=>{let r=U("PutItem"),n;return n=JSON.stringify(obe(e,t)),H(t,r,"/",void 0,n)},"se_PutItemCommand"),SEe=u(async(e,t)=>{let r=U("PutResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),vEe=u(async(e,t)=>{let r=U("Query"),n;return n=JSON.stringify(ibe(e,t)),H(t,r,"/",void 0,n)},"se_QueryCommand"),bEe=u(async(e,t)=>{let r=U("RestoreTableFromBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),wEe=u(async(e,t)=>{let r=U("RestoreTableToPointInTime"),n;return n=JSON.stringify(hbe(e,t)),H(t,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),TEe=u(async(e,t)=>{let r=U("Scan"),n;return n=JSON.stringify(gbe(e,t)),H(t,r,"/",void 0,n)},"se_ScanCommand"),CEe=u(async(e,t)=>{let r=U("TagResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_TagResourceCommand"),PEe=u(async(e,t)=>{let r=U("TransactGetItems"),n;return n=JSON.stringify(Ebe(e,t)),H(t,r,"/",void 0,n)},"se_TransactGetItemsCommand"),AEe=u(async(e,t)=>{let r=U("TransactWriteItems"),n;return n=JSON.stringify(bbe(e,t)),H(t,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),IEe=u(async(e,t)=>{let r=U("UntagResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UntagResourceCommand"),xEe=u(async(e,t)=>{let r=U("UpdateContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),REe=u(async(e,t)=>{let r=U("UpdateContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),OEe=u(async(e,t)=>{let r=U("UpdateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),NEe=u(async(e,t)=>{let r=U("UpdateGlobalTableSettings"),n;return n=JSON.stringify(Tbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),DEe=u(async(e,t)=>{let r=U("UpdateItem"),n;return n=JSON.stringify(Cbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateItemCommand"),MEe=u(async(e,t)=>{let r=U("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),kEe=u(async(e,t)=>{let r=U("UpdateTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateTableCommand"),LEe=u(async(e,t)=>{let r=U("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(Pbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),UEe=u(async(e,t)=>{let r=U("UpdateTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),FEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=kbe(r,t),{$metadata:P(e),...n}},"de_BatchExecuteStatementCommand"),BEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Lbe(r,t),{$metadata:P(e),...n}},"de_BatchGetItemCommand"),jEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Hbe(r,t),{$metadata:P(e),...n}},"de_BatchWriteItemCommand"),HEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Wbe(r,t),{$metadata:P(e),...n}},"de_CreateBackupCommand"),$Ee=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Kbe(r,t),{$metadata:P(e),...n}},"de_CreateGlobalTableCommand"),qEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Jbe(r,t),{$metadata:P(e),...n}},"de_CreateTableCommand"),zEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Ybe(r,t),{$metadata:P(e),...n}},"de_DeleteBackupCommand"),VEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Xbe(r,t),{$metadata:P(e),...n}},"de_DeleteItemCommand"),GEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DeleteResourcePolicyCommand"),WEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Zbe(r,t),{$metadata:P(e),...n}},"de_DeleteTableCommand"),KEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=ewe(r,t),{$metadata:P(e),...n}},"de_DescribeBackupCommand"),JEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=twe(r,t),{$metadata:P(e),...n}},"de_DescribeContinuousBackupsCommand"),YEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=rwe(r,t),{$metadata:P(e),...n}},"de_DescribeContributorInsightsCommand"),XEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeEndpointsCommand"),QEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=nwe(r,t),{$metadata:P(e),...n}},"de_DescribeExportCommand"),ZEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=owe(r,t),{$metadata:P(e),...n}},"de_DescribeGlobalTableCommand"),eSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=swe(r,t),{$metadata:P(e),...n}},"de_DescribeGlobalTableSettingsCommand"),tSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=iwe(r,t),{$metadata:P(e),...n}},"de_DescribeImportCommand"),rSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeKinesisStreamingDestinationCommand"),nSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeLimitsCommand"),oSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=awe(r,t),{$metadata:P(e),...n}},"de_DescribeTableCommand"),sSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=cwe(r,t),{$metadata:P(e),...n}},"de_DescribeTableReplicaAutoScalingCommand"),iSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeTimeToLiveCommand"),aSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DisableKinesisStreamingDestinationCommand"),cSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_EnableKinesisStreamingDestinationCommand"),dSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=dwe(r,t),{$metadata:P(e),...n}},"de_ExecuteStatementCommand"),lSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=lwe(r,t),{$metadata:P(e),...n}},"de_ExecuteTransactionCommand"),uSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=uwe(r,t),{$metadata:P(e),...n}},"de_ExportTableToPointInTimeCommand"),pSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=pwe(r,t),{$metadata:P(e),...n}},"de_GetItemCommand"),mSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_GetResourcePolicyCommand"),fSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=ywe(r,t),{$metadata:P(e),...n}},"de_ImportTableCommand"),hSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Pwe(r,t),{$metadata:P(e),...n}},"de_ListBackupsCommand"),gSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListContributorInsightsCommand"),ySe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListExportsCommand"),_Se=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListGlobalTablesCommand"),ESe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Awe(r,t),{$metadata:P(e),...n}},"de_ListImportsCommand"),SSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListTablesCommand"),vSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListTagsOfResourceCommand"),bSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Nwe(r,t),{$metadata:P(e),...n}},"de_PutItemCommand"),wSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_PutResourcePolicyCommand"),TSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Mwe(r,t),{$metadata:P(e),...n}},"de_QueryCommand"),CSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=zwe(r,t),{$metadata:P(e),...n}},"de_RestoreTableFromBackupCommand"),PSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Vwe(r,t),{$metadata:P(e),...n}},"de_RestoreTableToPointInTimeCommand"),ASe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Gwe(r,t),{$metadata:P(e),...n}},"de_ScanCommand"),ISe=u(async(e,t)=>e.statusCode>=300?j(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:P(e)}),"de_TagResourceCommand"),xSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Jwe(r,t),{$metadata:P(e),...n}},"de_TransactGetItemsCommand"),RSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Xwe(r,t),{$metadata:P(e),...n}},"de_TransactWriteItemsCommand"),OSe=u(async(e,t)=>e.statusCode>=300?j(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:P(e)}),"de_UntagResourceCommand"),NSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Qwe(r,t),{$metadata:P(e),...n}},"de_UpdateContinuousBackupsCommand"),DSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateContributorInsightsCommand"),MSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Zwe(r,t),{$metadata:P(e),...n}},"de_UpdateGlobalTableCommand"),kSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=eTe(r,t),{$metadata:P(e),...n}},"de_UpdateGlobalTableSettingsCommand"),LSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=tTe(r,t),{$metadata:P(e),...n}},"de_UpdateItemCommand"),USe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateKinesisStreamingDestinationCommand"),FSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=rTe(r,t),{$metadata:P(e),...n}},"de_UpdateTableCommand"),BSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=nTe(r,t),{$metadata:P(e),...n}},"de_UpdateTableReplicaAutoScalingCommand"),jSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateTimeToLiveCommand"),j=u(async(e,t)=>{let r={...e,body:await(0,D.parseJsonErrorBody)(e.body,t)},n=(0,D.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await eve(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await pve(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await tve(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await cve(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await fve(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await ove(r,t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await uve(r,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await HSe(r,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await zSe(r,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await sve(r,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await gve(r,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await yve(r,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await KSe(r,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await mve(r,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await $Se(r,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await qSe(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Eve(r,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await ave(r,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await WSe(r,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await JSe(r,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await QSe(r,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await VSe(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await YSe(r,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await _ve(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Sve(r,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await GSe(r,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await rve(r,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await ive(r,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await XSe(r,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await hve(r,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await nve(r,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await dve(r,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await lve(r,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await ZSe(r,t);default:let o=r.body;return iTe({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),HSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Gz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),$Se=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Kz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),qSe=u(async(e,t)=>{let r=e.body,n=Gbe(r,t),o=new rG({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),zSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new lV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),VSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new NV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),GSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new FV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),WSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new PV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),KSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new _V({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),JSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new IV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),YSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new MV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),XSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new zV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),QSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new RV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),ZSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new eG({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),eve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Yz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),tve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new eV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),rve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new jV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),nve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new KV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),ove=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new iV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),sve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new pV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),ive=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new $V({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),ave=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new TV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),cve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new rV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),dve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new YV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),lve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new QV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),uve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new cV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicatedWriteConflictExceptionRes"),pve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Qz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),mve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new SV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),fve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new oV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),hve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new GV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),gve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new fV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),yve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new gV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),_ve=u(async(e,t)=>{let r=e.body,n=Ywe(r,t),o=new oG({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),Eve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new bV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),Sve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new LV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),vve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=bve(o,t)),r),{}),"se_AttributeUpdates"),Vr=u((e,t)=>tf.visit(e,{B:u(r=>({B:t.base64Encoder(r)}),"B"),BOOL:u(r=>({BOOL:r}),"BOOL"),BS:u(r=>({BS:Ove(r,t)}),"BS"),L:u(r=>({L:Xve(r,t)}),"L"),M:u(r=>({M:Zve(r,t)}),"M"),N:u(r=>({N:r}),"N"),NS:u(r=>({NS:(0,m._json)(r)}),"NS"),NULL:u(r=>({NULL:r}),"NULL"),S:u(r=>({S:r}),"S"),SS:u(r=>({SS:(0,m._json)(r)}),"SS"),_:u((r,n)=>({[r]:n}),"_")}),"se_AttributeValue"),iG=u((e,t)=>e.filter(r=>r!=null).map(r=>Vr(r,t)),"se_AttributeValueList"),bve=u((e,t)=>(0,m.take)(e,{Action:[],Value:u(r=>Vr(r,t),"Value")}),"se_AttributeValueUpdate"),wve=u((e,t)=>(0,m.take)(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:u(r=>Tve(r,t),"TargetTrackingScalingPolicyConfiguration")}),"se_AutoScalingPolicyUpdate"),Bn=u((e,t)=>(0,m.take)(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:u(r=>wve(r,t),"ScalingPolicyUpdate")}),"se_AutoScalingSettingsUpdate"),Tve=u((e,t)=>(0,m.take)(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:m.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),Cve=u((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],Statements:u(r=>rbe(r,t),"Statements")}),"se_BatchExecuteStatementInput"),Pve=u((e,t)=>(0,m.take)(e,{RequestItems:u(r=>Ave(r,t),"RequestItems"),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),Ave=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Yve(o,t)),r),{}),"se_BatchGetRequestMap"),Ive=u((e,t)=>(0,m.take)(e,{ConsistentRead:[],Parameters:u(r=>Ib(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),xve=u((e,t)=>(0,m.take)(e,{RequestItems:u(r=>Rve(r,t),"RequestItems"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),Rve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Ibe(o,t)),r),{}),"se_BatchWriteItemRequestMap"),Ove=u((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinarySetAttributeValue"),aG=u((e,t)=>(0,m.take)(e,{AttributeValueList:u(r=>iG(r,t),"AttributeValueList"),ComparisonOperator:[]}),"se_Condition"),Nve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),Dve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),Mve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Ab(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),kve=u((e,t)=>(0,m.take)(e,{Key:u(r=>$t(r,t),"Key")}),"se_DeleteRequest"),Lve=u((e,t)=>(0,m.take)(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:u(r=>Ib(r,t),"Parameters"),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),Uve=u((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,nf.v4)()],ReturnConsumedCapacity:[],TransactStatements:u(r=>tbe(r,t),"TransactStatements")}),"se_ExecuteTransactionInput"),Ab=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fve(o,t)),r),{}),"se_ExpectedAttributeMap"),Fve=u((e,t)=>(0,m.take)(e,{AttributeValueList:u(r=>iG(r,t),"AttributeValueList"),ComparisonOperator:[],Exists:[],Value:u(r=>Vr(r,t),"Value")}),"se_ExpectedAttributeValue"),Bve=u((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,nf.v4)()],ExportFormat:[],ExportTime:u(r=>r.getTime()/1e3,"ExportTime"),ExportType:[],IncrementalExportSpecification:u(r=>Wve(r,t),"IncrementalExportSpecification"),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),Gr=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Vr(o,t)),r),{}),"se_ExpressionAttributeValueMap"),cG=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=aG(o,t)),r),{}),"se_FilterConditionMap"),jve=u((e,t)=>(0,m.take)(e,{ExpressionAttributeNames:m._json,Key:u(r=>$t(r,t),"Key"),ProjectionExpression:[],TableName:[]}),"se_Get"),Hve=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Key:u(r=>$t(r,t),"Key"),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),$ve=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Bn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate")}),"se_GlobalSecondaryIndexAutoScalingUpdate"),qve=u((e,t)=>e.filter(r=>r!=null).map(r=>$ve(r,t)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),zve=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Bn(r,t),"ProvisionedWriteCapacityAutoScalingSettingsUpdate"),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),Vve=u((e,t)=>e.filter(r=>r!=null).map(r=>zve(r,t)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),Gve=u((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,nf.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:m._json,S3BucketSource:m._json,TableCreationParameters:m._json}),"se_ImportTableInput"),Wve=u((e,t)=>(0,m.take)(e,{ExportFromTime:u(r=>r.getTime()/1e3,"ExportFromTime"),ExportToTime:u(r=>r.getTime()/1e3,"ExportToTime"),ExportViewType:[]}),"se_IncrementalExportSpecification"),$t=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Vr(o,t)),r),{}),"se_Key"),Kve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=aG(o,t)),r),{}),"se_KeyConditions"),Jve=u((e,t)=>e.filter(r=>r!=null).map(r=>$t(r,t)),"se_KeyList"),Yve=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Keys:u(r=>Jve(r,t),"Keys"),ProjectionExpression:[]}),"se_KeysAndAttributes"),Xve=u((e,t)=>e.filter(r=>r!=null).map(r=>Vr(r,t)),"se_ListAttributeValue"),Qve=u((e,t)=>(0,m.take)(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:u(r=>r.getTime()/1e3,"TimeRangeLowerBound"),TimeRangeUpperBound:u(r=>r.getTime()/1e3,"TimeRangeUpperBound")}),"se_ListBackupsInput"),Zve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Vr(o,t)),r),{}),"se_MapAttributeValue"),ebe=u((e,t)=>(0,m.take)(e,{Parameters:u(r=>Ib(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),tbe=u((e,t)=>e.filter(r=>r!=null).map(r=>ebe(r,t)),"se_ParameterizedStatements"),rbe=u((e,t)=>e.filter(r=>r!=null).map(r=>Ive(r,t)),"se_PartiQLBatchRequest"),Ib=u((e,t)=>e.filter(r=>r!=null).map(r=>Vr(r,t)),"se_PreparedStatementParameters"),nbe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),Item:u(r=>xb(r,t),"Item"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),obe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Ab(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),Item:u(r=>xb(r,t),"Item"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),xb=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Vr(o,t)),r),{}),"se_PutItemInputAttributeMap"),sbe=u((e,t)=>(0,m.take)(e,{Item:u(r=>xb(r,t),"Item")}),"se_PutRequest"),ibe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>$t(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:u(r=>Kve(r,t),"KeyConditions"),Limit:[],ProjectionExpression:[],QueryFilter:u(r=>cG(r,t),"QueryFilter"),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),abe=u((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:u(r=>lbe(r,t),"ReplicaGlobalSecondaryIndexUpdates"),ReplicaProvisionedReadCapacityAutoScalingUpdate:u(r=>Bn(r,t),"ReplicaProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaAutoScalingUpdate"),cbe=u((e,t)=>e.filter(r=>r!=null).map(r=>abe(r,t)),"se_ReplicaAutoScalingUpdateList"),dbe=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:u(r=>Bn(r,t),"ProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),lbe=u((e,t)=>e.filter(r=>r!=null).map(r=>dbe(r,t)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),ube=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Bn(r,t),"ProvisionedReadCapacityAutoScalingSettingsUpdate"),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),pbe=u((e,t)=>e.filter(r=>r!=null).map(r=>ube(r,t)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),mbe=u((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:u(r=>pbe(r,t),"ReplicaGlobalSecondaryIndexSettingsUpdate"),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Bn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate"),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),fbe=u((e,t)=>e.filter(r=>r!=null).map(r=>mbe(r,t)),"se_ReplicaSettingsUpdateList"),hbe=u((e,t)=>(0,m.take)(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:m._json,LocalSecondaryIndexOverride:m._json,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RestoreDateTime:u(r=>r.getTime()/1e3,"RestoreDateTime"),SSESpecificationOverride:m._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),gbe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>$t(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:u(r=>cG(r,t),"ScanFilter"),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),ybe=u((e,t)=>(0,m.take)(e,{Get:u(r=>jve(r,t),"Get")}),"se_TransactGetItem"),_be=u((e,t)=>e.filter(r=>r!=null).map(r=>ybe(r,t)),"se_TransactGetItemList"),Ebe=u((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],TransactItems:u(r=>_be(r,t),"TransactItems")}),"se_TransactGetItemsInput"),Sbe=u((e,t)=>(0,m.take)(e,{ConditionCheck:u(r=>Nve(r,t),"ConditionCheck"),Delete:u(r=>Dve(r,t),"Delete"),Put:u(r=>nbe(r,t),"Put"),Update:u(r=>wbe(r,t),"Update")}),"se_TransactWriteItem"),vbe=u((e,t)=>e.filter(r=>r!=null).map(r=>Sbe(r,t)),"se_TransactWriteItemList"),bbe=u((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,nf.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:u(r=>vbe(r,t),"TransactItems")}),"se_TransactWriteItemsInput"),wbe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),Tbe=u((e,t)=>(0,m.take)(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:u(r=>Vve(r,t),"GlobalTableGlobalSecondaryIndexSettingsUpdate"),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Bn(r,t),"GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate"),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:u(r=>fbe(r,t),"ReplicaSettingsUpdate")}),"se_UpdateGlobalTableSettingsInput"),Cbe=u((e,t)=>(0,m.take)(e,{AttributeUpdates:u(r=>vve(r,t),"AttributeUpdates"),ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Ab(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Gr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),Pbe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexUpdates:u(r=>qve(r,t),"GlobalSecondaryIndexUpdates"),ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Bn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate"),ReplicaUpdates:u(r=>cbe(r,t),"ReplicaUpdates"),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),Abe=u((e,t)=>(0,m.take)(e,{DeleteRequest:u(r=>kve(r,t),"DeleteRequest"),PutRequest:u(r=>sbe(r,t),"PutRequest")}),"se_WriteRequest"),Ibe=u((e,t)=>e.filter(r=>r!=null).map(r=>Abe(r,t)),"se_WriteRequests"),xbe=u((e,t)=>(0,m.take)(e,{ArchivalBackupArn:m.expectString,ArchivalDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ArchivalDateTime"),ArchivalReason:m.expectString}),"de_ArchivalSummary"),vr=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Bs((0,D.awsExpectUnion)(o),t)),r),{}),"de_AttributeMap"),Bs=u((e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:(0,m.expectBoolean)(e.BOOL)!==void 0?{BOOL:(0,m.expectBoolean)(e.BOOL)}:e.BS!=null?{BS:qbe(e.BS,t)}:e.L!=null?{L:Cwe(e.L,t)}:e.M!=null?{M:Iwe(e.M,t)}:(0,m.expectString)(e.N)!==void 0?{N:(0,m.expectString)(e.N)}:e.NS!=null?{NS:(0,m._json)(e.NS)}:(0,m.expectBoolean)(e.NULL)!==void 0?{NULL:(0,m.expectBoolean)(e.NULL)}:(0,m.expectString)(e.S)!==void 0?{S:(0,m.expectString)(e.S)}:e.SS!=null?{SS:(0,m._json)(e.SS)}:{$unknown:Object.entries(e)[0]},"de_AttributeValue"),Rbe=u((e,t)=>(0,m.take)(e,{PolicyName:m.expectString,TargetTrackingScalingPolicyConfiguration:u(r=>Nbe(r,t),"TargetTrackingScalingPolicyConfiguration")}),"de_AutoScalingPolicyDescription"),Obe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Rbe(n,t)),"de_AutoScalingPolicyDescriptionList"),Fn=u((e,t)=>(0,m.take)(e,{AutoScalingDisabled:m.expectBoolean,AutoScalingRoleArn:m.expectString,MaximumUnits:m.expectLong,MinimumUnits:m.expectLong,ScalingPolicies:u(r=>Obe(r,t),"ScalingPolicies")}),"de_AutoScalingSettingsDescription"),Nbe=u((e,t)=>(0,m.take)(e,{DisableScaleIn:m.expectBoolean,ScaleInCooldown:m.expectInt32,ScaleOutCooldown:m.expectInt32,TargetValue:m.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),dG=u((e,t)=>(0,m.take)(e,{BackupDetails:u(r=>lG(r,t),"BackupDetails"),SourceTableDetails:u(r=>Wwe(r,t),"SourceTableDetails"),SourceTableFeatureDetails:u(r=>Kwe(r,t),"SourceTableFeatureDetails")}),"de_BackupDescription"),lG=u((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString}),"de_BackupDetails"),Dbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Mbe(n,t)),"de_BackupSummaries"),Mbe=u((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString,TableArn:m.expectString,TableId:m.expectString,TableName:m.expectString}),"de_BackupSummary"),kbe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>js(r,t),"ConsumedCapacity"),Responses:u(r=>xwe(r,t),"Responses")}),"de_BatchExecuteStatementOutput"),Lbe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>js(r,t),"ConsumedCapacity"),Responses:u(r=>Fbe(r,t),"Responses"),UnprocessedKeys:u(r=>Ube(r,t),"UnprocessedKeys")}),"de_BatchGetItemOutput"),Ube=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Twe(o,t)),r),{}),"de_BatchGetRequestMap"),Fbe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=sf(o,t)),r),{}),"de_BatchGetResponseMap"),Bbe=u((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:u(r=>vr(r,t),"Item"),Message:m.expectString}),"de_BatchStatementError"),jbe=u((e,t)=>(0,m.take)(e,{Error:u(r=>Bbe(r,t),"Error"),Item:u(r=>vr(r,t),"Item"),TableName:m.expectString}),"de_BatchStatementResponse"),Hbe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>js(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>gG(r,t),"ItemCollectionMetrics"),UnprocessedItems:u(r=>$be(r,t),"UnprocessedItems")}),"de_BatchWriteItemOutput"),$be=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=sTe(o,t)),r),{}),"de_BatchWriteItemRequestMap"),uG=u((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,LastUpdateToPayPerRequestDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateToPayPerRequestDateTime")}),"de_BillingModeSummary"),qbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinarySetAttributeValue"),zbe=u((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:u(r=>vr(r,t),"Item"),Message:m.expectString}),"de_CancellationReason"),Vbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>zbe(n,t)),"de_CancellationReasonList"),pG=u((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,ReadCapacityUnits:m.limitedParseDouble,WriteCapacityUnits:m.limitedParseDouble}),"de_Capacity"),Gbe=u((e,t)=>(0,m.take)(e,{Item:u(r=>vr(r,t),"Item"),message:m.expectString}),"de_ConditionalCheckFailedException"),jn=u((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,GlobalSecondaryIndexes:u(r=>$z(r,t),"GlobalSecondaryIndexes"),LocalSecondaryIndexes:u(r=>$z(r,t),"LocalSecondaryIndexes"),ReadCapacityUnits:m.limitedParseDouble,Table:u(r=>pG(r,t),"Table"),TableName:m.expectString,WriteCapacityUnits:m.limitedParseDouble}),"de_ConsumedCapacity"),js=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>jn(n,t)),"de_ConsumedCapacityMultiple"),mG=u((e,t)=>(0,m.take)(e,{ContinuousBackupsStatus:m.expectString,PointInTimeRecoveryDescription:u(r=>Rwe(r,t),"PointInTimeRecoveryDescription")}),"de_ContinuousBackupsDescription"),Wbe=u((e,t)=>(0,m.take)(e,{BackupDetails:u(r=>lG(r,t),"BackupDetails")}),"de_CreateBackupOutput"),Kbe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_CreateGlobalTableOutput"),Jbe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>Hs(r,t),"TableDescription")}),"de_CreateTableOutput"),Ybe=u((e,t)=>(0,m.take)(e,{BackupDescription:u(r=>dG(r,t),"BackupDescription")}),"de_DeleteBackupOutput"),Xbe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>vr(r,t),"Attributes"),ConsumedCapacity:u(r=>jn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>of(r,t),"ItemCollectionMetrics")}),"de_DeleteItemOutput"),Qbe=u((e,t)=>(0,m.take)(e,{Key:u(r=>pc(r,t),"Key")}),"de_DeleteRequest"),Zbe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>Hs(r,t),"TableDescription")}),"de_DeleteTableOutput"),ewe=u((e,t)=>(0,m.take)(e,{BackupDescription:u(r=>dG(r,t),"BackupDescription")}),"de_DescribeBackupOutput"),twe=u((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:u(r=>mG(r,t),"ContinuousBackupsDescription")}),"de_DescribeContinuousBackupsOutput"),rwe=u((e,t)=>(0,m.take)(e,{ContributorInsightsRuleList:m._json,ContributorInsightsStatus:m.expectString,FailureException:m._json,IndexName:m.expectString,LastUpdateDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableName:m.expectString}),"de_DescribeContributorInsightsOutput"),nwe=u((e,t)=>(0,m.take)(e,{ExportDescription:u(r=>fG(r,t),"ExportDescription")}),"de_DescribeExportOutput"),owe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_DescribeGlobalTableOutput"),swe=u((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:u(r=>SG(r,t),"ReplicaSettings")}),"de_DescribeGlobalTableSettingsOutput"),iwe=u((e,t)=>(0,m.take)(e,{ImportTableDescription:u(r=>hG(r,t),"ImportTableDescription")}),"de_DescribeImportOutput"),awe=u((e,t)=>(0,m.take)(e,{Table:u(r=>Hs(r,t),"Table")}),"de_DescribeTableOutput"),cwe=u((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:u(r=>bG(r,t),"TableAutoScalingDescription")}),"de_DescribeTableReplicaAutoScalingOutput"),dwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>jn(r,t),"ConsumedCapacity"),Items:u(r=>sf(r,t),"Items"),LastEvaluatedKey:u(r=>pc(r,t),"LastEvaluatedKey"),NextToken:m.expectString}),"de_ExecuteStatementOutput"),lwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>js(r,t),"ConsumedCapacity"),Responses:u(r=>yG(r,t),"Responses")}),"de_ExecuteTransactionOutput"),fG=u((e,t)=>(0,m.take)(e,{BilledSizeBytes:m.expectLong,ClientToken:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ExportArn:m.expectString,ExportFormat:m.expectString,ExportManifest:m.expectString,ExportStatus:m.expectString,ExportTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportTime"),ExportType:m.expectString,FailureCode:m.expectString,FailureMessage:m.expectString,IncrementalExportSpecification:u(r=>_we(r,t),"IncrementalExportSpecification"),ItemCount:m.expectLong,S3Bucket:m.expectString,S3BucketOwner:m.expectString,S3Prefix:m.expectString,S3SseAlgorithm:m.expectString,S3SseKmsKeyId:m.expectString,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableId:m.expectString}),"de_ExportDescription"),uwe=u((e,t)=>(0,m.take)(e,{ExportDescription:u(r=>fG(r,t),"ExportDescription")}),"de_ExportTableToPointInTimeOutput"),pwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>jn(r,t),"ConsumedCapacity"),Item:u(r=>vr(r,t),"Item")}),"de_GetItemOutput"),mwe=u((e,t)=>(0,m.take)(e,{Backfilling:m.expectBoolean,IndexArn:m.expectString,IndexName:m.expectString,IndexSizeBytes:m.expectLong,IndexStatus:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,Projection:m._json,ProvisionedThroughput:u(r=>_G(r,t),"ProvisionedThroughput"),WarmThroughput:m._json}),"de_GlobalSecondaryIndexDescription"),fwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>mwe(n,t)),"de_GlobalSecondaryIndexDescriptionList"),Rb=u((e,t)=>(0,m.take)(e,{CreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),GlobalTableArn:m.expectString,GlobalTableName:m.expectString,GlobalTableStatus:m.expectString,ReplicationGroup:u(r=>EG(r,t),"ReplicationGroup")}),"de_GlobalTableDescription"),hwe=u((e,t)=>(0,m.take)(e,{CloudWatchLogGroupArn:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ImportArn:m.expectString,ImportStatus:m.expectString,InputFormat:m.expectString,S3BucketSource:m._json,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString}),"de_ImportSummary"),gwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hwe(n,t)),"de_ImportSummaryList"),hG=u((e,t)=>(0,m.take)(e,{ClientToken:m.expectString,CloudWatchLogGroupArn:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ErrorCount:m.expectLong,FailureCode:m.expectString,FailureMessage:m.expectString,ImportArn:m.expectString,ImportStatus:m.expectString,ImportedItemCount:m.expectLong,InputCompressionType:m.expectString,InputFormat:m.expectString,InputFormatOptions:m._json,ProcessedItemCount:m.expectLong,ProcessedSizeBytes:m.expectLong,S3BucketSource:m._json,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableCreationParameters:m._json,TableId:m.expectString}),"de_ImportTableDescription"),ywe=u((e,t)=>(0,m.take)(e,{ImportTableDescription:u(r=>hG(r,t),"ImportTableDescription")}),"de_ImportTableOutput"),_we=u((e,t)=>(0,m.take)(e,{ExportFromTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportFromTime"),ExportToTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportToTime"),ExportViewType:m.expectString}),"de_IncrementalExportSpecification"),Ewe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Bs((0,D.awsExpectUnion)(o),t)),r),{}),"de_ItemCollectionKeyAttributeMap"),of=u((e,t)=>(0,m.take)(e,{ItemCollectionKey:u(r=>Ewe(r,t),"ItemCollectionKey"),SizeEstimateRangeGB:u(r=>vwe(r,t),"SizeEstimateRangeGB")}),"de_ItemCollectionMetrics"),Swe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>of(n,t)),"de_ItemCollectionMetricsMultiple"),gG=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Swe(o,t)),r),{}),"de_ItemCollectionMetricsPerTable"),vwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,m.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),sf=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>vr(n,t)),"de_ItemList"),bwe=u((e,t)=>(0,m.take)(e,{Item:u(r=>vr(r,t),"Item")}),"de_ItemResponse"),yG=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>bwe(n,t)),"de_ItemResponseList"),pc=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Bs((0,D.awsExpectUnion)(o),t)),r),{}),"de_Key"),wwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>pc(n,t)),"de_KeyList"),Twe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:m.expectBoolean,ExpressionAttributeNames:m._json,Keys:u(r=>wwe(r,t),"Keys"),ProjectionExpression:m.expectString}),"de_KeysAndAttributes"),Cwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Bs((0,D.awsExpectUnion)(n),t)),"de_ListAttributeValue"),Pwe=u((e,t)=>(0,m.take)(e,{BackupSummaries:u(r=>Dbe(r,t),"BackupSummaries"),LastEvaluatedBackupArn:m.expectString}),"de_ListBackupsOutput"),Awe=u((e,t)=>(0,m.take)(e,{ImportSummaryList:u(r=>gwe(r,t),"ImportSummaryList"),NextToken:m.expectString}),"de_ListImportsOutput"),Iwe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Bs((0,D.awsExpectUnion)(o),t)),r),{}),"de_MapAttributeValue"),xwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>jbe(n,t)),"de_PartiQLBatchResponse"),Rwe=u((e,t)=>(0,m.take)(e,{EarliestRestorableDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EarliestRestorableDateTime"),LatestRestorableDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LatestRestorableDateTime"),PointInTimeRecoveryStatus:m.expectString,RecoveryPeriodInDays:m.expectInt32}),"de_PointInTimeRecoveryDescription"),_G=u((e,t)=>(0,m.take)(e,{LastDecreaseDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastDecreaseDateTime"),LastIncreaseDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastIncreaseDateTime"),NumberOfDecreasesToday:m.expectLong,ReadCapacityUnits:m.expectLong,WriteCapacityUnits:m.expectLong}),"de_ProvisionedThroughputDescription"),Owe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Bs((0,D.awsExpectUnion)(o),t)),r),{}),"de_PutItemInputAttributeMap"),Nwe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>vr(r,t),"Attributes"),ConsumedCapacity:u(r=>jn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>of(r,t),"ItemCollectionMetrics")}),"de_PutItemOutput"),Dwe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Owe(r,t),"Item")}),"de_PutRequest"),Mwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>jn(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:u(r=>sf(r,t),"Items"),LastEvaluatedKey:u(r=>pc(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_QueryOutput"),kwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:u(r=>Bwe(r,t),"GlobalSecondaryIndexes"),RegionName:m.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Fn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Fn(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaStatus:m.expectString}),"de_ReplicaAutoScalingDescription"),Lwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>kwe(n,t)),"de_ReplicaAutoScalingDescriptionList"),Uwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,KMSMasterKeyId:m.expectString,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RegionName:m.expectString,ReplicaInaccessibleDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ReplicaInaccessibleDateTime"),ReplicaStatus:m.expectString,ReplicaStatusDescription:m.expectString,ReplicaStatusPercentProgress:m.expectString,ReplicaTableClassSummary:u(r=>Ob(r,t),"ReplicaTableClassSummary"),WarmThroughput:m._json}),"de_ReplicaDescription"),EG=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Uwe(n,t)),"de_ReplicaDescriptionList"),Fwe=u((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Fn(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedWriteCapacityAutoScalingSettings:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingSettings")}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),Bwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fwe(n,t)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),jwe=u((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Fn(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedReadCapacityUnits:m.expectLong,ProvisionedWriteCapacityAutoScalingSettings:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingSettings"),ProvisionedWriteCapacityUnits:m.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),Hwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>jwe(n,t)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),$we=u((e,t)=>(0,m.take)(e,{RegionName:m.expectString,ReplicaBillingModeSummary:u(r=>uG(r,t),"ReplicaBillingModeSummary"),ReplicaGlobalSecondaryIndexSettings:u(r=>Hwe(r,t),"ReplicaGlobalSecondaryIndexSettings"),ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Fn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedReadCapacityUnits:m.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Fn(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityUnits:m.expectLong,ReplicaStatus:m.expectString,ReplicaTableClassSummary:u(r=>Ob(r,t),"ReplicaTableClassSummary")}),"de_ReplicaSettingsDescription"),SG=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>$we(n,t)),"de_ReplicaSettingsDescriptionList"),qwe=u((e,t)=>(0,m.take)(e,{RestoreDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"RestoreDateTime"),RestoreInProgress:m.expectBoolean,SourceBackupArn:m.expectString,SourceTableArn:m.expectString}),"de_RestoreSummary"),zwe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>Hs(r,t),"TableDescription")}),"de_RestoreTableFromBackupOutput"),Vwe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>Hs(r,t),"TableDescription")}),"de_RestoreTableToPointInTimeOutput"),Gwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>jn(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:u(r=>sf(r,t),"Items"),LastEvaluatedKey:u(r=>pc(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_ScanOutput"),$z=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=pG(o,t)),r),{}),"de_SecondaryIndexesCapacityMap"),Wwe=u((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,ProvisionedThroughput:m._json,TableArn:m.expectString,TableCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"TableCreationDateTime"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong}),"de_SourceTableDetails"),Kwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,LocalSecondaryIndexes:m._json,SSEDescription:u(r=>vG(r,t),"SSEDescription"),StreamDescription:m._json,TimeToLiveDescription:m._json}),"de_SourceTableFeatureDetails"),vG=u((e,t)=>(0,m.take)(e,{InaccessibleEncryptionDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"InaccessibleEncryptionDateTime"),KMSMasterKeyArn:m.expectString,SSEType:m.expectString,Status:m.expectString}),"de_SSEDescription"),bG=u((e,t)=>(0,m.take)(e,{Replicas:u(r=>Lwe(r,t),"Replicas"),TableName:m.expectString,TableStatus:m.expectString}),"de_TableAutoScalingDescription"),Ob=u((e,t)=>(0,m.take)(e,{LastUpdateDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableClass:m.expectString}),"de_TableClassSummary"),Hs=u((e,t)=>(0,m.take)(e,{ArchivalSummary:u(r=>xbe(r,t),"ArchivalSummary"),AttributeDefinitions:m._json,BillingModeSummary:u(r=>uG(r,t),"BillingModeSummary"),CreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),DeletionProtectionEnabled:m.expectBoolean,GlobalSecondaryIndexes:u(r=>fwe(r,t),"GlobalSecondaryIndexes"),GlobalTableVersion:m.expectString,GlobalTableWitnesses:m._json,ItemCount:m.expectLong,KeySchema:m._json,LatestStreamArn:m.expectString,LatestStreamLabel:m.expectString,LocalSecondaryIndexes:m._json,MultiRegionConsistency:m.expectString,OnDemandThroughput:m._json,ProvisionedThroughput:u(r=>_G(r,t),"ProvisionedThroughput"),Replicas:u(r=>EG(r,t),"Replicas"),RestoreSummary:u(r=>qwe(r,t),"RestoreSummary"),SSEDescription:u(r=>vG(r,t),"SSEDescription"),StreamSpecification:m._json,TableArn:m.expectString,TableClassSummary:u(r=>Ob(r,t),"TableClassSummary"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong,TableStatus:m.expectString,WarmThroughput:m._json}),"de_TableDescription"),Jwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>js(r,t),"ConsumedCapacity"),Responses:u(r=>yG(r,t),"Responses")}),"de_TransactGetItemsOutput"),Ywe=u((e,t)=>(0,m.take)(e,{CancellationReasons:u(r=>Vbe(r,t),"CancellationReasons"),Message:m.expectString}),"de_TransactionCanceledException"),Xwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>js(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>gG(r,t),"ItemCollectionMetrics")}),"de_TransactWriteItemsOutput"),Qwe=u((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:u(r=>mG(r,t),"ContinuousBackupsDescription")}),"de_UpdateContinuousBackupsOutput"),Zwe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_UpdateGlobalTableOutput"),eTe=u((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:u(r=>SG(r,t),"ReplicaSettings")}),"de_UpdateGlobalTableSettingsOutput"),tTe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>vr(r,t),"Attributes"),ConsumedCapacity:u(r=>jn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>of(r,t),"ItemCollectionMetrics")}),"de_UpdateItemOutput"),rTe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>Hs(r,t),"TableDescription")}),"de_UpdateTableOutput"),nTe=u((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:u(r=>bG(r,t),"TableAutoScalingDescription")}),"de_UpdateTableReplicaAutoScalingOutput"),oTe=u((e,t)=>(0,m.take)(e,{DeleteRequest:u(r=>Qbe(r,t),"DeleteRequest"),PutRequest:u(r=>Dwe(r,t),"PutRequest")}),"de_WriteRequest"),sTe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>oTe(n,t)),"de_WriteRequests"),P=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),iTe=(0,m.withBaseException)(Q),H=u(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new Pb.HttpRequest(l)},"buildHttpRpcRequest");function U(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}u(U,"sharedHeaders");var Nb=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(K_e).de(XEe).build(){static{u(this,"DescribeEndpointsCommand")}},aTe=Rz(),qz=Wy(),cTe=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),dTe=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),lTe=u((e,t)=>{let r=Object.assign((0,qz.getAwsRegionExtensionConfiguration)(e),(0,m.getDefaultExtensionConfiguration)(e),(0,Pb.getHttpHandlerExtensionConfiguration)(e),cTe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,qz.resolveAwsRegionExtensionConfiguration)(r),(0,m.resolveDefaultRuntimeConfig)(r),(0,Pb.resolveHttpHandlerRuntimeConfig)(r),dTe(r))},"resolveRuntimeExtensions"),Hn=class extends m.Client{static{u(this,"DynamoDBClient")}config;constructor(...[e]){let t=(0,aTe.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Wye(t),n=(0,Hye.resolveAccountIdEndpointModeConfig)(r),o=(0,Bz.resolveUserAgentConfig)(n),s=(0,jz.resolveRetryConfig)(o),i=(0,Vye.resolveRegionConfig)(s),a=(0,Fz.resolveHostHeaderConfig)(i),c=(0,L.resolveEndpointConfig)(a),l=(0,Hz.resolveHttpAuthSchemeConfig)(c),p=(0,$ye.resolveEndpointDiscoveryConfig)(l,{endpointDiscoveryCommandCtor:Nb}),f=lTe(p,e?.extensions||[]);this.config=f,this.middlewareStack.use((0,Bz.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,jz.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Gye.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Fz.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,qye.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,zye.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Cb.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:Hz.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:u(async h=>new Cb.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Cb.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},wG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(k_e).de(FEe).build(){static{u(this,"BatchExecuteStatementCommand")}},TG=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(L_e).de(BEe).build(){static{u(this,"BatchGetItemCommand")}},CG=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(U_e).de(jEe).build(){static{u(this,"BatchWriteItemCommand")}},PG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(F_e).de(HEe).build(){static{u(this,"CreateBackupCommand")}},AG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(B_e).de($Ee).build(){static{u(this,"CreateGlobalTableCommand")}},IG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(j_e).de(qEe).build(){static{u(this,"CreateTableCommand")}},xG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(H_e).de(zEe).build(){static{u(this,"DeleteBackupCommand")}},RG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser($_e).de(VEe).build(){static{u(this,"DeleteItemCommand")}},OG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(q_e).de(GEe).build(){static{u(this,"DeleteResourcePolicyCommand")}},NG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(z_e).de(WEe).build(){static{u(this,"DeleteTableCommand")}},DG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(V_e).de(KEe).build(){static{u(this,"DescribeBackupCommand")}},MG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(G_e).de(JEe).build(){static{u(this,"DescribeContinuousBackupsCommand")}},kG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(W_e).de(YEe).build(){static{u(this,"DescribeContributorInsightsCommand")}},LG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(J_e).de(QEe).build(){static{u(this,"DescribeExportCommand")}},UG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(Y_e).de(ZEe).build(){static{u(this,"DescribeGlobalTableCommand")}},FG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(X_e).de(eSe).build(){static{u(this,"DescribeGlobalTableSettingsCommand")}},BG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(Q_e).de(tSe).build(){static{u(this,"DescribeImportCommand")}},jG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Z_e).de(rSe).build(){static{u(this,"DescribeKinesisStreamingDestinationCommand")}},HG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(eEe).de(nSe).build(){static{u(this,"DescribeLimitsCommand")}},af=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(tEe).de(oSe).build(){static{u(this,"DescribeTableCommand")}},$G=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(rEe).de(sSe).build(){static{u(this,"DescribeTableReplicaAutoScalingCommand")}},qG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(nEe).de(iSe).build(){static{u(this,"DescribeTimeToLiveCommand")}},zG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(oEe).de(aSe).build(){static{u(this,"DisableKinesisStreamingDestinationCommand")}},VG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(sEe).de(cSe).build(){static{u(this,"EnableKinesisStreamingDestinationCommand")}},GG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(iEe).de(dSe).build(){static{u(this,"ExecuteStatementCommand")}},WG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(aEe).de(lSe).build(){static{u(this,"ExecuteTransactionCommand")}},KG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(cEe).de(uSe).build(){static{u(this,"ExportTableToPointInTimeCommand")}},JG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(dEe).de(pSe).build(){static{u(this,"GetItemCommand")}},YG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(lEe).de(mSe).build(){static{u(this,"GetResourcePolicyCommand")}},XG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"operationContextParams",get:u(e=>e?.TableCreationParameters?.TableName,"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(uEe).de(fSe).build(){static{u(this,"ImportTableCommand")}},QG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(pEe).de(hSe).build(){static{u(this,"ListBackupsCommand")}},Db=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(mEe).de(gSe).build(){static{u(this,"ListContributorInsightsCommand")}},Mb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(fEe).de(ySe).build(){static{u(this,"ListExportsCommand")}},ZG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(hEe).de(_Se).build(){static{u(this,"ListGlobalTablesCommand")}},kb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(gEe).de(ESe).build(){static{u(this,"ListImportsCommand")}},Lb=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(yEe).de(SSe).build(){static{u(this,"ListTablesCommand")}},e2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(_Ee).de(vSe).build(){static{u(this,"ListTagsOfResourceCommand")}},t2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(EEe).de(bSe).build(){static{u(this,"PutItemCommand")}},r2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(SEe).de(wSe).build(){static{u(this,"PutResourcePolicyCommand")}},Ub=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(vEe).de(TSe).build(){static{u(this,"QueryCommand")}},n2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(bEe).de(CSe).build(){static{u(this,"RestoreTableFromBackupCommand")}},o2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(wEe).de(PSe).build(){static{u(this,"RestoreTableToPointInTimeCommand")}},Fb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(TEe).de(ASe).build(){static{u(this,"ScanCommand")}},s2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(CEe).de(ISe).build(){static{u(this,"TagResourceCommand")}},i2=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>e?.TransactItems?.map(t=>t?.Get?.TableName),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(PEe).de(xSe).build(){static{u(this,"TransactGetItemsCommand")}},a2=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>e?.TransactItems?.map(t=>[t?.ConditionCheck?.TableName,t?.Put?.TableName,t?.Delete?.TableName,t?.Update?.TableName].filter(r=>r)).flat(),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(AEe).de(RSe).build(){static{u(this,"TransactWriteItemsCommand")}},c2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(IEe).de(OSe).build(){static{u(this,"UntagResourceCommand")}},d2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(xEe).de(NSe).build(){static{u(this,"UpdateContinuousBackupsCommand")}},l2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(REe).de(DSe).build(){static{u(this,"UpdateContributorInsightsCommand")}},u2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(OEe).de(MSe).build(){static{u(this,"UpdateGlobalTableCommand")}},p2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(NEe).de(kSe).build(){static{u(this,"UpdateGlobalTableSettingsCommand")}},m2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(DEe).de(LSe).build(){static{u(this,"UpdateItemCommand")}},f2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(MEe).de(USe).build(){static{u(this,"UpdateKinesisStreamingDestinationCommand")}},h2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(kEe).de(FSe).build(){static{u(this,"UpdateTableCommand")}},g2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(LEe).de(BSe).build(){static{u(this,"UpdateTableReplicaAutoScalingCommand")}},y2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(UEe).de(jSe).build(){static{u(this,"UpdateTimeToLiveCommand")}},uTe={BatchExecuteStatementCommand:wG,BatchGetItemCommand:TG,BatchWriteItemCommand:CG,CreateBackupCommand:PG,CreateGlobalTableCommand:AG,CreateTableCommand:IG,DeleteBackupCommand:xG,DeleteItemCommand:RG,DeleteResourcePolicyCommand:OG,DeleteTableCommand:NG,DescribeBackupCommand:DG,DescribeContinuousBackupsCommand:MG,DescribeContributorInsightsCommand:kG,DescribeEndpointsCommand:Nb,DescribeExportCommand:LG,DescribeGlobalTableCommand:UG,DescribeGlobalTableSettingsCommand:FG,DescribeImportCommand:BG,DescribeKinesisStreamingDestinationCommand:jG,DescribeLimitsCommand:HG,DescribeTableCommand:af,DescribeTableReplicaAutoScalingCommand:$G,DescribeTimeToLiveCommand:qG,DisableKinesisStreamingDestinationCommand:zG,EnableKinesisStreamingDestinationCommand:VG,ExecuteStatementCommand:GG,ExecuteTransactionCommand:WG,ExportTableToPointInTimeCommand:KG,GetItemCommand:JG,GetResourcePolicyCommand:YG,ImportTableCommand:XG,ListBackupsCommand:QG,ListContributorInsightsCommand:Db,ListExportsCommand:Mb,ListGlobalTablesCommand:ZG,ListImportsCommand:kb,ListTablesCommand:Lb,ListTagsOfResourceCommand:e2,PutItemCommand:t2,PutResourcePolicyCommand:r2,QueryCommand:Ub,RestoreTableFromBackupCommand:n2,RestoreTableToPointInTimeCommand:o2,ScanCommand:Fb,TagResourceCommand:s2,TransactGetItemsCommand:i2,TransactWriteItemsCommand:a2,UntagResourceCommand:c2,UpdateContinuousBackupsCommand:d2,UpdateContributorInsightsCommand:l2,UpdateGlobalTableCommand:u2,UpdateGlobalTableSettingsCommand:p2,UpdateItemCommand:m2,UpdateKinesisStreamingDestinationCommand:f2,UpdateTableCommand:h2,UpdateTableReplicaAutoScalingCommand:g2,UpdateTimeToLiveCommand:y2},_2=class extends Hn{static{u(this,"DynamoDB")}};(0,m.createAggregatedClient)(uTe,_2);var pTe=(rt(),z(yt)),mTe=(0,pTe.createPaginator)(Hn,Db,"NextToken","NextToken","MaxResults"),fTe=(rt(),z(yt)),hTe=(0,fTe.createPaginator)(Hn,Mb,"NextToken","NextToken","MaxResults"),gTe=(rt(),z(yt)),yTe=(0,gTe.createPaginator)(Hn,kb,"NextToken","NextToken","PageSize"),_Te=(rt(),z(yt)),ETe=(0,_Te.createPaginator)(Hn,Lb,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),STe=(rt(),z(yt)),vTe=(0,STe.createPaginator)(Hn,Ub,"ExclusiveStartKey","LastEvaluatedKey","Limit"),bTe=(rt(),z(yt)),wTe=(0,bTe.createPaginator)(Hn,Fb,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Ht=Uz(),E2=u(async(e,t)=>{let r;try{let n=await e.send(new af(t));r=n;try{if(u(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:Ht.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Ht.WaiterState.RETRY,reason:r}}return{state:Ht.WaiterState.RETRY,reason:r}},"checkState"),TTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Ht.createWaiter)({...r,...e},t,E2)},"waitForTableExists"),CTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Ht.createWaiter)({...r,...e},t,E2);return(0,Ht.checkExceptions)(n)},"waitUntilTableExists"),S2=u(async(e,t)=>{let r;try{r=await e.send(new af(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Ht.WaiterState.SUCCESS,reason:r}}return{state:Ht.WaiterState.RETRY,reason:r}},"checkState"),PTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Ht.createWaiter)({...r,...e},t,S2)},"waitForTableNotExists"),ATe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Ht.createWaiter)({...r,...e},t,S2);return(0,Ht.checkExceptions)(n)},"waitUntilTableNotExists")});d();var qt=T(b2(),1),$s=new qt.DynamoDBClient({region:process.env.AWS_REGION}),B8e=async e=>{try{let t=JSON.parse(e.body||"{}"),{inviteCode:r,userId:n,adminCode:o}=t,s=!1;if(o){let C={TableName:process.env.DYNAMODB_TABLE_NAME,IndexName:"byCode",KeyConditionExpression:"code = :code",ExpressionAttributeValues:{":code":{S:o}}},M=await $s.send(new qt.QueryCommand(C));if(M.Items&&M.Items.length>0){let Re=M.Items[0];parseInt(Re.uses_remaining?.N||"0")>0&&(s=!0,await $s.send(new qt.UpdateItemCommand({TableName:process.env.DYNAMODB_TABLE_NAME,Key:{id:Re.id},UpdateExpression:"SET uses_remaining = uses_remaining - :dec",ExpressionAttributeValues:{":dec":{N:"1"}}})))}}let i={TableName:process.env.DYNAMODB_TABLE_NAME,IndexName:"byInviteCode",KeyConditionExpression:"invite_code = :code",ExpressionAttributeValues:{":code":{S:r}}},a=await $s.send(new qt.QueryCommand(i));if(!a.Items||a.Items.length===0)return{statusCode:404,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!1,message:"Invalid invite code"})};let c=a.Items[0],l=c.game_id?.S||"",p=parseInt(c.year?.N||"0"),f=c.start_date?.S||"",h=`GAME#${p}`,g={TableName:process.env.DYNAMODB_TABLE_NAME,KeyConditionExpression:"PK = :pk AND begins_with(SK, :userPrefix)",ExpressionAttributeValues:{":pk":{S:h},":userPrefix":{S:`USER#${n}#${l}`}}},_=await $s.send(new qt.QueryCommand(g));if(_.Items&&_.Items.length>0)return{statusCode:400,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!1,message:"You are already a member of this game"})};let E=new Date(f),v=Math.max(0,Math.floor((new Date().getTime()-E.getTime())/(1e3*60*60*24))),w="trial",I=!1;s?w="free_access":v>=4&&(I=!0,w="pending_payment");let A={TableName:process.env.DYNAMODB_TABLE_NAME,Item:{PK:{S:h},SK:{S:`USER#${n}#${l}`},user_id:{S:n},game_id:{S:l},nickname:{S:n},nameplate_style:{S:"default"},points:{N:"0"},bonus_points:{N:"0"},rank:{N:"0"},jinglebells:{N:s?"100":"0"},subscription_status:{S:w},challenge_status:{S:JSON.stringify({})},submission_data:{S:JSON.stringify({})},timestamps:{S:JSON.stringify({})},cosmetics:{S:JSON.stringify({})},joined_late:{BOOL:v>0},catch_up_window:{S:v>0?new Date(Date.now()+360*60*1e3).toISOString():""},created_at:{S:new Date().toISOString()}}};return await $s.send(new qt.PutItemCommand(A)),await $s.send(new qt.UpdateItemCommand({TableName:process.env.DYNAMODB_TABLE_NAME,Key:{PK:{S:`${h}#METADATA`},SK:{S:l}},UpdateExpression:"SET participant_count = participant_count + :inc",ExpressionAttributeValues:{":inc":{N:"1"}}})),{statusCode:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!0,gameId:l,requiresPayment:I,joinedLate:v>0,catchUpWindow:v>0?6:0,message:"Successfully joined game"})}}catch(t){return console.error("Error joining game:",t),{statusCode:500,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!1,message:"Failed to join game"})}}};export{B8e as handler};
//# sourceMappingURL=index.mjs.map
