/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var T2=Object.create;var pc=Object.defineProperty;var C2=Object.getOwnPropertyDescriptor;var P2=Object.getOwnPropertyNames;var I2=Object.getPrototypeOf,A2=Object.prototype.hasOwnProperty;var M=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),He=(e,t)=>{for(var r in t)pc(e,r,{get:t[r],enumerable:!0})},Fb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P2(t))!A2.call(e,o)&&o!==r&&pc(e,o,{get:()=>t[o],enumerable:!(n=C2(t,o))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?T2(I2(e)):{},Fb(t||!e||!e.__esModule?pc(r,"default",{value:e,enumerable:!0}):r,e)),z=e=>Fb(pc({},"__esModule",{value:!0}),e);import{createRequire as R2}from"node:module";import x2 from"node:path";import O2 from"node:url";var d=y(()=>{global.require=R2(import.meta.url);global.__filename=O2.fileURLToPath(import.meta.url);global.__dirname=x2.dirname(__filename)});var qt=b((DTe,Wb)=>{d();var mc=Object.defineProperty,N2=Object.getOwnPropertyDescriptor,D2=Object.getOwnPropertyNames,M2=Object.prototype.hasOwnProperty,fc=(e,t)=>mc(e,"name",{value:t,configurable:!0}),k2=(e,t)=>{for(var r in t)mc(e,r,{get:t[r],enumerable:!0})},L2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D2(t))!M2.call(e,o)&&o!==r&&mc(e,o,{get:()=>t[o],enumerable:!(n=N2(t,o))||n.enumerable});return e},U2=e=>L2(mc({},"__esModule",{value:!0}),e),Bb={};k2(Bb,{AlgorithmId:()=>qb,EndpointURLScheme:()=>$b,FieldPosition:()=>zb,HttpApiKeyAuthLocation:()=>Hb,HttpAuthLocation:()=>jb,IniSectionType:()=>Vb,RequestHandlerProtocol:()=>Gb,SMITHY_CONTEXT_KEY:()=>$2,getDefaultClientConfiguration:()=>j2,resolveDefaultRuntimeConfig:()=>H2});Wb.exports=U2(Bb);var jb=(e=>(e.HEADER="header",e.QUERY="query",e))(jb||{}),Hb=(e=>(e.HEADER="header",e.QUERY="query",e))(Hb||{}),$b=(e=>(e.HTTP="http",e.HTTPS="https",e))($b||{}),qb=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(qb||{}),F2=fc(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),B2=fc(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),j2=fc(e=>F2(e),"getDefaultClientConfiguration"),H2=fc(e=>B2(e),"resolveDefaultRuntimeConfig"),zb=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(zb||{}),$2="__smithy_context",Vb=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Vb||{}),Gb=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Gb||{})});var zt=b((kTe,Xb)=>{d();var hc=Object.defineProperty,q2=Object.getOwnPropertyDescriptor,z2=Object.getOwnPropertyNames,V2=Object.prototype.hasOwnProperty,Jb=(e,t)=>hc(e,"name",{value:t,configurable:!0}),G2=(e,t)=>{for(var r in t)hc(e,r,{get:t[r],enumerable:!0})},W2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of z2(t))!V2.call(e,o)&&o!==r&&hc(e,o,{get:()=>t[o],enumerable:!(n=q2(t,o))||n.enumerable});return e},K2=e=>W2(hc({},"__esModule",{value:!0}),e),Yb={};G2(Yb,{getSmithyContext:()=>J2,normalizeProvider:()=>Y2});Xb.exports=K2(Yb);var Kb=qt(),J2=Jb(e=>e[Kb.SMITHY_CONTEXT_KEY]||(e[Kb.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),Y2=Jb(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});function Mo(e){return Qb.includes(e)}var Hs,Qb,gc=y(()=>{d();Hs="preferred",Qb=["disabled","preferred","required"]});var Zb,X2,ew=y(()=>{d();Zb=T(zt());gc();X2=e=>{let{accountIdEndpointMode:t}=e,r=(0,Zb.normalizeProvider)(t??Hs);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Mo(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var tw,rw,nw,ow,Q2,sw=y(()=>{d();gc();tw="Invalid AccountIdEndpointMode value",rw=e=>{throw new Error(e)},nw="AWS_ACCOUNT_ID_ENDPOINT_MODE",ow="account_id_endpoint_mode",Q2={environmentVariableSelector:e=>{let t=e[nw];return t&&!Mo(t)&&rw(tw),t},configFileSelector:e=>{let t=e[ow];return t&&!Mo(t)&&rw(tw),t},default:Hs}});var cf={};He(cf,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>Qb,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>ow,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Hs,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>nw,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>Q2,resolveAccountIdEndpointModeConfig:()=>X2,validateAccountIdEndpointMode:()=>Mo});var df=y(()=>{d();ew();gc();sw()});var hw=b((JTe,fw)=>{d();var yc=Object.defineProperty,Z2=Object.getOwnPropertyDescriptor,e3=Object.getOwnPropertyNames,t3=Object.prototype.hasOwnProperty,_c=(e,t)=>yc(e,"name",{value:t,configurable:!0}),r3=(e,t)=>{for(var r in t)yc(e,r,{get:t[r],enumerable:!0})},n3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e3(t))!t3.call(e,o)&&o!==r&&yc(e,o,{get:()=>t[o],enumerable:!(n=Z2(t,o))||n.enumerable});return e},o3=e=>n3(yc({},"__esModule",{value:!0}),e),iw={};r3(iw,{AlgorithmId:()=>lw,EndpointURLScheme:()=>dw,FieldPosition:()=>uw,HttpApiKeyAuthLocation:()=>cw,HttpAuthLocation:()=>aw,IniSectionType:()=>pw,RequestHandlerProtocol:()=>mw,SMITHY_CONTEXT_KEY:()=>d3,getDefaultClientConfiguration:()=>a3,resolveDefaultRuntimeConfig:()=>c3});fw.exports=o3(iw);var aw=(e=>(e.HEADER="header",e.QUERY="query",e))(aw||{}),cw=(e=>(e.HEADER="header",e.QUERY="query",e))(cw||{}),dw=(e=>(e.HTTP="http",e.HTTPS="https",e))(dw||{}),lw=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(lw||{}),s3=_c(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),i3=_c(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),a3=_c(e=>s3(e),"getDefaultClientConfiguration"),c3=_c(e=>i3(e),"resolveDefaultRuntimeConfig"),uw=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(uw||{}),d3="__smithy_context",pw=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(pw||{}),mw=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(mw||{})});var vw=b((XTe,Sw)=>{d();var Ec=Object.defineProperty,l3=Object.getOwnPropertyDescriptor,u3=Object.getOwnPropertyNames,p3=Object.prototype.hasOwnProperty,Gr=(e,t)=>Ec(e,"name",{value:t,configurable:!0}),m3=(e,t)=>{for(var r in t)Ec(e,r,{get:t[r],enumerable:!0})},f3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u3(t))!p3.call(e,o)&&o!==r&&Ec(e,o,{get:()=>t[o],enumerable:!(n=l3(t,o))||n.enumerable});return e},h3=e=>f3(Ec({},"__esModule",{value:!0}),e),gw={};m3(gw,{Field:()=>_3,Fields:()=>E3,HttpRequest:()=>S3,HttpResponse:()=>v3,IHttpRequest:()=>yw.HttpRequest,getHttpHandlerExtensionConfiguration:()=>g3,isValidHostname:()=>Ew,resolveHttpHandlerRuntimeConfig:()=>y3});Sw.exports=h3(gw);var g3=Gr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),y3=Gr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),yw=hw(),_3=class{static{Gr(this,"Field")}constructor({name:e,kind:t=yw.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},E3=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Gr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},S3=class lf{static{Gr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new lf({...t,headers:{...t.headers}});return r.query&&(r.query=_w(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return lf.clone(this)}};function _w(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Gr(_w,"cloneQuery");var v3=class{static{Gr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Ew(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Gr(Ew,"isValidHostname")});var ww=b((rCe,bw)=>{d();function vr(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}vr.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(vr.prototype[Symbol.iterator]=function(){return this});vr.of=function(){var e=arguments,t=e.length,r=0;return new vr(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};vr.empty=function(){var e=new vr(null);return e.done=!0,e};vr.is=function(e){return e instanceof vr?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};bw.exports=vr});var uf=b((oCe,Iw)=>{d();var Tw=typeof ArrayBuffer<"u",Cw=typeof Symbol<"u";function Pw(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Tw&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Cw&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}Pw.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||Tw&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Cw&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};Iw.exports=Pw});var pf=b(Vt=>{d();var b3=Math.pow(2,8)-1,w3=Math.pow(2,16)-1,T3=Math.pow(2,32)-1,C3=Math.pow(2,7)-1,P3=Math.pow(2,15)-1,I3=Math.pow(2,31)-1;Vt.getPointerArray=function(e){var t=e-1;return t<=b3?Uint8Array:t<=w3?Uint16Array:t<=T3?Uint32Array:Float64Array};Vt.getSignedPointerArray=function(e){var t=e-1;return t<=C3?Int8Array:t<=P3?Int16Array:t<=I3?Int32Array:Float64Array};Vt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var A3={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Vt.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,c;for(a=0,c=e.length;a<c;a++)i=t?t(e[a]):e[a],s=Vt.getNumberType(i),o=A3[s.name],o>n&&(n=o,r=s);return r};Vt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Vt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};Vt.indices=function(e){for(var t=Vt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var xw=b($s=>{d();var Aw=uf(),Rw=pf();function R3(e){return Array.isArray(e)||Rw.isTypedArray(e)}function mf(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function x3(e){var t=mf(e),r=typeof t=="number"?new Array(t):[],n=0;return Aw(e,function(o){r[n++]=o}),r}function O3(e){var t=mf(e),r=typeof t=="number"?Rw.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return Aw(e,function(i){n[s]=i,o[s]=s++}),[n,o]}$s.isArrayLike=R3;$s.guessLength=mf;$s.toArray=x3;$s.toArrayWithIndices=O3});var Nw=b((lCe,Ow)=>{d();var ff=ww(),N3=uf(),D3=pf(),M3=xw();function Se(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=D3.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Se.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Se.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Se.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Se.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Se.prototype.has=function(e){return e in this.items};Se.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Se.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Se.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};Se.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new ff(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Se.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new ff(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Se.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new ff(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Se.prototype[Symbol.iterator]=Se.prototype.entries);Se.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Se,enumerable:!1}),e};typeof Symbol<"u"&&(Se.prototype[Symbol.for("nodejs.util.inspect.custom")]=Se.prototype.inspect);Se.from=function(e,t,r,n){if(arguments.length<2){if(n=M3.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Se(t,r,n);return N3(e,function(s,i){o.set(i,s)}),o};Ow.exports=Se});var Lw=b((pCe,kw)=>{"use strict";d();var k3=Object.create,qs=Object.defineProperty,L3=Object.getOwnPropertyDescriptor,U3=Object.getOwnPropertyNames,F3=Object.getPrototypeOf,B3=Object.prototype.hasOwnProperty,j3=(e,t)=>qs(e,"name",{value:t,configurable:!0}),H3=(e,t)=>{for(var r in t)qs(e,r,{get:t[r],enumerable:!0})},Dw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U3(t))!B3.call(e,o)&&o!==r&&qs(e,o,{get:()=>t[o],enumerable:!(n=L3(t,o))||n.enumerable});return e},$3=(e,t,r)=>(r=e!=null?k3(F3(e)):{},Dw(t||!e||!e.__esModule?qs(r,"default",{value:e,enumerable:!0}):r,e)),q3=e=>Dw(qs({},"__esModule",{value:!0}),e),Mw={};H3(Mw,{EndpointCache:()=>V3});kw.exports=q3(Mw);var z3=$3(Nw()),V3=class{static{j3(this,"EndpointCache")}cache;constructor(e){this.cache=new z3.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var yf=b((hCe,Hw)=>{"use strict";d();var Sc=Object.defineProperty,G3=Object.getOwnPropertyDescriptor,W3=Object.getOwnPropertyNames,K3=Object.prototype.hasOwnProperty,at=(e,t)=>Sc(e,"name",{value:t,configurable:!0}),J3=(e,t)=>{for(var r in t)Sc(e,r,{get:t[r],enumerable:!0})},Y3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of W3(t))!K3.call(e,o)&&o!==r&&Sc(e,o,{get:()=>t[o],enumerable:!(n=G3(t,o))||n.enumerable});return e},X3=e=>Y3(Sc({},"__esModule",{value:!0}),e),jw={};J3(jw,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>Q3,endpointDiscoveryMiddlewareOptions:()=>vc,getEndpointDiscoveryOptionalPlugin:()=>n4,getEndpointDiscoveryPlugin:()=>t4,getEndpointDiscoveryRequiredPlugin:()=>r4,resolveEndpointDiscoveryConfig:()=>s4});Hw.exports=X3(jw);var Uw=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],hf="endpoint_discovery_enabled",Fw=at(e=>["false","0"].indexOf(e)>=0,"isFalsy"),Q3={environmentVariableSelector:at(e=>{for(let t=0;t<Uw.length;t++){let r=Uw[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!Fw(n)}}},"environmentVariableSelector"),configFileSelector:at(e=>{if(hf in e){let t=e[hf];if(t===void 0)throw Error(`Shared config entry ${hf} can't be undefined, got "${t}"`);return!Fw(t)}},"configFileSelector"),default:void 0},Z3=vw(),e4=at(async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},"getCacheKey"),br={},Bw=at(async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,c=o.get(s);if(c&&c.length===1&&c[0].Address==="")t.isDiscoveredEndpointRequired?(br[s]||(br[s]=[]),br[s].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];o.set(s,l);let p=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(h=>{o.set(s,h.output.Endpoints),br[s]&&(br[s].forEach(({resolve:g})=>{g()}),delete br[s]),r()}).catch(h=>{o.delete(s);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:h});br[s]&&(br[s].forEach(({reject:_})=>{_(g)}),delete br[s]),t.isDiscoveredEndpointRequired?n(g):(o.set(s,l),r())})}}),"updateDiscoveredEndpointInCache"),gf=at((e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,c=n.clientName,l=n.commandName,p=await e.endpointDiscoveryEnabled(),f=await e4(l,e,{identifiers:a});if(i){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${c} requires it. Please check your configurations.`);await Bw(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:s})}else p&&Bw(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:s});let{request:h}=o;if(f&&Z3.HttpRequest.isInstance(h)){let g=e.endpointCache.getEndpoint(f);g&&(h.hostname=g)}return r(o)},"endpointDiscoveryMiddleware"),vc={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},t4=at((e,t)=>({applyToStack:at(r=>{r.add(gf(e,t),vc)},"applyToStack")}),"getEndpointDiscoveryPlugin"),r4=at((e,t)=>({applyToStack:at(r=>{r.add(gf(e,{...t,isDiscoveredEndpointRequired:!0}),vc)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),n4=at((e,t)=>({applyToStack:at(r=>{r.add(gf(e,{...t,isDiscoveredEndpointRequired:!1}),vc)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),o4=Lw(),s4=at((e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new o4.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var me=b((yCe,Gw)=>{d();var bc=Object.defineProperty,i4=Object.getOwnPropertyDescriptor,a4=Object.getOwnPropertyNames,c4=Object.prototype.hasOwnProperty,Wr=(e,t)=>bc(e,"name",{value:t,configurable:!0}),d4=(e,t)=>{for(var r in t)bc(e,r,{get:t[r],enumerable:!0})},l4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of a4(t))!c4.call(e,o)&&o!==r&&bc(e,o,{get:()=>t[o],enumerable:!(n=i4(t,o))||n.enumerable});return e},u4=e=>l4(bc({},"__esModule",{value:!0}),e),$w={};d4($w,{Field:()=>f4,Fields:()=>h4,HttpRequest:()=>g4,HttpResponse:()=>y4,IHttpRequest:()=>qw.HttpRequest,getHttpHandlerExtensionConfiguration:()=>p4,isValidHostname:()=>Vw,resolveHttpHandlerRuntimeConfig:()=>m4});Gw.exports=u4($w);var p4=Wr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),m4=Wr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),qw=qt(),f4=class{static{Wr(this,"Field")}constructor({name:e,kind:t=qw.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},h4=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Wr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},g4=class _f{static{Wr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new _f({...t,headers:{...t.headers}});return r.query&&(r.query=zw(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return _f.clone(this)}};function zw(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Wr(zw,"cloneQuery");var y4=class{static{Wr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Vw(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Wr(Vw,"isValidHostname")});var Ef=b((bCe,Xw)=>{"use strict";d();var Tc=Object.defineProperty,_4=Object.getOwnPropertyDescriptor,E4=Object.getOwnPropertyNames,S4=Object.prototype.hasOwnProperty,wc=(e,t)=>Tc(e,"name",{value:t,configurable:!0}),v4=(e,t)=>{for(var r in t)Tc(e,r,{get:t[r],enumerable:!0})},b4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E4(t))!S4.call(e,o)&&o!==r&&Tc(e,o,{get:()=>t[o],enumerable:!(n=_4(t,o))||n.enumerable});return e},w4=e=>b4(Tc({},"__esModule",{value:!0}),e),Ww={};v4(Ww,{getHostHeaderPlugin:()=>C4,hostHeaderMiddleware:()=>Jw,hostHeaderMiddlewareOptions:()=>Yw,resolveHostHeaderConfig:()=>Kw});Xw.exports=w4(Ww);var T4=me();function Kw(e){return e}wc(Kw,"resolveHostHeaderConfig");var Jw=wc(e=>t=>async r=>{if(!T4.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),Yw={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},C4=wc(e=>({applyToStack:wc(t=>{t.add(Jw(e),Yw)},"applyToStack")}),"getHostHeaderPlugin")});var vf=b((TCe,tT)=>{"use strict";d();var Cc=Object.defineProperty,P4=Object.getOwnPropertyDescriptor,I4=Object.getOwnPropertyNames,A4=Object.prototype.hasOwnProperty,Sf=(e,t)=>Cc(e,"name",{value:t,configurable:!0}),R4=(e,t)=>{for(var r in t)Cc(e,r,{get:t[r],enumerable:!0})},x4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I4(t))!A4.call(e,o)&&o!==r&&Cc(e,o,{get:()=>t[o],enumerable:!(n=P4(t,o))||n.enumerable});return e},O4=e=>x4(Cc({},"__esModule",{value:!0}),e),Qw={};R4(Qw,{getLoggerPlugin:()=>N4,loggerMiddleware:()=>Zw,loggerMiddlewareOptions:()=>eT});tT.exports=O4(Qw);var Zw=Sf(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,p=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),eT={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},N4=Sf(e=>({applyToStack:Sf(t=>{t.add(Zw(),eT)},"applyToStack")}),"getLoggerPlugin")});var wf=b((PCe,sT)=>{"use strict";d();var Ic=Object.defineProperty,D4=Object.getOwnPropertyDescriptor,M4=Object.getOwnPropertyNames,k4=Object.prototype.hasOwnProperty,Pc=(e,t)=>Ic(e,"name",{value:t,configurable:!0}),L4=(e,t)=>{for(var r in t)Ic(e,r,{get:t[r],enumerable:!0})},U4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of M4(t))!k4.call(e,o)&&o!==r&&Ic(e,o,{get:()=>t[o],enumerable:!(n=D4(t,o))||n.enumerable});return e},F4=e=>U4(Ic({},"__esModule",{value:!0}),e),rT={};L4(rT,{addRecursionDetectionMiddlewareOptions:()=>oT,getRecursionDetectionPlugin:()=>$4,recursionDetectionMiddleware:()=>nT});sT.exports=F4(rT);var B4=me(),bf="X-Amzn-Trace-Id",j4="AWS_LAMBDA_FUNCTION_NAME",H4="_X_AMZN_TRACE_ID",nT=Pc(e=>t=>async r=>{let{request:n}=r;if(!B4.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===bf.toLowerCase())??bf;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[j4],i=process.env[H4],a=Pc(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[bf]=i),t({...r,request:n})},"recursionDetectionMiddleware"),oT={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},$4=Pc(e=>({applyToStack:Pc(t=>{t.add(nT(e),oT)},"applyToStack")}),"getRecursionDetectionPlugin")});var Tf,q4,iT=y(()=>{d();Tf=T(qt()),q4=e=>e[Tf.SMITHY_CONTEXT_KEY]||(e[Tf.SMITHY_CONTEXT_KEY]={})});var aT,cT=y(()=>{d();aT=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function z4(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var NCe,dT,zs,Ac=y(()=>{d();NCe=T(qt()),dT=T(zt());cT();zs=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=aT(s,i),c=z4(e.httpAuthSchemes),l=(0,dT.getSmithyContext)(n),p=[];for(let f of a){let h=c.get(f.schemeId);if(!h){p.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){p.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:E={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},E),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var lT,V4,uT=y(()=>{d();Ac();lT={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},V4=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(zs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),lT)}})});var Vs=b((jCe,_T)=>{d();var Rc=Object.defineProperty,G4=Object.getOwnPropertyDescriptor,W4=Object.getOwnPropertyNames,K4=Object.prototype.hasOwnProperty,xc=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),J4=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},Y4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of W4(t))!K4.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=G4(t,o))||n.enumerable});return e},X4=e=>Y4(Rc({},"__esModule",{value:!0}),e),pT={};J4(pT,{deserializerMiddleware:()=>mT,deserializerMiddlewareOption:()=>hT,getSerdePlugin:()=>yT,serializerMiddleware:()=>fT,serializerMiddlewareOption:()=>gT});_T.exports=X4(pT);var Q4=me(),mT=xc((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(Q4.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:Cf(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Cf(/^x-[\w-]+-id-2$/,l),cfId:Cf(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),Cf=xc((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),fT=xc((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),hT={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},gT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function yT(e,t,r){return{applyToStack:n=>{n.add(mT(e,r),hT),n.add(fT(e,t),gT)}}}xc(yT,"getSerdePlugin")});var ET,ST,Z4,vT=y(()=>{d();ET=T(Vs());Ac();ST={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:ET.serializerMiddlewareOption.name},Z4=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(zs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ST)}})});var bT=y(()=>{d();Ac();uT();vT()});var wT,YCe,TT,eW,tW,Pf,If=y(()=>{d();wT=T(me()),YCe=T(qt()),TT=T(zt()),eW=e=>t=>{throw t},tW=(e,t)=>{},Pf=e=>(t,r)=>async n=>{if(!wT.HttpRequest.isInstance(n.request))return t(n);let s=(0,TT.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||eW)(i));return(c.successHandler||tW)(l.response,i),l}});var CT,rW,PT=y(()=>{d();If();CT={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},rW=e=>({applyToStack:t=>{t.addRelativeTo(Pf(e),CT)}})});var IT=y(()=>{d();If();PT()});var Kr,AT=y(()=>{d();Kr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function RT(e,t,r,n,o){return async function*(i,a,...c){let l=a,p=i.startingToken??l[r],f=!0,h;for(;f;){if(l[r]=p,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)h=await nW(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=p;p=oW(h,n),f=!!(p&&(!i.stopOnSameToken||p!==g))}return void 0}}var nW,oW,xT=y(()=>{d();nW=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};oW=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Af=b((uPe,NT)=>{d();var Oc=Object.defineProperty,sW=Object.getOwnPropertyDescriptor,iW=Object.getOwnPropertyNames,aW=Object.prototype.hasOwnProperty,cW=(e,t)=>Oc(e,"name",{value:t,configurable:!0}),dW=(e,t)=>{for(var r in t)Oc(e,r,{get:t[r],enumerable:!0})},lW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iW(t))!aW.call(e,o)&&o!==r&&Oc(e,o,{get:()=>t[o],enumerable:!(n=sW(t,o))||n.enumerable});return e},uW=e=>lW(Oc({},"__esModule",{value:!0}),e),OT={};dW(OT,{isArrayBuffer:()=>pW});NT.exports=uW(OT);var pW=cW(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var ko=b((mPe,kT)=>{d();var Nc=Object.defineProperty,mW=Object.getOwnPropertyDescriptor,fW=Object.getOwnPropertyNames,hW=Object.prototype.hasOwnProperty,DT=(e,t)=>Nc(e,"name",{value:t,configurable:!0}),gW=(e,t)=>{for(var r in t)Nc(e,r,{get:t[r],enumerable:!0})},yW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fW(t))!hW.call(e,o)&&o!==r&&Nc(e,o,{get:()=>t[o],enumerable:!(n=mW(t,o))||n.enumerable});return e},_W=e=>yW(Nc({},"__esModule",{value:!0}),e),MT={};gW(MT,{fromArrayBuffer:()=>SW,fromString:()=>vW});kT.exports=_W(MT);var EW=Af(),Rf=M("buffer"),SW=DT((e,t=0,r=e.byteLength-t)=>{if(!(0,EW.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Rf.Buffer.from(e,t,r)},"fromArrayBuffer"),vW=DT((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Rf.Buffer.from(e,t):Rf.Buffer.from(e)},"fromString")});var LT=b(Dc=>{"use strict";d();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.fromBase64=void 0;var bW=ko(),wW=/^[A-Za-z0-9+/]*={0,2}$/,TW=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!wW.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,bW.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Dc.fromBase64=TW});var Ge=b((yPe,jT)=>{d();var Mc=Object.defineProperty,CW=Object.getOwnPropertyDescriptor,PW=Object.getOwnPropertyNames,IW=Object.prototype.hasOwnProperty,xf=(e,t)=>Mc(e,"name",{value:t,configurable:!0}),AW=(e,t)=>{for(var r in t)Mc(e,r,{get:t[r],enumerable:!0})},RW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PW(t))!IW.call(e,o)&&o!==r&&Mc(e,o,{get:()=>t[o],enumerable:!(n=CW(t,o))||n.enumerable});return e},xW=e=>RW(Mc({},"__esModule",{value:!0}),e),UT={};AW(UT,{fromUtf8:()=>BT,toUint8Array:()=>OW,toUtf8:()=>NW});jT.exports=xW(UT);var FT=ko(),BT=xf(e=>{let t=(0,FT.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),OW=xf(e=>typeof e=="string"?BT(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),NW=xf(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,FT.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var HT=b(kc=>{"use strict";d();Object.defineProperty(kc,"__esModule",{value:!0});kc.toBase64=void 0;var DW=ko(),MW=Ge(),kW=e=>{let t;if(typeof e=="string"?t=(0,MW.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,DW.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};kc.toBase64=kW});var ct=b((vPe,Lc)=>{d();var $T=Object.defineProperty,LW=Object.getOwnPropertyDescriptor,UW=Object.getOwnPropertyNames,FW=Object.prototype.hasOwnProperty,Of=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of UW(t))!FW.call(e,o)&&o!==r&&$T(e,o,{get:()=>t[o],enumerable:!(n=LW(t,o))||n.enumerable});return e},qT=(e,t,r)=>(Of(e,t,"default"),r&&Of(r,t,"default")),BW=e=>Of($T({},"__esModule",{value:!0}),e),Nf={};Lc.exports=BW(Nf);qT(Nf,LT(),Lc.exports);qT(Nf,HT(),Lc.exports)});var Mf=b(Uc=>{"use strict";d();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.ChecksumStream=void 0;var jW=ct(),HW=M("stream"),Df=class extends HW.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??jW.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Uc.ChecksumStream=Df});var Jr=b(Lo=>{"use strict";d();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.isBlob=Lo.isReadableStream=void 0;var $W=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Lo.isReadableStream=$W;var qW=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Lo.isBlob=qW});var zT=b(Fc=>{"use strict";d();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ChecksumStream=void 0;var zW=typeof ReadableStream=="function"?ReadableStream:function(){},kf=class extends zW{};Fc.ChecksumStream=kf});var VT=b(Bc=>{"use strict";d();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.createChecksumStream=void 0;var VW=ct(),GW=Jr(),WW=zT(),KW=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,GW.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??VW.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(p,f){t.update(p),f.enqueue(p)},async flush(p){let f=await t.digest(),h=a(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);p.error(g)}else p.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,WW.ChecksumStream.prototype),l};Bc.createChecksumStream=KW});var GT=b(Lf=>{"use strict";d();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.createChecksumStream=QW;var JW=Jr(),YW=Mf(),XW=VT();function QW(e){return typeof ReadableStream=="function"&&(0,JW.isReadableStream)(e.source)?(0,XW.createChecksumStream)(e):new YW.ChecksumStream(e)}});var Ff=b(jc=>{"use strict";d();Object.defineProperty(jc,"__esModule",{value:!0});jc.ByteArrayCollector=void 0;var Uf=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};jc.ByteArrayCollector=Uf});var YT=b(wr=>{"use strict";d();Object.defineProperty(wr,"__esModule",{value:!0});wr.createBufferedReadable=void 0;wr.createBufferedReadableStream=WT;wr.merge=KT;wr.flush=Hc;wr.sizeOf=Uo;wr.modeOf=JT;var ZW=Ff();function WT(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new ZW.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:p,done:f}=await n.read(),h=p;if(f){if(a!==-1){let g=Hc(i,a);Uo(g)>0&&l.enqueue(g)}l.close()}else{let g=JT(h,!1);if(a!==g&&(a>=0&&l.enqueue(Hc(i,a)),a=g),a===-1){l.enqueue(h);return}let _=Uo(h);s+=_;let E=Uo(i[a]);if(_>=t&&E===0)l.enqueue(h);else{let S=KT(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${t}, automatically buffering.`)),S>=t?l.enqueue(Hc(i,a)):await c(l)}}};return new ReadableStream({pull:c})}wr.createBufferedReadable=WT;function KT(e,t,r){switch(t){case 0:return e[0]+=r,Uo(e[0]);case 1:case 2:return e[t].push(r),Uo(e[t])}}function Hc(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Uo(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function JT(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var QT=b(Bf=>{"use strict";d();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.createBufferedReadable=r8;var e8=M("node:stream"),XT=Ff(),Tr=YT(),t8=Jr();function r8(e,t,r){if((0,t8.isReadableStream)(e))return(0,Tr.createBufferedReadableStream)(e,t,r);let n=new e8.Readable({read(){}}),o=!1,s=0,i=["",new XT.ByteArrayCollector(c=>new Uint8Array(c)),new XT.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Tr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Tr.flush)(i,a)),a=l),a===-1){n.push(c);return}let p=(0,Tr.sizeOf)(c);s+=p;let f=(0,Tr.sizeOf)(i[a]);if(p>=t&&f===0)n.push(c);else{let h=(0,Tr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Tr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Tr.flush)(i,a);(0,Tr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var ZT=b($c=>{"use strict";d();Object.defineProperty($c,"__esModule",{value:!0});$c.getAwsChunkedEncodingStream=void 0;var n8=M("stream"),o8=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new n8.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${s}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};$c.getAwsChunkedEncodingStream=o8});var eC=b(jf=>{"use strict";d();Object.defineProperty(jf,"__esModule",{value:!0});jf.headStream=s8;async function s8(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var tC=b(qc=>{"use strict";d();Object.defineProperty(qc,"__esModule",{value:!0});qc.headStream=void 0;var i8=M("stream"),a8=eC(),c8=Jr(),d8=(e,t)=>(0,c8.isReadableStream)(e)?(0,a8.headStream)(e,t):new Promise((r,n)=>{let o=new Hf;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});qc.headStream=d8;var Hf=class extends i8.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var qf=b((VPe,oC)=>{d();var zc=Object.defineProperty,l8=Object.getOwnPropertyDescriptor,u8=Object.getOwnPropertyNames,p8=Object.prototype.hasOwnProperty,$f=(e,t)=>zc(e,"name",{value:t,configurable:!0}),m8=(e,t)=>{for(var r in t)zc(e,r,{get:t[r],enumerable:!0})},f8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of u8(t))!p8.call(e,o)&&o!==r&&zc(e,o,{get:()=>t[o],enumerable:!(n=l8(t,o))||n.enumerable});return e},h8=e=>f8(zc({},"__esModule",{value:!0}),e),rC={};m8(rC,{escapeUri:()=>nC,escapeUriPath:()=>y8});oC.exports=h8(rC);var nC=$f(e=>encodeURIComponent(e).replace(/[!'()*]/g,g8),"escapeUri"),g8=$f(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),y8=$f(e=>e.split("/").map(nC).join("/"),"escapeUriPath")});var Vf=b((WPe,aC)=>{d();var Vc=Object.defineProperty,_8=Object.getOwnPropertyDescriptor,E8=Object.getOwnPropertyNames,S8=Object.prototype.hasOwnProperty,v8=(e,t)=>Vc(e,"name",{value:t,configurable:!0}),b8=(e,t)=>{for(var r in t)Vc(e,r,{get:t[r],enumerable:!0})},w8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E8(t))!S8.call(e,o)&&o!==r&&Vc(e,o,{get:()=>t[o],enumerable:!(n=_8(t,o))||n.enumerable});return e},T8=e=>w8(Vc({},"__esModule",{value:!0}),e),sC={};b8(sC,{buildQueryString:()=>iC});aC.exports=T8(sC);var zf=qf();function iC(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,zf.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,zf.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,zf.escapeUri)(n)}`),t.push(o)}}return t.join("&")}v8(iC,"buildQueryString")});var Ws=b((JPe,bC)=>{d();var C8=Object.create,Gs=Object.defineProperty,P8=Object.getOwnPropertyDescriptor,I8=Object.getOwnPropertyNames,A8=Object.getPrototypeOf,R8=Object.prototype.hasOwnProperty,ie=(e,t)=>Gs(e,"name",{value:t,configurable:!0}),x8=(e,t)=>{for(var r in t)Gs(e,r,{get:t[r],enumerable:!0})},pC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I8(t))!R8.call(e,o)&&o!==r&&Gs(e,o,{get:()=>t[o],enumerable:!(n=P8(t,o))||n.enumerable});return e},O8=(e,t,r)=>(r=e!=null?C8(A8(e)):{},pC(t||!e||!e.__esModule?Gs(r,"default",{value:e,enumerable:!0}):r,e)),N8=e=>pC(Gs({},"__esModule",{value:!0}),e),mC={};x8(mC,{DEFAULT_REQUEST_TIMEOUT:()=>EC,NodeHttp2Handler:()=>$8,NodeHttpHandler:()=>F8,streamCollector:()=>z8});bC.exports=N8(mC);var fC=me(),hC=Vf(),Gf=M("http"),Wf=M("https"),D8=["ECONNRESET","EPIPE","ETIMEDOUT"],gC=ie(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),tt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},cC=1e3,M8=ie((e,t,r=0)=>{if(!r)return-1;let n=ie(o=>{let s=tt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ie(a=>{a?.connecting?a.on("connect",()=>{tt.clearTimeout(s)}):tt.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):tt.setTimeout(n.bind(null,cC),cC)},"setConnectionTimeout"),k8=3e3,L8=ie((e,{keepAlive:t,keepAliveMsecs:r},n=k8)=>{if(t!==!0)return-1;let o=ie(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):tt.setTimeout(o,n)},"setSocketKeepAlive"),dC=3e3,U8=ie((e,t,r=EC)=>{let n=ie(o=>{let s=r-o,i=ie(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):tt.setTimeout(n.bind(null,r===0?0:dC),dC)},"setSocketTimeout"),yC=M("stream"),lC=6e3;async function Jf(e,t,r=lC){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(tt.setTimeout(()=>a(!0),Math.max(lC,r)))}),new Promise(a=>{e.on("continue",()=>{tt.clearTimeout(s),a(!0)}),e.on("response",()=>{tt.clearTimeout(s),a(!1)}),e.on("error",()=>{tt.clearTimeout(s),a(!1)})})])),i&&_C(e,t.body)}ie(Jf,"writeRequestBody");function _C(e,t){if(t instanceof yC.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ie(_C,"writeBody");var EC=0,F8=class Kf{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ie(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Kf(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,p=s[c]?.length??0;if(l>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof Gf.Agent||typeof i?.destroy=="function"?i:new Gf.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof Wf.Agent||typeof a?.destroy=="function"?a:new Wf.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ie(async C=>{await i,a.forEach(tt.clearTimeout),o(C)},"resolve"),l=ie(async C=>{await i,a.forEach(tt.clearTimeout),s(C)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let C=new Error("Request aborted");C.name="AbortError",l(C);return}let p=t.protocol==="https:",f=p?this.config.httpsAgent:this.config.httpAgent;a.push(tt.setTimeout(()=>{this.socketWarningTimestamp=Kf.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,hC.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let C=t.username??"",k=t.password??"";g=`${C}:${k}`}let _=t.path;h&&(_+=`?${h}`),t.fragment&&(_+=`#${t.fragment}`);let E=t.hostname??"";E[0]==="["&&E.endsWith("]")?E=t.hostname.slice(1,-1):E=t.hostname;let S={headers:t.headers,host:E,method:t.method,path:_,port:t.port,agent:f,auth:g},w=(p?Wf.request:Gf.request)(S,C=>{let k=new fC.HttpResponse({statusCode:C.statusCode||-1,reason:C.statusMessage,headers:gC(C.headers),body:C});c({response:k})});if(w.on("error",C=>{D8.includes(C.code)?l(Object.assign(C,{name:"TimeoutError"})):l(C)}),r){let C=ie(()=>{w.destroy();let k=new Error("Request aborted");k.name="AbortError",l(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",C,{once:!0}),w.once("close",()=>k.removeEventListener("abort",C))}else r.onabort=C}let A=n??this.config.requestTimeout;a.push(M8(w,l,this.config.connectionTimeout)),a.push(U8(w,l,A));let I=S.agent;typeof I=="object"&&"keepAlive"in I&&a.push(L8(w,{keepAlive:I.keepAlive,keepAliveMsecs:I.keepAliveMsecs})),i=Jf(w,t,A).catch(C=>(a.forEach(tt.clearTimeout),s(C)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},uC=M("http2"),B8=O8(M("http2")),j8=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ie(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},H8=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ie(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=B8.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ie(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new j8;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},$8=class SC{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new H8({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ie(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new SC(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,p,f=ie(async G=>{await p,a(G)},"resolve"),h=ie(async G=>{await p,c(G)},"reject");if(r?.aborted){l=!0;let G=new Error("Request aborted");G.name="AbortError",h(G);return}let{hostname:g,method:_,port:E,protocol:S,query:v}=t,w="";if(t.username!=null||t.password!=null){let G=t.username??"",pe=t.password??"";w=`${G}:${pe}@`}let A=`${S}//${w}${g}${E?`:${E}`:""}`,I={destination:new URL(A)},C=this.connectionManager.lease(I,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),k=ie(G=>{s&&this.destroySession(C),l=!0,h(G)},"rejectWithDestroy"),Ve=(0,hC.buildQueryString)(v||{}),se=t.path;Ve&&(se+=`?${Ve}`),t.fragment&&(se+=`#${t.fragment}`);let le=C.request({...t.headers,[uC.constants.HTTP2_HEADER_PATH]:se,[uC.constants.HTTP2_HEADER_METHOD]:_});if(C.ref(),le.on("response",G=>{let pe=new fC.HttpResponse({statusCode:G[":status"]||-1,headers:gC(G),body:le});l=!0,f({response:pe}),s&&(C.close(),this.connectionManager.deleteSession(A,C))}),i&&le.setTimeout(i,()=>{le.close();let G=new Error(`Stream timed out because of no activity for ${i} ms`);G.name="TimeoutError",k(G)}),r){let G=ie(()=>{le.close();let pe=new Error("Request aborted");pe.name="AbortError",k(pe)},"onAbort");if(typeof r.addEventListener=="function"){let pe=r;pe.addEventListener("abort",G,{once:!0}),le.once("close",()=>pe.removeEventListener("abort",G))}else r.onabort=G}le.on("frameError",(G,pe,af)=>{k(new Error(`Frame type id ${G} in stream id ${af} has failed with code ${pe}.`))}),le.on("error",k),le.on("aborted",()=>{k(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${le.rstCode}.`))}),le.on("close",()=>{C.unref(),s&&C.destroy(),l||k(new Error("Unexpected error: http2 request did not get a response"))}),p=Jf(le,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},q8=class extends yC.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ie(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},z8=ie(e=>V8(e)?vC(e):new Promise((t,r)=>{let n=new q8;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),V8=ie(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function vC(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ie(vC,"collectReadableStream")});var OC=b((eIe,xC)=>{d();var Wc=Object.defineProperty,G8=Object.getOwnPropertyDescriptor,W8=Object.getOwnPropertyNames,K8=Object.prototype.hasOwnProperty,Gt=(e,t)=>Wc(e,"name",{value:t,configurable:!0}),J8=(e,t)=>{for(var r in t)Wc(e,r,{get:t[r],enumerable:!0})},Y8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of W8(t))!K8.call(e,o)&&o!==r&&Wc(e,o,{get:()=>t[o],enumerable:!(n=G8(t,o))||n.enumerable});return e},X8=e=>Y8(Wc({},"__esModule",{value:!0}),e),TC={};J8(TC,{FetchHttpHandler:()=>Z8,keepAliveSupport:()=>Gc,streamCollector:()=>tK});xC.exports=X8(TC);var wC=me(),Q8=Vf();function Yf(e,t){return new Request(e,t)}Gt(Yf,"createRequest");function CC(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Gt(CC,"requestTimeout");var Gc={supported:void 0},Z8=class PC{static{Gt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new PC(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Gc.supported===void 0&&(Gc.supported=typeof Request<"u"&&"keepalive"in Yf("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,Q8.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",A=t.password??"";l=`${w}:${A}@`}let{port:p,method:f}=t,h=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,g=f==="GET"||f==="HEAD"?void 0:t.body,_={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(_.cache=this.config.cache),g&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=r),Gc.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(t));let E=Gt(()=>{},"removeSignalEventListener"),S=Yf(h,_),v=[fetch(S).then(w=>{let A=w.headers,I={};for(let k of A.entries())I[k[0]]=k[1];return w.body!=null?{response:new wC.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(k=>({response:new wC.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:k})}))}),CC(o)];return r&&v.push(new Promise((w,A)=>{let I=Gt(()=>{let C=new Error("Request aborted");C.name="AbortError",A(C)},"onAbort");if(typeof r.addEventListener=="function"){let C=r;C.addEventListener("abort",I,{once:!0}),E=Gt(()=>C.removeEventListener("abort",I),"removeSignalEventListener")}else r.onabort=I})),Promise.race(v).finally(E)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},eK=ct(),tK=Gt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):IC(e):AC(e),"streamCollector");async function IC(e){let t=await RC(e),r=(0,eK.fromBase64)(t);return new Uint8Array(r)}Gt(IC,"collectBlob");async function AC(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Gt(AC,"collectStream");function RC(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Gt(RC,"readToBase64")});var Qf=b((rIe,UC)=>{d();var Kc=Object.defineProperty,rK=Object.getOwnPropertyDescriptor,nK=Object.getOwnPropertyNames,oK=Object.prototype.hasOwnProperty,NC=(e,t)=>Kc(e,"name",{value:t,configurable:!0}),sK=(e,t)=>{for(var r in t)Kc(e,r,{get:t[r],enumerable:!0})},iK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nK(t))!oK.call(e,o)&&o!==r&&Kc(e,o,{get:()=>t[o],enumerable:!(n=rK(t,o))||n.enumerable});return e},aK=e=>iK(Kc({},"__esModule",{value:!0}),e),DC={};sK(DC,{fromHex:()=>kC,toHex:()=>LC});UC.exports=aK(DC);var MC={},Xf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),MC[e]=t,Xf[t]=e}function kC(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Xf)t[r/2]=Xf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}NC(kC,"fromHex");function LC(e){let t="";for(let r=0;r<e.byteLength;r++)t+=MC[e[r]];return t}NC(LC,"toHex")});var HC=b(Jc=>{"use strict";d();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.sdkStreamMixin=void 0;var cK=OC(),dK=ct(),lK=Qf(),uK=Ge(),FC=Jr(),BC="The stream has already been transformed.",pK=e=>{var t,r;if(!jC(e)&&!(0,FC.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(BC);return n=!0,await(0,cK.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,dK.toBase64)(a);if(i==="hex")return(0,lK.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,uK.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(BC);if(n=!0,jC(e))return s(e);if((0,FC.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Jc.sdkStreamMixin=pK;var jC=e=>typeof Blob=="function"&&e instanceof Blob});var qC=b(Yc=>{"use strict";d();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.sdkStreamMixin=void 0;var mK=Ws(),fK=ko(),Zf=M("stream"),hK=HC(),$C="The stream has already been transformed.",gK=e=>{var t,r;if(!(e instanceof Zf.Readable))try{return(0,hK.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error($C);return n=!0,await(0,mK.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,fK.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error($C);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Zf.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Zf.Readable.toWeb(e)}})};Yc.sdkStreamMixin=gK});var zC=b(eh=>{"use strict";d();Object.defineProperty(eh,"__esModule",{value:!0});eh.splitStream=yK;async function yK(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var WC=b(th=>{"use strict";d();Object.defineProperty(th,"__esModule",{value:!0});th.splitStream=EK;var VC=M("stream"),_K=zC(),GC=Jr();async function EK(e){if((0,GC.isReadableStream)(e)||(0,GC.isBlob)(e))return(0,_K.splitStream)(e);let t=new VC.PassThrough,r=new VC.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Qc=b((pIe,Kt)=>{d();var Xc=Object.defineProperty,SK=Object.getOwnPropertyDescriptor,vK=Object.getOwnPropertyNames,bK=Object.prototype.hasOwnProperty,oh=(e,t)=>Xc(e,"name",{value:t,configurable:!0}),wK=(e,t)=>{for(var r in t)Xc(e,r,{get:t[r],enumerable:!0})},rh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vK(t))!bK.call(e,o)&&o!==r&&Xc(e,o,{get:()=>t[o],enumerable:!(n=SK(t,o))||n.enumerable});return e},Yr=(e,t,r)=>(rh(e,t,"default"),r&&rh(r,t,"default")),TK=e=>rh(Xc({},"__esModule",{value:!0}),e),Wt={};wK(Wt,{Uint8ArrayBlobAdapter:()=>nh});Kt.exports=TK(Wt);var KC=ct(),JC=Ge();function YC(e,t="utf-8"){return t==="base64"?(0,KC.toBase64)(e):(0,JC.toUtf8)(e)}oh(YC,"transformToString");function XC(e,t){return t==="base64"?nh.mutate((0,KC.fromBase64)(e)):nh.mutate((0,JC.fromUtf8)(e))}oh(XC,"transformFromString");var nh=class QC extends Uint8Array{static{oh(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return XC(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,QC.prototype),t}transformToString(t="utf-8"){return YC(this,t)}};Yr(Wt,Mf(),Kt.exports);Yr(Wt,GT(),Kt.exports);Yr(Wt,QT(),Kt.exports);Yr(Wt,ZT(),Kt.exports);Yr(Wt,tC(),Kt.exports);Yr(Wt,qC(),Kt.exports);Yr(Wt,WC(),Kt.exports);Yr(Wt,Jr(),Kt.exports)});var Zc,ht,Ks=y(()=>{d();Zc=T(Qc()),ht=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Zc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Zc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Zc.Uint8ArrayBlobAdapter.mutate(await r)}});function Jt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ed=y(()=>{d()});var Cr,sh=y(()=>{d();Cr=e=>typeof e=="function"?e():e});var ZC=y(()=>{d()});var We,eP=y(()=>{d();We=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};We.registries=new Map});var Yt,Fo=y(()=>{d();Yt=class{constructor(t,r){this.name=t,this.traits=r}}});var Js,ih=y(()=>{d();Fo();Js=class e extends Yt{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Js.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Ys,ah=y(()=>{d();Fo();Ys=class e extends Yt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Ys.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var tP=y(()=>{d()});var Hn,td=y(()=>{d();Fo();Hn=class e extends Yt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Hn.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var ch,rP=y(()=>{d();td();ch=class e extends Hn{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ch.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var x,dh=y(()=>{d();x={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Xs,lh=y(()=>{d();Fo();Xs=class e extends Yt{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Xs.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var $,nP=y(()=>{d();sh();ih();ah();dh();lh();td();$=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Cr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Cr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Xs?Cr(this.schema.schemaRef):Cr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.LIST_MODIFIER&&t<x.MAP_MODIFIER:t instanceof Js}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.MAP_MODIFIER&&t<=255:t instanceof Ys}isDocumentSchema(){return this.getSchema()===x.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Hn}isBlobSchema(){return this.getSchema()===x.BLOB||this.getSchema()===x.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=x.TIMESTAMP_DEFAULT&&t<=x.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===x.STRING}isBooleanSchema(){return this.getSchema()===x.BOOLEAN}isNumericSchema(){return this.getSchema()===x.NUMERIC}isBigIntegerSchema(){return this.getSchema()===x.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===x.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===x.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(x).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case x.MAP_MODIFIER:return`${o}Map`;case x.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};$.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Ae=y(()=>{d();sh();ZC();ih();ah();tP();rP();nP();Fo();lh();td();dh();eP()});var Qs,oP=y(()=>{d();Ae();Qs=(e,t,r=n=>n)=>{let n=$.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let a of e)s[i++]=Qs(a,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=Qs(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=Qs(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=Qs(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var CK,PK,Zs,IK,rd,ei,AK,uh,ph,mh,fh,RK,xK,sP,OK,NK,od,DK,hh,MK,Bo,gh,kK,LK,UK,iP,aP,FK,BK,$n,yh,nd,ti,_h=y(()=>{d();CK=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},PK=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ti.warn(nd(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ti.warn(nd(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Zs=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ti.warn(nd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},IK=Math.ceil(34028234663852886e22),rd=e=>{let t=Zs(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>IK)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ei=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},AK=ei,uh=e=>fh(e,32),ph=e=>fh(e,16),mh=e=>fh(e,8),fh=(e,t)=>{let r=ei(e);if(r!==void 0&&RK(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},RK=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},xK=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},sP=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},OK=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ti.warn(nd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},NK=e=>{if(e==null)return;let t=sP(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},od=e=>Zs(typeof e=="string"?Bo(e):e),DK=od,hh=e=>rd(typeof e=="string"?Bo(e):e),MK=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Bo=e=>{let t=e.match(MK);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},gh=e=>typeof e=="string"?iP(e):Zs(e),kK=gh,LK=gh,UK=e=>typeof e=="string"?iP(e):rd(e),iP=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},aP=e=>ei(typeof e=="string"?Bo(e):e),FK=aP,BK=e=>uh(typeof e=="string"?Bo(e):e),$n=e=>ph(typeof e=="string"?Bo(e):e),yh=e=>mh(typeof e=="string"?Bo(e):e),nd=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ti={warn:console.warn}});function ni(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${jK[n]}, ${c} ${Sh[r]} ${t} ${l}:${p}:${f} GMT`}var jK,Sh,HK,$K,qK,oi,zK,VK,GK,si,ii,ri,WK,KK,JK,Eh,YK,XK,QK,Xt,ZK,e6,jo,cP=y(()=>{d();_h();jK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Sh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];HK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),$K=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=HK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,p=$n(jo(n)),f=Xt(o,"month",1,12),h=Xt(s,"day",1,31);return ri(p,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},qK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),oi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=qK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,p]=t,f=$n(jo(n)),h=Xt(o,"month",1,12),g=Xt(s,"day",1,31),_=ri(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&_.setTime(_.getTime()-e6(p)),_},zK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),VK=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),GK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),si=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=zK.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return ri($n(jo(s)),Eh(o),Xt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=VK.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return JK(ri(WK(s),Eh(o),Xt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=GK.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return ri($n(jo(l)),Eh(n),Xt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ii=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=od(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ri=(e,t,r,n)=>{let o=t-1;return XK(e,o,r),new Date(Date.UTC(e,o,r,Xt(n.hours,"hour",0,23),Xt(n.minutes,"minute",0,59),Xt(n.seconds,"seconds",0,60),ZK(n.fractionalMilliseconds)))},WK=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+$n(jo(e));return r<t?r+100:r},KK=50*365*24*60*60*1e3,JK=e=>e.getTime()-new Date().getTime()>KK?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Eh=e=>{let t=Sh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},YK=[31,28,31,30,31,30,31,31,30,31,30,31],XK=(e,t,r)=>{let n=YK[t];if(t===1&&QK(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Sh[t]} in ${e}: ${r}`)},QK=e=>e%4===0&&(e%100!==0||e%400===0),Xt=(e,t,r,n)=>{let o=yh(jo(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},ZK=e=>e==null?0:hh("0."+e)*1e3,e6=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},jo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ke,dP=y(()=>{d();Ke=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ke.from=e=>e&&typeof e=="object"&&(e instanceof Ke||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ke(String(e)):Ke(JSON.stringify(e));Ke.fromObject=Ke.from});function vh(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var lP=y(()=>{d()});function bh(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var uP=y(()=>{d()});var ai,pP=y(()=>{d();ai=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function t6(e){return new Oe(String(e),"bigDecimal")}var Oe,mP=y(()=>{d();Oe=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var fP={};He(fP,{LazyJsonString:()=>Ke,NumericValue:()=>Oe,copyDocumentWithTransform:()=>Qs,dateToUtcString:()=>ni,expectBoolean:()=>PK,expectByte:()=>mh,expectFloat32:()=>rd,expectInt:()=>AK,expectInt32:()=>uh,expectLong:()=>ei,expectNonNull:()=>xK,expectNumber:()=>Zs,expectObject:()=>sP,expectShort:()=>ph,expectString:()=>OK,expectUnion:()=>NK,handleFloat:()=>kK,limitedParseDouble:()=>gh,limitedParseFloat:()=>LK,limitedParseFloat32:()=>UK,logger:()=>ti,nv:()=>t6,parseBoolean:()=>CK,parseEpochTimestamp:()=>ii,parseRfc3339DateTime:()=>$K,parseRfc3339DateTimeWithOffset:()=>oi,parseRfc7231DateTime:()=>si,quoteHeader:()=>vh,splitEvery:()=>bh,splitHeader:()=>ai,strictParseByte:()=>yh,strictParseDouble:()=>od,strictParseFloat:()=>DK,strictParseFloat32:()=>hh,strictParseInt:()=>FK,strictParseInt32:()=>BK,strictParseLong:()=>aP,strictParseShort:()=>$n});var gt=y(()=>{d();oP();cP();dP();_h();lP();uP();pP();mP()});var sd,hP,Ho,wh=y(()=>{d();Ae();gt();sd=T(me()),hP=T(Qc());Ks();Ho=class{constructor(t){this.options=t}getRequestType(){return sd.HttpRequest}getResponseType(){return sd.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=$.of(r),s=$.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=$.of(t),l=[];for(let[p,f]of c.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let E=this.serdeContext;if(!E.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[p]=E.eventStreamMarshaller.deserialize(n.body,async v=>{let w=Object.keys(v).find(A=>A!=="__type")??"";if(w in S){let A=S[w];return{[w]:await a.read(A,v[w].body)}}else return{$unknown:v}})}else i[p]=(0,hP.sdkStreamMixin)(n.body);else if(n.body){let _=await ht(n.body,r);_.byteLength>0&&(i[p]=await a.read(f,_))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),_=n.headers[g];if(_!=null)if(f.isListSchema()){let E=f.getValueSchema(),S;E.isTimestampSchema()&&E.getSchema()===x.TIMESTAMP_DEFAULT?S=bh(_,",",2):S=ai(_);let v=[];for(let w of S)v.push(await a.read([E,{httpHeader:g}],w.trim()));i[p]=v}else i[p]=await a.read(f,_)}else if(h.httpPrefixHeaders!==void 0){i[p]={};for(let[g,_]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[p][g.slice(h.httpPrefixHeaders.length)]=await a.read([f.getValueSchema(),{httpHeader:g}],_))}else h.httpResponseCode?i[p]=n.statusCode:l.push(p)}return l}}});var gP,qn,yP=y(()=>{d();Ae();gP=T(me());Ks();ed();wh();qn=class extends Ho{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=$.of(t?.input),p=l.getSchema(),f=!1,h,g=new gP.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let _=$.translateTraits(t.traits);if(_.http){g.method=_.http[0];let[E,S]=_.http[1].split("?");g.path=="/"?g.path=E:g.path+=E;let v=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(v))}}for(let[_,E]of l.structIterator()){let S=E.getMergedTraits()??{},v=o[_];if(v!=null)if(S.httpPayload){if(E.isStreaming()){if(E.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=v}else s.write(E,v),h=s.flush();delete o[_]}else if(S.httpLabel){s.write(E,v);let w=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,w.split("/").map(Jt).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,Jt(w))),delete o[_]}else if(S.httpHeader)s.write(E,v),a[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[_];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,A]of Object.entries(v)){let I=S.httpPrefixHeaders+w;s.write([E.getValueSchema(),{httpHeader:I}],A),a[I.toLowerCase()]=s.flush()}delete o[_]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(E,v,i),delete o[_]):f=!0}return f&&o&&(s.write(p,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery($.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let l=await ht(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await ht(n.body,r);if(l.byteLength>0){let p=await o.read(s,l);for(let f of a)i[f]=p[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var _P,zn,EP=y(()=>{d();Ae();_P=T(me());Ks();wh();zn=class extends Ho{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=$.of(t?.input).getSchema(),p,f=new _P.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(l,h),p=o.flush()),f.headers=i,f.query=s,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let l=await ht(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await ht(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var Th,Ch=y(()=>{d();ed();Th=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Jt(a)).join("/"):Jt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Ph(e,t){return new id(e,t)}var SP,id,vP=y(()=>{d();SP=T(me());Ch();id=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new SP.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Th(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Vn(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===x.TIMESTAMP_DATE_TIME||e.getSchema()===x.TIMESTAMP_HTTP_DATE||e.getSchema()===x.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?x.TIMESTAMP_HTTP_DATE:s||r?x.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var ad=y(()=>{d();Ae()});var Ih,bP,Gn,Ah=y(()=>{d();Ae();gt();Ih=T(ct()),bP=T(Ge());ad();Gn=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=$.of(t);if(n.isListSchema())return ai(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Ih.fromBase64)(r);if(n.isTimestampSchema())switch(Vn(n,this.settings)){case x.TIMESTAMP_DATE_TIME:return oi(r);case x.TIMESTAMP_HTTP_DATE:return si(r);case x.TIMESTAMP_EPOCH_SECONDS:return ii(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ke.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Oe(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??bP.toUtf8)((this.serdeContext?.base64Decoder??Ih.fromBase64)(t))}}});var cd,Wn,wP=y(()=>{d();Ae();cd=T(Ge());Ah();Wn=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Gn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=$.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??cd.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??cd.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Rh,ci,xh=y(()=>{d();Ae();gt();Rh=T(ct());ad();ci=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=$.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Vn(n,this.settings)){case x.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:this.stringBuffer=ni(r);break;case x.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Rh.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:vh(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ke.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Rh.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Kn,TP=y(()=>{d();Ae();xh();Kn=class{constructor(t,r,n=new ci(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=$.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var CP={};He(CP,{FromStringShapeDeserializer:()=>Gn,HttpBindingProtocol:()=>qn,HttpInterceptingShapeDeserializer:()=>Wn,HttpInterceptingShapeSerializer:()=>Kn,RequestBuilder:()=>id,RpcProtocol:()=>zn,ToStringShapeSerializer:()=>ci,collectBody:()=>ht,determineTimestampFormat:()=>Vn,extendedEncodeURIComponent:()=>Jt,requestBuilder:()=>Ph,resolvedPath:()=>Th});var Pr=y(()=>{d();Ks();ed();yP();EP();vP();Ch();Ah();wP();TP();xh();ad()});var PP=y(()=>{d();Pr()});function r6(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var IP=y(()=>{d()});var Oh,AP=y(()=>{d();Oh=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var RP,Nh,Dh,xP=y(()=>{d();RP=T(me()),Nh=T(qt()),Dh=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=RP.HttpRequest.clone(t);if(n.in===Nh.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Nh.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var OP,Mh,NP=y(()=>{d();OP=T(me()),Mh=class{async sign(t,r,n){let o=OP.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var kh,DP=y(()=>{d();kh=class{async sign(t,r,n){return t}}});var MP=y(()=>{d();xP();NP();DP()});var kP,n6,Lh,dd,Uh,LP=y(()=>{d();kP=e=>t=>dd(t)&&t.expiration.getTime()-Date.now()<e,n6=3e5,Lh=kP(3e5),dd=e=>e.expiration!==void 0,Uh=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var UP=y(()=>{d();AP();MP();LP()});var yt={};He(yt,{DefaultIdentityProviderConfig:()=>Oh,EXPIRATION_MS:()=>n6,HttpApiKeyAuthSigner:()=>Dh,HttpBearerAuthSigner:()=>Mh,NoAuthSigner:()=>kh,createIsIdentityExpiredFunction:()=>kP,createPaginator:()=>RT,doesIdentityRequireRefresh:()=>dd,getHttpAuthSchemeEndpointRuleSetPlugin:()=>V4,getHttpAuthSchemePlugin:()=>Z4,getHttpSigningPlugin:()=>rW,getSmithyContext:()=>q4,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>lT,httpAuthSchemeMiddleware:()=>zs,httpAuthSchemeMiddlewareOptions:()=>ST,httpSigningMiddleware:()=>Pf,httpSigningMiddlewareOptions:()=>CT,isIdentityExpired:()=>Lh,memoizeIdentityProvider:()=>Uh,normalizeProvider:()=>Kr,requestBuilder:()=>Ph,setFeature:()=>r6});var rt=y(()=>{d();iT();bT();IT();AT();xT();PP();IP();UP()});var pd=b((vxe,GP)=>{d();var ld=Object.defineProperty,o6=Object.getOwnPropertyDescriptor,s6=Object.getOwnPropertyNames,i6=Object.prototype.hasOwnProperty,re=(e,t)=>ld(e,"name",{value:t,configurable:!0}),a6=(e,t)=>{for(var r in t)ld(e,r,{get:t[r],enumerable:!0})},c6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of s6(t))!i6.call(e,o)&&o!==r&&ld(e,o,{get:()=>t[o],enumerable:!(n=o6(t,o))||n.enumerable});return e},d6=e=>c6(ld({},"__esModule",{value:!0}),e),FP={};a6(FP,{EndpointCache:()=>l6,EndpointError:()=>nt,customEndpointFunctions:()=>Bh,isIpAddress:()=>BP,isValidHostLabel:()=>Hh,resolveEndpoint:()=>R6});GP.exports=d6(FP);var l6=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{re(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},u6=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),BP=re(e=>u6.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),p6=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Hh=re((e,t=!1)=>{if(!t)return p6.test(e);let r=e.split(".");for(let n of r)if(!Hh(n))return!1;return!0},"isValidHostLabel"),Bh={},di="endpoints";function Ir(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ir(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ir).join(", ")})`:JSON.stringify(e,null,2)}re(Ir,"toDebugString");var nt=class extends Error{static{re(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},m6=re((e,t)=>e===t,"booleanEquals"),f6=re(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new nt(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new nt(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),jP=re((e,t)=>f6(t).reduce((r,n)=>{if(typeof r!="object")throw new nt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),h6=re(e=>e!=null,"isSet"),g6=re(e=>!e,"not"),jh=qt(),Fh={[jh.EndpointURLScheme.HTTP]:80,[jh.EndpointURLScheme.HTTPS]:443},y6=re(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:_="",path:E="",query:S={}}=e,v=new URL(`${_}//${h}${g?`:${g}`:""}${E}`);return v.search=Object.entries(S).map(([w,A])=>`${w}=${A}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(jh.EndpointURLScheme).includes(c))return null;let l=BP(o),p=r.includes(`${n}:${Fh[c]}`)||typeof e=="string"&&e.includes(`${n}:${Fh[c]}`),f=`${n}${p?`:${Fh[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),_6=re((e,t)=>e===t,"stringEquals"),E6=re((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),S6=re(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),v6={booleanEquals:m6,getAttr:jP,isSet:h6,isValidHostLabel:Hh,not:g6,parseURL:y6,stringEquals:_6,substring:E6,uriEncode:S6},HP=re((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(jP(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),b6=re(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),ud=re((e,t,r)=>{if(typeof e=="string")return HP(e,r);if(e.fn)return $P(e,r);if(e.ref)return b6(e,r);throw new nt(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),$P=re(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:ud(s,"arg",r)),o=e.split(".");return o[0]in Bh&&o[1]!=null?Bh[o[0]][o[1]](...n):v6[e](...n)},"callFunction"),w6=re(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new nt(`'${e}' is already defined in Reference Record.`);let n=$P(t,r);return r.logger?.debug?.(`${di} evaluateCondition: ${Ir(t)} = ${Ir(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),$h=re((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=w6(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${di} assign: ${s.name} := ${Ir(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),T6=re((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=ud(s,"Header value entry",t);if(typeof i!="string")throw new nt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),qP=re((e,t)=>{if(Array.isArray(e))return e.map(r=>qP(r,t));switch(typeof e){case"string":return HP(e,t);case"object":if(e===null)throw new nt(`Unexpected endpoint property: ${e}`);return zP(e,t);case"boolean":return e;default:throw new nt(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),zP=re((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:qP(o,t)}),{}),"getEndpointProperties"),C6=re((e,t)=>{let r=ud(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new nt(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),P6=re((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=$h(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${di} Resolving endpoint from template: ${Ir(n)}`),{...l!=null&&{headers:T6(l,i)},...c!=null&&{properties:zP(c,i)},url:C6(a,i)}},"evaluateEndpointRule"),I6=re((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=$h(r,t);if(o)throw new nt(ud(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),A6=re((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=$h(r,t);if(o)return VP(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),VP=re((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=P6(r,t);if(n)return n}else if(r.type==="error")I6(r,t);else if(r.type==="tree"){let n=A6(r,t);if(n)return n}else throw new nt(`Unknown endpoint rule: ${r}`);throw new nt("Rules evaluation failed")},"evaluateRules"),R6=re((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${di} Initial EndpointParams: ${Ir(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(i.length>0)for(let[l,p]of i)r[l]=r[l]??p;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new nt(`Missing required parameter: '${l}'`);let c=VP(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${di} Resolved endpoint: ${Ir(c)}`),c},"resolveEndpoint")});var YP=b((Cxe,JP)=>{d();var md=Object.defineProperty,x6=Object.getOwnPropertyDescriptor,O6=Object.getOwnPropertyNames,N6=Object.prototype.hasOwnProperty,D6=(e,t)=>md(e,"name",{value:t,configurable:!0}),M6=(e,t)=>{for(var r in t)md(e,r,{get:t[r],enumerable:!0})},k6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of O6(t))!N6.call(e,o)&&o!==r&&md(e,o,{get:()=>t[o],enumerable:!(n=x6(t,o))||n.enumerable});return e},L6=e=>k6(md({},"__esModule",{value:!0}),e),WP={};M6(WP,{parseQueryString:()=>KP});JP.exports=L6(WP);function KP(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}D6(KP,"parseQueryString")});var $o=b((Ixe,ZP)=>{d();var fd=Object.defineProperty,U6=Object.getOwnPropertyDescriptor,F6=Object.getOwnPropertyNames,B6=Object.prototype.hasOwnProperty,j6=(e,t)=>fd(e,"name",{value:t,configurable:!0}),H6=(e,t)=>{for(var r in t)fd(e,r,{get:t[r],enumerable:!0})},$6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F6(t))!B6.call(e,o)&&o!==r&&fd(e,o,{get:()=>t[o],enumerable:!(n=U6(t,o))||n.enumerable});return e},q6=e=>$6(fd({},"__esModule",{value:!0}),e),XP={};H6(XP,{parseUrl:()=>QP});ZP.exports=q6(XP);var z6=YP(),QP=j6(e=>{if(typeof e=="string")return QP(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,z6.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var gd=b((Rxe,lI)=>{"use strict";d();var hd=Object.defineProperty,V6=Object.getOwnPropertyDescriptor,G6=Object.getOwnPropertyNames,W6=Object.prototype.hasOwnProperty,Xr=(e,t)=>hd(e,"name",{value:t,configurable:!0}),K6=(e,t)=>{for(var r in t)hd(e,r,{get:t[r],enumerable:!0})},J6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G6(t))!W6.call(e,o)&&o!==r&&hd(e,o,{get:()=>t[o],enumerable:!(n=V6(t,o))||n.enumerable});return e},Y6=e=>J6(hd({},"__esModule",{value:!0}),e),tI={};K6(tI,{ConditionObject:()=>ce.ConditionObject,DeprecatedObject:()=>ce.DeprecatedObject,EndpointError:()=>ce.EndpointError,EndpointObject:()=>ce.EndpointObject,EndpointObjectHeaders:()=>ce.EndpointObjectHeaders,EndpointObjectProperties:()=>ce.EndpointObjectProperties,EndpointParams:()=>ce.EndpointParams,EndpointResolverOptions:()=>ce.EndpointResolverOptions,EndpointRuleObject:()=>ce.EndpointRuleObject,ErrorRuleObject:()=>ce.ErrorRuleObject,EvaluateOptions:()=>ce.EvaluateOptions,Expression:()=>ce.Expression,FunctionArgv:()=>ce.FunctionArgv,FunctionObject:()=>ce.FunctionObject,FunctionReturn:()=>ce.FunctionReturn,ParameterObject:()=>ce.ParameterObject,ReferenceObject:()=>ce.ReferenceObject,ReferenceRecord:()=>ce.ReferenceRecord,RuleSetObject:()=>ce.RuleSetObject,RuleSetRules:()=>ce.RuleSetRules,TreeRuleObject:()=>ce.TreeRuleObject,awsEndpointFunctions:()=>cI,getUserAgentPrefix:()=>eJ,isIpAddress:()=>ce.isIpAddress,partition:()=>iI,resolveDefaultAwsRegionalEndpointsConfig:()=>rJ,resolveEndpoint:()=>ce.resolveEndpoint,setPartitionInfo:()=>aI,toEndpointV1:()=>dI,useDefaultPartitionInfo:()=>Z6});lI.exports=Y6(tI);var ce=pd(),rI=Xr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!rI(r))return!1;return!0}return!(!(0,ce.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,ce.isIpAddress)(e))},"isVirtualHostableS3Bucket"),eI=":",X6="/",Q6=Xr(e=>{let t=e.split(eI);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(eI)==="")return null;let c=a.map(l=>l.split(X6)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),nI={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},oI=nI,sI="",iI=Xr(e=>{let{partitions:t}=oI;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),aI=Xr((e,t="")=>{oI=e,sI=t},"setPartitionInfo"),Z6=Xr(()=>{aI(nI,"")},"useDefaultPartitionInfo"),eJ=Xr(()=>sI,"getUserAgentPrefix"),cI={isVirtualHostableS3Bucket:rI,parseArn:Q6,partition:iI};ce.customEndpointFunctions.aws=cI;var tJ=$o(),rJ=Xr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>dI(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),dI=Xr(e=>(0,tJ.parseUrl)(e.url),"toEndpointV1")});var yd,uI,pI=y(()=>{d();yd={warningEmitted:!1},uI=e=>{e&&!yd.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(yd.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function _d(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var mI=y(()=>{d()});function fI(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var hI=y(()=>{d()});function gI(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var yI=y(()=>{d()});var Qr={};He(Qr,{emitWarningIfUnsupportedVersion:()=>uI,setCredentialFeature:()=>_d,setFeature:()=>fI,setTokenFeature:()=>gI,state:()=>yd});var Qt=y(()=>{d();pI();mI();hI();yI()});var _I,qh,EI=y(()=>{d();_I=T(me()),qh=e=>_I.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var qo,zh=y(()=>{d();qo=e=>new Date(Date.now()+e)});var SI,vI=y(()=>{d();zh();SI=(e,t)=>Math.abs(qo(t).getTime()-e)>=3e5});var Vh,bI=y(()=>{d();vI();Vh=(e,t)=>{let r=Date.parse(e);return SI(r,t)?r-Date.now():t}});var Gh=y(()=>{d();EI();zh();bI()});var wI,li,zo,Zr,Wh,Kh=y(()=>{d();wI=T(me());Gh();li=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},zo=async e=>{let t=li("context",e.context),r=li("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await li("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},Zr=class{async sign(t,r,n){if(!wI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await zo(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:qo(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??qh(r.$response);if(n){let o=li("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Vh(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=qh(t);if(n){let o=li("config",r.config);o.systemClockOffset=Vh(n,o.systemClockOffset)}}},Wh=Zr});var TI,ui,CI=y(()=>{d();TI=T(me());Gh();Kh();ui=class extends Zr{async sign(t,r,n){if(!TI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await zo(n),p=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:qo(o.systemClockOffset),signingRegion:p,signingService:c})}}});var Jh,PI=y(()=>{d();Jh=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Ed,Yh=y(()=>{d();Ed=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var II,AI,RI,xI=y(()=>{d();PI();Yh();II="AWS_AUTH_SCHEME_PREFERENCE",AI="auth_scheme_preference",RI={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Ed(t.signingName)in e)return["httpBearerAuth"];if(II in e)return Jh(e[II])},configFileSelector:e=>{if(AI in e)return Jh(e[AI])},default:[]}});var Je=b((SOe,kI)=>{d();var Sd=Object.defineProperty,nJ=Object.getOwnPropertyDescriptor,oJ=Object.getOwnPropertyNames,sJ=Object.prototype.hasOwnProperty,Jn=(e,t)=>Sd(e,"name",{value:t,configurable:!0}),iJ=(e,t)=>{for(var r in t)Sd(e,r,{get:t[r],enumerable:!0})},aJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of oJ(t))!sJ.call(e,o)&&o!==r&&Sd(e,o,{get:()=>t[o],enumerable:!(n=nJ(t,o))||n.enumerable});return e},cJ=e=>aJ(Sd({},"__esModule",{value:!0}),e),OI={};iJ(OI,{CredentialsProviderError:()=>dJ,ProviderError:()=>vd,TokenProviderError:()=>lJ,chain:()=>uJ,fromStatic:()=>pJ,memoize:()=>mJ});kI.exports=cJ(OI);var vd=class NI extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,NI.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{Jn(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},dJ=class DI extends vd{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,DI.prototype)}static{Jn(this,"CredentialsProviderError")}},lJ=class MI extends vd{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,MI.prototype)}static{Jn(this,"TokenProviderError")}},uJ=Jn((...e)=>async()=>{if(e.length===0)throw new vd("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),pJ=Jn(e=>()=>Promise.resolve(e),"fromStatic"),mJ=Jn((e,t,r)=>{let n,o,s,i=!1,a=Jn(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Xh,LI,UI,FI=y(()=>{d();rt();Xh=T(Je()),LI=e=>(e.sigv4aSigningRegionSet=Kr(e.sigv4aSigningRegionSet),e),UI={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Xh.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Xh.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var mA=b((COe,pA)=>{d();var Ad=Object.defineProperty,fJ=Object.getOwnPropertyDescriptor,hJ=Object.getOwnPropertyNames,gJ=Object.prototype.hasOwnProperty,Ne=(e,t)=>Ad(e,"name",{value:t,configurable:!0}),yJ=(e,t)=>{for(var r in t)Ad(e,r,{get:t[r],enumerable:!0})},_J=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hJ(t))!gJ.call(e,o)&&o!==r&&Ad(e,o,{get:()=>t[o],enumerable:!(n=fJ(t,o))||n.enumerable});return e},EJ=e=>_J(Ad({},"__esModule",{value:!0}),e),qI={};yJ(qI,{ALGORITHM_IDENTIFIER:()=>bd,ALGORITHM_IDENTIFIER_V4A:()=>wJ,ALGORITHM_QUERY_PARAM:()=>zI,ALWAYS_UNSIGNABLE_HEADERS:()=>QI,AMZ_DATE_HEADER:()=>sg,AMZ_DATE_QUERY_PARAM:()=>tg,AUTH_HEADER:()=>og,CREDENTIAL_QUERY_PARAM:()=>VI,DATE_HEADER:()=>KI,EVENT_ALGORITHM_IDENTIFIER:()=>tA,EXPIRES_QUERY_PARAM:()=>WI,GENERATED_HEADERS:()=>JI,HOST_HEADER:()=>vJ,KEY_TYPE_IDENTIFIER:()=>ig,MAX_CACHE_SIZE:()=>nA,MAX_PRESIGNED_TTL:()=>oA,PROXY_HEADER_PATTERN:()=>ZI,REGION_SET_PARAM:()=>SJ,SEC_HEADER_PATTERN:()=>eA,SHA256_HEADER:()=>Id,SIGNATURE_HEADER:()=>YI,SIGNATURE_QUERY_PARAM:()=>rg,SIGNED_HEADERS_QUERY_PARAM:()=>GI,SignatureV4:()=>MJ,SignatureV4Base:()=>uA,TOKEN_HEADER:()=>XI,TOKEN_QUERY_PARAM:()=>ng,UNSIGNABLE_PATTERNS:()=>bJ,UNSIGNED_PAYLOAD:()=>rA,clearCredentialCache:()=>CJ,createScope:()=>Td,getCanonicalHeaders:()=>Qh,getCanonicalQuery:()=>lA,getPayloadHash:()=>Cd,getSigningKey:()=>sA,hasHeader:()=>aA,moveHeadersToQuery:()=>dA,prepareRequest:()=>eg,signatureV4aContainer:()=>kJ});pA.exports=EJ(qI);var BI=Ge(),zI="X-Amz-Algorithm",VI="X-Amz-Credential",tg="X-Amz-Date",GI="X-Amz-SignedHeaders",WI="X-Amz-Expires",rg="X-Amz-Signature",ng="X-Amz-Security-Token",SJ="X-Amz-Region-Set",og="authorization",sg=tg.toLowerCase(),KI="date",JI=[og,sg,KI],YI=rg.toLowerCase(),Id="x-amz-content-sha256",XI=ng.toLowerCase(),vJ="host",QI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ZI=/^proxy-/,eA=/^sec-/,bJ=[/^proxy-/i,/^sec-/i],bd="AWS4-HMAC-SHA256",wJ="AWS4-ECDSA-P256-SHA256",tA="AWS4-HMAC-SHA256-PAYLOAD",rA="UNSIGNED-PAYLOAD",nA=50,ig="aws4_request",oA=3600*24*7,en=Qf(),TJ=Ge(),Vo={},wd=[],Td=Ne((e,t,r)=>`${e}/${t}/${r}/${ig}`,"createScope"),sA=Ne(async(e,t,r,n,o)=>{let s=await jI(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,en.toHex)(s)}:${t.sessionToken}`;if(i in Vo)return Vo[i];for(wd.push(i);wd.length>nA;)delete Vo[wd.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,ig])a=await jI(e,a,c);return Vo[i]=a},"getSigningKey"),CJ=Ne(()=>{wd.length=0,Object.keys(Vo).forEach(e=>{delete Vo[e]})},"clearCredentialCache"),jI=Ne((e,t,r)=>{let n=new e(t);return n.update((0,TJ.toUint8Array)(r)),n.digest()},"hmac"),Qh=Ne(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in QI||t?.has(s)||ZI.test(s)||eA.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),PJ=Af(),IJ=Ge(),Cd=Ne(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Id)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,PJ.isArrayBuffer)(t)){let n=new r;return n.update((0,IJ.toUint8Array)(t)),(0,en.toHex)(await n.digest())}return rA},"getPayloadHash"),HI=Ge(),AJ=class{static{Ne(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,HI.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,HI.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(xJ.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!RJ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,en.fromHex)(e.value.replace(/\-/g,"")),1),p}}},RJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,xJ=class iA{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ne(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Zh(r),new iA(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Zh(t),parseInt((0,en.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Zh(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ne(Zh,"negate");var aA=Ne((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),cA=me(),dA=Ne((e,t={})=>{let{headers:r,query:n={}}=cA.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),eg=Ne(e=>{e=cA.HttpRequest.clone(e);for(let t of Object.keys(e.headers))JI.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),$I=zt(),OJ=Ge(),Pd=qf(),lA=Ne(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===YI)continue;let o=(0,Pd.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,Pd.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,Pd.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),NJ=Ne(e=>DJ(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),DJ=Ne(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),uA=class{static{Ne(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,$I.normalizeProvider)(r),this.credentialProvider=(0,$I.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${lA(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,OJ.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,en.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,Pd.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=NJ(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},MJ=class extends uA{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new AJ}static{Ne(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=c??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>oA)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=Td(g,f,l??this.service),E=dA(eg(e),{unhoistableHeaders:s,hoistableHeaders:a});p.sessionToken&&(E.query[ng]=p.sessionToken),E.query[zI]=bd,E.query[VI]=`${p.accessKeyId}/${_}`,E.query[tg]=h,E.query[WI]=n.toString(10);let S=Qh(E,o,i);return E.query[GI]=this.getCanonicalHeaderList(S),E.query[rg]=await this.getSignature(h,_,this.getSigningKey(p,f,g,l),this.createCanonicalRequest(E,S,await Cd(e,this.sha256))),E}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=Td(a,i,s??this.service),p=await Cd({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,en.toHex)(await f.digest()),g=[tA,c,l,n,h,p].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,BI.toUint8Array)(e)),(0,en.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=eg(e),{longDate:l,shortDate:p}=this.formatDate(t),f=Td(p,a,s??this.service);c.headers[sg]=l,i.sessionToken&&(c.headers[XI]=i.sessionToken);let h=await Cd(c,this.sha256);!aA(Id,c.headers)&&this.applyChecksum&&(c.headers[Id]=h);let g=Qh(c,n,r),_=await this.getSignature(l,f,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(c,g,h));return c.headers[og]=`${bd} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${_}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,bd),s=new this.sha256(await r);return s.update((0,BI.toUint8Array)(o)),(0,en.toHex)(await s.digest())}getSigningKey(e,t,r,n){return sA(this.sha256,e,r,t,n||this.service)}},kJ={SignatureV4a:null}});function LJ(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Uh(t,Lh,dd):r?n=Kr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function UJ(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var ag,cg,fA,hA=y(()=>{d();Qt();rt();ag=T(mA()),cg=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=LJ(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=UJ(e,p);r&&!f.attributed?(n=async h=>f(h).then(g=>_d(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Kr(e.signer):e.regionInfoProvider?a=()=>Kr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:h}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},_=e.signerConstructor||ag.SignatureV4;return new _(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Kr(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||ag.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},fA=cg});var gA=y(()=>{d();Kh();CI();xI();FI();hA()});var yA={};He(yA,{AWSSDKSigV4Signer:()=>Wh,AwsSdkSigV4ASigner:()=>ui,AwsSdkSigV4Signer:()=>Zr,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>RI,NODE_SIGV4A_CONFIG_OPTIONS:()=>UI,getBearerTokenEnvKey:()=>Ed,resolveAWSSDKSigV4Config:()=>fA,resolveAwsSdkSigV4AConfig:()=>LI,resolveAwsSdkSigV4Config:()=>cg,validateSigningProperties:()=>zo});var dg=y(()=>{d();gA();Yh()});var FJ,BJ,jJ,_A=y(()=>{d();FJ=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},BJ=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},jJ=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var pi=b((GOe,vA)=>{d();var Rd=Object.defineProperty,HJ=Object.getOwnPropertyDescriptor,$J=Object.getOwnPropertyNames,qJ=Object.prototype.hasOwnProperty,zJ=(e,t)=>Rd(e,"name",{value:t,configurable:!0}),VJ=(e,t)=>{for(var r in t)Rd(e,r,{get:t[r],enumerable:!0})},GJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $J(t))!qJ.call(e,o)&&o!==r&&Rd(e,o,{get:()=>t[o],enumerable:!(n=HJ(t,o))||n.enumerable});return e},WJ=e=>GJ(Rd({},"__esModule",{value:!0}),e),SA={};VJ(SA,{calculateBodyLength:()=>KJ});vA.exports=WJ(SA);var EA=typeof TextEncoder=="function"?new TextEncoder:null,KJ=zJ(e=>{if(typeof e=="string"){if(EA)return EA.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var $e,tn=y(()=>{d();$e=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function bA(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Oe(n,"bigDecimal"):BigInt(n)}return t}var wA=y(()=>{d();gt()});var AA=b((ZOe,IA)=>{d();var xd=Object.defineProperty,JJ=Object.getOwnPropertyDescriptor,YJ=Object.getOwnPropertyNames,XJ=Object.prototype.hasOwnProperty,_t=(e,t)=>xd(e,"name",{value:t,configurable:!0}),QJ=(e,t)=>{for(var r in t)xd(e,r,{get:t[r],enumerable:!0})},ZJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of YJ(t))!XJ.call(e,o)&&o!==r&&xd(e,o,{get:()=>t[o],enumerable:!(n=JJ(t,o))||n.enumerable});return e},eY=e=>ZJ(xd({},"__esModule",{value:!0}),e),PA={};QJ(PA,{constructStack:()=>lg});IA.exports=eY(PA);var Yn=_t((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),rn=_t((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),lg=_t(()=>{let e=[],t=[],r=!1,n=new Set,o=_t(f=>f.sort((h,g)=>TA[g.step]-TA[h.step]||CA[g.priority||"normal"]-CA[h.priority||"normal"]),"sort"),s=_t(f=>{let h=!1,g=_t(_=>{let E=Yn(_.name,_.aliases);if(E.includes(f)){h=!0;for(let S of E)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=_t(f=>{let h=!1,g=_t(_=>{if(_.middleware===f){h=!0;for(let E of Yn(_.name,_.aliases))n.delete(E);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=_t(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(p.identifyOnResolve()),f),"cloneTo"),c=_t(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=_t((f=!1)=>{let h=[],g=[],_={};return e.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Yn(v.name,v.aliases))_[w]=v;h.push(v)}),t.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Yn(v.name,v.aliases))_[w]=v;g.push(v)}),g.forEach(S=>{if(S.toMiddleware){let v=_[S.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${rn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&v.after.push(S),S.relation==="before"&&v.before.push(S)}}),o(h).map(c).reduce((S,v)=>(S.push(...v),S),[])},"getMiddlewareList"),p={add:(f,h={})=>{let{name:g,override:_,aliases:E}=h,S={step:"initialize",priority:"normal",middleware:f,...h},v=Yn(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${rn(g,E)}'`);for(let w of v){let A=e.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=e[A];if(I.step!==S.step||S.priority!==I.priority)throw new Error(`"${rn(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${rn(g,E)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(A,1)}}for(let w of v)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:E}=h,S={middleware:f,...h},v=Yn(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${rn(g,E)}'`);for(let w of v){let A=t.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=t[A];if(I.toMiddleware!==S.toMiddleware||I.relation!==S.relation)throw new Error(`"${rn(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${rn(g,E)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(A,1)}}for(let w of v)n.add(w)}t.push(S)},clone:()=>a(lg()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=_t(_=>{let{tags:E,name:S,aliases:v}=_;if(E&&E.includes(f)){let w=Yn(S,v);for(let A of w)n.delete(A);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=a(lg());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return rn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of l().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(p.identify()),f}};return p},"constructStack"),TA={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},CA={high:3,normal:2,low:1}});var De=b((t0e,yg)=>{d();var Od=Object.defineProperty,tY=Object.getOwnPropertyDescriptor,rY=Object.getOwnPropertyNames,nY=Object.prototype.hasOwnProperty,Z=(e,t)=>Od(e,"name",{value:t,configurable:!0}),oY=(e,t)=>{for(var r in t)Od(e,r,{get:t[r],enumerable:!0})},pg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rY(t))!nY.call(e,o)&&o!==r&&Od(e,o,{get:()=>t[o],enumerable:!(n=tY(t,o))||n.enumerable});return e},sY=(e,t,r)=>(pg(e,t,"default"),r&&pg(r,t,"default")),iY=e=>pg(Od({},"__esModule",{value:!0}),e),hg={};oY(hg,{Client:()=>aY,Command:()=>OA,NoOpLogger:()=>TY,SENSITIVE_STRING:()=>dY,ServiceException:()=>uY,_json:()=>fg,collectBody:()=>ug.collectBody,convertMap:()=>CY,createAggregatedClient:()=>lY,decorateServiceException:()=>NA,emitWarningIfUnsupportedVersion:()=>hY,extendedEncodeURIComponent:()=>ug.extendedEncodeURIComponent,getArrayIfSingleItem:()=>bY,getDefaultClientConfiguration:()=>SY,getDefaultExtensionConfiguration:()=>MA,getValueFromTextNode:()=>kA,isSerializableHeaderValue:()=>wY,loadConfigsForDefaultMode:()=>fY,map:()=>gg,resolveDefaultRuntimeConfig:()=>vY,resolvedPath:()=>ug.resolvedPath,serializeDateTime:()=>OY,serializeFloat:()=>xY,take:()=>PY,throwDefaultError:()=>DA,withBaseException:()=>pY});yg.exports=iY(hg);var xA=AA(),aY=class{constructor(e){this.config=e,this.middlewareStack=(0,xA.constructStack)()}static{Z(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},ug=(Pr(),z(CP)),mg=qt(),OA=class{constructor(){this.middlewareStack=(0,xA.constructStack)()}static{Z(this,"Command")}static classBuilder(){return new cY}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:p}){for(let E of n.bind(this)(p,e,t,r))this.middlewareStack.use(E);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[mg.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:_}=t;return f.resolve(E=>_.handle(E.request,r||{}),g)}},cY=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{Z(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends OA{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{Z(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},dY="***SensitiveInformation***",lY=Z((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=Z(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),uY=class mi extends Error{static{Z(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return mi.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===mi?mi.isInstance(t):mi.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},NA=Z((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),DA=Z(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=mY(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw NA(i,t)},"throwDefaultError"),pY=Z(e=>({output:t,parsedBody:r,errorCode:n})=>{DA({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),mY=Z(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),fY=Z(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),RA=!1,hY=Z(e=>{e&&!RA&&parseInt(e.substring(1,e.indexOf(".")))<16&&(RA=!0)},"emitWarningIfUnsupportedVersion"),gY=Z(e=>{let t=[];for(let r in mg.AlgorithmId){let n=mg.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),yY=Z(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),_Y=Z(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),EY=Z(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),MA=Z(e=>Object.assign(gY(e),_Y(e)),"getDefaultExtensionConfiguration"),SY=MA,vY=Z(e=>Object.assign(yY(e),EY(e)),"resolveDefaultRuntimeConfig"),bY=Z(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),kA=Z(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=kA(e[r]));return e},"getValueFromTextNode"),wY=Z(e=>e!=null,"isSerializableHeaderValue"),TY=class{static{Z(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function gg(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,IY(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}LA(n,null,s,i)}return n}Z(gg,"map");var CY=Z(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),PY=Z((e,t)=>{let r={};for(let n in t)LA(r,e,t,n);return r},"take"),IY=Z((e,t,r)=>gg(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),LA=Z((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=AY,c=RY,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),AY=Z(e=>e!=null,"nonNullish"),RY=Z(e=>e,"pass"),xY=Z(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),OY=Z(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),fg=Z(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(fg);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=fg(e[r]));return t}return e},"_json");sY(hg,(gt(),z(fP)),yg.exports)});var UA,Nd,_g=y(()=>{d();UA=T(De()),Nd=(e,t)=>(0,UA.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var Dd,NY,fi,hi=y(()=>{d();_g();Dd=(e,t)=>Nd(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),NY=async(e,t)=>{let r=await Dd(e,t);return r.message=r.message??r.Message,r},fi=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var FA,gi,Eg=y(()=>{d();Ae();gt();FA=T(ct());tn();wA();hi();gi=class extends $e{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,bA):await Dd(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=$.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(c||p!=null)&&(a[l]=this._read(i,p));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,p=this._read(c,r[l]);p!=null&&(i[a]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,FA.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ke.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===x.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return oi(r);case x.TIMESTAMP_HTTP_DATE:return si(r);case x.TIMESTAMP_EPOCH_SECONDS:return ii(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof Oe?r:new Oe(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var BA,Md,jA=y(()=>{d();gt();BA="\u039D",Md=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Oe){let n=`${BA+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${BA+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var yi,Sg=y(()=>{d();Ae();gt();gt();tn();jA();yi=class extends $e{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=$.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Md;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=$.of(t);if(s.isListSchema()&&Array.isArray(r)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let p of r)(l||p!=null)&&c.push(this._write(a,p));return c}else if(s.isMapSchema()&&o){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[p,f]of Object.entries(r))(l||f!=null)&&(c[p]=this._write(a,f));return c}else if(s.isStructSchema()&&o){let a={};for(let[c,l]of s.structIterator()){let p=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,r[c],s);f!==void 0&&(a[p]=f)}return a}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===x.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case x.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case x.TIMESTAMP_HTTP_DATE:return ni(r);case x.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?Ke.from(r):r}}});var Xn,kd=y(()=>{d();tn();Eg();Sg();Xn=class extends $e{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new yi(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new gi(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var HA,Qn,Ld=y(()=>{d();Pr();Ae();HA=T(pi());kd();hi();Qn=class extends zn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new Xn({timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+$.of(t).getName()}),(Cr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,HA.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=fi(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var vg,$A=y(()=>{d();Ld();vg=class extends Qn{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var bg,qA=y(()=>{d();Ld();bg=class extends Qn{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var zA,wg,VA=y(()=>{d();Pr();Ae();zA=T(pi());kd();hi();wg=class extends qn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Xn(r),this.serializer=new Kn(this.codec.createSerializer(),r),this.deserializer=new Wn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=$.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,zA.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=fi(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var GA,DY,WA=y(()=>{d();GA=T(De()),DY=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,GA.expectUnion)(e)}});function Ud(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function JA(e){return typeof e<"u"}var KA,MY,kY,LY,_i,Fd=y(()=>{"use strict";d();KA=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",MY=KA+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",kY="["+KA+"]["+MY+"]*",LY=new RegExp("^"+kY+"$");_i=function(e){let t=LY.exec(e);return!(t===null||typeof t>"u")}});function eR(e,t){t=Object.assign({},UY,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=XA(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=QA(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!VY(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",ye("InvalidTag",f,Ye(e,s))}let l=jY(e,s);if(l===!1)return ye("InvalidAttr","Attributes for '"+c+"' have open quote.",Ye(e,s));let p=l.value;if(s=l.index,p[p.length-1]==="/"){let f=s-p.length;p=p.substring(0,p.length-1);let h=ZA(p,t);if(h===!0)n=!0;else return ye(h.err.code,h.err.msg,Ye(e,f+h.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return ye("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ye(e,i));if(r.length===0)return ye("InvalidTag","Closing tag '"+c+"' has not been opened.",Ye(e,i));{let f=r.pop();if(c!==f.tagName){let h=Ye(e,f.tagStartPos);return ye("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Ye(e,i))}r.length==0&&(o=!0)}}else return ye("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ye(e,s));else{let f=ZA(p,t);if(f!==!0)return ye(f.err.code,f.err.msg,Ye(e,s-p.length+f.err.line));if(o===!0)return ye("InvalidXml","Multiple possible root nodes found.",Ye(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=QA(e,s);continue}else if(e[s+1]==="?"){if(s=XA(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=qY(e,s);if(f==-1)return ye("InvalidChar","char '&' is not expected.",Ye(e,s));s=f}else if(o===!0&&!YA(e[s]))return ye("InvalidXml","Extra text at the end",Ye(e,s));e[s]==="<"&&s--}}else{if(YA(e[s]))continue;return ye("InvalidChar","char '"+e[s]+"' is not expected.",Ye(e,s))}if(n){if(r.length==1)return ye("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ye(e,r[0].tagStartPos));if(r.length>0)return ye("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ye("InvalidXml","Start tag expected.",1);return!0}function YA(e){return e===" "||e==="	"||e===`
`||e==="\r"}function XA(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ye("InvalidXml","XML declaration allowed only at the start of the document.",Ye(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function QA(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function jY(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===FY||e[t]===BY)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function ZA(e,t){let r=Ud(e,HY),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ye("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Ei(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ye("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Ei(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ye("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Ei(r[o]));let s=r[o][2];if(!zY(s))return ye("InvalidAttr","Attribute '"+s+"' is an invalid name.",Ei(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ye("InvalidAttr","Attribute '"+s+"' is repeated.",Ei(r[o]))}return!0}function $Y(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function qY(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,$Y(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ye(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function zY(e){return _i(e)}function VY(e){return _i(e)}function Ye(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ei(e){return e.startIndex+e[1].length}var UY,FY,BY,HY,tR=y(()=>{"use strict";d();Fd();UY={allowBooleanAttributes:!1,unpairedTags:[]};FY='"',BY="'";HY=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var GY,rR,nR=y(()=>{d();GY={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},rR=function(e){return Object.assign({},GY,e)}});var Bd,dt,jd=y(()=>{"use strict";d();typeof Symbol!="function"?Bd="@@xmlMetadata":Bd=Symbol("XML Node Metadata");dt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][Bd]={startIndex:r})}static getMetaDataSymbol(){return Bd}}});function Tg(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&Zn(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=WY(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&Zn(e,"!ELEMENT",t)){t+=8;let{index:a}=JY(e,t+1);t=a}else if(o&&Zn(e,"!ATTLIST",t))t+=8;else if(o&&Zn(e,"!NOTATION",t)){t+=9;let{index:a}=KY(e,t+1);t=a}else if(Zn(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function WY(e,t){t=nn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Cg(r),t=nn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Hd(e,t,"entity"),t--,[r,n,t]}function KY(e,t){t=nn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Cg(r),t=nn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=nn(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Hd(e,t,"publicIdentifier"),t=nn(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Hd(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Hd(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Hd(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function JY(e,t){t=nn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Cg(r))throw new Error(`Invalid element name: "${r}"`);t=nn(e,t);let n="";if(e[t]==="E"&&Zn(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Zn(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Zn(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Cg(e){if(_i(e))return e;throw new Error(`Invalid entity name ${e}`)}var nn,oR=y(()=>{d();Fd();nn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Pg(e,t={}){if(t=Object.assign({},QY,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&YY.test(r))return r5(r,16);if(r.search(/.+[eE].+/)!==-1)return e5(e,r,t);{let n=XY.exec(r);if(n){let o=n[1]||"",s=n[2],i=t5(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let p=s?i:r;return s?p===l||o+p===l?c:e:p===l||p===o+l?c:e}}else return e}}function e5(e,t,r){if(!r.eNotation)return e;let n=t.match(ZY);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function t5(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function r5(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var YY,XY,QY,ZY,sR=y(()=>{d();YY=/^[-+]?0x[a-fA-F0-9]+$/,XY=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,QY={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};ZY=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Ig(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var iR=y(()=>{d()});function n5(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function o5(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Rg(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Rg(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function s5(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function a5(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Ud(e,i5),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?s[l]=c:typeof p!=typeof c||p!==c?s[l]=p:s[l]=Rg(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function d5(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function u5(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function p5(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function m5(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function eo(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Ag(e,t,r,n=">"){let o=m5(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let p=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:p}}function f5(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=eo(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=eo(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=eo(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=eo(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Ag(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Rg(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Pg(e,r)}else return JA(e)?e:""}var Si,i5,c5,l5,aR=y(()=>{"use strict";d();Fd();jd();oR();sR();iR();Si=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=n5,this.parseXml=c5,this.parseTextData=o5,this.resolveNameSpace=s5,this.buildAttributesMap=a5,this.isItStopNode=p5,this.replaceEntitiesValue=l5,this.readStopNodeData=f5,this.saveTextToParentTag=u5,this.addChild=d5,this.ignoreAttributesFn=Ig(this.options.ignoreAttributes)}};i5=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");c5=function(e){e=e.replace(/\r\n?/g,`
`);let t=new dt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=eo(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Ag(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new dt(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=eo(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=Tg(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=eo(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=Ag(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,p=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let v=this.readStopNodeData(e,l,h+1);if(!v)throw new Error(`Unexpected end of ${l}`);s=v.i,E=v.tagContent}let S=new dt(c);c!==p&&f&&(S[":@"]=this.buildAttributesMap(p,o,c)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,E),this.addChild(r,S,o,_)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new dt(c);c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),o=o.substr(0,o.lastIndexOf("."))}else{let E=new dt(c);this.tagsNodeStack.push(r),c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),r=E}n="",s=h}}else n+=e[s];return t.child};l5=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Og(e,t){return cR(e,t)}function cR(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=h5(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=cR(i[a],t,c),p=y5(l,t);i[xg]!==void 0&&(l[xg]=i[xg]),i[":@"]?g5(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function h5(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function g5(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function y5(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var xg,dR=y(()=>{"use strict";d();jd();xg=dt.getMetaDataSymbol()});var on,lR=y(()=>{d();nR();aR();dR();tR();jd();on=class{constructor(t){this.externalEntities={},this.options=rR(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=eR(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new Si(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Og(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return dt.getMetaDataSymbol()}}});var Ng=y(()=>{"use strict";d();lR()});var uR,pR,to,$d=y(()=>{d();Pr();Ae();uR=T(De()),pR=T(Ge());Ng();tn();to=class extends $e{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Gn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=$.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(s)[0];return s[p].isBlobSchema()?l[p]=r:l[p]=this.read(s[p],r),l}let a=(this.serdeContext?.utf8Encoder??pR.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=$.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],p=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of p){let _=g[f],E=g[h];(E!=null||s)&&(a[_]=this.readSchema(l,E))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new on({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,uR.getValueFromTextNode)(i)}return{}}}});var mR,fR,qd,hR=y(()=>{d();Pr();Ae();gt();mR=T(De()),fR=T(ct());tn();qd=class extends $e{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=$.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??fR.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Oe?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Vn(o,this.settings)){case x.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case x.TIMESTAMP_HTTP_DATE:this.writeValue((0,mR.dateToUtcString)(r));break;case x.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,p),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,h),this.write(i,p,_),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Jt(t)}=`}writeValue(t){this.buffer+=Jt(t)}}});var gR,vi,Dg=y(()=>{d();Pr();Ae();gR=T(pi());$d();hR();vi=class extends zn{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new qd(r),this.deserializer=new to(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Cr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,gR.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let p=await ht(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let f=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=f}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await ht(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),p=We.for(a),f;try{f=p.find(S=>$.of(S).getMergedTraits().awsQueryError?.[0]===c),f||(f=p.getSchema(i))}catch{let v=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(v){let w=v.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let h=$.of(f),g=this.loadQueryErrorMessage(o),_=new f.ctor(g),E={};for(let[S,v]of h.structIterator()){let w=v.getMergedTraits().xmlName??S,A=l[w]??o[w];E[S]=this.deserializer.readSchema(v,A)}throw Object.assign(_,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,...E}),_}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var Mg,yR=y(()=>{d();Dg();Mg=class extends vi{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var _R,ER,_5,kg,Lg=y(()=>{d();_R=T(De());Ng();_g();ER=(e,t)=>Nd(e,t).then(r=>{if(r.length){let n=new on({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,_R.getValueFromTextNode)(a)}return{}}),_5=async(e,t)=>{let r=await ER(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},kg=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Ug=b((cDe,TR)=>{"use strict";d();var Vd=Object.defineProperty,E5=Object.getOwnPropertyDescriptor,S5=Object.getOwnPropertyNames,v5=Object.prototype.hasOwnProperty,Gd=(e,t)=>Vd(e,"name",{value:t,configurable:!0}),b5=(e,t)=>{for(var r in t)Vd(e,r,{get:t[r],enumerable:!0})},w5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of S5(t))!v5.call(e,o)&&o!==r&&Vd(e,o,{get:()=>t[o],enumerable:!(n=E5(t,o))||n.enumerable});return e},T5=e=>w5(Vd({},"__esModule",{value:!0}),e),SR={};b5(SR,{XmlNode:()=>C5,XmlText:()=>wR});TR.exports=T5(SR);function vR(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Gd(vR,"escapeAttribute");function bR(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Gd(bR,"escapeElement");var wR=class{constructor(e){this.value=e}static{Gd(this,"XmlText")}toString(){return bR(""+this.value)}},C5=class zd{constructor(t,r=[]){this.name=t,this.children=r}static{Gd(this,"XmlNode")}attributes={};static of(t,r,n){let o=new zd(t);return r!==void 0&&o.addChildNode(new wR(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=zd.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new zd(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${vR(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var Et,Fg,Wd,bi,Bg=y(()=>{d();Et=T(Ug());Ae();gt();Fg=T(De()),Wd=T(ct());tn();bi=class extends $e{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=$.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Wd.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Et.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,c);else if(p.isMapSchema())this.writeMap(p,f,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,c));else{let h=Et.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,h,c),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,o),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let E=this.writeStruct(i,_,f);g.addChildNode(E.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let E=Et.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,E,f),g.addChildNode(E)}};if(l)for(let g of r)(c||g!=null)&&h(n,g);else{let g=Et.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(p,f);for(let _ of r)(c||_!=null)&&h(g,_);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[E,S]=this.getXmlnsAttribute(t,o),v=(w,A,I)=>{let C=Et.XmlNode.of(l,A),[k,Ve]=this.getXmlnsAttribute(a,S);Ve&&C.addAttribute(k,Ve),w.addChildNode(C);let se=Et.XmlNode.of(h);p.isListSchema()?this.writeList(p,I,se,S):p.isMapSchema()?this.writeMap(p,I,se,S,!0):p.isStructSchema()?se=this.writeStruct(p,I,S):this.writeSimpleInto(p,I,se,S),w.addChildNode(se)};if(_){for(let[w,A]of Object.entries(r))if(g||A!=null){let I=Et.XmlNode.of(i.xmlName??t.getMemberName());v(I,w,A),n.addChildNode(I)}}else{let w;s||(w=Et.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(E,S),n.addChildNode(w));for(let[A,I]of Object.entries(r))if(g||I!=null){let C=Et.XmlNode.of("entry");v(C,A,I),(s?n:w).addChildNode(C)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=$.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Wd.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===x.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case x.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:o=(0,Fg.dateToUtcString)(r);break;case x.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Fg.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Oe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=$.of(t),a=new Et.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var wi,jg=y(()=>{d();tn();$d();Bg();wi=class extends $e{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new bi(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new to(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var CR,Hg,PR=y(()=>{d();Pr();Ae();CR=T(pi());Lg();jg();Hg=class extends qn{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new wi(r),this.serializer=new Kn(this.codec.createSerializer(),r),this.deserializer=new Wn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=$.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,CR.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=kg(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().xmlName??E,w=o.Error?.[v]??o[v];_[E]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var IR=y(()=>{d();_A();$A();qA();Ld();VA();kd();Eg();Sg();WA();hi();yR();Dg();PR();jg();$d();Bg();Lg()});var Zt={};He(Zt,{AWSSDKSigV4Signer:()=>Wh,AwsEc2QueryProtocol:()=>Mg,AwsJson1_0Protocol:()=>vg,AwsJson1_1Protocol:()=>bg,AwsJsonRpcProtocol:()=>Qn,AwsQueryProtocol:()=>vi,AwsRestJsonProtocol:()=>wg,AwsRestXmlProtocol:()=>Hg,AwsSdkSigV4ASigner:()=>ui,AwsSdkSigV4Signer:()=>Zr,JsonCodec:()=>Xn,JsonShapeDeserializer:()=>gi,JsonShapeSerializer:()=>yi,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>RI,NODE_SIGV4A_CONFIG_OPTIONS:()=>UI,XmlCodec:()=>wi,XmlShapeDeserializer:()=>to,XmlShapeSerializer:()=>bi,_toBool:()=>BJ,_toNum:()=>jJ,_toStr:()=>FJ,awsExpectUnion:()=>DY,emitWarningIfUnsupportedVersion:()=>uI,getBearerTokenEnvKey:()=>Ed,loadRestJsonErrorCode:()=>fi,loadRestXmlErrorCode:()=>kg,parseJsonBody:()=>Dd,parseJsonErrorBody:()=>NY,parseXmlBody:()=>ER,parseXmlErrorBody:()=>_5,resolveAWSSDKSigV4Config:()=>fA,resolveAwsSdkSigV4AConfig:()=>LI,resolveAwsSdkSigV4Config:()=>cg,setCredentialFeature:()=>_d,setFeature:()=>fI,setTokenFeature:()=>gI,state:()=>yd,validateSigningProperties:()=>zo});var er=y(()=>{d();Qt();dg();IR()});var Yd=b((YDe,BR)=>{"use strict";d();var Jd=Object.defineProperty,P5=Object.getOwnPropertyDescriptor,I5=Object.getOwnPropertyNames,A5=Object.prototype.hasOwnProperty,Ar=(e,t)=>Jd(e,"name",{value:t,configurable:!0}),R5=(e,t)=>{for(var r in t)Jd(e,r,{get:t[r],enumerable:!0})},x5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of I5(t))!A5.call(e,o)&&o!==r&&Jd(e,o,{get:()=>t[o],enumerable:!(n=P5(t,o))||n.enumerable});return e},O5=e=>x5(Jd({},"__esModule",{value:!0}),e),OR={};R5(OR,{DEFAULT_UA_APP_ID:()=>NR,getUserAgentMiddlewareOptions:()=>FR,getUserAgentPlugin:()=>B5,resolveUserAgentConfig:()=>MR,userAgentMiddleware:()=>UR});BR.exports=O5(OR);var N5=(rt(),z(yt)),NR=void 0;function DR(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Ar(DR,"isValidUserAgentAppId");function MR(e){let t=(0,N5.normalizeProvider)(e.userAgentAppId??NR),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Ar(async()=>{let n=await t();if(!DR(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Ar(MR,"resolveUserAgentConfig");var D5=gd(),M5=me(),tr=(er(),z(Zt)),k5=/\d{12}\.ddb/;async function kR(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,tr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,tr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,tr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,tr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(k5)&&(0,tr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,tr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,tr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,tr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,tr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,tr.setFeature)(e,i,a)}}Ar(kR,"checkFeatures");var AR="user-agent",$g="x-amz-user-agent",RR=" ",qg="/",L5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,U5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,xR="-",F5=1024;function LR(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=F5){t.length?t+=","+n:t+=n;continue}break}return t}Ar(LR,"encodeFeatures");var UR=Ar(e=>(t,r)=>async n=>{let{request:o}=n;if(!M5.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Kd)||[],a=(await e.defaultUserAgentProvider()).map(Kd);await kR(r,e,n);let c=r;a.push(`m/${LR(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Kd)||[],p=await e.userAgentAppId();p&&a.push(Kd([`app/${p}`]));let f=(0,D5.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...a,...i,...l]).join(RR),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...l].join(RR);return e.runtime!=="browser"?(g&&(s[$g]=s[$g]?`${s[AR]} ${g}`:g),s[AR]=h):s[$g]=h,t({...n,request:o})},"userAgentMiddleware"),Kd=Ar(e=>{let t=e[0].split(qg).map(i=>i.replace(L5,xR)).join(qg),r=e[1]?.replace(U5,xR),n=t.indexOf(qg),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),FR={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},B5=Ar(e=>({applyToStack:Ar(t=>{t.add(UR(e),FR)},"applyToStack")}),"getUserAgentPlugin")});var zR=b((QDe,qR)=>{d();var Xd=Object.defineProperty,j5=Object.getOwnPropertyDescriptor,H5=Object.getOwnPropertyNames,$5=Object.prototype.hasOwnProperty,jR=(e,t)=>Xd(e,"name",{value:t,configurable:!0}),q5=(e,t)=>{for(var r in t)Xd(e,r,{get:t[r],enumerable:!0})},z5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of H5(t))!$5.call(e,o)&&o!==r&&Xd(e,o,{get:()=>t[o],enumerable:!(n=j5(t,o))||n.enumerable});return e},V5=e=>z5(Xd({},"__esModule",{value:!0}),e),HR={};q5(HR,{SelectorType:()=>$R,booleanSelector:()=>G5,numberSelector:()=>W5});qR.exports=V5(HR);var G5=jR((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),W5=jR((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),$R=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))($R||{})});var Go=b((eMe,tx)=>{d();var Zd=Object.defineProperty,K5=Object.getOwnPropertyDescriptor,J5=Object.getOwnPropertyNames,Y5=Object.prototype.hasOwnProperty,Mt=(e,t)=>Zd(e,"name",{value:t,configurable:!0}),X5=(e,t)=>{for(var r in t)Zd(e,r,{get:t[r],enumerable:!0})},Q5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of J5(t))!Y5.call(e,o)&&o!==r&&Zd(e,o,{get:()=>t[o],enumerable:!(n=K5(t,o))||n.enumerable});return e},Z5=e=>Q5(Zd({},"__esModule",{value:!0}),e),WR={};X5(WR,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>JR,CONFIG_USE_FIPS_ENDPOINT:()=>XR,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>eX,DEFAULT_USE_FIPS_ENDPOINT:()=>rX,ENV_USE_DUALSTACK_ENDPOINT:()=>KR,ENV_USE_FIPS_ENDPOINT:()=>YR,NODE_REGION_CONFIG_FILE_OPTIONS:()=>cX,NODE_REGION_CONFIG_OPTIONS:()=>aX,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>tX,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>nX,REGION_ENV_NAME:()=>QR,REGION_INI_NAME:()=>ZR,getRegionInfo:()=>mX,resolveCustomEndpointsConfig:()=>oX,resolveEndpointsConfig:()=>iX,resolveRegionConfig:()=>dX});tx.exports=Z5(WR);var sn=zR(),KR="AWS_USE_DUALSTACK_ENDPOINT",JR="use_dualstack_endpoint",eX=!1,tX={environmentVariableSelector:e=>(0,sn.booleanSelector)(e,KR,sn.SelectorType.ENV),configFileSelector:e=>(0,sn.booleanSelector)(e,JR,sn.SelectorType.CONFIG),default:!1},YR="AWS_USE_FIPS_ENDPOINT",XR="use_fips_endpoint",rX=!1,nX={environmentVariableSelector:e=>(0,sn.booleanSelector)(e,YR,sn.SelectorType.ENV),configFileSelector:e=>(0,sn.booleanSelector)(e,XR,sn.SelectorType.CONFIG),default:!1},Qd=zt(),oX=Mt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Qd.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Qd.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),sX=Mt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),iX=Mt(e=>{let t=(0,Qd.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Qd.normalizeProvider)(typeof r=="string"?o(r):r):()=>sX({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),QR="AWS_REGION",ZR="region",aX={environmentVariableSelector:e=>e[QR],configFileSelector:e=>e[ZR],default:()=>{throw new Error("Region is missing")}},cX={preferredFile:"credentials"},ex=Mt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),VR=Mt(e=>ex(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),dX=Mt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return VR(t);let n=await t();return VR(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return ex(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),GR=Mt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),lX=Mt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),uX=Mt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),pX=Mt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),mX=Mt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=uX(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=GR(o[a]?.variants,c),p=GR(s[i]?.variants,c),f=lX(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=pX(f,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var Vg=b((rMe,ix)=>{d();var el=Object.defineProperty,fX=Object.getOwnPropertyDescriptor,hX=Object.getOwnPropertyNames,gX=Object.prototype.hasOwnProperty,nx=(e,t)=>el(e,"name",{value:t,configurable:!0}),yX=(e,t)=>{for(var r in t)el(e,r,{get:t[r],enumerable:!0})},_X=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hX(t))!gX.call(e,o)&&o!==r&&el(e,o,{get:()=>t[o],enumerable:!(n=fX(t,o))||n.enumerable});return e},EX=e=>_X(el({},"__esModule",{value:!0}),e),ox={};yX(ox,{contentLengthMiddleware:()=>zg,contentLengthMiddlewareOptions:()=>sx,getContentLengthPlugin:()=>vX});ix.exports=EX(ox);var SX=me(),rx="content-length";function zg(e){return t=>async r=>{let n=r.request;if(SX.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(rx)===-1)try{let i=e(o);n.headers={...n.headers,[rx]:String(i)}}catch{}}return t({...r,request:n})}}nx(zg,"contentLengthMiddleware");var sx={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},vX=nx(e=>({applyToStack:t=>{t.add(zg(e.bodyLengthChecker),sx)}}),"getContentLengthPlugin")});import bX from"crypto";function Ti(){return tl>rl.length-16&&(bX.randomFillSync(rl),tl=0),rl.slice(tl,tl+=16)}var rl,tl,Gg=y(()=>{d();rl=new Uint8Array(256),tl=rl.length});var ax,cx=y(()=>{d();ax=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function wX(e){return typeof e=="string"&&ax.test(e)}var an,Ci=y(()=>{d();cx();an=wX});function ro(e,t=0){return Me[e[t+0]]+Me[e[t+1]]+Me[e[t+2]]+Me[e[t+3]]+"-"+Me[e[t+4]]+Me[e[t+5]]+"-"+Me[e[t+6]]+Me[e[t+7]]+"-"+Me[e[t+8]]+Me[e[t+9]]+"-"+Me[e[t+10]]+Me[e[t+11]]+Me[e[t+12]]+Me[e[t+13]]+Me[e[t+14]]+Me[e[t+15]]}function TX(e,t=0){let r=ro(e,t);if(!an(r))throw TypeError("Stringified UUID is invalid");return r}var Me,dx,Pi=y(()=>{d();Ci();Me=[];for(let e=0;e<256;++e)Me.push((e+256).toString(16).slice(1));dx=TX});function CX(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||lx,i=e.clockseq!==void 0?e.clockseq:Wg;if(s==null||i==null){let h=e.random||(e.rng||Ti)();s==null&&(s=lx=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=Wg=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Jg+1,l=a-Kg+(c-Jg)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>Kg)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Kg=a,Jg=c,Wg=i,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||ro(o)}var lx,Wg,Kg,Jg,ux,px=y(()=>{d();Gg();Pi();Kg=0,Jg=0;ux=CX});function PX(e){if(!an(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var nl,Yg=y(()=>{d();Ci();nl=PX});function IX(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Ii(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=IX(o)),typeof s=="string"&&(s=nl(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let p=0;p<16;++p)i[a+p]=l[p];return i}return ro(l)}try{n.name=e}catch{}return n.DNS=AX,n.URL=RX,n}var AX,RX,Xg=y(()=>{d();Pi();Yg();AX="6ba7b810-9dad-11d1-80b4-00c04fd430c8",RX="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import xX from"crypto";function OX(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),xX.createHash("md5").update(e).digest()}var mx,fx=y(()=>{d();mx=OX});var NX,hx,gx=y(()=>{d();Xg();fx();NX=Ii("v3",48,mx),hx=NX});import DX from"crypto";var Qg,yx=y(()=>{d();Qg={randomUUID:DX.randomUUID}});function MX(e,t,r){if(Qg.randomUUID&&!t&&!e)return Qg.randomUUID();e=e||{};let n=e.random||(e.rng||Ti)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return ro(n)}var _x,Ex=y(()=>{d();yx();Gg();Pi();_x=MX});import kX from"crypto";function LX(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),kX.createHash("sha1").update(e).digest()}var Sx,vx=y(()=>{d();Sx=LX});var UX,bx,wx=y(()=>{d();Xg();vx();UX=Ii("v5",80,Sx),bx=UX});var Tx,Cx=y(()=>{d();Tx="00000000-0000-0000-0000-000000000000"});function FX(e){if(!an(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Px,Ix=y(()=>{d();Ci();Px=FX});var Zg={};He(Zg,{NIL:()=>Tx,parse:()=>nl,stringify:()=>dx,v1:()=>ux,v3:()=>hx,v4:()=>_x,v5:()=>bx,validate:()=>an,version:()=>Px});var ey=y(()=>{d();px();gx();Ex();wx();Cx();Ix();Ci();Pi();Yg()});var ry=b((dke,Ox)=>{d();var ol=Object.defineProperty,BX=Object.getOwnPropertyDescriptor,jX=Object.getOwnPropertyNames,HX=Object.prototype.hasOwnProperty,no=(e,t)=>ol(e,"name",{value:t,configurable:!0}),$X=(e,t)=>{for(var r in t)ol(e,r,{get:t[r],enumerable:!0})},qX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jX(t))!HX.call(e,o)&&o!==r&&ol(e,o,{get:()=>t[o],enumerable:!(n=BX(t,o))||n.enumerable});return e},zX=e=>qX(ol({},"__esModule",{value:!0}),e),Ax={};$X(Ax,{isBrowserNetworkError:()=>xx,isClockSkewCorrectedError:()=>Rx,isClockSkewError:()=>QX,isRetryableByTrait:()=>XX,isServerError:()=>eQ,isThrottlingError:()=>ZX,isTransientError:()=>ty});Ox.exports=zX(Ax);var VX=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],GX=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],WX=["TimeoutError","RequestTimeout","RequestTimeoutException"],KX=[500,502,503,504],JX=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],YX=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],XX=no(e=>e.$retryable!==void 0,"isRetryableByTrait"),QX=no(e=>VX.includes(e.name),"isClockSkewError"),Rx=no(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),xx=no(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),ZX=no(e=>e.$metadata?.httpStatusCode===429||GX.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),ty=no((e,t=0)=>Rx(e)||WX.includes(e.name)||JX.includes(e?.code||"")||YX.includes(e?.code||"")||KX.includes(e.$metadata?.httpStatusCode||0)||xx(e)||e.cause!==void 0&&t<=10&&ty(e.cause,t+1),"isTransientError"),eQ=no(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!ty(e)}return!1},"isServerError")});var il=b((uke,Hx)=>{d();var sl=Object.defineProperty,tQ=Object.getOwnPropertyDescriptor,rQ=Object.getOwnPropertyNames,nQ=Object.prototype.hasOwnProperty,kt=(e,t)=>sl(e,"name",{value:t,configurable:!0}),oQ=(e,t)=>{for(var r in t)sl(e,r,{get:t[r],enumerable:!0})},sQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rQ(t))!nQ.call(e,o)&&o!==r&&sl(e,o,{get:()=>t[o],enumerable:!(n=tQ(t,o))||n.enumerable});return e},iQ=e=>sQ(sl({},"__esModule",{value:!0}),e),Dx={};oQ(Dx,{AdaptiveRetryStrategy:()=>pQ,ConfiguredRetryStrategy:()=>mQ,DEFAULT_MAX_ATTEMPTS:()=>ny,DEFAULT_RETRY_DELAY_BASE:()=>Ai,DEFAULT_RETRY_MODE:()=>aQ,DefaultRateLimiter:()=>kx,INITIAL_RETRY_TOKENS:()=>oy,INVOCATION_ID_HEADER:()=>dQ,MAXIMUM_RETRY_DELAY:()=>sy,NO_RETRY_INCREMENT:()=>jx,REQUEST_HEADER:()=>lQ,RETRY_COST:()=>Fx,RETRY_MODES:()=>Mx,StandardRetryStrategy:()=>iy,THROTTLING_RETRY_DELAY_BASE:()=>Ux,TIMEOUT_RETRY_COST:()=>Bx});Hx.exports=iQ(Dx);var Mx=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Mx||{}),ny=3,aQ="standard",cQ=ry(),kx=class Lx{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{kt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Lx.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,cQ.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ai=100,sy=20*1e3,Ux=500,oy=500,Fx=5,Bx=10,jx=1,dQ="amz-sdk-invocation-id",lQ="amz-sdk-request",uQ=kt(()=>{let e=Ai;return{computeNextBackoffDelay:kt(n=>Math.floor(Math.min(sy,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:kt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Nx=kt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:kt(()=>t,"getRetryCount"),getRetryDelay:kt(()=>Math.min(sy,e),"getRetryDelay"),getRetryCost:kt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),iy=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=oy,this.retryBackoffStrategy=uQ(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{kt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return Nx({retryDelay:Ai,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?Ux:Ai);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,Nx({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(oy,this.capacity+(e.getRetryCost()??jx))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${ny}`),ny}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Bx:Fx}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},pQ=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new kx,this.standardRetryStrategy=new iy(e)}static{kt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},mQ=class extends iy{static{kt(this,"ConfiguredRetryStrategy")}constructor(e,t=Ai){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var $x=b(al=>{"use strict";d();Object.defineProperty(al,"__esModule",{value:!0});al.isStreamingPayload=void 0;var fQ=M("stream"),hQ=e=>e?.body instanceof fQ.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;al.isStreamingPayload=hQ});var Ri=b((_ke,nO)=>{d();var cl=Object.defineProperty,gQ=Object.getOwnPropertyDescriptor,yQ=Object.getOwnPropertyNames,_Q=Object.prototype.hasOwnProperty,ve=(e,t)=>cl(e,"name",{value:t,configurable:!0}),EQ=(e,t)=>{for(var r in t)cl(e,r,{get:t[r],enumerable:!0})},SQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yQ(t))!_Q.call(e,o)&&o!==r&&cl(e,o,{get:()=>t[o],enumerable:!(n=gQ(t,o))||n.enumerable});return e},vQ=e=>SQ(cl({},"__esModule",{value:!0}),e),zx={};EQ(zx,{AdaptiveRetryStrategy:()=>TQ,CONFIG_MAX_ATTEMPTS:()=>cy,CONFIG_RETRY_MODE:()=>Xx,ENV_MAX_ATTEMPTS:()=>ay,ENV_RETRY_MODE:()=>Yx,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>CQ,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>IQ,StandardRetryStrategy:()=>Jx,defaultDelayDecider:()=>Gx,defaultRetryDecider:()=>Wx,getOmitRetryHeadersPlugin:()=>AQ,getRetryAfterHint:()=>rO,getRetryPlugin:()=>MQ,omitRetryHeadersMiddleware:()=>Qx,omitRetryHeadersMiddlewareOptions:()=>Zx,resolveRetryConfig:()=>PQ,retryMiddleware:()=>eO,retryMiddlewareOptions:()=>tO});nO.exports=vQ(zx);var Wo=me(),Vx=(ey(),z(Zg)),fe=il(),bQ=ve((e,t)=>{let r=e,n=t?.noRetryIncrement??fe.NO_RETRY_INCREMENT,o=t?.retryCost??fe.RETRY_COST,s=t?.timeoutRetryCost??fe.TIMEOUT_RETRY_COST,i=e,a=ve(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),c=ve(f=>a(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ve(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:ve(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Gx=ve((e,t)=>Math.floor(Math.min(fe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),cn=ry(),Wx=ve(e=>e?(0,cn.isRetryableByTrait)(e)||(0,cn.isClockSkewError)(e)||(0,cn.isThrottlingError)(e)||(0,cn.isTransientError)(e):!1,"defaultRetryDecider"),Kx=ve(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Jx=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=fe.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??Wx,this.delayDecider=t?.delayDecider??Gx,this.retryQuota=t?.retryQuota??bQ(fe.INITIAL_RETRY_TOKENS)}static{ve(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=fe.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(Wo.HttpRequest.isInstance(a)&&(a.headers[fe.INVOCATION_ID_HEADER]=(0,Vx.v4)());;)try{Wo.HttpRequest.isInstance(a)&&(a.headers[fe.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=Kx(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,cn.isThrottlingError)(l)?fe.THROTTLING_RETRY_DELAY_BASE:fe.DEFAULT_RETRY_DELAY_BASE,o),f=wQ(l.$response),h=Math.max(f||0,p);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},wQ=ve(e=>{if(!Wo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),TQ=class extends Jx{static{ve(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new fe.DefaultRateLimiter,this.mode=fe.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},qx=zt(),ay="AWS_MAX_ATTEMPTS",cy="max_attempts",CQ={environmentVariableSelector:e=>{let t=e[ay];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ay} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[cy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${cy} mast be a number, got "${t}"`);return r},default:fe.DEFAULT_MAX_ATTEMPTS},PQ=ve(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,qx.normalizeProvider)(n??fe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,qx.normalizeProvider)(r)()===fe.RETRY_MODES.ADAPTIVE?new fe.AdaptiveRetryStrategy(o):new fe.StandardRetryStrategy(o))})},"resolveRetryConfig"),Yx="AWS_RETRY_MODE",Xx="retry_mode",IQ={environmentVariableSelector:e=>e[Yx],configFileSelector:e=>e[Xx],default:fe.DEFAULT_RETRY_MODE},Qx=ve(()=>e=>async t=>{let{request:r}=t;return Wo.HttpRequest.isInstance(r)&&(delete r.headers[fe.INVOCATION_ID_HEADER],delete r.headers[fe.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Zx={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},AQ=ve(e=>({applyToStack:t=>{t.addRelativeTo(Qx(),Zx)}}),"getOmitRetryHeadersPlugin"),RQ=De(),xQ=$x(),eO=ve(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(OQ(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:p}=n,f=Wo.HttpRequest.isInstance(p);for(f&&(p.headers[fe.INVOCATION_ID_HEADER]=(0,Vx.v4)());;)try{f&&(p.headers[fe.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:h,output:g}}catch(h){let g=NQ(h);if(a=Kx(h),f&&(0,xQ.isStreamingPayload)(p))throw(r.logger instanceof RQ.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let _=i.getRetryDelay();l+=_,await new Promise(E=>setTimeout(E,_))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),OQ=ve(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),NQ=ve(e=>{let t={error:e,errorType:DQ(e)},r=rO(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),DQ=ve(e=>(0,cn.isThrottlingError)(e)?"THROTTLING":(0,cn.isTransientError)(e)?"TRANSIENT":(0,cn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),tO={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},MQ=ve(e=>({applyToStack:t=>{t.add(eO(e),tO)}}),"getRetryPlugin"),rO=ve(e=>{if(!Wo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var ly=b(dn=>{"use strict";d();Object.defineProperty(dn,"__esModule",{value:!0});dn.resolveHttpAuthSchemeConfig=dn.defaultDynamoDBHttpAuthSchemeProvider=dn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var kQ=(er(),z(Zt)),dy=zt(),LQ=async(e,t,r)=>({operation:(0,dy.getSmithyContext)(t).operation,region:await(0,dy.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dn.defaultDynamoDBHttpAuthSchemeParametersProvider=LQ;function UQ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var FQ=e=>{let t=[];switch(e.operation){default:t.push(UQ(e))}return t};dn.defaultDynamoDBHttpAuthSchemeProvider=FQ;var BQ=e=>{let t=(0,kQ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,dy.normalizeProvider)(e.authSchemePreference??[])})};dn.resolveHttpAuthSchemeConfig=BQ});var Ko=b(dl=>{"use strict";d();Object.defineProperty(dl,"__esModule",{value:!0});dl.getHomeDir=void 0;var jQ=M("os"),HQ=M("path"),uy={},$Q=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",qQ=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${HQ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=$Q();return uy[o]||(uy[o]=(0,jQ.homedir)()),uy[o]};dl.getHomeDir=qQ});var py=b(ll=>{"use strict";d();Object.defineProperty(ll,"__esModule",{value:!0});ll.getSSOTokenFilepath=void 0;var zQ=M("crypto"),VQ=M("path"),GQ=Ko(),WQ=e=>{let r=(0,zQ.createHash)("sha1").update(e).digest("hex");return(0,VQ.join)((0,GQ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ll.getSSOTokenFilepath=WQ});var oO=b(ul=>{"use strict";d();Object.defineProperty(ul,"__esModule",{value:!0});ul.getSSOTokenFromFile=void 0;var KQ=M("fs"),JQ=py(),{readFile:YQ}=KQ.promises,XQ=async e=>{let t=(0,JQ.getSSOTokenFilepath)(e),r=await YQ(t,"utf8");return JSON.parse(r)};ul.getSSOTokenFromFile=XQ});var fy=b(pl=>{"use strict";d();Object.defineProperty(pl,"__esModule",{value:!0});pl.slurpFile=void 0;var QQ=M("fs"),{readFile:ZQ}=QQ.promises,my={},e9=(e,t)=>((!my[e]||t?.ignoreCache)&&(my[e]=ZQ(e,"utf8")),my[e]);pl.slurpFile=e9});var ln=b((Nke,Oi)=>{d();var hl=Object.defineProperty,t9=Object.getOwnPropertyDescriptor,r9=Object.getOwnPropertyNames,n9=Object.prototype.hasOwnProperty,St=(e,t)=>hl(e,"name",{value:t,configurable:!0}),o9=(e,t)=>{for(var r in t)hl(e,r,{get:t[r],enumerable:!0})},hy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of r9(t))!n9.call(e,o)&&o!==r&&hl(e,o,{get:()=>t[o],enumerable:!(n=t9(t,o))||n.enumerable});return e},yy=(e,t,r)=>(hy(e,t,"default"),r&&hy(r,t,"default")),s9=e=>hy(hl({},"__esModule",{value:!0}),e),xi={};o9(xi,{CONFIG_PREFIX_SEPARATOR:()=>oo,DEFAULT_PROFILE:()=>cO,ENV_PROFILE:()=>aO,getProfileName:()=>i9,loadSharedConfigFiles:()=>lO,loadSsoSessionData:()=>E9,parseKnownFiles:()=>v9});Oi.exports=s9(xi);yy(xi,Ko(),Oi.exports);var aO="AWS_PROFILE",cO="default",i9=St(e=>e.profile||process.env[aO]||cO,"getProfileName");yy(xi,py(),Oi.exports);yy(xi,oO(),Oi.exports);var ml=qt(),a9=St(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(oo);return r===-1?!1:Object.values(ml.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(oo),s=r.substring(0,o)===ml.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),fl=M("path"),c9=Ko(),d9="AWS_CONFIG_FILE",dO=St(()=>process.env[d9]||(0,fl.join)((0,c9.getHomeDir)(),".aws","config"),"getConfigFilepath"),l9=Ko(),u9="AWS_SHARED_CREDENTIALS_FILE",p9=St(()=>process.env[u9]||(0,fl.join)((0,l9.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),m9=Ko(),f9=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,h9=["__proto__","profile __proto__"],gy=St(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=f9.exec(a);if(c){let[,l,,p]=c;Object.values(ml.IniSectionType).includes(l)&&(r=[l,p].join(oo))}else r=a;if(h9.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(oo):c;t[r][p]=l}}}}return t},"parseIni"),sO=fy(),iO=St(()=>({}),"swallowError"),oo=".",lO=St(async(e={})=>{let{filepath:t=p9(),configFilepath:r=dO()}=e,n=(0,m9.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,fl.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,fl.join)(n,r.slice(2)));let a=await Promise.all([(0,sO.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(gy).then(a9).catch(iO),(0,sO.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(gy).catch(iO)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),g9=St(e=>Object.entries(e).filter(([t])=>t.startsWith(ml.IniSectionType.SSO_SESSION+oo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(oo)+1)]:n}),{}),"getSsoSessionData"),y9=fy(),_9=St(()=>({}),"swallowError"),E9=St(async(e={})=>(0,y9.slurpFile)(e.configFilepath??dO()).then(gy).then(g9).catch(_9),"loadSsoSessionData"),S9=St((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),v9=St(async e=>{let t=await lO(e);return S9(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Yo=b((Mke,mO)=>{d();var gl=Object.defineProperty,b9=Object.getOwnPropertyDescriptor,w9=Object.getOwnPropertyNames,T9=Object.prototype.hasOwnProperty,Jo=(e,t)=>gl(e,"name",{value:t,configurable:!0}),C9=(e,t)=>{for(var r in t)gl(e,r,{get:t[r],enumerable:!0})},P9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of w9(t))!T9.call(e,o)&&o!==r&&gl(e,o,{get:()=>t[o],enumerable:!(n=b9(t,o))||n.enumerable});return e},I9=e=>P9(gl({},"__esModule",{value:!0}),e),pO={};C9(pO,{loadConfig:()=>N9});mO.exports=I9(pO);var Ni=Je();function _y(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Jo(_y,"getSelectorName");var A9=Jo((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ni.CredentialsProviderError(r.message||`Not found in ENV: ${_y(e.toString())}`,{logger:t?.logger})}},"fromEnv"),uO=ln(),R9=Jo((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,uO.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,uO.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let p=e(c,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(l){throw new Ni.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${_y(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),x9=Jo(e=>typeof e=="function","isFunction"),O9=Jo(e=>x9(e)?async()=>await e():(0,Ni.fromStatic)(e),"fromStatic"),N9=Jo(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Ni.memoize)((0,Ni.chain)(A9(e,i),R9(t,n),O9(r)))},"loadConfig")});var yO=b(yl=>{"use strict";d();Object.defineProperty(yl,"__esModule",{value:!0});yl.getEndpointUrlConfig=void 0;var fO=ln(),hO="AWS_ENDPOINT_URL",gO="endpoint_url",D9=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[hO,...r].join("_")];if(n)return n;let o=t[hO];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(fO.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),gO].join(fO.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[gO];if(n)return n},default:void 0});yl.getEndpointUrlConfig=D9});var Ey=b(_l=>{"use strict";d();Object.defineProperty(_l,"__esModule",{value:!0});_l.getEndpointFromConfig=void 0;var M9=Yo(),k9=yO(),L9=async e=>(0,M9.loadConfig)((0,k9.getEndpointUrlConfig)(e??""))();_l.getEndpointFromConfig=L9});var vy=b((jke,TO)=>{d();var Sl=Object.defineProperty,U9=Object.getOwnPropertyDescriptor,F9=Object.getOwnPropertyNames,B9=Object.prototype.hasOwnProperty,vt=(e,t)=>Sl(e,"name",{value:t,configurable:!0}),j9=(e,t)=>{for(var r in t)Sl(e,r,{get:t[r],enumerable:!0})},H9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F9(t))!B9.call(e,o)&&o!==r&&Sl(e,o,{get:()=>t[o],enumerable:!(n=U9(t,o))||n.enumerable});return e},$9=e=>H9(Sl({},"__esModule",{value:!0}),e),EO={};j9(EO,{endpointMiddleware:()=>bO,endpointMiddlewareOptions:()=>wO,getEndpointFromInstructions:()=>SO,getEndpointPlugin:()=>Z9,resolveEndpointConfig:()=>t7,resolveEndpointRequiredConfig:()=>r7,resolveParams:()=>vO,toEndpointV1:()=>Sy});TO.exports=$9(EO);var q9=vt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),K9(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!W9(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),z9=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,V9=/(\d+\.){3}\d+/,G9=/\.\./,W9=vt(e=>z9.test(e)&&!V9.test(e)&&!G9.test(e),"isDnsCompatibleBucketName"),K9=vt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),J9=vt((e,t,r)=>{let n=vt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),Y9=Ey(),_O=$o(),Sy=vt(e=>typeof e=="object"?"url"in e?(0,_O.parseUrl)(e.url):e:(0,_O.parseUrl)(e),"toEndpointV1"),SO=vt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,Y9.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Sy(i)),r.isCustomEndpoint=!0)}let o=await vO(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),vO=vt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await J9(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await q9(n),n},"resolveParams"),X9=(rt(),z(yt)),El=zt(),bO=vt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,X9.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await SO(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,El.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),Q9=Vs(),wO={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Q9.serializerMiddlewareOption.name},Z9=vt((e,t)=>({applyToStack:r=>{r.addRelativeTo(bO({config:e,instructions:t}),wO)}}),"getEndpointPlugin"),e7=Ey(),t7=vt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Sy(await(0,El.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,El.normalizeProvider)(n??!1),useFipsEndpoint:(0,El.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,e7.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),r7=vt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var Tl={};He(Tl,{__addDisposableResource:()=>JO,__assign:()=>vl,__asyncDelegator:()=>HO,__asyncGenerator:()=>jO,__asyncValues:()=>$O,__await:()=>Xo,__awaiter:()=>MO,__classPrivateFieldGet:()=>GO,__classPrivateFieldIn:()=>KO,__classPrivateFieldSet:()=>WO,__createBinding:()=>wl,__decorate:()=>IO,__disposeResources:()=>YO,__esDecorate:()=>RO,__exportStar:()=>LO,__extends:()=>CO,__generator:()=>kO,__importDefault:()=>VO,__importStar:()=>zO,__makeTemplateObject:()=>qO,__metadata:()=>DO,__param:()=>AO,__propKey:()=>OO,__read:()=>Ty,__rest:()=>PO,__rewriteRelativeImportExtension:()=>XO,__runInitializers:()=>xO,__setFunctionName:()=>NO,__spread:()=>UO,__spreadArray:()=>BO,__spreadArrays:()=>FO,__values:()=>bl,default:()=>s7});function CO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");by(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function PO(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function IO(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function AO(e,t){return function(r,n){t(r,n,e)}}function RO(e,t,r,n,o,s){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,h=!1,g=r.length-1;g>=0;g--){var _={};for(var E in n)_[E]=E==="access"?{}:n[E];for(var E in n.access)_.access[E]=n.access[E];_.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(v||null))};var S=(0,r[g])(a==="accessor"?{get:p.get,set:p.set}:p[c],_);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=i(S.get))&&(p.get=f),(f=i(S.set))&&(p.set=f),(f=i(S.init))&&o.unshift(f)}else(f=i(S))&&(a==="field"?o.unshift(f):p[c]=f)}l&&Object.defineProperty(l,n.name,p),h=!0}function xO(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function OO(e){return typeof e=="symbol"?e:"".concat(e)}function NO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function DO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function MO(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(p){try{l(n.next(p))}catch(f){i(f)}}function c(p){try{l(n.throw(p))}catch(f){i(f)}}function l(p){p.done?s(p.value):o(p.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function kO(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(s=l[0]&2?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],o=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function LO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wl(t,e,r)}function bl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ty(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function UO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ty(arguments[t]));return e}function FO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function BO(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Xo(e){return this instanceof Xo?(this.v=e,this):new Xo(e)}function jO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(_){return Promise.resolve(_).then(g,f)}}function a(g,_){n[g]&&(o[g]=function(E){return new Promise(function(S,v){s.push([g,E,S,v])>1||c(g,E)})},_&&(o[g]=_(o[g])))}function c(g,_){try{l(n[g](_))}catch(E){h(s[0][3],E)}}function l(g){g.value instanceof Xo?Promise.resolve(g.value.v).then(p,f):h(s[0][2],g)}function p(g){c("next",g)}function f(g){c("throw",g)}function h(g,_){g(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function HO(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:Xo(e[o](i)),done:!1}:s?s(i):i}:s}}function $O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof bl=="function"?bl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}function qO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function zO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=wy(e),n=0;n<r.length;n++)r[n]!=="default"&&wl(t,e,r[n]);return n7(t,e),t}function VO(e){return e&&e.__esModule?e:{default:e}}function GO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function WO(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function KO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function JO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function YO(e){function t(s){e.error=e.hasError?new o7(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function XO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var by,vl,wl,n7,wy,o7,s7,Cl=y(()=>{d();by=function(e,t){return by=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},by(e,t)};vl=function(){return vl=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vl.apply(this,arguments)};wl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};n7=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},wy=function(e){return wy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},wy(e)};o7=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};s7={__extends:CO,__assign:vl,__rest:PO,__decorate:IO,__param:AO,__esDecorate:RO,__runInitializers:xO,__propKey:OO,__setFunctionName:NO,__metadata:DO,__awaiter:MO,__generator:kO,__createBinding:wl,__exportStar:LO,__values:bl,__read:Ty,__spread:UO,__spreadArrays:FO,__spreadArray:BO,__await:Xo,__asyncGenerator:jO,__asyncDelegator:HO,__asyncValues:$O,__makeTemplateObject:qO,__importStar:zO,__importDefault:VO,__classPrivateFieldGet:GO,__classPrivateFieldSet:WO,__classPrivateFieldIn:KO,__addDisposableResource:JO,__disposeResources:YO,__rewriteRelativeImportExtension:XO}});var QO=b((qke,i7)=>{i7.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/credential-provider-node":"3.848.0","@aws-sdk/middleware-endpoint-discovery":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.6","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Cy=b((zke,i0)=>{"use strict";d();var Pl=Object.defineProperty,a7=Object.getOwnPropertyDescriptor,c7=Object.getOwnPropertyNames,d7=Object.prototype.hasOwnProperty,l7=(e,t)=>Pl(e,"name",{value:t,configurable:!0}),u7=(e,t)=>{for(var r in t)Pl(e,r,{get:t[r],enumerable:!0})},p7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c7(t))!d7.call(e,o)&&o!==r&&Pl(e,o,{get:()=>t[o],enumerable:!(n=a7(t,o))||n.enumerable});return e},m7=e=>p7(Pl({},"__esModule",{value:!0}),e),ZO={};u7(ZO,{ENV_ACCOUNT_ID:()=>s0,ENV_CREDENTIAL_SCOPE:()=>o0,ENV_EXPIRATION:()=>n0,ENV_KEY:()=>e0,ENV_SECRET:()=>t0,ENV_SESSION:()=>r0,fromEnv:()=>g7});i0.exports=m7(ZO);var f7=(Qt(),z(Qr)),h7=Je(),e0="AWS_ACCESS_KEY_ID",t0="AWS_SECRET_ACCESS_KEY",r0="AWS_SESSION_TOKEN",n0="AWS_CREDENTIAL_EXPIRATION",o0="AWS_CREDENTIAL_SCOPE",s0="AWS_ACCOUNT_ID",g7=l7(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[e0],r=process.env[t0],n=process.env[r0],o=process.env[n0],s=process.env[o0],i=process.env[s0];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,f7.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new h7.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Di=b((Gke,S0)=>{d();var Rl=Object.defineProperty,y7=Object.getOwnPropertyDescriptor,_7=Object.getOwnPropertyNames,E7=Object.prototype.hasOwnProperty,be=(e,t)=>Rl(e,"name",{value:t,configurable:!0}),S7=(e,t)=>{for(var r in t)Rl(e,r,{get:t[r],enumerable:!0})},v7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _7(t))!E7.call(e,o)&&o!==r&&Rl(e,o,{get:()=>t[o],enumerable:!(n=y7(t,o))||n.enumerable});return e},b7=e=>v7(Rl({},"__esModule",{value:!0}),e),l0={};S7(l0,{DEFAULT_MAX_RETRIES:()=>f0,DEFAULT_TIMEOUT:()=>m0,ENV_CMDS_AUTH_TOKEN:()=>Ay,ENV_CMDS_FULL_URI:()=>Il,ENV_CMDS_RELATIVE_URI:()=>Al,Endpoint:()=>g0,fromContainerMetadata:()=>P7,fromInstanceMetadata:()=>W7,getInstanceMetadataEndpoint:()=>_0,httpRequest:()=>Qo,providerConfigFromInit:()=>Ry});S0.exports=b7(l0);var w7=M("url"),rr=Je(),T7=M("buffer"),C7=M("http");function Qo(e){return new Promise((t,r)=>{let n=(0,C7.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new rr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new rr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new rr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(T7.Buffer.concat(i)),n.destroy()})}),n.end()})}be(Qo,"httpRequest");var u0=be(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),p0=be(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),m0=1e3,f0=0,Ry=be(({maxRetries:e=f0,timeout:t=m0})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Iy=be((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Il="AWS_CONTAINER_CREDENTIALS_FULL_URI",Al="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ay="AWS_CONTAINER_AUTHORIZATION_TOKEN",P7=be((e={})=>{let{timeout:t,maxRetries:r}=Ry(e);return()=>Iy(async()=>{let n=await O7({logger:e.logger}),o=JSON.parse(await I7(t,n));if(!u0(o))throw new rr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return p0(o)},r)},"fromContainerMetadata"),I7=be(async(e,t)=>(process.env[Ay]&&(t.headers={...t.headers,Authorization:process.env[Ay]}),(await Qo({...t,timeout:e})).toString()),"requestFromEcsImds"),A7="169.254.170.2",R7={localhost:!0,"127.0.0.1":!0},x7={"http:":!0,"https:":!0},O7=be(async({logger:e})=>{if(process.env[Al])return{hostname:A7,path:process.env[Al]};if(process.env[Il]){let t=(0,w7.parse)(process.env[Il]);if(!t.hostname||!(t.hostname in R7))throw new rr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in x7))throw new rr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new rr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Al} or ${Il} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),N7=class h0 extends rr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,h0.prototype)}static{be(this,"InstanceMetadataV1FallbackError")}},xy=Yo(),D7=$o(),g0=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(g0||{}),M7="AWS_EC2_METADATA_SERVICE_ENDPOINT",k7="ec2_metadata_service_endpoint",L7={environmentVariableSelector:e=>e[M7],configFileSelector:e=>e[k7],default:void 0},y0=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(y0||{}),U7="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",F7="ec2_metadata_service_endpoint_mode",B7={environmentVariableSelector:e=>e[U7],configFileSelector:e=>e[F7],default:"IPv4"},_0=be(async()=>(0,D7.parseUrl)(await j7()||await H7()),"getInstanceMetadataEndpoint"),j7=be(async()=>(0,xy.loadConfig)(L7)(),"getFromEndpointConfig"),H7=be(async()=>{let e=await(0,xy.loadConfig)(B7)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(y0)}`)}},"getFromEndpointModeConfig"),$7=300,q7=300,z7="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",a0=be((e,t)=>{let r=$7+Math.floor(Math.random()*q7),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+z7);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),V7=be((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=a0(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=a0(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),E0="/latest/meta-data/iam/security-credentials/",G7="/latest/api/token",Py="AWS_EC2_METADATA_V1_DISABLED",c0="ec2_metadata_v1_disabled",d0="x-aws-ec2-metadata-token",W7=be((e={})=>V7(K7(e),{logger:e.logger}),"fromInstanceMetadata"),K7=be((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=Ry(e),i=be(async(a,c)=>{if(t||c.headers?.[d0]==null){let f=!1,h=!1,g=await(0,xy.loadConfig)({environmentVariableSelector:_=>{let E=_[Py];if(h=!!E&&E!=="false",E===void 0)throw new rr.CredentialsProviderError(`${Py} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:_=>{let E=_[c0];return f=!!E&&E!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${c0})`),h&&_.push(`process environment variable (${Py})`),new N7(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let p=(await Iy(async()=>{let f;try{f=await Y7(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)).trim();return Iy(async()=>{let f;try{f=await X7(p,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)},"getCredentials");return async()=>{let a=await _0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await J7({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[d0]:c},timeout:o})}}},"getInstanceMetadataProvider"),J7=be(async e=>Qo({...e,path:G7,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Y7=be(async e=>(await Qo({...e,path:E0})).toString(),"getProfile"),X7=be(async(e,t,r)=>{let n=JSON.parse((await Qo({...t,path:E0+e})).toString());if(!u0(n))throw new rr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return p0(n)},"getCredentialsFromProfile")});var v0=b(xl=>{"use strict";d();Object.defineProperty(xl,"__esModule",{value:!0});xl.checkUrl=void 0;var Q7=Je(),Z7="169.254.170.2",eZ="169.254.170.23",tZ="[fd00:ec2::23]",rZ=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Z7||e.hostname===eZ||e.hostname===tZ)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new Q7.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};xl.checkUrl=rZ});var b0=b(Ol=>{"use strict";d();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.createGetRequest=iZ;Ol.getCredentials=aZ;var Oy=Je(),nZ=me(),oZ=De(),sZ=Qc();function iZ(e){return new nZ.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function aZ(e,t){let n=await(0,sZ.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Oy.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,oZ.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new Oy.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new Oy.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var w0=b(Nl=>{"use strict";d();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.retryWrapper=void 0;var cZ=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Nl.retryWrapper=cZ});var P0=b(Dl=>{"use strict";d();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.fromHttp=void 0;var dZ=(Cl(),z(Tl)),lZ=(Qt(),z(Qr)),uZ=Ws(),T0=Je(),pZ=dZ.__importDefault(M("fs/promises")),mZ=v0(),C0=b0(),fZ=w0(),hZ="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",gZ="http://169.254.170.2",yZ="AWS_CONTAINER_CREDENTIALS_FULL_URI",_Z="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",EZ="AWS_CONTAINER_AUTHORIZATION_TOKEN",SZ=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[hZ],n=e.awsContainerCredentialsFullUri??process.env[yZ],o=e.awsContainerAuthorizationToken??process.env[EZ],s=e.awsContainerAuthorizationTokenFile??process.env[_Z],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${gZ}${r}`;else throw new T0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,mZ.checkUrl)(a,e.logger);let c=new uZ.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,fZ.retryWrapper)(async()=>{let l=(0,C0.createGetRequest)(a);o?l.headers.Authorization=o:s&&(l.headers.Authorization=(await pZ.default.readFile(s)).toString());try{let p=await c.handle(l);return(0,C0.getCredentials)(p.response).then(f=>(0,lZ.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(p){throw new T0.CredentialsProviderError(String(p),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Dl.fromHttp=SZ});var Ny=b(Ml=>{"use strict";d();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.fromHttp=void 0;var vZ=P0();Object.defineProperty(Ml,"fromHttp",{enumerable:!0,get:function(){return vZ.fromHttp}})});var My=b(un=>{"use strict";d();Object.defineProperty(un,"__esModule",{value:!0});un.resolveHttpAuthSchemeConfig=un.defaultSSOHttpAuthSchemeProvider=un.defaultSSOHttpAuthSchemeParametersProvider=void 0;var bZ=(er(),z(Zt)),Dy=zt(),wZ=async(e,t,r)=>({operation:(0,Dy.getSmithyContext)(t).operation,region:await(0,Dy.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});un.defaultSSOHttpAuthSchemeParametersProvider=wZ;function TZ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function kl(e){return{schemeId:"smithy.api#noAuth"}}var CZ=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(kl(e));break}case"ListAccountRoles":{t.push(kl(e));break}case"ListAccounts":{t.push(kl(e));break}case"Logout":{t.push(kl(e));break}default:t.push(TZ(e))}return t};un.defaultSSOHttpAuthSchemeProvider=CZ;var PZ=e=>{let t=(0,bZ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Dy.normalizeProvider)(e.authSchemePreference??[])})};un.resolveHttpAuthSchemeConfig=PZ});var I0=b((iLe,IZ)=>{IZ.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Ly=b((aLe,M0)=>{"use strict";d();var Ul=Object.defineProperty,AZ=Object.getOwnPropertyDescriptor,RZ=Object.getOwnPropertyNames,xZ=Object.prototype.hasOwnProperty,Ll=(e,t)=>Ul(e,"name",{value:t,configurable:!0}),OZ=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},NZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of RZ(t))!xZ.call(e,o)&&o!==r&&Ul(e,o,{get:()=>t[o],enumerable:!(n=AZ(t,o))||n.enumerable});return e},DZ=e=>NZ(Ul({},"__esModule",{value:!0}),e),R0={};OZ(R0,{NODE_APP_ID_CONFIG_OPTIONS:()=>FZ,UA_APP_ID_ENV_NAME:()=>N0,UA_APP_ID_INI_NAME:()=>D0,createDefaultUserAgentProvider:()=>O0,crtAvailability:()=>x0,defaultUserAgent:()=>kZ});M0.exports=DZ(R0);var A0=M("os"),ky=M("process"),x0={isCrtAvailable:!1},MZ=Ll(()=>x0.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),O0=Ll(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,A0.platform)()}`,(0,A0.release)()],["lang/js"],["md/nodejs",`${ky.versions.node}`]],o=MZ();o&&n.push(o),e&&n.push([`api/${e}`,t]),ky.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${ky.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),kZ=O0,LZ=Yd(),N0="AWS_SDK_UA_APP_ID",D0="sdk_ua_app_id",UZ="sdk-ua-app-id",FZ={environmentVariableSelector:Ll(e=>e[N0],"environmentVariableSelector"),configFileSelector:Ll(e=>e[D0]??e[UZ],"configFileSelector"),default:LZ.DEFAULT_UA_APP_ID}});var By=b((dLe,F0)=>{d();var Fl=Object.defineProperty,BZ=Object.getOwnPropertyDescriptor,jZ=Object.getOwnPropertyNames,HZ=Object.prototype.hasOwnProperty,L0=(e,t)=>Fl(e,"name",{value:t,configurable:!0}),$Z=(e,t)=>{for(var r in t)Fl(e,r,{get:t[r],enumerable:!0})},qZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jZ(t))!HZ.call(e,o)&&o!==r&&Fl(e,o,{get:()=>t[o],enumerable:!(n=BZ(t,o))||n.enumerable});return e},zZ=e=>qZ(Fl({},"__esModule",{value:!0}),e),U0={};$Z(U0,{Hash:()=>WZ});F0.exports=zZ(U0);var Uy=ko(),VZ=Ge(),GZ=M("buffer"),k0=M("crypto"),WZ=class{static{L0(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,VZ.toUint8Array)(Fy(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,k0.createHmac)(this.algorithmIdentifier,Fy(this.secret)):(0,k0.createHash)(this.algorithmIdentifier)}};function Fy(e,t){return GZ.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Uy.fromString)(e,t):ArrayBuffer.isView(e)?(0,Uy.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Uy.fromArrayBuffer)(e)}L0(Fy,"castSourceData")});var jy=b((pLe,H0)=>{d();var Bl=Object.defineProperty,KZ=Object.getOwnPropertyDescriptor,JZ=Object.getOwnPropertyNames,YZ=Object.prototype.hasOwnProperty,XZ=(e,t)=>Bl(e,"name",{value:t,configurable:!0}),QZ=(e,t)=>{for(var r in t)Bl(e,r,{get:t[r],enumerable:!0})},ZZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JZ(t))!YZ.call(e,o)&&o!==r&&Bl(e,o,{get:()=>t[o],enumerable:!(n=KZ(t,o))||n.enumerable});return e},eee=e=>ZZ(Bl({},"__esModule",{value:!0}),e),j0={};QZ(j0,{calculateBodyLength:()=>tee});H0.exports=eee(j0);var B0=M("fs"),tee=XZ(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,B0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,B0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var rN=b(jl=>{"use strict";d();Object.defineProperty(jl,"__esModule",{value:!0});jl.ruleSet=void 0;var Q0="required",wt="fn",Tt="argv",ts="ref",$0=!0,q0="isSet",Mi="booleanEquals",Zo="error",es="endpoint",Rr="tree",Hy="PartitionResult",$y="getAttr",z0={[Q0]:!1,type:"String"},V0={[Q0]:!0,default:!1,type:"Boolean"},G0={[ts]:"Endpoint"},Z0={[wt]:Mi,[Tt]:[{[ts]:"UseFIPS"},!0]},eN={[wt]:Mi,[Tt]:[{[ts]:"UseDualStack"},!0]},bt={},W0={[wt]:$y,[Tt]:[{[ts]:Hy},"supportsFIPS"]},tN={[ts]:Hy},K0={[wt]:Mi,[Tt]:[!0,{[wt]:$y,[Tt]:[tN,"supportsDualStack"]}]},J0=[Z0],Y0=[eN],X0=[{[ts]:"Region"}],ree={version:"1.0",parameters:{Region:z0,UseDualStack:V0,UseFIPS:V0,Endpoint:z0},rules:[{conditions:[{[wt]:q0,[Tt]:[G0]}],rules:[{conditions:J0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Zo},{conditions:Y0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Zo},{endpoint:{url:G0,properties:bt,headers:bt},type:es}],type:Rr},{conditions:[{[wt]:q0,[Tt]:X0}],rules:[{conditions:[{[wt]:"aws.partition",[Tt]:X0,assign:Hy}],rules:[{conditions:[Z0,eN],rules:[{conditions:[{[wt]:Mi,[Tt]:[$0,W0]},K0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Zo}],type:Rr},{conditions:J0,rules:[{conditions:[{[wt]:Mi,[Tt]:[W0,$0]}],rules:[{conditions:[{[wt]:"stringEquals",[Tt]:[{[wt]:$y,[Tt]:[tN,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:bt,headers:bt},type:es},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr},{error:"FIPS is enabled but this partition does not support FIPS",type:Zo}],type:Rr},{conditions:Y0,rules:[{conditions:[K0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr},{error:"DualStack is enabled but this partition does not support DualStack",type:Zo}],type:Rr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr}],type:Rr},{error:"Invalid Configuration: Missing Region",type:Zo}]};jl.ruleSet=ree});var nN=b(Hl=>{"use strict";d();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.defaultEndpointResolver=void 0;var nee=gd(),qy=pd(),oee=rN(),see=new qy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),iee=(e,t={})=>see.get(e,()=>(0,qy.resolveEndpoint)(oee.ruleSet,{endpointParams:e,logger:t.logger}));Hl.defaultEndpointResolver=iee;qy.customEndpointFunctions.aws=nee.awsEndpointFunctions});var iN=b($l=>{"use strict";d();Object.defineProperty($l,"__esModule",{value:!0});$l.getRuntimeConfig=void 0;var aee=(er(),z(Zt)),cee=(rt(),z(yt)),dee=De(),lee=$o(),oN=ct(),sN=Ge(),uee=My(),pee=nN(),mee=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??oN.fromBase64,base64Encoder:e?.base64Encoder??oN.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??pee.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??uee.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new aee.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new cee.NoAuthSigner}],logger:e?.logger??new dee.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??lee.parseUrl,utf8Decoder:e?.utf8Decoder??sN.fromUtf8,utf8Encoder:e?.utf8Encoder??sN.toUtf8});$l.getRuntimeConfig=mee});var Vy=b((SLe,pN)=>{d();var fee=Object.create,ki=Object.defineProperty,hee=Object.getOwnPropertyDescriptor,gee=Object.getOwnPropertyNames,yee=Object.getPrototypeOf,_ee=Object.prototype.hasOwnProperty,zy=(e,t)=>ki(e,"name",{value:t,configurable:!0}),Eee=(e,t)=>{for(var r in t)ki(e,r,{get:t[r],enumerable:!0})},lN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gee(t))!_ee.call(e,o)&&o!==r&&ki(e,o,{get:()=>t[o],enumerable:!(n=hee(t,o))||n.enumerable});return e},See=(e,t,r)=>(r=e!=null?fee(yee(e)):{},lN(t||!e||!e.__esModule?ki(r,"default",{value:e,enumerable:!0}):r,e)),vee=e=>lN(ki({},"__esModule",{value:!0}),e),uN={};Eee(uN,{resolveDefaultsModeConfig:()=>Oee});pN.exports=vee(uN);var bee=Go(),aN=Yo(),wee=Je(),Tee="AWS_EXECUTION_ENV",cN="AWS_REGION",dN="AWS_DEFAULT_REGION",Cee="AWS_EC2_METADATA_DISABLED",Pee=["in-region","cross-region","mobile","standard","legacy"],Iee="/latest/meta-data/placement/region",Aee="AWS_DEFAULTS_MODE",Ree="defaults_mode",xee={environmentVariableSelector:e=>e[Aee],configFileSelector:e=>e[Ree],default:"legacy"},Oee=zy(({region:e=(0,aN.loadConfig)(bee.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,aN.loadConfig)(xee)}={})=>(0,wee.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Nee(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Pee.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Nee=zy(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Dee();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Dee=zy(async()=>{if(process.env[Tee]&&(process.env[cN]||process.env[dN]))return process.env[cN]??process.env[dN];if(!process.env[Cee])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>See(Di())),r=await e();return(await t({...r,path:Iee})).toString()}catch{}},"inferPhysicalRegion")});var yN=b(zl=>{"use strict";d();Object.defineProperty(zl,"__esModule",{value:!0});zl.getRuntimeConfig=void 0;var Mee=(Cl(),z(Tl)),kee=Mee.__importDefault(I0()),mN=(er(),z(Zt)),fN=Ly(),ql=Go(),Lee=By(),hN=Ri(),so=Yo(),gN=Ws(),Uee=jy(),Fee=il(),Bee=iN(),jee=De(),Hee=Vy(),$ee=De(),qee=e=>{(0,$ee.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Hee.resolveDefaultsModeConfig)(e),r=()=>t().then(jee.loadConfigsForDefaultMode),n=(0,Bee.getRuntimeConfig)(e);(0,mN.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,so.loadConfig)(mN.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??Uee.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,fN.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:kee.default.version}),maxAttempts:e?.maxAttempts??(0,so.loadConfig)(hN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,so.loadConfig)(ql.NODE_REGION_CONFIG_OPTIONS,{...ql.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:gN.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,so.loadConfig)({...hN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Fee.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Lee.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??gN.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,so.loadConfig)(ql.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,so.loadConfig)(ql.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,so.loadConfig)(fN.NODE_APP_ID_CONFIG_OPTIONS,o)}};zl.getRuntimeConfig=qee});var Gy=b((TLe,wN)=>{"use strict";d();var Vl=Object.defineProperty,zee=Object.getOwnPropertyDescriptor,Vee=Object.getOwnPropertyNames,Gee=Object.prototype.hasOwnProperty,nr=(e,t)=>Vl(e,"name",{value:t,configurable:!0}),Wee=(e,t)=>{for(var r in t)Vl(e,r,{get:t[r],enumerable:!0})},Kee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vee(t))!Gee.call(e,o)&&o!==r&&Vl(e,o,{get:()=>t[o],enumerable:!(n=zee(t,o))||n.enumerable});return e},Jee=e=>Kee(Vl({},"__esModule",{value:!0}),e),EN={};Wee(EN,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Zee,NODE_REGION_CONFIG_OPTIONS:()=>Qee,REGION_ENV_NAME:()=>SN,REGION_INI_NAME:()=>vN,getAwsRegionExtensionConfiguration:()=>Yee,resolveAwsRegionExtensionConfiguration:()=>Xee,resolveRegionConfig:()=>ete});wN.exports=Jee(EN);var Yee=nr(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Xee=nr(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),SN="AWS_REGION",vN="region",Qee={environmentVariableSelector:nr(e=>e[SN],"environmentVariableSelector"),configFileSelector:nr(e=>e[vN],"configFileSelector"),default:nr(()=>{throw new Error("Region is missing")},"default")},Zee={preferredFile:"credentials"},bN=nr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),_N=nr(e=>bN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),ete=nr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:nr(async()=>{if(typeof t=="string")return _N(t);let n=await t();return _N(n)},"region"),useFipsEndpoint:nr(async()=>{let n=typeof t=="string"?t:await t();return bN(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var rD=b((PLe,tD)=>{"use strict";d();var Gl=Object.defineProperty,tte=Object.getOwnPropertyDescriptor,rte=Object.getOwnPropertyNames,nte=Object.prototype.hasOwnProperty,J=(e,t)=>Gl(e,"name",{value:t,configurable:!0}),ote=(e,t)=>{for(var r in t)Gl(e,r,{get:t[r],enumerable:!0})},ste=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rte(t))!nte.call(e,o)&&o!==r&&Gl(e,o,{get:()=>t[o],enumerable:!(n=tte(t,o))||n.enumerable});return e},ite=e=>ste(Gl({},"__esModule",{value:!0}),e),xN={};ote(xN,{GetRoleCredentialsCommand:()=>QN,GetRoleCredentialsRequestFilterSensitiveLog:()=>jN,GetRoleCredentialsResponseFilterSensitiveLog:()=>$N,InvalidRequestException:()=>NN,ListAccountRolesCommand:()=>Wy,ListAccountRolesRequestFilterSensitiveLog:()=>qN,ListAccountsCommand:()=>Ky,ListAccountsRequestFilterSensitiveLog:()=>zN,LogoutCommand:()=>ZN,LogoutRequestFilterSensitiveLog:()=>VN,ResourceNotFoundException:()=>MN,RoleCredentialsFilterSensitiveLog:()=>HN,SSO:()=>eD,SSOClient:()=>Kl,SSOServiceException:()=>rs,TooManyRequestsException:()=>LN,UnauthorizedException:()=>FN,__Client:()=>N.Client,paginateListAccountRoles:()=>Nte,paginateListAccounts:()=>Dte});tD.exports=ite(xN);var TN=Ef(),ate=vf(),cte=wf(),CN=Yd(),dte=Go(),xr=(rt(),z(yt)),lte=Vg(),Ui=vy(),PN=Ri(),IN=My(),ute=J(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Wl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},pte=yN(),AN=Gy(),RN=me(),N=De(),mte=J(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),fte=J(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),hte=J((e,t)=>{let r=Object.assign((0,AN.getAwsRegionExtensionConfiguration)(e),(0,N.getDefaultExtensionConfiguration)(e),(0,RN.getHttpHandlerExtensionConfiguration)(e),mte(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,AN.resolveAwsRegionExtensionConfiguration)(r),(0,N.resolveDefaultRuntimeConfig)(r),(0,RN.resolveHttpHandlerRuntimeConfig)(r),fte(r))},"resolveRuntimeExtensions"),Kl=class extends N.Client{static{J(this,"SSOClient")}config;constructor(...[e]){let t=(0,pte.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=ute(t),n=(0,CN.resolveUserAgentConfig)(r),o=(0,PN.resolveRetryConfig)(n),s=(0,dte.resolveRegionConfig)(o),i=(0,TN.resolveHostHeaderConfig)(s),a=(0,Ui.resolveEndpointConfig)(i),c=(0,IN.resolveHttpAuthSchemeConfig)(a),l=hte(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,CN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,PN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,lte.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,TN.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ate.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,cte.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,xr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:IN.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:J(async p=>new xr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,xr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Jl=Vs(),rs=class ON extends N.ServiceException{static{J(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,ON.prototype)}},NN=class DN extends rs{static{J(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,DN.prototype)}},MN=class kN extends rs{static{J(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,kN.prototype)}},LN=class UN extends rs{static{J(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,UN.prototype)}},FN=class BN extends rs{static{J(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,BN.prototype)}},jN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),HN=J(e=>({...e,...e.secretAccessKey&&{secretAccessKey:N.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:N.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),$N=J(e=>({...e,...e.roleCredentials&&{roleCredentials:HN(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),qN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),zN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),VN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Li=(er(),z(Zt)),gte=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});r.bp("/federation/credentials");let o=(0,N.map)({[xte]:[,(0,N.expectNonNull)(e[Rte],"roleName")],[WN]:[,(0,N.expectNonNull)(e[GN],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),yte=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});r.bp("/assignment/roles");let o=(0,N.map)({[XN]:[,e[YN]],[JN]:[()=>e.maxResults!==void 0,()=>e[KN].toString()],[WN]:[,(0,N.expectNonNull)(e[GN],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),_te=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});r.bp("/assignment/accounts");let o=(0,N.map)({[XN]:[,e[YN]],[JN]:[()=>e.maxResults!==void 0,()=>e[KN].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),Ete=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Ste=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Li.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{roleCredentials:N._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),vte=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Li.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{nextToken:N.expectString,roleList:N._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),bte=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Li.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{accountList:N._json,nextToken:N.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),wte=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)});return await(0,N.collectBody)(e.body,t),r},"de_LogoutCommand"),Yl=J(async(e,t)=>{let r={...e,body:await(0,Li.parseJsonErrorBody)(e.body,t)},n=(0,Li.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Cte(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Pte(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ite(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ate(r,t);default:let o=r.body;return Tte({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),Tte=(0,N.withBaseException)(rs),Cte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new NN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),Pte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new MN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),Ite=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new LN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),Ate=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new FN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),pn=J(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),GN="accountId",Xl="accessToken",WN="account_id",KN="maxResults",JN="max_result",YN="nextToken",XN="next_token",Rte="roleName",xte="role_name",Ql="x-amz-sso_bearer_token",QN=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ui.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(jN,$N).ser(gte).de(Ste).build(){static{J(this,"GetRoleCredentialsCommand")}},Wy=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ui.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(qN,void 0).ser(yte).de(vte).build(){static{J(this,"ListAccountRolesCommand")}},Ky=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ui.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(zN,void 0).ser(_te).de(bte).build(){static{J(this,"ListAccountsCommand")}},ZN=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ui.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(VN,void 0).ser(Ete).de(wte).build(){static{J(this,"LogoutCommand")}},Ote={GetRoleCredentialsCommand:QN,ListAccountRolesCommand:Wy,ListAccountsCommand:Ky,LogoutCommand:ZN},eD=class extends Kl{static{J(this,"SSO")}};(0,N.createAggregatedClient)(Ote,eD);var Nte=(0,xr.createPaginator)(Kl,Wy,"nextToken","nextToken","maxResults"),Dte=(0,xr.createPaginator)(Kl,Ky,"nextToken","nextToken","maxResults")});var or=b((MLe,uD)=>{d();var Zl=Object.defineProperty,Mte=Object.getOwnPropertyDescriptor,kte=Object.getOwnPropertyNames,Lte=Object.prototype.hasOwnProperty,eu=(e,t)=>Zl(e,"name",{value:t,configurable:!0}),Ute=(e,t)=>{for(var r in t)Zl(e,r,{get:t[r],enumerable:!0})},Fte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kte(t))!Lte.call(e,o)&&o!==r&&Zl(e,o,{get:()=>t[o],enumerable:!(n=Mte(t,o))||n.enumerable});return e},Bte=e=>Fte(Zl({},"__esModule",{value:!0}),e),nD={};Ute(nD,{AlgorithmId:()=>aD,EndpointURLScheme:()=>iD,FieldPosition:()=>cD,HttpApiKeyAuthLocation:()=>sD,HttpAuthLocation:()=>oD,IniSectionType:()=>dD,RequestHandlerProtocol:()=>lD,SMITHY_CONTEXT_KEY:()=>zte,getDefaultClientConfiguration:()=>$te,resolveDefaultRuntimeConfig:()=>qte});uD.exports=Bte(nD);var oD=(e=>(e.HEADER="header",e.QUERY="query",e))(oD||{}),sD=(e=>(e.HEADER="header",e.QUERY="query",e))(sD||{}),iD=(e=>(e.HTTP="http",e.HTTPS="https",e))(iD||{}),aD=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(aD||{}),jte=eu(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),Hte=eu(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),$te=eu(e=>jte(e),"getDefaultClientConfiguration"),qte=eu(e=>Hte(e),"resolveDefaultRuntimeConfig"),cD=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(cD||{}),zte="__smithy_context",dD=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(dD||{}),lD=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(lD||{})});var he=b((LLe,gD)=>{d();var tu=Object.defineProperty,Vte=Object.getOwnPropertyDescriptor,Gte=Object.getOwnPropertyNames,Wte=Object.prototype.hasOwnProperty,mn=(e,t)=>tu(e,"name",{value:t,configurable:!0}),Kte=(e,t)=>{for(var r in t)tu(e,r,{get:t[r],enumerable:!0})},Jte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gte(t))!Wte.call(e,o)&&o!==r&&tu(e,o,{get:()=>t[o],enumerable:!(n=Vte(t,o))||n.enumerable});return e},Yte=e=>Jte(tu({},"__esModule",{value:!0}),e),pD={};Kte(pD,{Field:()=>Zte,Fields:()=>ere,HttpRequest:()=>tre,HttpResponse:()=>rre,IHttpRequest:()=>mD.HttpRequest,getHttpHandlerExtensionConfiguration:()=>Xte,isValidHostname:()=>hD,resolveHttpHandlerRuntimeConfig:()=>Qte});gD.exports=Yte(pD);var Xte=mn(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),Qte=mn(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),mD=or(),Zte=class{static{mn(this,"Field")}constructor({name:e,kind:t=mD.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},ere=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{mn(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},tre=class Jy{static{mn(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Jy({...t,headers:{...t.headers}});return r.query&&(r.query=fD(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Jy.clone(this)}};function fD(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}mn(fD,"cloneQuery");var rre=class{static{mn(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function hD(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}mn(hD,"isValidHostname")});var Yy=b((HLe,vD)=>{"use strict";d();var nu=Object.defineProperty,nre=Object.getOwnPropertyDescriptor,ore=Object.getOwnPropertyNames,sre=Object.prototype.hasOwnProperty,ru=(e,t)=>nu(e,"name",{value:t,configurable:!0}),ire=(e,t)=>{for(var r in t)nu(e,r,{get:t[r],enumerable:!0})},are=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ore(t))!sre.call(e,o)&&o!==r&&nu(e,o,{get:()=>t[o],enumerable:!(n=nre(t,o))||n.enumerable});return e},cre=e=>are(nu({},"__esModule",{value:!0}),e),yD={};ire(yD,{getHostHeaderPlugin:()=>lre,hostHeaderMiddleware:()=>ED,hostHeaderMiddlewareOptions:()=>SD,resolveHostHeaderConfig:()=>_D});vD.exports=cre(yD);var dre=he();function _D(e){return e}ru(_D,"resolveHostHeaderConfig");var ED=ru(e=>t=>async r=>{if(!dre.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),SD={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},lre=ru(e=>({applyToStack:ru(t=>{t.add(ED(e),SD)},"applyToStack")}),"getHostHeaderPlugin")});var Qy=b((qLe,CD)=>{"use strict";d();var ou=Object.defineProperty,ure=Object.getOwnPropertyDescriptor,pre=Object.getOwnPropertyNames,mre=Object.prototype.hasOwnProperty,Xy=(e,t)=>ou(e,"name",{value:t,configurable:!0}),fre=(e,t)=>{for(var r in t)ou(e,r,{get:t[r],enumerable:!0})},hre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pre(t))!mre.call(e,o)&&o!==r&&ou(e,o,{get:()=>t[o],enumerable:!(n=ure(t,o))||n.enumerable});return e},gre=e=>hre(ou({},"__esModule",{value:!0}),e),bD={};fre(bD,{getLoggerPlugin:()=>yre,loggerMiddleware:()=>wD,loggerMiddlewareOptions:()=>TD});CD.exports=gre(bD);var wD=Xy(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,p=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),TD={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},yre=Xy(e=>({applyToStack:Xy(t=>{t.add(wD(),TD)},"applyToStack")}),"getLoggerPlugin")});var e_=b((VLe,RD)=>{"use strict";d();var iu=Object.defineProperty,_re=Object.getOwnPropertyDescriptor,Ere=Object.getOwnPropertyNames,Sre=Object.prototype.hasOwnProperty,su=(e,t)=>iu(e,"name",{value:t,configurable:!0}),vre=(e,t)=>{for(var r in t)iu(e,r,{get:t[r],enumerable:!0})},bre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ere(t))!Sre.call(e,o)&&o!==r&&iu(e,o,{get:()=>t[o],enumerable:!(n=_re(t,o))||n.enumerable});return e},wre=e=>bre(iu({},"__esModule",{value:!0}),e),PD={};vre(PD,{addRecursionDetectionMiddlewareOptions:()=>AD,getRecursionDetectionPlugin:()=>Ire,recursionDetectionMiddleware:()=>ID});RD.exports=wre(PD);var Tre=he(),Zy="X-Amzn-Trace-Id",Cre="AWS_LAMBDA_FUNCTION_NAME",Pre="_X_AMZN_TRACE_ID",ID=su(e=>t=>async r=>{let{request:n}=r;if(!Tre.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===Zy.toLowerCase())??Zy;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[Cre],i=process.env[Pre],a=su(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[Zy]=i),t({...r,request:n})},"recursionDetectionMiddleware"),AD={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ire=su(e=>({applyToStack:su(t=>{t.add(ID(e),AD)},"applyToStack")}),"getRecursionDetectionPlugin")});var t_,Are,xD=y(()=>{d();t_=T(or()),Are=e=>e[t_.SMITHY_CONTEXT_KEY]||(e[t_.SMITHY_CONTEXT_KEY]={})});var Or=b((JLe,MD)=>{d();var au=Object.defineProperty,Rre=Object.getOwnPropertyDescriptor,xre=Object.getOwnPropertyNames,Ore=Object.prototype.hasOwnProperty,ND=(e,t)=>au(e,"name",{value:t,configurable:!0}),Nre=(e,t)=>{for(var r in t)au(e,r,{get:t[r],enumerable:!0})},Dre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of xre(t))!Ore.call(e,o)&&o!==r&&au(e,o,{get:()=>t[o],enumerable:!(n=Rre(t,o))||n.enumerable});return e},Mre=e=>Dre(au({},"__esModule",{value:!0}),e),DD={};Nre(DD,{getSmithyContext:()=>kre,normalizeProvider:()=>Lre});MD.exports=Mre(DD);var OD=or(),kre=ND(e=>e[OD.SMITHY_CONTEXT_KEY]||(e[OD.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),Lre=ND(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var kD,LD=y(()=>{d();kD=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function Ure(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var ZLe,UD,Fi,cu=y(()=>{d();ZLe=T(or()),UD=T(Or());LD();Fi=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=kD(s,i),c=Ure(e.httpAuthSchemes),l=(0,UD.getSmithyContext)(n),p=[];for(let f of a){let h=c.get(f.schemeId);if(!h){p.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){p.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:E={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},E),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var FD,Bi,BD=y(()=>{d();cu();FD={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Bi=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Fi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),FD)}})});var ns=b((aUe,GD)=>{d();var du=Object.defineProperty,Fre=Object.getOwnPropertyDescriptor,Bre=Object.getOwnPropertyNames,jre=Object.prototype.hasOwnProperty,lu=(e,t)=>du(e,"name",{value:t,configurable:!0}),Hre=(e,t)=>{for(var r in t)du(e,r,{get:t[r],enumerable:!0})},$re=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bre(t))!jre.call(e,o)&&o!==r&&du(e,o,{get:()=>t[o],enumerable:!(n=Fre(t,o))||n.enumerable});return e},qre=e=>$re(du({},"__esModule",{value:!0}),e),jD={};Hre(jD,{deserializerMiddleware:()=>HD,deserializerMiddlewareOption:()=>qD,getSerdePlugin:()=>VD,serializerMiddleware:()=>$D,serializerMiddlewareOption:()=>zD});GD.exports=qre(jD);var zre=he(),HD=lu((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(zre.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:r_(/^x-[\w-]+-request-?id$/,l),extendedRequestId:r_(/^x-[\w-]+-id-2$/,l),cfId:r_(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),r_=lu((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),$D=lu((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),qD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},zD={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function VD(e,t,r){return{applyToStack:n=>{n.add(HD(e,r),qD),n.add($D(e,t),zD)}}}lu(VD,"getSerdePlugin")});var WD,KD,Vre,JD=y(()=>{d();WD=T(ns());cu();KD={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:WD.serializerMiddlewareOption.name},Vre=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Fi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),KD)}})});var YD=y(()=>{d();cu();BD();JD()});var XD,yUe,QD,Gre,Wre,n_,o_=y(()=>{d();XD=T(he()),yUe=T(or()),QD=T(Or()),Gre=e=>t=>{throw t},Wre=(e,t)=>{},n_=e=>(t,r)=>async n=>{if(!XD.HttpRequest.isInstance(n.request))return t(n);let s=(0,QD.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||Gre)(i));return(c.successHandler||Wre)(l.response,i),l}});var ZD,ji,eM=y(()=>{d();o_();ZD={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},ji=e=>({applyToStack:t=>{t.addRelativeTo(n_(e),ZD)}})});var tM=y(()=>{d();o_();eM()});var fn,rM=y(()=>{d();fn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function nM(e,t,r,n,o){return async function*(i,a,...c){let l=a,p=i.startingToken??l[r],f=!0,h;for(;f;){if(l[r]=p,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)h=await Kre(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=p;p=Jre(h,n),f=!!(p&&(!i.stopOnSameToken||p!==g))}return void 0}}var Kre,Jre,oM=y(()=>{d();Kre=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};Jre=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var s_=b((NUe,iM)=>{d();var uu=Object.defineProperty,Yre=Object.getOwnPropertyDescriptor,Xre=Object.getOwnPropertyNames,Qre=Object.prototype.hasOwnProperty,Zre=(e,t)=>uu(e,"name",{value:t,configurable:!0}),ene=(e,t)=>{for(var r in t)uu(e,r,{get:t[r],enumerable:!0})},tne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xre(t))!Qre.call(e,o)&&o!==r&&uu(e,o,{get:()=>t[o],enumerable:!(n=Yre(t,o))||n.enumerable});return e},rne=e=>tne(uu({},"__esModule",{value:!0}),e),sM={};ene(sM,{isArrayBuffer:()=>nne});iM.exports=rne(sM);var nne=Zre(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var os=b((MUe,dM)=>{d();var pu=Object.defineProperty,one=Object.getOwnPropertyDescriptor,sne=Object.getOwnPropertyNames,ine=Object.prototype.hasOwnProperty,aM=(e,t)=>pu(e,"name",{value:t,configurable:!0}),ane=(e,t)=>{for(var r in t)pu(e,r,{get:t[r],enumerable:!0})},cne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sne(t))!ine.call(e,o)&&o!==r&&pu(e,o,{get:()=>t[o],enumerable:!(n=one(t,o))||n.enumerable});return e},dne=e=>cne(pu({},"__esModule",{value:!0}),e),cM={};ane(cM,{fromArrayBuffer:()=>une,fromString:()=>pne});dM.exports=dne(cM);var lne=s_(),i_=M("buffer"),une=aM((e,t=0,r=e.byteLength-t)=>{if(!(0,lne.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return i_.Buffer.from(e,t,r)},"fromArrayBuffer"),pne=aM((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?i_.Buffer.from(e,t):i_.Buffer.from(e)},"fromString")});var lM=b(mu=>{"use strict";d();Object.defineProperty(mu,"__esModule",{value:!0});mu.fromBase64=void 0;var mne=os(),fne=/^[A-Za-z0-9+/]*={0,2}$/,hne=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!fne.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,mne.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};mu.fromBase64=hne});var Xe=b((FUe,fM)=>{d();var fu=Object.defineProperty,gne=Object.getOwnPropertyDescriptor,yne=Object.getOwnPropertyNames,_ne=Object.prototype.hasOwnProperty,a_=(e,t)=>fu(e,"name",{value:t,configurable:!0}),Ene=(e,t)=>{for(var r in t)fu(e,r,{get:t[r],enumerable:!0})},Sne=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yne(t))!_ne.call(e,o)&&o!==r&&fu(e,o,{get:()=>t[o],enumerable:!(n=gne(t,o))||n.enumerable});return e},vne=e=>Sne(fu({},"__esModule",{value:!0}),e),uM={};Ene(uM,{fromUtf8:()=>mM,toUint8Array:()=>bne,toUtf8:()=>wne});fM.exports=vne(uM);var pM=os(),mM=a_(e=>{let t=(0,pM.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),bne=a_(e=>typeof e=="string"?mM(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),wne=a_(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,pM.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var hM=b(hu=>{"use strict";d();Object.defineProperty(hu,"__esModule",{value:!0});hu.toBase64=void 0;var Tne=os(),Cne=Xe(),Pne=e=>{let t;if(typeof e=="string"?t=(0,Cne.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Tne.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};hu.toBase64=Pne});var lt=b(($Ue,gu)=>{d();var gM=Object.defineProperty,Ine=Object.getOwnPropertyDescriptor,Ane=Object.getOwnPropertyNames,Rne=Object.prototype.hasOwnProperty,c_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ane(t))!Rne.call(e,o)&&o!==r&&gM(e,o,{get:()=>t[o],enumerable:!(n=Ine(t,o))||n.enumerable});return e},yM=(e,t,r)=>(c_(e,t,"default"),r&&c_(r,t,"default")),xne=e=>c_(gM({},"__esModule",{value:!0}),e),d_={};gu.exports=xne(d_);yM(d_,lM(),gu.exports);yM(d_,hM(),gu.exports)});var u_=b(yu=>{"use strict";d();Object.defineProperty(yu,"__esModule",{value:!0});yu.ChecksumStream=void 0;var One=lt(),Nne=M("stream"),l_=class extends Nne.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??One.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};yu.ChecksumStream=l_});var hn=b(ss=>{"use strict";d();Object.defineProperty(ss,"__esModule",{value:!0});ss.isBlob=ss.isReadableStream=void 0;var Dne=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};ss.isReadableStream=Dne;var Mne=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};ss.isBlob=Mne});var _M=b(_u=>{"use strict";d();Object.defineProperty(_u,"__esModule",{value:!0});_u.ChecksumStream=void 0;var kne=typeof ReadableStream=="function"?ReadableStream:function(){},p_=class extends kne{};_u.ChecksumStream=p_});var EM=b(Eu=>{"use strict";d();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.createChecksumStream=void 0;var Lne=lt(),Une=hn(),Fne=_M(),Bne=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,Une.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??Lne.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(p,f){t.update(p),f.enqueue(p)},async flush(p){let f=await t.digest(),h=a(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);p.error(g)}else p.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,Fne.ChecksumStream.prototype),l};Eu.createChecksumStream=Bne});var SM=b(m_=>{"use strict";d();Object.defineProperty(m_,"__esModule",{value:!0});m_.createChecksumStream=qne;var jne=hn(),Hne=u_(),$ne=EM();function qne(e){return typeof ReadableStream=="function"&&(0,jne.isReadableStream)(e.source)?(0,$ne.createChecksumStream)(e):new Hne.ChecksumStream(e)}});var h_=b(Su=>{"use strict";d();Object.defineProperty(Su,"__esModule",{value:!0});Su.ByteArrayCollector=void 0;var f_=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Su.ByteArrayCollector=f_});var TM=b(Nr=>{"use strict";d();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.createBufferedReadable=void 0;Nr.createBufferedReadableStream=vM;Nr.merge=bM;Nr.flush=vu;Nr.sizeOf=is;Nr.modeOf=wM;var zne=h_();function vM(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new zne.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:p,done:f}=await n.read(),h=p;if(f){if(a!==-1){let g=vu(i,a);is(g)>0&&l.enqueue(g)}l.close()}else{let g=wM(h,!1);if(a!==g&&(a>=0&&l.enqueue(vu(i,a)),a=g),a===-1){l.enqueue(h);return}let _=is(h);s+=_;let E=is(i[a]);if(_>=t&&E===0)l.enqueue(h);else{let S=bM(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${t}, automatically buffering.`)),S>=t?l.enqueue(vu(i,a)):await c(l)}}};return new ReadableStream({pull:c})}Nr.createBufferedReadable=vM;function bM(e,t,r){switch(t){case 0:return e[0]+=r,is(e[0]);case 1:case 2:return e[t].push(r),is(e[t])}}function vu(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function is(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function wM(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var PM=b(g_=>{"use strict";d();Object.defineProperty(g_,"__esModule",{value:!0});g_.createBufferedReadable=Wne;var Vne=M("node:stream"),CM=h_(),Dr=TM(),Gne=hn();function Wne(e,t,r){if((0,Gne.isReadableStream)(e))return(0,Dr.createBufferedReadableStream)(e,t,r);let n=new Vne.Readable({read(){}}),o=!1,s=0,i=["",new CM.ByteArrayCollector(c=>new Uint8Array(c)),new CM.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Dr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Dr.flush)(i,a)),a=l),a===-1){n.push(c);return}let p=(0,Dr.sizeOf)(c);s+=p;let f=(0,Dr.sizeOf)(i[a]);if(p>=t&&f===0)n.push(c);else{let h=(0,Dr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Dr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Dr.flush)(i,a);(0,Dr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var IM=b(bu=>{"use strict";d();Object.defineProperty(bu,"__esModule",{value:!0});bu.getAwsChunkedEncodingStream=void 0;var Kne=M("stream"),Jne=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new Kne.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${s}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};bu.getAwsChunkedEncodingStream=Jne});var AM=b(y_=>{"use strict";d();Object.defineProperty(y_,"__esModule",{value:!0});y_.headStream=Yne;async function Yne(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var RM=b(wu=>{"use strict";d();Object.defineProperty(wu,"__esModule",{value:!0});wu.headStream=void 0;var Xne=M("stream"),Qne=AM(),Zne=hn(),eoe=(e,t)=>(0,Zne.isReadableStream)(e)?(0,Qne.headStream)(e,t):new Promise((r,n)=>{let o=new __;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});wu.headStream=eoe;var __=class extends Xne.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var S_=b((pFe,NM)=>{d();var Tu=Object.defineProperty,toe=Object.getOwnPropertyDescriptor,roe=Object.getOwnPropertyNames,noe=Object.prototype.hasOwnProperty,E_=(e,t)=>Tu(e,"name",{value:t,configurable:!0}),ooe=(e,t)=>{for(var r in t)Tu(e,r,{get:t[r],enumerable:!0})},soe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of roe(t))!noe.call(e,o)&&o!==r&&Tu(e,o,{get:()=>t[o],enumerable:!(n=toe(t,o))||n.enumerable});return e},ioe=e=>soe(Tu({},"__esModule",{value:!0}),e),xM={};ooe(xM,{escapeUri:()=>OM,escapeUriPath:()=>coe});NM.exports=ioe(xM);var OM=E_(e=>encodeURIComponent(e).replace(/[!'()*]/g,aoe),"escapeUri"),aoe=E_(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),coe=E_(e=>e.split("/").map(OM).join("/"),"escapeUriPath")});var b_=b((fFe,kM)=>{d();var Cu=Object.defineProperty,doe=Object.getOwnPropertyDescriptor,loe=Object.getOwnPropertyNames,uoe=Object.prototype.hasOwnProperty,poe=(e,t)=>Cu(e,"name",{value:t,configurable:!0}),moe=(e,t)=>{for(var r in t)Cu(e,r,{get:t[r],enumerable:!0})},foe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of loe(t))!uoe.call(e,o)&&o!==r&&Cu(e,o,{get:()=>t[o],enumerable:!(n=doe(t,o))||n.enumerable});return e},hoe=e=>foe(Cu({},"__esModule",{value:!0}),e),DM={};moe(DM,{buildQueryString:()=>MM});kM.exports=hoe(DM);var v_=S_();function MM(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,v_.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,v_.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,v_.escapeUri)(n)}`),t.push(o)}}return t.join("&")}poe(MM,"buildQueryString")});var Pu=b((gFe,YM)=>{d();var goe=Object.create,Hi=Object.defineProperty,yoe=Object.getOwnPropertyDescriptor,_oe=Object.getOwnPropertyNames,Eoe=Object.getPrototypeOf,Soe=Object.prototype.hasOwnProperty,ae=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),voe=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},jM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _oe(t))!Soe.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=yoe(t,o))||n.enumerable});return e},boe=(e,t,r)=>(r=e!=null?goe(Eoe(e)):{},jM(t||!e||!e.__esModule?Hi(r,"default",{value:e,enumerable:!0}):r,e)),woe=e=>jM(Hi({},"__esModule",{value:!0}),e),HM={};voe(HM,{DEFAULT_REQUEST_TIMEOUT:()=>WM,NodeHttp2Handler:()=>Doe,NodeHttpHandler:()=>Roe,streamCollector:()=>koe});YM.exports=woe(HM);var $M=he(),qM=b_(),w_=M("http"),T_=M("https"),Toe=["ECONNRESET","EPIPE","ETIMEDOUT"],zM=ae(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),ot={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},LM=1e3,Coe=ae((e,t,r=0)=>{if(!r)return-1;let n=ae(o=>{let s=ot.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ae(a=>{a?.connecting?a.on("connect",()=>{ot.clearTimeout(s)}):ot.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):ot.setTimeout(n.bind(null,LM),LM)},"setConnectionTimeout"),Poe=3e3,Ioe=ae((e,{keepAlive:t,keepAliveMsecs:r},n=Poe)=>{if(t!==!0)return-1;let o=ae(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):ot.setTimeout(o,n)},"setSocketKeepAlive"),UM=3e3,Aoe=ae((e,t,r=WM)=>{let n=ae(o=>{let s=r-o,i=ae(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):ot.setTimeout(n.bind(null,r===0?0:UM),UM)},"setSocketTimeout"),VM=M("stream"),FM=6e3;async function P_(e,t,r=FM){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(ot.setTimeout(()=>a(!0),Math.max(FM,r)))}),new Promise(a=>{e.on("continue",()=>{ot.clearTimeout(s),a(!0)}),e.on("response",()=>{ot.clearTimeout(s),a(!1)}),e.on("error",()=>{ot.clearTimeout(s),a(!1)})})])),i&&GM(e,t.body)}ae(P_,"writeRequestBody");function GM(e,t){if(t instanceof VM.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ae(GM,"writeBody");var WM=0,Roe=class C_{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ae(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new C_(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,p=s[c]?.length??0;if(l>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof w_.Agent||typeof i?.destroy=="function"?i:new w_.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof T_.Agent||typeof a?.destroy=="function"?a:new T_.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ae(async C=>{await i,a.forEach(ot.clearTimeout),o(C)},"resolve"),l=ae(async C=>{await i,a.forEach(ot.clearTimeout),s(C)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let C=new Error("Request aborted");C.name="AbortError",l(C);return}let p=t.protocol==="https:",f=p?this.config.httpsAgent:this.config.httpAgent;a.push(ot.setTimeout(()=>{this.socketWarningTimestamp=C_.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,qM.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let C=t.username??"",k=t.password??"";g=`${C}:${k}`}let _=t.path;h&&(_+=`?${h}`),t.fragment&&(_+=`#${t.fragment}`);let E=t.hostname??"";E[0]==="["&&E.endsWith("]")?E=t.hostname.slice(1,-1):E=t.hostname;let S={headers:t.headers,host:E,method:t.method,path:_,port:t.port,agent:f,auth:g},w=(p?T_.request:w_.request)(S,C=>{let k=new $M.HttpResponse({statusCode:C.statusCode||-1,reason:C.statusMessage,headers:zM(C.headers),body:C});c({response:k})});if(w.on("error",C=>{Toe.includes(C.code)?l(Object.assign(C,{name:"TimeoutError"})):l(C)}),r){let C=ae(()=>{w.destroy();let k=new Error("Request aborted");k.name="AbortError",l(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",C,{once:!0}),w.once("close",()=>k.removeEventListener("abort",C))}else r.onabort=C}let A=n??this.config.requestTimeout;a.push(Coe(w,l,this.config.connectionTimeout)),a.push(Aoe(w,l,A));let I=S.agent;typeof I=="object"&&"keepAlive"in I&&a.push(Ioe(w,{keepAlive:I.keepAlive,keepAliveMsecs:I.keepAliveMsecs})),i=P_(w,t,A).catch(C=>(a.forEach(ot.clearTimeout),s(C)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},BM=M("http2"),xoe=boe(M("http2")),Ooe=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ae(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},Noe=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ae(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=xoe.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ae(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new Ooe;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Doe=class KM{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Noe({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ae(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new KM(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,p,f=ae(async G=>{await p,a(G)},"resolve"),h=ae(async G=>{await p,c(G)},"reject");if(r?.aborted){l=!0;let G=new Error("Request aborted");G.name="AbortError",h(G);return}let{hostname:g,method:_,port:E,protocol:S,query:v}=t,w="";if(t.username!=null||t.password!=null){let G=t.username??"",pe=t.password??"";w=`${G}:${pe}@`}let A=`${S}//${w}${g}${E?`:${E}`:""}`,I={destination:new URL(A)},C=this.connectionManager.lease(I,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),k=ae(G=>{s&&this.destroySession(C),l=!0,h(G)},"rejectWithDestroy"),Ve=(0,qM.buildQueryString)(v||{}),se=t.path;Ve&&(se+=`?${Ve}`),t.fragment&&(se+=`#${t.fragment}`);let le=C.request({...t.headers,[BM.constants.HTTP2_HEADER_PATH]:se,[BM.constants.HTTP2_HEADER_METHOD]:_});if(C.ref(),le.on("response",G=>{let pe=new $M.HttpResponse({statusCode:G[":status"]||-1,headers:zM(G),body:le});l=!0,f({response:pe}),s&&(C.close(),this.connectionManager.deleteSession(A,C))}),i&&le.setTimeout(i,()=>{le.close();let G=new Error(`Stream timed out because of no activity for ${i} ms`);G.name="TimeoutError",k(G)}),r){let G=ae(()=>{le.close();let pe=new Error("Request aborted");pe.name="AbortError",k(pe)},"onAbort");if(typeof r.addEventListener=="function"){let pe=r;pe.addEventListener("abort",G,{once:!0}),le.once("close",()=>pe.removeEventListener("abort",G))}else r.onabort=G}le.on("frameError",(G,pe,af)=>{k(new Error(`Frame type id ${G} in stream id ${af} has failed with code ${pe}.`))}),le.on("error",k),le.on("aborted",()=>{k(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${le.rstCode}.`))}),le.on("close",()=>{C.unref(),s&&C.destroy(),l||k(new Error("Unexpected error: http2 request did not get a response"))}),p=P_(le,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Moe=class extends VM.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ae(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},koe=ae(e=>Loe(e)?JM(e):new Promise((t,r)=>{let n=new Moe;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),Loe=ae(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function JM(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ae(JM,"collectReadableStream")});var sk=b((vFe,ok)=>{d();var Au=Object.defineProperty,Uoe=Object.getOwnPropertyDescriptor,Foe=Object.getOwnPropertyNames,Boe=Object.prototype.hasOwnProperty,sr=(e,t)=>Au(e,"name",{value:t,configurable:!0}),joe=(e,t)=>{for(var r in t)Au(e,r,{get:t[r],enumerable:!0})},Hoe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Foe(t))!Boe.call(e,o)&&o!==r&&Au(e,o,{get:()=>t[o],enumerable:!(n=Uoe(t,o))||n.enumerable});return e},$oe=e=>Hoe(Au({},"__esModule",{value:!0}),e),QM={};joe(QM,{FetchHttpHandler:()=>zoe,keepAliveSupport:()=>Iu,streamCollector:()=>Goe});ok.exports=$oe(QM);var XM=he(),qoe=b_();function I_(e,t){return new Request(e,t)}sr(I_,"createRequest");function ZM(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}sr(ZM,"requestTimeout");var Iu={supported:void 0},zoe=class ek{static{sr(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new ek(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Iu.supported===void 0&&(Iu.supported=typeof Request<"u"&&"keepalive"in I_("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,qoe.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",A=t.password??"";l=`${w}:${A}@`}let{port:p,method:f}=t,h=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,g=f==="GET"||f==="HEAD"?void 0:t.body,_={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(_.cache=this.config.cache),g&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=r),Iu.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(t));let E=sr(()=>{},"removeSignalEventListener"),S=I_(h,_),v=[fetch(S).then(w=>{let A=w.headers,I={};for(let k of A.entries())I[k[0]]=k[1];return w.body!=null?{response:new XM.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(k=>({response:new XM.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:k})}))}),ZM(o)];return r&&v.push(new Promise((w,A)=>{let I=sr(()=>{let C=new Error("Request aborted");C.name="AbortError",A(C)},"onAbort");if(typeof r.addEventListener=="function"){let C=r;C.addEventListener("abort",I,{once:!0}),E=sr(()=>C.removeEventListener("abort",I),"removeSignalEventListener")}else r.onabort=I})),Promise.race(v).finally(E)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},Voe=lt(),Goe=sr(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):tk(e):rk(e),"streamCollector");async function tk(e){let t=await nk(e),r=(0,Voe.fromBase64)(t);return new Uint8Array(r)}sr(tk,"collectBlob");async function rk(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}sr(rk,"collectStream");function nk(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}sr(nk,"readToBase64")});var R_=b((wFe,uk)=>{d();var Ru=Object.defineProperty,Woe=Object.getOwnPropertyDescriptor,Koe=Object.getOwnPropertyNames,Joe=Object.prototype.hasOwnProperty,ik=(e,t)=>Ru(e,"name",{value:t,configurable:!0}),Yoe=(e,t)=>{for(var r in t)Ru(e,r,{get:t[r],enumerable:!0})},Xoe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Koe(t))!Joe.call(e,o)&&o!==r&&Ru(e,o,{get:()=>t[o],enumerable:!(n=Woe(t,o))||n.enumerable});return e},Qoe=e=>Xoe(Ru({},"__esModule",{value:!0}),e),ak={};Yoe(ak,{fromHex:()=>dk,toHex:()=>lk});uk.exports=Qoe(ak);var ck={},A_={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),ck[e]=t,A_[t]=e}function dk(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in A_)t[r/2]=A_[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}ik(dk,"fromHex");function lk(e){let t="";for(let r=0;r<e.byteLength;r++)t+=ck[e[r]];return t}ik(lk,"toHex")});var hk=b(xu=>{"use strict";d();Object.defineProperty(xu,"__esModule",{value:!0});xu.sdkStreamMixin=void 0;var Zoe=sk(),ese=lt(),tse=R_(),rse=Xe(),pk=hn(),mk="The stream has already been transformed.",nse=e=>{var t,r;if(!fk(e)&&!(0,pk.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(mk);return n=!0,await(0,Zoe.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,ese.toBase64)(a);if(i==="hex")return(0,tse.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,rse.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(mk);if(n=!0,fk(e))return s(e);if((0,pk.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};xu.sdkStreamMixin=nse;var fk=e=>typeof Blob=="function"&&e instanceof Blob});var yk=b(Ou=>{"use strict";d();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.sdkStreamMixin=void 0;var ose=Pu(),sse=os(),x_=M("stream"),ise=hk(),gk="The stream has already been transformed.",ase=e=>{var t,r;if(!(e instanceof x_.Readable))try{return(0,ise.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(gk);return n=!0,await(0,ose.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,sse.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(gk);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof x_.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,x_.Readable.toWeb(e)}})};Ou.sdkStreamMixin=ase});var _k=b(O_=>{"use strict";d();Object.defineProperty(O_,"__esModule",{value:!0});O_.splitStream=cse;async function cse(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var vk=b(N_=>{"use strict";d();Object.defineProperty(N_,"__esModule",{value:!0});N_.splitStream=lse;var Ek=M("stream"),dse=_k(),Sk=hn();async function lse(e){if((0,Sk.isReadableStream)(e)||(0,Sk.isBlob)(e))return(0,dse.splitStream)(e);let t=new Ek.PassThrough,r=new Ek.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var L_=b((DFe,ar)=>{d();var Nu=Object.defineProperty,use=Object.getOwnPropertyDescriptor,pse=Object.getOwnPropertyNames,mse=Object.prototype.hasOwnProperty,k_=(e,t)=>Nu(e,"name",{value:t,configurable:!0}),fse=(e,t)=>{for(var r in t)Nu(e,r,{get:t[r],enumerable:!0})},D_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pse(t))!mse.call(e,o)&&o!==r&&Nu(e,o,{get:()=>t[o],enumerable:!(n=use(t,o))||n.enumerable});return e},gn=(e,t,r)=>(D_(e,t,"default"),r&&D_(r,t,"default")),hse=e=>D_(Nu({},"__esModule",{value:!0}),e),ir={};fse(ir,{Uint8ArrayBlobAdapter:()=>M_});ar.exports=hse(ir);var bk=lt(),wk=Xe();function Tk(e,t="utf-8"){return t==="base64"?(0,bk.toBase64)(e):(0,wk.toUtf8)(e)}k_(Tk,"transformToString");function Ck(e,t){return t==="base64"?M_.mutate((0,bk.fromBase64)(e)):M_.mutate((0,wk.fromUtf8)(e))}k_(Ck,"transformFromString");var M_=class Pk extends Uint8Array{static{k_(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Ck(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Pk.prototype),t}transformToString(t="utf-8"){return Tk(this,t)}};gn(ir,u_(),ar.exports);gn(ir,SM(),ar.exports);gn(ir,PM(),ar.exports);gn(ir,IM(),ar.exports);gn(ir,RM(),ar.exports);gn(ir,yk(),ar.exports);gn(ir,vk(),ar.exports);gn(ir,hn(),ar.exports)});var Du,Ct,$i=y(()=>{d();Du=T(L_()),Ct=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Du.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Du.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Du.Uint8ArrayBlobAdapter.mutate(await r)}});function cr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Mu=y(()=>{d()});var Mr,U_=y(()=>{d();Mr=e=>typeof e=="function"?e():e});var Ik=y(()=>{d()});var Qe,Ak=y(()=>{d();Qe=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Qe.registries=new Map});var dr,as=y(()=>{d();dr=class{constructor(t,r){this.name=t,this.traits=r}}});var qi,F_=y(()=>{d();as();qi=class e extends dr{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};qi.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var zi,B_=y(()=>{d();as();zi=class e extends dr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};zi.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var Rk=y(()=>{d()});var io,ku=y(()=>{d();as();io=class e extends dr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};io.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var j_,xk=y(()=>{d();ku();j_=class e extends io{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};j_.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var O,H_=y(()=>{d();O={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Vi,$_=y(()=>{d();as();Vi=class e extends dr{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Vi.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var q,Ok=y(()=>{d();U_();F_();B_();H_();$_();ku();q=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Mr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Mr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Vi?Mr(this.schema.schemaRef):Mr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.LIST_MODIFIER&&t<O.MAP_MODIFIER:t instanceof qi}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.MAP_MODIFIER&&t<=255:t instanceof zi}isDocumentSchema(){return this.getSchema()===O.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof io}isBlobSchema(){return this.getSchema()===O.BLOB||this.getSchema()===O.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=O.TIMESTAMP_DEFAULT&&t<=O.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===O.STRING}isBooleanSchema(){return this.getSchema()===O.BOOLEAN}isNumericSchema(){return this.getSchema()===O.NUMERIC}isBigIntegerSchema(){return this.getSchema()===O.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===O.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===O.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(O).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case O.MAP_MODIFIER:return`${o}Map`;case O.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};q.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Re=y(()=>{d();U_();Ik();F_();B_();Rk();xk();Ok();as();$_();ku();H_();Ak()});var Gi,Nk=y(()=>{d();Re();Gi=(e,t,r=n=>n)=>{let n=q.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let a of e)s[i++]=Gi(a,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=Gi(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=Gi(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=Gi(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var gse,yse,Wi,_se,Lu,Ki,Ese,q_,z_,V_,G_,Sse,vse,Dk,bse,wse,Fu,Tse,W_,Cse,cs,K_,Pse,Ise,Ase,Mk,kk,Rse,xse,ao,J_,Uu,Ji,Y_=y(()=>{d();gse=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},yse=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ji.warn(Uu(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ji.warn(Uu(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Wi=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ji.warn(Uu(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},_se=Math.ceil(34028234663852886e22),Lu=e=>{let t=Wi(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>_se)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Ki=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Ese=Ki,q_=e=>G_(e,32),z_=e=>G_(e,16),V_=e=>G_(e,8),G_=(e,t)=>{let r=Ki(e);if(r!==void 0&&Sse(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Sse=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},vse=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Dk=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},bse=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ji.warn(Uu(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},wse=e=>{if(e==null)return;let t=Dk(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Fu=e=>Wi(typeof e=="string"?cs(e):e),Tse=Fu,W_=e=>Lu(typeof e=="string"?cs(e):e),Cse=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,cs=e=>{let t=e.match(Cse);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},K_=e=>typeof e=="string"?Mk(e):Wi(e),Pse=K_,Ise=K_,Ase=e=>typeof e=="string"?Mk(e):Lu(e),Mk=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},kk=e=>Ki(typeof e=="string"?cs(e):e),Rse=kk,xse=e=>q_(typeof e=="string"?cs(e):e),ao=e=>z_(typeof e=="string"?cs(e):e),J_=e=>V_(typeof e=="string"?cs(e):e),Uu=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ji={warn:console.warn}});function Xi(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${Ose[n]}, ${c} ${Q_[r]} ${t} ${l}:${p}:${f} GMT`}var Ose,Q_,Nse,Dse,Mse,Qi,kse,Lse,Use,Zi,ea,Yi,Fse,Bse,jse,X_,Hse,$se,qse,lr,zse,Vse,ds,Lk=y(()=>{d();Y_();Ose=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Nse=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Dse=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Nse.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,p=ao(ds(n)),f=lr(o,"month",1,12),h=lr(s,"day",1,31);return Yi(p,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},Mse=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Qi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Mse.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,p]=t,f=ao(ds(n)),h=lr(o,"month",1,12),g=lr(s,"day",1,31),_=Yi(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&_.setTime(_.getTime()-Vse(p)),_},kse=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Lse=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Use=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Zi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=kse.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return Yi(ao(ds(s)),X_(o),lr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=Lse.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return jse(Yi(Fse(s),X_(o),lr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Use.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return Yi(ao(ds(l)),X_(n),lr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ea=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Fu(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Yi=(e,t,r,n)=>{let o=t-1;return $se(e,o,r),new Date(Date.UTC(e,o,r,lr(n.hours,"hour",0,23),lr(n.minutes,"minute",0,59),lr(n.seconds,"seconds",0,60),zse(n.fractionalMilliseconds)))},Fse=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+ao(ds(e));return r<t?r+100:r},Bse=50*365*24*60*60*1e3,jse=e=>e.getTime()-new Date().getTime()>Bse?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,X_=e=>{let t=Q_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},Hse=[31,28,31,30,31,30,31,31,30,31,30,31],$se=(e,t,r)=>{let n=Hse[t];if(t===1&&qse(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Q_[t]} in ${e}: ${r}`)},qse=e=>e%4===0&&(e%100!==0||e%400===0),lr=(e,t,r,n)=>{let o=J_(ds(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},zse=e=>e==null?0:W_("0."+e)*1e3,Vse=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},ds=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ze,Uk=y(()=>{d();Ze=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ze.from=e=>e&&typeof e=="object"&&(e instanceof Ze||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ze(String(e)):Ze(JSON.stringify(e));Ze.fromObject=Ze.from});function Z_(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Fk=y(()=>{d()});function eE(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var Bk=y(()=>{d()});var ta,jk=y(()=>{d();ta=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Gse(e){return new ke(String(e),"bigDecimal")}var ke,Hk=y(()=>{d();ke=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var $k={};He($k,{LazyJsonString:()=>Ze,NumericValue:()=>ke,copyDocumentWithTransform:()=>Gi,dateToUtcString:()=>Xi,expectBoolean:()=>yse,expectByte:()=>V_,expectFloat32:()=>Lu,expectInt:()=>Ese,expectInt32:()=>q_,expectLong:()=>Ki,expectNonNull:()=>vse,expectNumber:()=>Wi,expectObject:()=>Dk,expectShort:()=>z_,expectString:()=>bse,expectUnion:()=>wse,handleFloat:()=>Pse,limitedParseDouble:()=>K_,limitedParseFloat:()=>Ise,limitedParseFloat32:()=>Ase,logger:()=>Ji,nv:()=>Gse,parseBoolean:()=>gse,parseEpochTimestamp:()=>ea,parseRfc3339DateTime:()=>Dse,parseRfc3339DateTimeWithOffset:()=>Qi,parseRfc7231DateTime:()=>Zi,quoteHeader:()=>Z_,splitEvery:()=>eE,splitHeader:()=>ta,strictParseByte:()=>J_,strictParseDouble:()=>Fu,strictParseFloat:()=>Tse,strictParseFloat32:()=>W_,strictParseInt:()=>Rse,strictParseInt32:()=>xse,strictParseLong:()=>kk,strictParseShort:()=>ao});var Pt=y(()=>{d();Nk();Lk();Uk();Y_();Fk();Bk();jk();Hk()});var Bu,qk,ls,tE=y(()=>{d();Re();Pt();Bu=T(he()),qk=T(L_());$i();ls=class{constructor(t){this.options=t}getRequestType(){return Bu.HttpRequest}getResponseType(){return Bu.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=q.of(r),s=q.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=q.of(t),l=[];for(let[p,f]of c.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let E=this.serdeContext;if(!E.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[p]=E.eventStreamMarshaller.deserialize(n.body,async v=>{let w=Object.keys(v).find(A=>A!=="__type")??"";if(w in S){let A=S[w];return{[w]:await a.read(A,v[w].body)}}else return{$unknown:v}})}else i[p]=(0,qk.sdkStreamMixin)(n.body);else if(n.body){let _=await Ct(n.body,r);_.byteLength>0&&(i[p]=await a.read(f,_))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),_=n.headers[g];if(_!=null)if(f.isListSchema()){let E=f.getValueSchema(),S;E.isTimestampSchema()&&E.getSchema()===O.TIMESTAMP_DEFAULT?S=eE(_,",",2):S=ta(_);let v=[];for(let w of S)v.push(await a.read([E,{httpHeader:g}],w.trim()));i[p]=v}else i[p]=await a.read(f,_)}else if(h.httpPrefixHeaders!==void 0){i[p]={};for(let[g,_]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[p][g.slice(h.httpPrefixHeaders.length)]=await a.read([f.getValueSchema(),{httpHeader:g}],_))}else h.httpResponseCode?i[p]=n.statusCode:l.push(p)}return l}}});var zk,co,Vk=y(()=>{d();Re();zk=T(he());$i();Mu();tE();co=class extends ls{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=q.of(t?.input),p=l.getSchema(),f=!1,h,g=new zk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let _=q.translateTraits(t.traits);if(_.http){g.method=_.http[0];let[E,S]=_.http[1].split("?");g.path=="/"?g.path=E:g.path+=E;let v=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(v))}}for(let[_,E]of l.structIterator()){let S=E.getMergedTraits()??{},v=o[_];if(v!=null)if(S.httpPayload){if(E.isStreaming()){if(E.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=v}else s.write(E,v),h=s.flush();delete o[_]}else if(S.httpLabel){s.write(E,v);let w=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,w.split("/").map(cr).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,cr(w))),delete o[_]}else if(S.httpHeader)s.write(E,v),a[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[_];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,A]of Object.entries(v)){let I=S.httpPrefixHeaders+w;s.write([E.getValueSchema(),{httpHeader:I}],A),a[I.toLowerCase()]=s.flush()}delete o[_]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(E,v,i),delete o[_]):f=!0}return f&&o&&(s.write(p,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(q.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let l=await Ct(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await Ct(n.body,r);if(l.byteLength>0){let p=await o.read(s,l);for(let f of a)i[f]=p[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var Gk,lo,Wk=y(()=>{d();Re();Gk=T(he());$i();tE();lo=class extends ls{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=q.of(t?.input).getSchema(),p,f=new Gk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(l,h),p=o.flush()),f.headers=i,f.query=s,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let l=await Ct(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await Ct(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var rE,nE=y(()=>{d();Mu();rE=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>cr(a)).join("/"):cr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function ra(e,t){return new ju(e,t)}var Kk,ju,Jk=y(()=>{d();Kk=T(he());nE();ju=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new Kk.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=rE(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function uo(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===O.TIMESTAMP_DATE_TIME||e.getSchema()===O.TIMESTAMP_HTTP_DATE||e.getSchema()===O.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?O.TIMESTAMP_HTTP_DATE:s||r?O.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var Hu=y(()=>{d();Re()});var oE,Yk,po,sE=y(()=>{d();Re();Pt();oE=T(lt()),Yk=T(Xe());Hu();po=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=q.of(t);if(n.isListSchema())return ta(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??oE.fromBase64)(r);if(n.isTimestampSchema())switch(uo(n,this.settings)){case O.TIMESTAMP_DATE_TIME:return Qi(r);case O.TIMESTAMP_HTTP_DATE:return Zi(r);case O.TIMESTAMP_EPOCH_SECONDS:return ea(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ze.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new ke(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Yk.toUtf8)((this.serdeContext?.base64Decoder??oE.fromBase64)(t))}}});var $u,mo,Xk=y(()=>{d();Re();$u=T(Xe());sE();mo=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new po(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=q.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??$u.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??$u.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var iE,na,aE=y(()=>{d();Re();Pt();iE=T(lt());Hu();na=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=q.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(uo(n,this.settings)){case O.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:this.stringBuffer=Xi(r);break;case O.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??iE.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:Z_(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ze.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??iE.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var fo,Qk=y(()=>{d();Re();aE();fo=class{constructor(t,r,n=new na(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=q.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var Zk={};He(Zk,{FromStringShapeDeserializer:()=>po,HttpBindingProtocol:()=>co,HttpInterceptingShapeDeserializer:()=>mo,HttpInterceptingShapeSerializer:()=>fo,RequestBuilder:()=>ju,RpcProtocol:()=>lo,ToStringShapeSerializer:()=>na,collectBody:()=>Ct,determineTimestampFormat:()=>uo,extendedEncodeURIComponent:()=>cr,requestBuilder:()=>ra,resolvedPath:()=>rE});var kr=y(()=>{d();$i();Mu();Vk();Wk();Jk();nE();sE();Xk();Qk();aE();Hu()});var eL=y(()=>{d();kr()});function Wse(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var tL=y(()=>{d()});var ho,rL=y(()=>{d();ho=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var nL,cE,dE,oL=y(()=>{d();nL=T(he()),cE=T(or()),dE=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=nL.HttpRequest.clone(t);if(n.in===cE.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===cE.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var sL,lE,iL=y(()=>{d();sL=T(he()),lE=class{async sign(t,r,n){let o=sL.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Lr,aL=y(()=>{d();Lr=class{async sign(t,r,n){return t}}});var cL=y(()=>{d();oL();iL();aL()});var dL,Kse,uE,qu,pE,lL=y(()=>{d();dL=e=>t=>qu(t)&&t.expiration.getTime()-Date.now()<e,Kse=3e5,uE=dL(3e5),qu=e=>e.expiration!==void 0,pE=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var uL=y(()=>{d();rL();cL();lL()});var mE={};He(mE,{DefaultIdentityProviderConfig:()=>ho,EXPIRATION_MS:()=>Kse,HttpApiKeyAuthSigner:()=>dE,HttpBearerAuthSigner:()=>lE,NoAuthSigner:()=>Lr,createIsIdentityExpiredFunction:()=>dL,createPaginator:()=>nM,doesIdentityRequireRefresh:()=>qu,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Bi,getHttpAuthSchemePlugin:()=>Vre,getHttpSigningPlugin:()=>ji,getSmithyContext:()=>Are,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>FD,httpAuthSchemeMiddleware:()=>Fi,httpAuthSchemeMiddlewareOptions:()=>KD,httpSigningMiddleware:()=>n_,httpSigningMiddlewareOptions:()=>ZD,isIdentityExpired:()=>uE,memoizeIdentityProvider:()=>pE,normalizeProvider:()=>fn,requestBuilder:()=>ra,setFeature:()=>Wse});var Lt=y(()=>{d();xD();YD();tM();rM();oM();eL();tL();uL()});var Gu=b(($je,SL)=>{d();var zu=Object.defineProperty,Jse=Object.getOwnPropertyDescriptor,Yse=Object.getOwnPropertyNames,Xse=Object.prototype.hasOwnProperty,ne=(e,t)=>zu(e,"name",{value:t,configurable:!0}),Qse=(e,t)=>{for(var r in t)zu(e,r,{get:t[r],enumerable:!0})},Zse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yse(t))!Xse.call(e,o)&&o!==r&&zu(e,o,{get:()=>t[o],enumerable:!(n=Jse(t,o))||n.enumerable});return e},eie=e=>Zse(zu({},"__esModule",{value:!0}),e),pL={};Qse(pL,{EndpointCache:()=>tie,EndpointError:()=>st,customEndpointFunctions:()=>hE,isIpAddress:()=>mL,isValidHostLabel:()=>yE,resolveEndpoint:()=>Sie});SL.exports=eie(pL);var tie=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{ne(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},rie=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),mL=ne(e=>rie.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),nie=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),yE=ne((e,t=!1)=>{if(!t)return nie.test(e);let r=e.split(".");for(let n of r)if(!yE(n))return!1;return!0},"isValidHostLabel"),hE={},oa="endpoints";function Ur(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ur(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ur).join(", ")})`:JSON.stringify(e,null,2)}ne(Ur,"toDebugString");var st=class extends Error{static{ne(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},oie=ne((e,t)=>e===t,"booleanEquals"),sie=ne(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new st(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new st(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),fL=ne((e,t)=>sie(t).reduce((r,n)=>{if(typeof r!="object")throw new st(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),iie=ne(e=>e!=null,"isSet"),aie=ne(e=>!e,"not"),gE=or(),fE={[gE.EndpointURLScheme.HTTP]:80,[gE.EndpointURLScheme.HTTPS]:443},cie=ne(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:_="",path:E="",query:S={}}=e,v=new URL(`${_}//${h}${g?`:${g}`:""}${E}`);return v.search=Object.entries(S).map(([w,A])=>`${w}=${A}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(gE.EndpointURLScheme).includes(c))return null;let l=mL(o),p=r.includes(`${n}:${fE[c]}`)||typeof e=="string"&&e.includes(`${n}:${fE[c]}`),f=`${n}${p?`:${fE[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),die=ne((e,t)=>e===t,"stringEquals"),lie=ne((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),uie=ne(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),pie={booleanEquals:oie,getAttr:fL,isSet:iie,isValidHostLabel:yE,not:aie,parseURL:cie,stringEquals:die,substring:lie,uriEncode:uie},hL=ne((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(fL(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),mie=ne(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Vu=ne((e,t,r)=>{if(typeof e=="string")return hL(e,r);if(e.fn)return gL(e,r);if(e.ref)return mie(e,r);throw new st(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),gL=ne(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Vu(s,"arg",r)),o=e.split(".");return o[0]in hE&&o[1]!=null?hE[o[0]][o[1]](...n):pie[e](...n)},"callFunction"),fie=ne(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new st(`'${e}' is already defined in Reference Record.`);let n=gL(t,r);return r.logger?.debug?.(`${oa} evaluateCondition: ${Ur(t)} = ${Ur(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),_E=ne((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=fie(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${oa} assign: ${s.name} := ${Ur(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),hie=ne((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Vu(s,"Header value entry",t);if(typeof i!="string")throw new st(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),yL=ne((e,t)=>{if(Array.isArray(e))return e.map(r=>yL(r,t));switch(typeof e){case"string":return hL(e,t);case"object":if(e===null)throw new st(`Unexpected endpoint property: ${e}`);return _L(e,t);case"boolean":return e;default:throw new st(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),_L=ne((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:yL(o,t)}),{}),"getEndpointProperties"),gie=ne((e,t)=>{let r=Vu(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new st(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),yie=ne((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=_E(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${oa} Resolving endpoint from template: ${Ur(n)}`),{...l!=null&&{headers:hie(l,i)},...c!=null&&{properties:_L(c,i)},url:gie(a,i)}},"evaluateEndpointRule"),_ie=ne((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=_E(r,t);if(o)throw new st(Vu(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),Eie=ne((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=_E(r,t);if(o)return EL(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),EL=ne((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=yie(r,t);if(n)return n}else if(r.type==="error")_ie(r,t);else if(r.type==="tree"){let n=Eie(r,t);if(n)return n}else throw new st(`Unknown endpoint rule: ${r}`);throw new st("Rules evaluation failed")},"evaluateRules"),Sie=ne((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${oa} Initial EndpointParams: ${Ur(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(i.length>0)for(let[l,p]of i)r[l]=r[l]??p;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new st(`Missing required parameter: '${l}'`);let c=EL(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${oa} Resolved endpoint: ${Ur(c)}`),c},"resolveEndpoint")});var TL=b((Gje,wL)=>{d();var Wu=Object.defineProperty,vie=Object.getOwnPropertyDescriptor,bie=Object.getOwnPropertyNames,wie=Object.prototype.hasOwnProperty,Tie=(e,t)=>Wu(e,"name",{value:t,configurable:!0}),Cie=(e,t)=>{for(var r in t)Wu(e,r,{get:t[r],enumerable:!0})},Pie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bie(t))!wie.call(e,o)&&o!==r&&Wu(e,o,{get:()=>t[o],enumerable:!(n=vie(t,o))||n.enumerable});return e},Iie=e=>Pie(Wu({},"__esModule",{value:!0}),e),vL={};Cie(vL,{parseQueryString:()=>bL});wL.exports=Iie(vL);function bL(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}Tie(bL,"parseQueryString")});var us=b((Kje,IL)=>{d();var Ku=Object.defineProperty,Aie=Object.getOwnPropertyDescriptor,Rie=Object.getOwnPropertyNames,xie=Object.prototype.hasOwnProperty,Oie=(e,t)=>Ku(e,"name",{value:t,configurable:!0}),Nie=(e,t)=>{for(var r in t)Ku(e,r,{get:t[r],enumerable:!0})},Die=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rie(t))!xie.call(e,o)&&o!==r&&Ku(e,o,{get:()=>t[o],enumerable:!(n=Aie(t,o))||n.enumerable});return e},Mie=e=>Die(Ku({},"__esModule",{value:!0}),e),CL={};Nie(CL,{parseUrl:()=>PL});IL.exports=Mie(CL);var kie=TL(),PL=Oie(e=>{if(typeof e=="string")return PL(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,kie.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Yu=b((Yje,FL)=>{"use strict";d();var Ju=Object.defineProperty,Lie=Object.getOwnPropertyDescriptor,Uie=Object.getOwnPropertyNames,Fie=Object.prototype.hasOwnProperty,yn=(e,t)=>Ju(e,"name",{value:t,configurable:!0}),Bie=(e,t)=>{for(var r in t)Ju(e,r,{get:t[r],enumerable:!0})},jie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uie(t))!Fie.call(e,o)&&o!==r&&Ju(e,o,{get:()=>t[o],enumerable:!(n=Lie(t,o))||n.enumerable});return e},Hie=e=>jie(Ju({},"__esModule",{value:!0}),e),RL={};Bie(RL,{ConditionObject:()=>de.ConditionObject,DeprecatedObject:()=>de.DeprecatedObject,EndpointError:()=>de.EndpointError,EndpointObject:()=>de.EndpointObject,EndpointObjectHeaders:()=>de.EndpointObjectHeaders,EndpointObjectProperties:()=>de.EndpointObjectProperties,EndpointParams:()=>de.EndpointParams,EndpointResolverOptions:()=>de.EndpointResolverOptions,EndpointRuleObject:()=>de.EndpointRuleObject,ErrorRuleObject:()=>de.ErrorRuleObject,EvaluateOptions:()=>de.EvaluateOptions,Expression:()=>de.Expression,FunctionArgv:()=>de.FunctionArgv,FunctionObject:()=>de.FunctionObject,FunctionReturn:()=>de.FunctionReturn,ParameterObject:()=>de.ParameterObject,ReferenceObject:()=>de.ReferenceObject,ReferenceRecord:()=>de.ReferenceRecord,RuleSetObject:()=>de.RuleSetObject,RuleSetRules:()=>de.RuleSetRules,TreeRuleObject:()=>de.TreeRuleObject,awsEndpointFunctions:()=>LL,getUserAgentPrefix:()=>Vie,isIpAddress:()=>de.isIpAddress,partition:()=>ML,resolveDefaultAwsRegionalEndpointsConfig:()=>Wie,resolveEndpoint:()=>de.resolveEndpoint,setPartitionInfo:()=>kL,toEndpointV1:()=>UL,useDefaultPartitionInfo:()=>zie});FL.exports=Hie(RL);var de=Gu(),xL=yn((e,t=!1)=>{if(t){for(let r of e.split("."))if(!xL(r))return!1;return!0}return!(!(0,de.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,de.isIpAddress)(e))},"isVirtualHostableS3Bucket"),AL=":",$ie="/",qie=yn(e=>{let t=e.split(AL);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(AL)==="")return null;let c=a.map(l=>l.split($ie)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),OL={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},NL=OL,DL="",ML=yn(e=>{let{partitions:t}=NL;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),kL=yn((e,t="")=>{NL=e,DL=t},"setPartitionInfo"),zie=yn(()=>{kL(OL,"")},"useDefaultPartitionInfo"),Vie=yn(()=>DL,"getUserAgentPrefix"),LL={isVirtualHostableS3Bucket:xL,parseArn:qie,partition:ML};de.customEndpointFunctions.aws=LL;var Gie=us(),Wie=yn(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>UL(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),UL=yn(e=>(0,Gie.parseUrl)(e.url),"toEndpointV1")});var EE,sa,BL=y(()=>{d();EE={warningEmitted:!1},sa=e=>{e&&!EE.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(EE.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function go(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var jL=y(()=>{d()});function Kie(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var HL=y(()=>{d()});function Jie(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var $L=y(()=>{d()});var Xu=y(()=>{d();BL();jL();HL();$L()});var qL,SE,zL=y(()=>{d();qL=T(he()),SE=e=>qL.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ps,vE=y(()=>{d();ps=e=>new Date(Date.now()+e)});var VL,GL=y(()=>{d();vE();VL=(e,t)=>Math.abs(ps(t).getTime()-e)>=3e5});var bE,WL=y(()=>{d();GL();bE=(e,t)=>{let r=Date.parse(e);return VL(r,t)?r-Date.now():t}});var wE=y(()=>{d();zL();vE();WL()});var KL,ia,aa,ut,JL,TE=y(()=>{d();KL=T(he());wE();ia=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},aa=async e=>{let t=ia("context",e.context),r=ia("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await ia("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},ut=class{async sign(t,r,n){if(!KL.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await aa(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:ps(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??SE(r.$response);if(n){let o=ia("config",t.config),s=o.systemClockOffset;o.systemClockOffset=bE(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=SE(t);if(n){let o=ia("config",r.config);o.systemClockOffset=bE(n,o.systemClockOffset)}}},JL=ut});var YL,Qu,XL=y(()=>{d();YL=T(he());wE();TE();Qu=class extends ut{async sign(t,r,n){if(!YL.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await aa(n),p=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:ps(o.systemClockOffset),signingRegion:p,signingService:c})}}});var CE,QL=y(()=>{d();CE=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var PE,IE=y(()=>{d();PE=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var ZL,eU,ca,tU=y(()=>{d();QL();IE();ZL="AWS_AUTH_SCHEME_PREFERENCE",eU="auth_scheme_preference",ca={environmentVariableSelector:(e,t)=>{if(t?.signingName&&PE(t.signingName)in e)return["httpBearerAuth"];if(ZL in e)return CE(e[ZL])},configFileSelector:e=>{if(eU in e)return CE(e[eU])},default:[]}});var da=b(($He,iU)=>{d();var Zu=Object.defineProperty,Yie=Object.getOwnPropertyDescriptor,Xie=Object.getOwnPropertyNames,Qie=Object.prototype.hasOwnProperty,yo=(e,t)=>Zu(e,"name",{value:t,configurable:!0}),Zie=(e,t)=>{for(var r in t)Zu(e,r,{get:t[r],enumerable:!0})},eae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xie(t))!Qie.call(e,o)&&o!==r&&Zu(e,o,{get:()=>t[o],enumerable:!(n=Yie(t,o))||n.enumerable});return e},tae=e=>eae(Zu({},"__esModule",{value:!0}),e),rU={};Zie(rU,{CredentialsProviderError:()=>rae,ProviderError:()=>ep,TokenProviderError:()=>nae,chain:()=>oae,fromStatic:()=>sae,memoize:()=>iae});iU.exports=tae(rU);var ep=class nU extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,nU.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{yo(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},rae=class oU extends ep{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,oU.prototype)}static{yo(this,"CredentialsProviderError")}},nae=class sU extends ep{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,sU.prototype)}static{yo(this,"TokenProviderError")}},oae=yo((...e)=>async()=>{if(e.length===0)throw new ep("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),sae=yo(e=>()=>Promise.resolve(e),"fromStatic"),iae=yo((e,t,r)=>{let n,o,s,i=!1,a=yo(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var AE,aae,cae,aU=y(()=>{d();Lt();AE=T(da()),aae=e=>(e.sigv4aSigningRegionSet=fn(e.sigv4aSigningRegionSet),e),cae={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new AE.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new AE.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var LU=b((WHe,kU)=>{d();var ap=Object.defineProperty,dae=Object.getOwnPropertyDescriptor,lae=Object.getOwnPropertyNames,uae=Object.prototype.hasOwnProperty,Le=(e,t)=>ap(e,"name",{value:t,configurable:!0}),pae=(e,t)=>{for(var r in t)ap(e,r,{get:t[r],enumerable:!0})},mae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of lae(t))!uae.call(e,o)&&o!==r&&ap(e,o,{get:()=>t[o],enumerable:!(n=dae(t,o))||n.enumerable});return e},fae=e=>mae(ap({},"__esModule",{value:!0}),e),pU={};pae(pU,{ALGORITHM_IDENTIFIER:()=>tp,ALGORITHM_IDENTIFIER_V4A:()=>_ae,ALGORITHM_QUERY_PARAM:()=>mU,ALWAYS_UNSIGNABLE_HEADERS:()=>vU,AMZ_DATE_HEADER:()=>LE,AMZ_DATE_QUERY_PARAM:()=>NE,AUTH_HEADER:()=>kE,CREDENTIAL_QUERY_PARAM:()=>fU,DATE_HEADER:()=>yU,EVENT_ALGORITHM_IDENTIFIER:()=>TU,EXPIRES_QUERY_PARAM:()=>gU,GENERATED_HEADERS:()=>_U,HOST_HEADER:()=>gae,KEY_TYPE_IDENTIFIER:()=>UE,MAX_CACHE_SIZE:()=>PU,MAX_PRESIGNED_TTL:()=>IU,PROXY_HEADER_PATTERN:()=>bU,REGION_SET_PARAM:()=>hae,SEC_HEADER_PATTERN:()=>wU,SHA256_HEADER:()=>ip,SIGNATURE_HEADER:()=>EU,SIGNATURE_QUERY_PARAM:()=>DE,SIGNED_HEADERS_QUERY_PARAM:()=>hU,SignatureV4:()=>Rae,SignatureV4Base:()=>MU,TOKEN_HEADER:()=>SU,TOKEN_QUERY_PARAM:()=>ME,UNSIGNABLE_PATTERNS:()=>yae,UNSIGNED_PAYLOAD:()=>CU,clearCredentialCache:()=>Sae,createScope:()=>np,getCanonicalHeaders:()=>RE,getCanonicalQuery:()=>DU,getPayloadHash:()=>op,getSigningKey:()=>AU,hasHeader:()=>xU,moveHeadersToQuery:()=>NU,prepareRequest:()=>OE,signatureV4aContainer:()=>xae});kU.exports=fae(pU);var cU=Xe(),mU="X-Amz-Algorithm",fU="X-Amz-Credential",NE="X-Amz-Date",hU="X-Amz-SignedHeaders",gU="X-Amz-Expires",DE="X-Amz-Signature",ME="X-Amz-Security-Token",hae="X-Amz-Region-Set",kE="authorization",LE=NE.toLowerCase(),yU="date",_U=[kE,LE,yU],EU=DE.toLowerCase(),ip="x-amz-content-sha256",SU=ME.toLowerCase(),gae="host",vU={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},bU=/^proxy-/,wU=/^sec-/,yae=[/^proxy-/i,/^sec-/i],tp="AWS4-HMAC-SHA256",_ae="AWS4-ECDSA-P256-SHA256",TU="AWS4-HMAC-SHA256-PAYLOAD",CU="UNSIGNED-PAYLOAD",PU=50,UE="aws4_request",IU=3600*24*7,_n=R_(),Eae=Xe(),ms={},rp=[],np=Le((e,t,r)=>`${e}/${t}/${r}/${UE}`,"createScope"),AU=Le(async(e,t,r,n,o)=>{let s=await dU(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,_n.toHex)(s)}:${t.sessionToken}`;if(i in ms)return ms[i];for(rp.push(i);rp.length>PU;)delete ms[rp.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,UE])a=await dU(e,a,c);return ms[i]=a},"getSigningKey"),Sae=Le(()=>{rp.length=0,Object.keys(ms).forEach(e=>{delete ms[e]})},"clearCredentialCache"),dU=Le((e,t,r)=>{let n=new e(t);return n.update((0,Eae.toUint8Array)(r)),n.digest()},"hmac"),RE=Le(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in vU||t?.has(s)||bU.test(s)||wU.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),vae=s_(),bae=Xe(),op=Le(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ip)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,vae.isArrayBuffer)(t)){let n=new r;return n.update((0,bae.toUint8Array)(t)),(0,_n.toHex)(await n.digest())}return CU},"getPayloadHash"),lU=Xe(),wae=class{static{Le(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,lU.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,lU.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(Cae.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!Tae.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,_n.fromHex)(e.value.replace(/\-/g,"")),1),p}}},Tae=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Cae=class RU{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Le(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&xE(r),new RU(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&xE(t),parseInt((0,_n.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function xE(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Le(xE,"negate");var xU=Le((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),OU=he(),NU=Le((e,t={})=>{let{headers:r,query:n={}}=OU.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),OE=Le(e=>{e=OU.HttpRequest.clone(e);for(let t of Object.keys(e.headers))_U.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),uU=Or(),Pae=Xe(),sp=S_(),DU=Le(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===EU)continue;let o=(0,sp.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,sp.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,sp.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),Iae=Le(e=>Aae(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Aae=Le(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),MU=class{static{Le(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,uU.normalizeProvider)(r),this.credentialProvider=(0,uU.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${DU(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,Pae.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,_n.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,sp.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=Iae(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},Rae=class extends MU{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new wae}static{Le(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=c??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>IU)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=np(g,f,l??this.service),E=NU(OE(e),{unhoistableHeaders:s,hoistableHeaders:a});p.sessionToken&&(E.query[ME]=p.sessionToken),E.query[mU]=tp,E.query[fU]=`${p.accessKeyId}/${_}`,E.query[NE]=h,E.query[gU]=n.toString(10);let S=RE(E,o,i);return E.query[hU]=this.getCanonicalHeaderList(S),E.query[DE]=await this.getSignature(h,_,this.getSigningKey(p,f,g,l),this.createCanonicalRequest(E,S,await op(e,this.sha256))),E}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=np(a,i,s??this.service),p=await op({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,_n.toHex)(await f.digest()),g=[TU,c,l,n,h,p].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,cU.toUint8Array)(e)),(0,_n.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=OE(e),{longDate:l,shortDate:p}=this.formatDate(t),f=np(p,a,s??this.service);c.headers[LE]=l,i.sessionToken&&(c.headers[SU]=i.sessionToken);let h=await op(c,this.sha256);!xU(ip,c.headers)&&this.applyChecksum&&(c.headers[ip]=h);let g=RE(c,n,r),_=await this.getSignature(l,f,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(c,g,h));return c.headers[kE]=`${tp} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${_}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,tp),s=new this.sha256(await r);return s.update((0,cU.toUint8Array)(o)),(0,_n.toHex)(await s.digest())}getSigningKey(e,t,r,n){return AU(this.sha256,e,r,t,n||this.service)}},xae={SignatureV4a:null}});function Nae(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=pE(t,uE,qu):r?n=fn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Dae(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var FE,fs,Oae,UU=y(()=>{d();Xu();Lt();FE=T(LU()),fs=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=Nae(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=Dae(e,p);r&&!f.attributed?(n=async h=>f(h).then(g=>go(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=fn(e.signer):e.regionInfoProvider?a=()=>fn(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:h}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},_=e.signerConstructor||FE.SignatureV4;return new _(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fn(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||FE.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},Oae=fs});var FU=y(()=>{d();TE();XL();tU();aU();UU()});var BU=y(()=>{d();FU();IE()});var Mae,kae,Lae,jU=y(()=>{d();Mae=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},kae=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},Lae=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var la=b((h$e,qU)=>{d();var cp=Object.defineProperty,Uae=Object.getOwnPropertyDescriptor,Fae=Object.getOwnPropertyNames,Bae=Object.prototype.hasOwnProperty,jae=(e,t)=>cp(e,"name",{value:t,configurable:!0}),Hae=(e,t)=>{for(var r in t)cp(e,r,{get:t[r],enumerable:!0})},$ae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Fae(t))!Bae.call(e,o)&&o!==r&&cp(e,o,{get:()=>t[o],enumerable:!(n=Uae(t,o))||n.enumerable});return e},qae=e=>$ae(cp({},"__esModule",{value:!0}),e),$U={};Hae($U,{calculateBodyLength:()=>zae});qU.exports=qae($U);var HU=typeof TextEncoder=="function"?new TextEncoder:null,zae=jae(e=>{if(typeof e=="string"){if(HU)return HU.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var qe,En=y(()=>{d();qe=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function zU(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new ke(n,"bigDecimal"):BigInt(n)}return t}var VU=y(()=>{d();Pt()});var YU=b((b$e,JU)=>{d();var dp=Object.defineProperty,Vae=Object.getOwnPropertyDescriptor,Gae=Object.getOwnPropertyNames,Wae=Object.prototype.hasOwnProperty,It=(e,t)=>dp(e,"name",{value:t,configurable:!0}),Kae=(e,t)=>{for(var r in t)dp(e,r,{get:t[r],enumerable:!0})},Jae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gae(t))!Wae.call(e,o)&&o!==r&&dp(e,o,{get:()=>t[o],enumerable:!(n=Vae(t,o))||n.enumerable});return e},Yae=e=>Jae(dp({},"__esModule",{value:!0}),e),KU={};Kae(KU,{constructStack:()=>BE});JU.exports=Yae(KU);var _o=It((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Sn=It((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),BE=It(()=>{let e=[],t=[],r=!1,n=new Set,o=It(f=>f.sort((h,g)=>GU[g.step]-GU[h.step]||WU[g.priority||"normal"]-WU[h.priority||"normal"]),"sort"),s=It(f=>{let h=!1,g=It(_=>{let E=_o(_.name,_.aliases);if(E.includes(f)){h=!0;for(let S of E)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=It(f=>{let h=!1,g=It(_=>{if(_.middleware===f){h=!0;for(let E of _o(_.name,_.aliases))n.delete(E);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=It(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(p.identifyOnResolve()),f),"cloneTo"),c=It(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=It((f=!1)=>{let h=[],g=[],_={};return e.forEach(S=>{let v={...S,before:[],after:[]};for(let w of _o(v.name,v.aliases))_[w]=v;h.push(v)}),t.forEach(S=>{let v={...S,before:[],after:[]};for(let w of _o(v.name,v.aliases))_[w]=v;g.push(v)}),g.forEach(S=>{if(S.toMiddleware){let v=_[S.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${Sn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&v.after.push(S),S.relation==="before"&&v.before.push(S)}}),o(h).map(c).reduce((S,v)=>(S.push(...v),S),[])},"getMiddlewareList"),p={add:(f,h={})=>{let{name:g,override:_,aliases:E}=h,S={step:"initialize",priority:"normal",middleware:f,...h},v=_o(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${Sn(g,E)}'`);for(let w of v){let A=e.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=e[A];if(I.step!==S.step||S.priority!==I.priority)throw new Error(`"${Sn(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${Sn(g,E)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(A,1)}}for(let w of v)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:E}=h,S={middleware:f,...h},v=_o(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${Sn(g,E)}'`);for(let w of v){let A=t.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=t[A];if(I.toMiddleware!==S.toMiddleware||I.relation!==S.relation)throw new Error(`"${Sn(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${Sn(g,E)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(A,1)}}for(let w of v)n.add(w)}t.push(S)},clone:()=>a(BE()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=It(_=>{let{tags:E,name:S,aliases:v}=_;if(E&&E.includes(f)){let w=_o(S,v);for(let A of w)n.delete(A);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=a(BE());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Sn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of l().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(p.identify()),f}};return p},"constructStack"),GU={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},WU={high:3,normal:2,low:1}});var oe=b((T$e,GE)=>{d();var lp=Object.defineProperty,Xae=Object.getOwnPropertyDescriptor,Qae=Object.getOwnPropertyNames,Zae=Object.prototype.hasOwnProperty,ee=(e,t)=>lp(e,"name",{value:t,configurable:!0}),ece=(e,t)=>{for(var r in t)lp(e,r,{get:t[r],enumerable:!0})},HE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qae(t))!Zae.call(e,o)&&o!==r&&lp(e,o,{get:()=>t[o],enumerable:!(n=Xae(t,o))||n.enumerable});return e},tce=(e,t,r)=>(HE(e,t,"default"),r&&HE(r,t,"default")),rce=e=>HE(lp({},"__esModule",{value:!0}),e),zE={};ece(zE,{Client:()=>nce,Command:()=>ZU,NoOpLogger:()=>Sce,SENSITIVE_STRING:()=>sce,ServiceException:()=>ace,_json:()=>qE,collectBody:()=>jE.collectBody,convertMap:()=>vce,createAggregatedClient:()=>ice,decorateServiceException:()=>eF,emitWarningIfUnsupportedVersion:()=>uce,extendedEncodeURIComponent:()=>jE.extendedEncodeURIComponent,getArrayIfSingleItem:()=>_ce,getDefaultClientConfiguration:()=>gce,getDefaultExtensionConfiguration:()=>rF,getValueFromTextNode:()=>nF,isSerializableHeaderValue:()=>Ece,loadConfigsForDefaultMode:()=>lce,map:()=>VE,resolveDefaultRuntimeConfig:()=>yce,resolvedPath:()=>jE.resolvedPath,serializeDateTime:()=>Ice,serializeFloat:()=>Pce,take:()=>bce,throwDefaultError:()=>tF,withBaseException:()=>cce});GE.exports=rce(zE);var QU=YU(),nce=class{constructor(e){this.config=e,this.middlewareStack=(0,QU.constructStack)()}static{ee(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},jE=(kr(),z(Zk)),$E=or(),ZU=class{constructor(){this.middlewareStack=(0,QU.constructStack)()}static{ee(this,"Command")}static classBuilder(){return new oce}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:p}){for(let E of n.bind(this)(p,e,t,r))this.middlewareStack.use(E);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[$E.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:_}=t;return f.resolve(E=>_.handle(E.request,r||{}),g)}},oce=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{ee(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends ZU{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{ee(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},sce="***SensitiveInformation***",ice=ee((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=ee(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),ace=class ua extends Error{static{ee(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return ua.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===ua?ua.isInstance(t):ua.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},eF=ee((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),tF=ee(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=dce(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw eF(i,t)},"throwDefaultError"),cce=ee(e=>({output:t,parsedBody:r,errorCode:n})=>{tF({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),dce=ee(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),lce=ee(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),XU=!1,uce=ee(e=>{e&&!XU&&parseInt(e.substring(1,e.indexOf(".")))<16&&(XU=!0)},"emitWarningIfUnsupportedVersion"),pce=ee(e=>{let t=[];for(let r in $E.AlgorithmId){let n=$E.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),mce=ee(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),fce=ee(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),hce=ee(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),rF=ee(e=>Object.assign(pce(e),fce(e)),"getDefaultExtensionConfiguration"),gce=rF,yce=ee(e=>Object.assign(mce(e),hce(e)),"resolveDefaultRuntimeConfig"),_ce=ee(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),nF=ee(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=nF(e[r]));return e},"getValueFromTextNode"),Ece=ee(e=>e!=null,"isSerializableHeaderValue"),Sce=class{static{ee(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function VE(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,wce(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}oF(n,null,s,i)}return n}ee(VE,"map");var vce=ee(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),bce=ee((e,t)=>{let r={};for(let n in t)oF(r,e,t,n);return r},"take"),wce=ee((e,t,r)=>VE(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),oF=ee((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=Tce,c=Cce,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),Tce=ee(e=>e!=null,"nonNullish"),Cce=ee(e=>e,"pass"),Pce=ee(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Ice=ee(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),qE=ee(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(qE);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=qE(e[r]));return t}return e},"_json");tce(zE,(Pt(),z($k)),GE.exports)});var sF,up,WE=y(()=>{d();sF=T(oe()),up=(e,t)=>(0,sF.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var hs,KE,Eo,pa=y(()=>{d();WE();hs=(e,t)=>up(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),KE=async(e,t)=>{let r=await hs(e,t);return r.message=r.message??r.Message,r},Eo=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var iF,ma,JE=y(()=>{d();Re();Pt();iF=T(lt());En();VU();pa();ma=class extends qe{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,zU):await hs(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=q.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(c||p!=null)&&(a[l]=this._read(i,p));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,p=this._read(c,r[l]);p!=null&&(i[a]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,iF.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ze.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===O.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case O.TIMESTAMP_DATE_TIME:return Qi(r);case O.TIMESTAMP_HTTP_DATE:return Zi(r);case O.TIMESTAMP_EPOCH_SECONDS:return ea(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof ke?r:new ke(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var aF,pp,cF=y(()=>{d();Pt();aF="\u039D",pp=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof ke){let n=`${aF+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${aF+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var fa,YE=y(()=>{d();Re();Pt();Pt();En();cF();fa=class extends qe{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=q.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new pp;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=q.of(t);if(s.isListSchema()&&Array.isArray(r)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let p of r)(l||p!=null)&&c.push(this._write(a,p));return c}else if(s.isMapSchema()&&o){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[p,f]of Object.entries(r))(l||f!=null)&&(c[p]=this._write(a,f));return c}else if(s.isStructSchema()&&o){let a={};for(let[c,l]of s.structIterator()){let p=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,r[c],s);f!==void 0&&(a[p]=f)}return a}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===O.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case O.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case O.TIMESTAMP_HTTP_DATE:return Xi(r);case O.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?Ze.from(r):r}}});var So,mp=y(()=>{d();En();JE();YE();So=class extends qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new fa(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new ma(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var dF,vo,fp=y(()=>{d();kr();Re();dF=T(la());mp();pa();vo=class extends lo{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new So({timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+q.of(t).getName()}),(Mr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,dF.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=Eo(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var XE,lF=y(()=>{d();fp();XE=class extends vo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var QE,uF=y(()=>{d();fp();QE=class extends vo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var pF,ZE,mF=y(()=>{d();kr();Re();pF=T(la());mp();pa();ZE=class extends co{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new So(r),this.serializer=new fo(this.codec.createSerializer(),r),this.deserializer=new mo(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=q.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,pF.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=Eo(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var fF,Ace,hF=y(()=>{d();fF=T(oe()),Ace=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,fF.expectUnion)(e)}});function hp(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function yF(e){return typeof e<"u"}var gF,Rce,xce,Oce,ha,gp=y(()=>{"use strict";d();gF=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Rce=gF+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",xce="["+gF+"]["+Rce+"]*",Oce=new RegExp("^"+xce+"$");ha=function(e){let t=Oce.exec(e);return!(t===null||typeof t>"u")}});function bF(e,t){t=Object.assign({},Nce,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=EF(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=SF(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!jce(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",_e("InvalidTag",f,et(e,s))}let l=kce(e,s);if(l===!1)return _e("InvalidAttr","Attributes for '"+c+"' have open quote.",et(e,s));let p=l.value;if(s=l.index,p[p.length-1]==="/"){let f=s-p.length;p=p.substring(0,p.length-1);let h=vF(p,t);if(h===!0)n=!0;else return _e(h.err.code,h.err.msg,et(e,f+h.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return _e("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",et(e,i));if(r.length===0)return _e("InvalidTag","Closing tag '"+c+"' has not been opened.",et(e,i));{let f=r.pop();if(c!==f.tagName){let h=et(e,f.tagStartPos);return _e("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",et(e,i))}r.length==0&&(o=!0)}}else return _e("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",et(e,s));else{let f=vF(p,t);if(f!==!0)return _e(f.err.code,f.err.msg,et(e,s-p.length+f.err.line));if(o===!0)return _e("InvalidXml","Multiple possible root nodes found.",et(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=SF(e,s);continue}else if(e[s+1]==="?"){if(s=EF(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=Fce(e,s);if(f==-1)return _e("InvalidChar","char '&' is not expected.",et(e,s));s=f}else if(o===!0&&!_F(e[s]))return _e("InvalidXml","Extra text at the end",et(e,s));e[s]==="<"&&s--}}else{if(_F(e[s]))continue;return _e("InvalidChar","char '"+e[s]+"' is not expected.",et(e,s))}if(n){if(r.length==1)return _e("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",et(e,r[0].tagStartPos));if(r.length>0)return _e("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return _e("InvalidXml","Start tag expected.",1);return!0}function _F(e){return e===" "||e==="	"||e===`
`||e==="\r"}function EF(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return _e("InvalidXml","XML declaration allowed only at the start of the document.",et(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function SF(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function kce(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Dce||e[t]===Mce)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function vF(e,t){let r=hp(e,Lce),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return _e("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",ga(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return _e("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",ga(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return _e("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",ga(r[o]));let s=r[o][2];if(!Bce(s))return _e("InvalidAttr","Attribute '"+s+"' is an invalid name.",ga(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return _e("InvalidAttr","Attribute '"+s+"' is repeated.",ga(r[o]))}return!0}function Uce(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Fce(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Uce(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function _e(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Bce(e){return ha(e)}function jce(e){return ha(e)}function et(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ga(e){return e.startIndex+e[1].length}var Nce,Dce,Mce,Lce,wF=y(()=>{"use strict";d();gp();Nce={allowBooleanAttributes:!1,unpairedTags:[]};Dce='"',Mce="'";Lce=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var Hce,TF,CF=y(()=>{d();Hce={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},TF=function(e){return Object.assign({},Hce,e)}});var yp,pt,_p=y(()=>{"use strict";d();typeof Symbol!="function"?yp="@@xmlMetadata":yp=Symbol("XML Node Metadata");pt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][yp]={startIndex:r})}static getMetaDataSymbol(){return yp}}});function eS(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&bo(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=$ce(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&bo(e,"!ELEMENT",t)){t+=8;let{index:a}=zce(e,t+1);t=a}else if(o&&bo(e,"!ATTLIST",t))t+=8;else if(o&&bo(e,"!NOTATION",t)){t+=9;let{index:a}=qce(e,t+1);t=a}else if(bo(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function $ce(e,t){t=vn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(tS(r),t=vn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Ep(e,t,"entity"),t--,[r,n,t]}function qce(e,t){t=vn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;tS(r),t=vn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=vn(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Ep(e,t,"publicIdentifier"),t=vn(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Ep(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Ep(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Ep(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function zce(e,t){t=vn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!tS(r))throw new Error(`Invalid element name: "${r}"`);t=vn(e,t);let n="";if(e[t]==="E"&&bo(e,"MPTY",t))t+=4;else if(e[t]==="A"&&bo(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function bo(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function tS(e){if(ha(e))return e;throw new Error(`Invalid entity name ${e}`)}var vn,PF=y(()=>{d();gp();vn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function rS(e,t={}){if(t=Object.assign({},Wce,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&Vce.test(r))return Xce(r,16);if(r.search(/.+[eE].+/)!==-1)return Jce(e,r,t);{let n=Gce.exec(r);if(n){let o=n[1]||"",s=n[2],i=Yce(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let p=s?i:r;return s?p===l||o+p===l?c:e:p===l||p===o+l?c:e}}else return e}}function Jce(e,t,r){if(!r.eNotation)return e;let n=t.match(Kce);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function Yce(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function Xce(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var Vce,Gce,Wce,Kce,IF=y(()=>{d();Vce=/^[-+]?0x[a-fA-F0-9]+$/,Gce=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Wce={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Kce=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function nS(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var AF=y(()=>{d()});function Qce(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Zce(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?sS(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?sS(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function ede(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function rde(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=hp(e,tde),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?s[l]=c:typeof p!=typeof c||p!==c?s[l]=p:s[l]=sS(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function ode(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function ide(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ade(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function cde(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function wo(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function oS(e,t,r,n=">"){let o=cde(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let p=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:p}}function dde(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=wo(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=wo(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=wo(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=wo(e,"]]>",r,"StopNode is not closed.")-2;else{let s=oS(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function sS(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:rS(e,r)}else return yF(e)?e:""}var ya,tde,nde,sde,RF=y(()=>{"use strict";d();gp();_p();PF();IF();AF();ya=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Qce,this.parseXml=nde,this.parseTextData=Zce,this.resolveNameSpace=ede,this.buildAttributesMap=rde,this.isItStopNode=ade,this.replaceEntitiesValue=sde,this.readStopNodeData=dde,this.saveTextToParentTag=ide,this.addChild=ode,this.ignoreAttributesFn=nS(this.options.ignoreAttributes)}};tde=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");nde=function(e){e=e.replace(/\r\n?/g,`
`);let t=new pt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=wo(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=oS(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new pt(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=wo(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=eS(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=wo(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=oS(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,p=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let v=this.readStopNodeData(e,l,h+1);if(!v)throw new Error(`Unexpected end of ${l}`);s=v.i,E=v.tagContent}let S=new pt(c);c!==p&&f&&(S[":@"]=this.buildAttributesMap(p,o,c)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,E),this.addChild(r,S,o,_)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new pt(c);c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),o=o.substr(0,o.lastIndexOf("."))}else{let E=new pt(c);this.tagsNodeStack.push(r),c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),r=E}n="",s=h}}else n+=e[s];return t.child};sde=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function aS(e,t){return xF(e,t)}function xF(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=lde(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=xF(i[a],t,c),p=pde(l,t);i[iS]!==void 0&&(l[iS]=i[iS]),i[":@"]?ude(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function lde(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function ude(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function pde(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var iS,OF=y(()=>{"use strict";d();_p();iS=pt.getMetaDataSymbol()});var bn,NF=y(()=>{d();CF();RF();OF();wF();_p();bn=class{constructor(t){this.externalEntities={},this.options=TF(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=bF(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new ya(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:aS(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return pt.getMetaDataSymbol()}}});var cS=y(()=>{"use strict";d();NF()});var DF,MF,To,Sp=y(()=>{d();kr();Re();DF=T(oe()),MF=T(Xe());cS();En();To=class extends qe{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new po(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=q.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(s)[0];return s[p].isBlobSchema()?l[p]=r:l[p]=this.read(s[p],r),l}let a=(this.serdeContext?.utf8Encoder??MF.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=q.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],p=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of p){let _=g[f],E=g[h];(E!=null||s)&&(a[_]=this.readSchema(l,E))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,DF.getValueFromTextNode)(i)}return{}}}});var kF,LF,vp,UF=y(()=>{d();kr();Re();Pt();kF=T(oe()),LF=T(lt());En();vp=class extends qe{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=q.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??LF.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof ke?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),uo(o,this.settings)){case O.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case O.TIMESTAMP_HTTP_DATE:this.writeValue((0,kF.dateToUtcString)(r));break;case O.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,p),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,h),this.write(i,p,_),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${cr(t)}=`}writeValue(t){this.buffer+=cr(t)}}});var FF,_a,dS=y(()=>{d();kr();Re();FF=T(la());Sp();UF();_a=class extends lo{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new vp(r),this.deserializer=new To(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Mr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,FF.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let p=await Ct(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let f=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=f}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await Ct(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),p=Qe.for(a),f;try{f=p.find(S=>q.of(S).getMergedTraits().awsQueryError?.[0]===c),f||(f=p.getSchema(i))}catch{let v=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(v){let w=v.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let h=q.of(f),g=this.loadQueryErrorMessage(o),_=new f.ctor(g),E={};for(let[S,v]of h.structIterator()){let w=v.getMergedTraits().xmlName??S,A=l[w]??o[w];E[S]=this.deserializer.readSchema(v,A)}throw Object.assign(_,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,...E}),_}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var lS,BF=y(()=>{d();dS();lS=class extends _a{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var jF,Ea,uS,pS,mS=y(()=>{d();jF=T(oe());cS();WE();Ea=(e,t)=>up(e,t).then(r=>{if(r.length){let n=new bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,jF.getValueFromTextNode)(a)}return{}}),uS=async(e,t)=>{let r=await Ea(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},pS=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var At,fS,bp,Sa,hS=y(()=>{d();At=T(Ug());Re();Pt();fS=T(oe()),bp=T(lt());En();Sa=class extends qe{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=q.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??bp.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=At.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,c);else if(p.isMapSchema())this.writeMap(p,f,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,c));else{let h=At.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,h,c),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,o),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let E=this.writeStruct(i,_,f);g.addChildNode(E.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let E=At.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,E,f),g.addChildNode(E)}};if(l)for(let g of r)(c||g!=null)&&h(n,g);else{let g=At.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(p,f);for(let _ of r)(c||_!=null)&&h(g,_);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[E,S]=this.getXmlnsAttribute(t,o),v=(w,A,I)=>{let C=At.XmlNode.of(l,A),[k,Ve]=this.getXmlnsAttribute(a,S);Ve&&C.addAttribute(k,Ve),w.addChildNode(C);let se=At.XmlNode.of(h);p.isListSchema()?this.writeList(p,I,se,S):p.isMapSchema()?this.writeMap(p,I,se,S,!0):p.isStructSchema()?se=this.writeStruct(p,I,S):this.writeSimpleInto(p,I,se,S),w.addChildNode(se)};if(_){for(let[w,A]of Object.entries(r))if(g||A!=null){let I=At.XmlNode.of(i.xmlName??t.getMemberName());v(I,w,A),n.addChildNode(I)}}else{let w;s||(w=At.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(E,S),n.addChildNode(w));for(let[A,I]of Object.entries(r))if(g||I!=null){let C=At.XmlNode.of("entry");v(C,A,I),(s?n:w).addChildNode(C)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=q.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??bp.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===O.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case O.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:o=(0,fS.dateToUtcString)(r);break;case O.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,fS.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof ke?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=q.of(t),a=new At.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var va,gS=y(()=>{d();En();Sp();hS();va=class extends qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Sa(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new To(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var HF,yS,$F=y(()=>{d();kr();Re();HF=T(la());mS();gS();yS=class extends co{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new va(r),this.serializer=new fo(this.codec.createSerializer(),r),this.deserializer=new mo(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=q.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,HF.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=pS(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().xmlName??E,w=o.Error?.[v]??o[v];_[E]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var qF=y(()=>{d();jU();lF();uF();fp();mF();mp();JE();YE();hF();pa();BF();dS();$F();gS();Sp();hS();mS()});var zF={};He(zF,{AWSSDKSigV4Signer:()=>JL,AwsEc2QueryProtocol:()=>lS,AwsJson1_0Protocol:()=>XE,AwsJson1_1Protocol:()=>QE,AwsJsonRpcProtocol:()=>vo,AwsQueryProtocol:()=>_a,AwsRestJsonProtocol:()=>ZE,AwsRestXmlProtocol:()=>yS,AwsSdkSigV4ASigner:()=>Qu,AwsSdkSigV4Signer:()=>ut,JsonCodec:()=>So,JsonShapeDeserializer:()=>ma,JsonShapeSerializer:()=>fa,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ca,NODE_SIGV4A_CONFIG_OPTIONS:()=>cae,XmlCodec:()=>va,XmlShapeDeserializer:()=>To,XmlShapeSerializer:()=>Sa,_toBool:()=>kae,_toNum:()=>Lae,_toStr:()=>Mae,awsExpectUnion:()=>Ace,emitWarningIfUnsupportedVersion:()=>sa,getBearerTokenEnvKey:()=>PE,loadRestJsonErrorCode:()=>Eo,loadRestXmlErrorCode:()=>pS,parseJsonBody:()=>hs,parseJsonErrorBody:()=>KE,parseXmlBody:()=>Ea,parseXmlErrorBody:()=>uS,resolveAWSSDKSigV4Config:()=>Oae,resolveAwsSdkSigV4AConfig:()=>aae,resolveAwsSdkSigV4Config:()=>fs,setCredentialFeature:()=>go,setFeature:()=>Kie,setTokenFeature:()=>Jie,state:()=>EE,validateSigningProperties:()=>aa});var ur=y(()=>{d();Xu();BU();qF()});var Cp=b((gVe,rB)=>{"use strict";d();var Tp=Object.defineProperty,mde=Object.getOwnPropertyDescriptor,fde=Object.getOwnPropertyNames,hde=Object.prototype.hasOwnProperty,Fr=(e,t)=>Tp(e,"name",{value:t,configurable:!0}),gde=(e,t)=>{for(var r in t)Tp(e,r,{get:t[r],enumerable:!0})},yde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fde(t))!hde.call(e,o)&&o!==r&&Tp(e,o,{get:()=>t[o],enumerable:!(n=mde(t,o))||n.enumerable});return e},_de=e=>yde(Tp({},"__esModule",{value:!0}),e),KF={};gde(KF,{DEFAULT_UA_APP_ID:()=>JF,getUserAgentMiddlewareOptions:()=>tB,getUserAgentPlugin:()=>Pde,resolveUserAgentConfig:()=>XF,userAgentMiddleware:()=>eB});rB.exports=_de(KF);var Ede=(Lt(),z(mE)),JF=void 0;function YF(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Fr(YF,"isValidUserAgentAppId");function XF(e){let t=(0,Ede.normalizeProvider)(e.userAgentAppId??JF),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Fr(async()=>{let n=await t();if(!YF(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Fr(XF,"resolveUserAgentConfig");var Sde=Yu(),vde=he(),pr=(ur(),z(zF)),bde=/\d{12}\.ddb/;async function QF(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,pr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,pr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,pr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,pr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(bde)&&(0,pr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,pr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,pr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,pr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,pr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,pr.setFeature)(e,i,a)}}Fr(QF,"checkFeatures");var VF="user-agent",_S="x-amz-user-agent",GF=" ",ES="/",wde=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Tde=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,WF="-",Cde=1024;function ZF(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Cde){t.length?t+=","+n:t+=n;continue}break}return t}Fr(ZF,"encodeFeatures");var eB=Fr(e=>(t,r)=>async n=>{let{request:o}=n;if(!vde.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(wp)||[],a=(await e.defaultUserAgentProvider()).map(wp);await QF(r,e,n);let c=r;a.push(`m/${ZF(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(wp)||[],p=await e.userAgentAppId();p&&a.push(wp([`app/${p}`]));let f=(0,Sde.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...a,...i,...l]).join(GF),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...l].join(GF);return e.runtime!=="browser"?(g&&(s[_S]=s[_S]?`${s[VF]} ${g}`:g),s[VF]=h):s[_S]=h,t({...n,request:o})},"userAgentMiddleware"),wp=Fr(e=>{let t=e[0].split(ES).map(i=>i.replace(wde,WF)).join(ES),r=e[1]?.replace(Tde,WF),n=t.indexOf(ES),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),tB={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Pde=Fr(e=>({applyToStack:Fr(t=>{t.add(eB(e),tB)},"applyToStack")}),"getUserAgentPlugin")});var aB=b((_Ve,iB)=>{d();var Pp=Object.defineProperty,Ide=Object.getOwnPropertyDescriptor,Ade=Object.getOwnPropertyNames,Rde=Object.prototype.hasOwnProperty,nB=(e,t)=>Pp(e,"name",{value:t,configurable:!0}),xde=(e,t)=>{for(var r in t)Pp(e,r,{get:t[r],enumerable:!0})},Ode=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ade(t))!Rde.call(e,o)&&o!==r&&Pp(e,o,{get:()=>t[o],enumerable:!(n=Ide(t,o))||n.enumerable});return e},Nde=e=>Ode(Pp({},"__esModule",{value:!0}),e),oB={};xde(oB,{SelectorType:()=>sB,booleanSelector:()=>Dde,numberSelector:()=>Mde});iB.exports=Nde(oB);var Dde=nB((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),Mde=nB((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),sB=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(sB||{})});var gs=b((SVe,_B)=>{d();var Ap=Object.defineProperty,kde=Object.getOwnPropertyDescriptor,Lde=Object.getOwnPropertyNames,Ude=Object.prototype.hasOwnProperty,Ut=(e,t)=>Ap(e,"name",{value:t,configurable:!0}),Fde=(e,t)=>{for(var r in t)Ap(e,r,{get:t[r],enumerable:!0})},Bde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Lde(t))!Ude.call(e,o)&&o!==r&&Ap(e,o,{get:()=>t[o],enumerable:!(n=kde(t,o))||n.enumerable});return e},jde=e=>Bde(Ap({},"__esModule",{value:!0}),e),lB={};Fde(lB,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>pB,CONFIG_USE_FIPS_ENDPOINT:()=>fB,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Hde,DEFAULT_USE_FIPS_ENDPOINT:()=>qde,ENV_USE_DUALSTACK_ENDPOINT:()=>uB,ENV_USE_FIPS_ENDPOINT:()=>mB,NODE_REGION_CONFIG_FILE_OPTIONS:()=>Jde,NODE_REGION_CONFIG_OPTIONS:()=>Kde,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>$de,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>zde,REGION_ENV_NAME:()=>hB,REGION_INI_NAME:()=>gB,getRegionInfo:()=>ele,resolveCustomEndpointsConfig:()=>Vde,resolveEndpointsConfig:()=>Wde,resolveRegionConfig:()=>Yde});_B.exports=jde(lB);var wn=aB(),uB="AWS_USE_DUALSTACK_ENDPOINT",pB="use_dualstack_endpoint",Hde=!1,$de={environmentVariableSelector:e=>(0,wn.booleanSelector)(e,uB,wn.SelectorType.ENV),configFileSelector:e=>(0,wn.booleanSelector)(e,pB,wn.SelectorType.CONFIG),default:!1},mB="AWS_USE_FIPS_ENDPOINT",fB="use_fips_endpoint",qde=!1,zde={environmentVariableSelector:e=>(0,wn.booleanSelector)(e,mB,wn.SelectorType.ENV),configFileSelector:e=>(0,wn.booleanSelector)(e,fB,wn.SelectorType.CONFIG),default:!1},Ip=Or(),Vde=Ut(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Ip.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ip.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),Gde=Ut(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),Wde=Ut(e=>{let t=(0,Ip.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Ip.normalizeProvider)(typeof r=="string"?o(r):r):()=>Gde({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),hB="AWS_REGION",gB="region",Kde={environmentVariableSelector:e=>e[hB],configFileSelector:e=>e[gB],default:()=>{throw new Error("Region is missing")}},Jde={preferredFile:"credentials"},yB=Ut(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),cB=Ut(e=>yB(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Yde=Ut(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return cB(t);let n=await t();return cB(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return yB(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),dB=Ut((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),Xde=Ut((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),Qde=Ut((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),Zde=Ut((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),ele=Ut((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=Qde(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=dB(o[a]?.variants,c),p=dB(s[i]?.variants,c),f=Xde(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=Zde(f,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var vS=b((bVe,wB)=>{d();var Rp=Object.defineProperty,tle=Object.getOwnPropertyDescriptor,rle=Object.getOwnPropertyNames,nle=Object.prototype.hasOwnProperty,SB=(e,t)=>Rp(e,"name",{value:t,configurable:!0}),ole=(e,t)=>{for(var r in t)Rp(e,r,{get:t[r],enumerable:!0})},sle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rle(t))!nle.call(e,o)&&o!==r&&Rp(e,o,{get:()=>t[o],enumerable:!(n=tle(t,o))||n.enumerable});return e},ile=e=>sle(Rp({},"__esModule",{value:!0}),e),vB={};ole(vB,{contentLengthMiddleware:()=>SS,contentLengthMiddlewareOptions:()=>bB,getContentLengthPlugin:()=>cle});wB.exports=ile(vB);var ale=he(),EB="content-length";function SS(e){return t=>async r=>{let n=r.request;if(ale.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(EB)===-1)try{let i=e(o);n.headers={...n.headers,[EB]:String(i)}}catch{}}return t({...r,request:n})}}SB(SS,"contentLengthMiddleware");var bB={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},cle=SB(e=>({applyToStack:t=>{t.add(SS(e.bodyLengthChecker),bB)}}),"getContentLengthPlugin")});var ys=b(xp=>{"use strict";d();Object.defineProperty(xp,"__esModule",{value:!0});xp.getHomeDir=void 0;var dle=M("os"),lle=M("path"),bS={},ule=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",ple=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${lle.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=ule();return bS[o]||(bS[o]=(0,dle.homedir)()),bS[o]};xp.getHomeDir=ple});var wS=b(Op=>{"use strict";d();Object.defineProperty(Op,"__esModule",{value:!0});Op.getSSOTokenFilepath=void 0;var mle=M("crypto"),fle=M("path"),hle=ys(),gle=e=>{let r=(0,mle.createHash)("sha1").update(e).digest("hex");return(0,fle.join)((0,hle.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Op.getSSOTokenFilepath=gle});var TB=b(Np=>{"use strict";d();Object.defineProperty(Np,"__esModule",{value:!0});Np.getSSOTokenFromFile=void 0;var yle=M("fs"),_le=wS(),{readFile:Ele}=yle.promises,Sle=async e=>{let t=(0,_le.getSSOTokenFilepath)(e),r=await Ele(t,"utf8");return JSON.parse(r)};Np.getSSOTokenFromFile=Sle});var CS=b(Dp=>{"use strict";d();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.slurpFile=void 0;var vle=M("fs"),{readFile:ble}=vle.promises,TS={},wle=(e,t)=>((!TS[e]||t?.ignoreCache)&&(TS[e]=ble(e,"utf8")),TS[e]);Dp.slurpFile=wle});var RS=b((NVe,wa)=>{d();var Lp=Object.defineProperty,Tle=Object.getOwnPropertyDescriptor,Cle=Object.getOwnPropertyNames,Ple=Object.prototype.hasOwnProperty,Rt=(e,t)=>Lp(e,"name",{value:t,configurable:!0}),Ile=(e,t)=>{for(var r in t)Lp(e,r,{get:t[r],enumerable:!0})},PS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cle(t))!Ple.call(e,o)&&o!==r&&Lp(e,o,{get:()=>t[o],enumerable:!(n=Tle(t,o))||n.enumerable});return e},AS=(e,t,r)=>(PS(e,t,"default"),r&&PS(r,t,"default")),Ale=e=>PS(Lp({},"__esModule",{value:!0}),e),ba={};Ile(ba,{CONFIG_PREFIX_SEPARATOR:()=>Co,DEFAULT_PROFILE:()=>AB,ENV_PROFILE:()=>IB,getProfileName:()=>Rle,loadSharedConfigFiles:()=>xB,loadSsoSessionData:()=>$le,parseKnownFiles:()=>zle});wa.exports=Ale(ba);AS(ba,ys(),wa.exports);var IB="AWS_PROFILE",AB="default",Rle=Rt(e=>e.profile||process.env[IB]||AB,"getProfileName");AS(ba,wS(),wa.exports);AS(ba,TB(),wa.exports);var Mp=or(),xle=Rt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Co);return r===-1?!1:Object.values(Mp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Co),s=r.substring(0,o)===Mp.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),kp=M("path"),Ole=ys(),Nle="AWS_CONFIG_FILE",RB=Rt(()=>process.env[Nle]||(0,kp.join)((0,Ole.getHomeDir)(),".aws","config"),"getConfigFilepath"),Dle=ys(),Mle="AWS_SHARED_CREDENTIALS_FILE",kle=Rt(()=>process.env[Mle]||(0,kp.join)((0,Dle.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),Lle=ys(),Ule=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Fle=["__proto__","profile __proto__"],IS=Rt(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=Ule.exec(a);if(c){let[,l,,p]=c;Object.values(Mp.IniSectionType).includes(l)&&(r=[l,p].join(Co))}else r=a;if(Fle.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(Co):c;t[r][p]=l}}}}return t},"parseIni"),CB=CS(),PB=Rt(()=>({}),"swallowError"),Co=".",xB=Rt(async(e={})=>{let{filepath:t=kle(),configFilepath:r=RB()}=e,n=(0,Lle.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,kp.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,kp.join)(n,r.slice(2)));let a=await Promise.all([(0,CB.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(IS).then(xle).catch(PB),(0,CB.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(IS).catch(PB)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),Ble=Rt(e=>Object.entries(e).filter(([t])=>t.startsWith(Mp.IniSectionType.SSO_SESSION+Co)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Co)+1)]:n}),{}),"getSsoSessionData"),jle=CS(),Hle=Rt(()=>({}),"swallowError"),$le=Rt(async(e={})=>(0,jle.slurpFile)(e.configFilepath??RB()).then(IS).then(Ble).catch(Hle),"loadSsoSessionData"),qle=Rt((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),zle=Rt(async e=>{let t=await xB(e);return qle(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Es=b((MVe,DB)=>{d();var Up=Object.defineProperty,Vle=Object.getOwnPropertyDescriptor,Gle=Object.getOwnPropertyNames,Wle=Object.prototype.hasOwnProperty,_s=(e,t)=>Up(e,"name",{value:t,configurable:!0}),Kle=(e,t)=>{for(var r in t)Up(e,r,{get:t[r],enumerable:!0})},Jle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gle(t))!Wle.call(e,o)&&o!==r&&Up(e,o,{get:()=>t[o],enumerable:!(n=Vle(t,o))||n.enumerable});return e},Yle=e=>Jle(Up({},"__esModule",{value:!0}),e),NB={};Kle(NB,{loadConfig:()=>tue});DB.exports=Yle(NB);var Ta=da();function xS(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}_s(xS,"getSelectorName");var Xle=_s((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ta.CredentialsProviderError(r.message||`Not found in ENV: ${xS(e.toString())}`,{logger:t?.logger})}},"fromEnv"),OB=RS(),Qle=_s((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,OB.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,OB.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let p=e(c,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(l){throw new Ta.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${xS(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Zle=_s(e=>typeof e=="function","isFunction"),eue=_s(e=>Zle(e)?async()=>await e():(0,Ta.fromStatic)(e),"fromStatic"),tue=_s(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Ta.memoize)((0,Ta.chain)(Xle(e,i),Qle(t,n),eue(r)))},"loadConfig")});var UB=b(Fp=>{"use strict";d();Object.defineProperty(Fp,"__esModule",{value:!0});Fp.getEndpointUrlConfig=void 0;var MB=RS(),kB="AWS_ENDPOINT_URL",LB="endpoint_url",rue=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[kB,...r].join("_")];if(n)return n;let o=t[kB];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(MB.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),LB].join(MB.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[LB];if(n)return n},default:void 0});Fp.getEndpointUrlConfig=rue});var OS=b(Bp=>{"use strict";d();Object.defineProperty(Bp,"__esModule",{value:!0});Bp.getEndpointFromConfig=void 0;var nue=Es(),oue=UB(),sue=async e=>(0,nue.loadConfig)((0,oue.getEndpointUrlConfig)(e??""))();Bp.getEndpointFromConfig=sue});var Ss=b((jVe,zB)=>{d();var Hp=Object.defineProperty,iue=Object.getOwnPropertyDescriptor,aue=Object.getOwnPropertyNames,cue=Object.prototype.hasOwnProperty,xt=(e,t)=>Hp(e,"name",{value:t,configurable:!0}),due=(e,t)=>{for(var r in t)Hp(e,r,{get:t[r],enumerable:!0})},lue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of aue(t))!cue.call(e,o)&&o!==r&&Hp(e,o,{get:()=>t[o],enumerable:!(n=iue(t,o))||n.enumerable});return e},uue=e=>lue(Hp({},"__esModule",{value:!0}),e),BB={};due(BB,{endpointMiddleware:()=>$B,endpointMiddlewareOptions:()=>qB,getEndpointFromInstructions:()=>jB,getEndpointPlugin:()=>bue,resolveEndpointConfig:()=>Tue,resolveEndpointRequiredConfig:()=>Cue,resolveParams:()=>HB,toEndpointV1:()=>NS});zB.exports=uue(BB);var pue=xt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),yue(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gue(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),mue=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,fue=/(\d+\.){3}\d+/,hue=/\.\./,gue=xt(e=>mue.test(e)&&!fue.test(e)&&!hue.test(e),"isDnsCompatibleBucketName"),yue=xt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),_ue=xt((e,t,r)=>{let n=xt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),Eue=OS(),FB=us(),NS=xt(e=>typeof e=="object"?"url"in e?(0,FB.parseUrl)(e.url):e:(0,FB.parseUrl)(e),"toEndpointV1"),jB=xt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,Eue.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(NS(i)),r.isCustomEndpoint=!0)}let o=await HB(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),HB=xt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await _ue(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await pue(n),n},"resolveParams"),Sue=(Lt(),z(mE)),jp=Or(),$B=xt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,Sue.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await jB(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,jp.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),vue=ns(),qB={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:vue.serializerMiddlewareOption.name},bue=xt((e,t)=>({applyToStack:r=>{r.addRelativeTo($B({config:e,instructions:t}),qB)}}),"getEndpointPlugin"),wue=OS(),Tue=xt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>NS(await(0,jp.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,jp.normalizeProvider)(n??!1),useFipsEndpoint:(0,jp.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,wue.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),Cue=xt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});import Pue from"crypto";function Ca(){return $p>qp.length-16&&(Pue.randomFillSync(qp),$p=0),qp.slice($p,$p+=16)}var qp,$p,DS=y(()=>{d();qp=new Uint8Array(256),$p=qp.length});var VB,GB=y(()=>{d();VB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Iue(e){return typeof e=="string"&&VB.test(e)}var Tn,Pa=y(()=>{d();GB();Tn=Iue});function Po(e,t=0){return Ue[e[t+0]]+Ue[e[t+1]]+Ue[e[t+2]]+Ue[e[t+3]]+"-"+Ue[e[t+4]]+Ue[e[t+5]]+"-"+Ue[e[t+6]]+Ue[e[t+7]]+"-"+Ue[e[t+8]]+Ue[e[t+9]]+"-"+Ue[e[t+10]]+Ue[e[t+11]]+Ue[e[t+12]]+Ue[e[t+13]]+Ue[e[t+14]]+Ue[e[t+15]]}function Aue(e,t=0){let r=Po(e,t);if(!Tn(r))throw TypeError("Stringified UUID is invalid");return r}var Ue,WB,Ia=y(()=>{d();Pa();Ue=[];for(let e=0;e<256;++e)Ue.push((e+256).toString(16).slice(1));WB=Aue});function Rue(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||KB,i=e.clockseq!==void 0?e.clockseq:MS;if(s==null||i==null){let h=e.random||(e.rng||Ca)();s==null&&(s=KB=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=MS=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:LS+1,l=a-kS+(c-LS)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>kS)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kS=a,LS=c,MS=i,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||Po(o)}var KB,MS,kS,LS,JB,YB=y(()=>{d();DS();Ia();kS=0,LS=0;JB=Rue});function xue(e){if(!Tn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var zp,US=y(()=>{d();Pa();zp=xue});function Oue(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Aa(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=Oue(o)),typeof s=="string"&&(s=zp(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let p=0;p<16;++p)i[a+p]=l[p];return i}return Po(l)}try{n.name=e}catch{}return n.DNS=Nue,n.URL=Due,n}var Nue,Due,FS=y(()=>{d();Ia();US();Nue="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Due="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import Mue from"crypto";function kue(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Mue.createHash("md5").update(e).digest()}var XB,QB=y(()=>{d();XB=kue});var Lue,ZB,e1=y(()=>{d();FS();QB();Lue=Aa("v3",48,XB),ZB=Lue});import Uue from"crypto";var BS,t1=y(()=>{d();BS={randomUUID:Uue.randomUUID}});function Fue(e,t,r){if(BS.randomUUID&&!t&&!e)return BS.randomUUID();e=e||{};let n=e.random||(e.rng||Ca)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Po(n)}var r1,n1=y(()=>{d();t1();DS();Ia();r1=Fue});import Bue from"crypto";function jue(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Bue.createHash("sha1").update(e).digest()}var o1,s1=y(()=>{d();o1=jue});var Hue,i1,a1=y(()=>{d();FS();s1();Hue=Aa("v5",80,o1),i1=Hue});var c1,d1=y(()=>{d();c1="00000000-0000-0000-0000-000000000000"});function $ue(e){if(!Tn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var l1,u1=y(()=>{d();Pa();l1=$ue});var p1={};He(p1,{NIL:()=>c1,parse:()=>zp,stringify:()=>WB,v1:()=>JB,v3:()=>ZB,v4:()=>r1,v5:()=>i1,validate:()=>Tn,version:()=>l1});var m1=y(()=>{d();YB();e1();n1();a1();d1();u1();Pa();Ia();US()});var HS=b((WGe,y1)=>{d();var Vp=Object.defineProperty,que=Object.getOwnPropertyDescriptor,zue=Object.getOwnPropertyNames,Vue=Object.prototype.hasOwnProperty,Io=(e,t)=>Vp(e,"name",{value:t,configurable:!0}),Gue=(e,t)=>{for(var r in t)Vp(e,r,{get:t[r],enumerable:!0})},Wue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zue(t))!Vue.call(e,o)&&o!==r&&Vp(e,o,{get:()=>t[o],enumerable:!(n=que(t,o))||n.enumerable});return e},Kue=e=>Wue(Vp({},"__esModule",{value:!0}),e),f1={};Gue(f1,{isBrowserNetworkError:()=>g1,isClockSkewCorrectedError:()=>h1,isClockSkewError:()=>rpe,isRetryableByTrait:()=>tpe,isServerError:()=>ope,isThrottlingError:()=>npe,isTransientError:()=>jS});y1.exports=Kue(f1);var Jue=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Yue=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Xue=["TimeoutError","RequestTimeout","RequestTimeoutException"],Que=[500,502,503,504],Zue=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],epe=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],tpe=Io(e=>e.$retryable!==void 0,"isRetryableByTrait"),rpe=Io(e=>Jue.includes(e.name),"isClockSkewError"),h1=Io(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),g1=Io(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),npe=Io(e=>e.$metadata?.httpStatusCode===429||Yue.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),jS=Io((e,t=0)=>h1(e)||Xue.includes(e.name)||Zue.includes(e?.code||"")||epe.includes(e?.code||"")||Que.includes(e.$metadata?.httpStatusCode||0)||g1(e)||e.cause!==void 0&&t<=10&&jS(e.cause,t+1),"isTransientError"),ope=Io(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!jS(e)}return!1},"isServerError")});var Wp=b((JGe,I1)=>{d();var Gp=Object.defineProperty,spe=Object.getOwnPropertyDescriptor,ipe=Object.getOwnPropertyNames,ape=Object.prototype.hasOwnProperty,Ft=(e,t)=>Gp(e,"name",{value:t,configurable:!0}),cpe=(e,t)=>{for(var r in t)Gp(e,r,{get:t[r],enumerable:!0})},dpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ipe(t))!ape.call(e,o)&&o!==r&&Gp(e,o,{get:()=>t[o],enumerable:!(n=spe(t,o))||n.enumerable});return e},lpe=e=>dpe(Gp({},"__esModule",{value:!0}),e),E1={};cpe(E1,{AdaptiveRetryStrategy:()=>gpe,ConfiguredRetryStrategy:()=>ype,DEFAULT_MAX_ATTEMPTS:()=>$S,DEFAULT_RETRY_DELAY_BASE:()=>Ra,DEFAULT_RETRY_MODE:()=>upe,DefaultRateLimiter:()=>v1,INITIAL_RETRY_TOKENS:()=>qS,INVOCATION_ID_HEADER:()=>mpe,MAXIMUM_RETRY_DELAY:()=>zS,NO_RETRY_INCREMENT:()=>P1,REQUEST_HEADER:()=>fpe,RETRY_COST:()=>T1,RETRY_MODES:()=>S1,StandardRetryStrategy:()=>VS,THROTTLING_RETRY_DELAY_BASE:()=>w1,TIMEOUT_RETRY_COST:()=>C1});I1.exports=lpe(E1);var S1=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(S1||{}),$S=3,upe="standard",ppe=HS(),v1=class b1{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Ft(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>b1.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,ppe.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ra=100,zS=20*1e3,w1=500,qS=500,T1=5,C1=10,P1=1,mpe="amz-sdk-invocation-id",fpe="amz-sdk-request",hpe=Ft(()=>{let e=Ra;return{computeNextBackoffDelay:Ft(n=>Math.floor(Math.min(zS,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Ft(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),_1=Ft(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Ft(()=>t,"getRetryCount"),getRetryDelay:Ft(()=>Math.min(zS,e),"getRetryDelay"),getRetryCost:Ft(()=>r,"getRetryCost")}),"createDefaultRetryToken"),VS=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=qS,this.retryBackoffStrategy=hpe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{Ft(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return _1({retryDelay:Ra,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?w1:Ra);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,_1({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(qS,this.capacity+(e.getRetryCost()??P1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${$S}`),$S}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?C1:T1}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},gpe=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new v1,this.standardRetryStrategy=new VS(e)}static{Ft(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},ype=class extends VS{static{Ft(this,"ConfiguredRetryStrategy")}constructor(e,t=Ra){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var A1=b(Kp=>{"use strict";d();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.isStreamingPayload=void 0;var _pe=M("stream"),Epe=e=>e?.body instanceof _pe.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Kp.isStreamingPayload=Epe});var xa=b((r2e,q1)=>{d();var Jp=Object.defineProperty,Spe=Object.getOwnPropertyDescriptor,vpe=Object.getOwnPropertyNames,bpe=Object.prototype.hasOwnProperty,we=(e,t)=>Jp(e,"name",{value:t,configurable:!0}),wpe=(e,t)=>{for(var r in t)Jp(e,r,{get:t[r],enumerable:!0})},Tpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vpe(t))!bpe.call(e,o)&&o!==r&&Jp(e,o,{get:()=>t[o],enumerable:!(n=Spe(t,o))||n.enumerable});return e},Cpe=e=>Tpe(Jp({},"__esModule",{value:!0}),e),x1={};wpe(x1,{AdaptiveRetryStrategy:()=>Ape,CONFIG_MAX_ATTEMPTS:()=>WS,CONFIG_RETRY_MODE:()=>U1,ENV_MAX_ATTEMPTS:()=>GS,ENV_RETRY_MODE:()=>L1,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>Rpe,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>Ope,StandardRetryStrategy:()=>k1,defaultDelayDecider:()=>N1,defaultRetryDecider:()=>D1,getOmitRetryHeadersPlugin:()=>Npe,getRetryAfterHint:()=>$1,getRetryPlugin:()=>Fpe,omitRetryHeadersMiddleware:()=>F1,omitRetryHeadersMiddlewareOptions:()=>B1,resolveRetryConfig:()=>xpe,retryMiddleware:()=>j1,retryMiddlewareOptions:()=>H1});q1.exports=Cpe(x1);var vs=he(),O1=(m1(),z(p1)),ge=Wp(),Ppe=we((e,t)=>{let r=e,n=t?.noRetryIncrement??ge.NO_RETRY_INCREMENT,o=t?.retryCost??ge.RETRY_COST,s=t?.timeoutRetryCost??ge.TIMEOUT_RETRY_COST,i=e,a=we(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),c=we(f=>a(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:we(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:we(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),N1=we((e,t)=>Math.floor(Math.min(ge.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Cn=HS(),D1=we(e=>e?(0,Cn.isRetryableByTrait)(e)||(0,Cn.isClockSkewError)(e)||(0,Cn.isThrottlingError)(e)||(0,Cn.isTransientError)(e):!1,"defaultRetryDecider"),M1=we(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),k1=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ge.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??D1,this.delayDecider=t?.delayDecider??N1,this.retryQuota=t?.retryQuota??Ppe(ge.INITIAL_RETRY_TOKENS)}static{we(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ge.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(vs.HttpRequest.isInstance(a)&&(a.headers[ge.INVOCATION_ID_HEADER]=(0,O1.v4)());;)try{vs.HttpRequest.isInstance(a)&&(a.headers[ge.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=M1(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,Cn.isThrottlingError)(l)?ge.THROTTLING_RETRY_DELAY_BASE:ge.DEFAULT_RETRY_DELAY_BASE,o),f=Ipe(l.$response),h=Math.max(f||0,p);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},Ipe=we(e=>{if(!vs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Ape=class extends k1{static{we(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ge.DefaultRateLimiter,this.mode=ge.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},R1=Or(),GS="AWS_MAX_ATTEMPTS",WS="max_attempts",Rpe={environmentVariableSelector:e=>{let t=e[GS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${GS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[WS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${WS} mast be a number, got "${t}"`);return r},default:ge.DEFAULT_MAX_ATTEMPTS},xpe=we(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,R1.normalizeProvider)(n??ge.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,R1.normalizeProvider)(r)()===ge.RETRY_MODES.ADAPTIVE?new ge.AdaptiveRetryStrategy(o):new ge.StandardRetryStrategy(o))})},"resolveRetryConfig"),L1="AWS_RETRY_MODE",U1="retry_mode",Ope={environmentVariableSelector:e=>e[L1],configFileSelector:e=>e[U1],default:ge.DEFAULT_RETRY_MODE},F1=we(()=>e=>async t=>{let{request:r}=t;return vs.HttpRequest.isInstance(r)&&(delete r.headers[ge.INVOCATION_ID_HEADER],delete r.headers[ge.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),B1={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Npe=we(e=>({applyToStack:t=>{t.addRelativeTo(F1(),B1)}}),"getOmitRetryHeadersPlugin"),Dpe=oe(),Mpe=A1(),j1=we(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(kpe(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:p}=n,f=vs.HttpRequest.isInstance(p);for(f&&(p.headers[ge.INVOCATION_ID_HEADER]=(0,O1.v4)());;)try{f&&(p.headers[ge.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:h,output:g}}catch(h){let g=Lpe(h);if(a=M1(h),f&&(0,Mpe.isStreamingPayload)(p))throw(r.logger instanceof Dpe.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let _=i.getRetryDelay();l+=_,await new Promise(E=>setTimeout(E,_))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),kpe=we(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),Lpe=we(e=>{let t={error:e,errorType:Upe(e)},r=$1(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Upe=we(e=>(0,Cn.isThrottlingError)(e)?"THROTTLING":(0,Cn.isTransientError)(e)?"TRANSIENT":(0,Cn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),H1={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Fpe=we(e=>({applyToStack:t=>{t.add(j1(e),H1)}}),"getRetryPlugin"),$1=we(e=>{if(!vs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});function Bpe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function jpe(e){return{schemeId:"smithy.api#noAuth"}}var Oa,z1,V1,G1,KS=y(()=>{d();ur();Oa=T(Or()),z1=async(e,t,r)=>({operation:(0,Oa.getSmithyContext)(t).operation,region:await(0,Oa.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});V1=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(jpe(e));break}default:t.push(Bpe(e))}return t},G1=e=>{let t=fs(e);return Object.assign(t,{authSchemePreference:(0,Oa.normalizeProvider)(e.authSchemePreference??[])})}});var W1,K1,JS=y(()=>{d();W1=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),K1={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Yp,YS=y(()=>{Yp={name:"@aws-sdk/nested-clients",version:"3.848.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var QS=b((p2e,tj)=>{"use strict";d();var Qp=Object.defineProperty,$pe=Object.getOwnPropertyDescriptor,qpe=Object.getOwnPropertyNames,zpe=Object.prototype.hasOwnProperty,Xp=(e,t)=>Qp(e,"name",{value:t,configurable:!0}),Vpe=(e,t)=>{for(var r in t)Qp(e,r,{get:t[r],enumerable:!0})},Gpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qpe(t))!zpe.call(e,o)&&o!==r&&Qp(e,o,{get:()=>t[o],enumerable:!(n=$pe(t,o))||n.enumerable});return e},Wpe=e=>Gpe(Qp({},"__esModule",{value:!0}),e),Y1={};Vpe(Y1,{NODE_APP_ID_CONFIG_OPTIONS:()=>Qpe,UA_APP_ID_ENV_NAME:()=>Z1,UA_APP_ID_INI_NAME:()=>ej,createDefaultUserAgentProvider:()=>Q1,crtAvailability:()=>X1,defaultUserAgent:()=>Jpe});tj.exports=Wpe(Y1);var J1=M("os"),XS=M("process"),X1={isCrtAvailable:!1},Kpe=Xp(()=>X1.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Q1=Xp(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,J1.platform)()}`,(0,J1.release)()],["lang/js"],["md/nodejs",`${XS.versions.node}`]],o=Kpe();o&&n.push(o),e&&n.push([`api/${e}`,t]),XS.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${XS.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),Jpe=Q1,Ype=Cp(),Z1="AWS_SDK_UA_APP_ID",ej="sdk_ua_app_id",Xpe="sdk-ua-app-id",Qpe={environmentVariableSelector:Xp(e=>e[Z1],"environmentVariableSelector"),configFileSelector:Xp(e=>e[ej]??e[Xpe],"configFileSelector"),default:Ype.DEFAULT_UA_APP_ID}});var tv=b((f2e,sj)=>{d();var Zp=Object.defineProperty,Zpe=Object.getOwnPropertyDescriptor,eme=Object.getOwnPropertyNames,tme=Object.prototype.hasOwnProperty,nj=(e,t)=>Zp(e,"name",{value:t,configurable:!0}),rme=(e,t)=>{for(var r in t)Zp(e,r,{get:t[r],enumerable:!0})},nme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eme(t))!tme.call(e,o)&&o!==r&&Zp(e,o,{get:()=>t[o],enumerable:!(n=Zpe(t,o))||n.enumerable});return e},ome=e=>nme(Zp({},"__esModule",{value:!0}),e),oj={};rme(oj,{Hash:()=>ame});sj.exports=ome(oj);var ZS=os(),sme=Xe(),ime=M("buffer"),rj=M("crypto"),ame=class{static{nj(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,sme.toUint8Array)(ev(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,rj.createHmac)(this.algorithmIdentifier,ev(this.secret)):(0,rj.createHash)(this.algorithmIdentifier)}};function ev(e,t){return ime.Buffer.isBuffer(e)?e:typeof e=="string"?(0,ZS.fromString)(e,t):ArrayBuffer.isView(e)?(0,ZS.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,ZS.fromArrayBuffer)(e)}nj(ev,"castSourceData")});var rv=b((y2e,cj)=>{d();var em=Object.defineProperty,cme=Object.getOwnPropertyDescriptor,dme=Object.getOwnPropertyNames,lme=Object.prototype.hasOwnProperty,ume=(e,t)=>em(e,"name",{value:t,configurable:!0}),pme=(e,t)=>{for(var r in t)em(e,r,{get:t[r],enumerable:!0})},mme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dme(t))!lme.call(e,o)&&o!==r&&em(e,o,{get:()=>t[o],enumerable:!(n=cme(t,o))||n.enumerable});return e},fme=e=>mme(em({},"__esModule",{value:!0}),e),aj={};pme(aj,{calculateBodyLength:()=>hme});cj.exports=fme(aj);var ij=M("fs"),hme=ume(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,ij.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,ij.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var _j,Nt,dj,Na,bs,ws,Br,ov,sv,lj,uj,pj,Ej,Sj,Ot,mj,vj,fj,hj,gj,yj,gme,bj,wj=y(()=>{d();_j="required",Nt="argv",dj="isSet",Na="booleanEquals",bs="error",ws="endpoint",Br="tree",ov="PartitionResult",sv="getAttr",lj={[_j]:!1,type:"String"},uj={[_j]:!0,default:!1,type:"Boolean"},pj={ref:"Endpoint"},Ej={fn:Na,[Nt]:[{ref:"UseFIPS"},!0]},Sj={fn:Na,[Nt]:[{ref:"UseDualStack"},!0]},Ot={},mj={fn:sv,[Nt]:[{ref:ov},"supportsFIPS"]},vj={ref:ov},fj={fn:Na,[Nt]:[!0,{fn:sv,[Nt]:[vj,"supportsDualStack"]}]},hj=[Ej],gj=[Sj],yj=[{ref:"Region"}],gme={version:"1.0",parameters:{Region:lj,UseDualStack:uj,UseFIPS:uj,Endpoint:lj},rules:[{conditions:[{fn:dj,[Nt]:[pj]}],rules:[{conditions:hj,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bs},{conditions:gj,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bs},{endpoint:{url:pj,properties:Ot,headers:Ot},type:ws}],type:Br},{conditions:[{fn:dj,[Nt]:yj}],rules:[{conditions:[{fn:"aws.partition",[Nt]:yj,assign:ov}],rules:[{conditions:[Ej,Sj],rules:[{conditions:[{fn:Na,[Nt]:[!0,mj]},fj],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bs}],type:Br},{conditions:hj,rules:[{conditions:[{fn:Na,[Nt]:[mj,!0]}],rules:[{conditions:[{fn:"stringEquals",[Nt]:[{fn:sv,[Nt]:[vj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ot,headers:Ot},type:ws},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br},{error:"FIPS is enabled but this partition does not support FIPS",type:bs}],type:Br},{conditions:gj,rules:[{conditions:[fj],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br},{error:"DualStack is enabled but this partition does not support DualStack",type:bs}],type:Br},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br}],type:Br},{error:"Invalid Configuration: Missing Region",type:bs}]},bj=gme});var Tj,Ts,yme,Cj,Pj=y(()=>{d();Tj=T(Yu()),Ts=T(Gu());wj();yme=new Ts.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Cj=(e,t={})=>yme.get(e,()=>(0,Ts.resolveEndpoint)(bj,{endpointParams:e,logger:t.logger}));Ts.customEndpointFunctions.aws=Tj.awsEndpointFunctions});var Ij,Aj,tm,rm,Rj,xj=y(()=>{d();ur();Lt();Ij=T(oe()),Aj=T(us()),tm=T(lt()),rm=T(Xe());KS();Pj();Rj=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??tm.fromBase64,base64Encoder:e?.base64Encoder??tm.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Cj,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??V1,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lr}],logger:e?.logger??new Ij.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Aj.parseUrl,utf8Decoder:e?.utf8Decoder??rm.fromUtf8,utf8Encoder:e?.utf8Encoder??rm.toUtf8})});var Vj=b((x2e,zj)=>{d();var sm=Object.defineProperty,_me=Object.getOwnPropertyDescriptor,Eme=Object.getOwnPropertyNames,Sme=Object.prototype.hasOwnProperty,Te=(e,t)=>sm(e,"name",{value:t,configurable:!0}),vme=(e,t)=>{for(var r in t)sm(e,r,{get:t[r],enumerable:!0})},bme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Eme(t))!Sme.call(e,o)&&o!==r&&sm(e,o,{get:()=>t[o],enumerable:!(n=_me(t,o))||n.enumerable});return e},wme=e=>bme(sm({},"__esModule",{value:!0}),e),Mj={};vme(Mj,{DEFAULT_MAX_RETRIES:()=>Fj,DEFAULT_TIMEOUT:()=>Uj,ENV_CMDS_AUTH_TOKEN:()=>cv,ENV_CMDS_FULL_URI:()=>nm,ENV_CMDS_RELATIVE_URI:()=>om,Endpoint:()=>jj,fromContainerMetadata:()=>Ime,fromInstanceMetadata:()=>Kme,getInstanceMetadataEndpoint:()=>$j,httpRequest:()=>Cs,providerConfigFromInit:()=>dv});zj.exports=wme(Mj);var Tme=M("url"),mr=da(),Cme=M("buffer"),Pme=M("http");function Cs(e){return new Promise((t,r)=>{let n=(0,Pme.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new mr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new mr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new mr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(Cme.Buffer.concat(i)),n.destroy()})}),n.end()})}Te(Cs,"httpRequest");var kj=Te(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),Lj=Te(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),Uj=1e3,Fj=0,dv=Te(({maxRetries:e=Fj,timeout:t=Uj})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),av=Te((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),nm="AWS_CONTAINER_CREDENTIALS_FULL_URI",om="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",cv="AWS_CONTAINER_AUTHORIZATION_TOKEN",Ime=Te((e={})=>{let{timeout:t,maxRetries:r}=dv(e);return()=>av(async()=>{let n=await Nme({logger:e.logger}),o=JSON.parse(await Ame(t,n));if(!kj(o))throw new mr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Lj(o)},r)},"fromContainerMetadata"),Ame=Te(async(e,t)=>(process.env[cv]&&(t.headers={...t.headers,Authorization:process.env[cv]}),(await Cs({...t,timeout:e})).toString()),"requestFromEcsImds"),Rme="169.254.170.2",xme={localhost:!0,"127.0.0.1":!0},Ome={"http:":!0,"https:":!0},Nme=Te(async({logger:e})=>{if(process.env[om])return{hostname:Rme,path:process.env[om]};if(process.env[nm]){let t=(0,Tme.parse)(process.env[nm]);if(!t.hostname||!(t.hostname in xme))throw new mr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in Ome))throw new mr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new mr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${om} or ${nm} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),Dme=class Bj extends mr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,Bj.prototype)}static{Te(this,"InstanceMetadataV1FallbackError")}},lv=Es(),Mme=us(),jj=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(jj||{}),kme="AWS_EC2_METADATA_SERVICE_ENDPOINT",Lme="ec2_metadata_service_endpoint",Ume={environmentVariableSelector:e=>e[kme],configFileSelector:e=>e[Lme],default:void 0},Hj=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(Hj||{}),Fme="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Bme="ec2_metadata_service_endpoint_mode",jme={environmentVariableSelector:e=>e[Fme],configFileSelector:e=>e[Bme],default:"IPv4"},$j=Te(async()=>(0,Mme.parseUrl)(await Hme()||await $me()),"getInstanceMetadataEndpoint"),Hme=Te(async()=>(0,lv.loadConfig)(Ume)(),"getFromEndpointConfig"),$me=Te(async()=>{let e=await(0,lv.loadConfig)(jme)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Hj)}`)}},"getFromEndpointModeConfig"),qme=300,zme=300,Vme="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Oj=Te((e,t)=>{let r=qme+Math.floor(Math.random()*zme),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Vme);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Gme=Te((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Oj(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Oj(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),qj="/latest/meta-data/iam/security-credentials/",Wme="/latest/api/token",iv="AWS_EC2_METADATA_V1_DISABLED",Nj="ec2_metadata_v1_disabled",Dj="x-aws-ec2-metadata-token",Kme=Te((e={})=>Gme(Jme(e),{logger:e.logger}),"fromInstanceMetadata"),Jme=Te((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=dv(e),i=Te(async(a,c)=>{if(t||c.headers?.[Dj]==null){let f=!1,h=!1,g=await(0,lv.loadConfig)({environmentVariableSelector:_=>{let E=_[iv];if(h=!!E&&E!=="false",E===void 0)throw new mr.CredentialsProviderError(`${iv} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:_=>{let E=_[Nj];return f=!!E&&E!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${Nj})`),h&&_.push(`process environment variable (${iv})`),new Dme(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let p=(await av(async()=>{let f;try{f=await Xme(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)).trim();return av(async()=>{let f;try{f=await Qme(p,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)},"getCredentials");return async()=>{let a=await $j();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await Yme({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Dj]:c},timeout:o})}}},"getInstanceMetadataProvider"),Yme=Te(async e=>Cs({...e,path:Wme,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Xme=Te(async e=>(await Cs({...e,path:qj})).toString(),"getProfile"),Qme=Te(async(e,t,r)=>{let n=JSON.parse((await Cs({...t,path:qj+e})).toString());if(!kj(n))throw new mr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Lj(n)},"getCredentialsFromProfile")});var pv=b((N2e,Xj)=>{d();var Zme=Object.create,Da=Object.defineProperty,efe=Object.getOwnPropertyDescriptor,tfe=Object.getOwnPropertyNames,rfe=Object.getPrototypeOf,nfe=Object.prototype.hasOwnProperty,uv=(e,t)=>Da(e,"name",{value:t,configurable:!0}),ofe=(e,t)=>{for(var r in t)Da(e,r,{get:t[r],enumerable:!0})},Jj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tfe(t))!nfe.call(e,o)&&o!==r&&Da(e,o,{get:()=>t[o],enumerable:!(n=efe(t,o))||n.enumerable});return e},sfe=(e,t,r)=>(r=e!=null?Zme(rfe(e)):{},Jj(t||!e||!e.__esModule?Da(r,"default",{value:e,enumerable:!0}):r,e)),ife=e=>Jj(Da({},"__esModule",{value:!0}),e),Yj={};ofe(Yj,{resolveDefaultsModeConfig:()=>gfe});Xj.exports=ife(Yj);var afe=gs(),Gj=Es(),cfe=da(),dfe="AWS_EXECUTION_ENV",Wj="AWS_REGION",Kj="AWS_DEFAULT_REGION",lfe="AWS_EC2_METADATA_DISABLED",ufe=["in-region","cross-region","mobile","standard","legacy"],pfe="/latest/meta-data/placement/region",mfe="AWS_DEFAULTS_MODE",ffe="defaults_mode",hfe={environmentVariableSelector:e=>e[mfe],configFileSelector:e=>e[ffe],default:"legacy"},gfe=uv(({region:e=(0,Gj.loadConfig)(afe.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,Gj.loadConfig)(hfe)}={})=>(0,cfe.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return yfe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${ufe.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),yfe=uv(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await _fe();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),_fe=uv(async()=>{if(process.env[dfe]&&(process.env[Wj]||process.env[Kj]))return process.env[Wj]??process.env[Kj];if(!process.env[lfe])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>sfe(Vj())),r=await e();return(await t({...r,path:pfe})).toString()}catch{}},"inferPhysicalRegion")});var im,In,Qj,am,Pn,cm,Zj,eH,tH,rH,nH,oH,sH=y(()=>{d();YS();ur();im=T(QS()),In=T(gs()),Qj=T(tv()),am=T(xa()),Pn=T(Es()),cm=T(Pu()),Zj=T(rv()),eH=T(Wp());xj();tH=T(oe()),rH=T(pv()),nH=T(oe()),oH=e=>{(0,nH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,rH.resolveDefaultsModeConfig)(e),r=()=>t().then(tH.loadConfigsForDefaultMode),n=Rj(e);sa(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Pn.loadConfig)(ca,o),bodyLengthChecker:e?.bodyLengthChecker??Zj.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,im.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Yp.version}),maxAttempts:e?.maxAttempts??(0,Pn.loadConfig)(am.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Pn.loadConfig)(In.NODE_REGION_CONFIG_OPTIONS,{...In.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:cm.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Pn.loadConfig)({...am.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||eH.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Qj.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cm.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Pn.loadConfig)(In.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Pn.loadConfig)(In.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Pn.loadConfig)(im.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var mv=b((B2e,uH)=>{"use strict";d();var dm=Object.defineProperty,Efe=Object.getOwnPropertyDescriptor,Sfe=Object.getOwnPropertyNames,vfe=Object.prototype.hasOwnProperty,fr=(e,t)=>dm(e,"name",{value:t,configurable:!0}),bfe=(e,t)=>{for(var r in t)dm(e,r,{get:t[r],enumerable:!0})},wfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sfe(t))!vfe.call(e,o)&&o!==r&&dm(e,o,{get:()=>t[o],enumerable:!(n=Efe(t,o))||n.enumerable});return e},Tfe=e=>wfe(dm({},"__esModule",{value:!0}),e),aH={};bfe(aH,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Afe,NODE_REGION_CONFIG_OPTIONS:()=>Ife,REGION_ENV_NAME:()=>cH,REGION_INI_NAME:()=>dH,getAwsRegionExtensionConfiguration:()=>Cfe,resolveAwsRegionExtensionConfiguration:()=>Pfe,resolveRegionConfig:()=>Rfe});uH.exports=Tfe(aH);var Cfe=fr(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Pfe=fr(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),cH="AWS_REGION",dH="region",Ife={environmentVariableSelector:fr(e=>e[cH],"environmentVariableSelector"),configFileSelector:fr(e=>e[dH],"configFileSelector"),default:fr(()=>{throw new Error("Region is missing")},"default")},Afe={preferredFile:"credentials"},lH=fr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),iH=fr(e=>lH(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Rfe=fr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:fr(async()=>{if(typeof t=="string")return iH(t);let n=await t();return iH(n)},"region"),useFipsEndpoint:fr(async()=>{let n=typeof t=="string"?t:await t();return lH(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var pH,mH,fH=y(()=>{d();pH=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},mH=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var lm,um,pm,hH,gH=y(()=>{d();lm=T(mv()),um=T(he()),pm=T(oe());fH();hH=(e,t)=>{let r=Object.assign((0,lm.getAwsRegionExtensionConfiguration)(e),(0,pm.getDefaultExtensionConfiguration)(e),(0,um.getHttpHandlerExtensionConfiguration)(e),pH(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,lm.resolveAwsRegionExtensionConfiguration)(r),(0,pm.resolveDefaultRuntimeConfig)(r),(0,um.resolveHttpHandlerRuntimeConfig)(r),mH(r))}});var mm,yH,_H,fm,EH,SH,vH,hm,fv,Ma,hv=y(()=>{d();mm=T(Yy()),yH=T(Qy()),_H=T(e_()),fm=T(Cp()),EH=T(gs());Lt();SH=T(vS()),vH=T(Ss()),hm=T(xa()),fv=T(oe());KS();JS();sH();gH();Ma=class extends fv.Client{config;constructor(...[t]){let r=oH(t||{});super(r),this.initConfig=r;let n=W1(r),o=(0,fm.resolveUserAgentConfig)(n),s=(0,hm.resolveRetryConfig)(o),i=(0,EH.resolveRegionConfig)(s),a=(0,mm.resolveHostHeaderConfig)(i),c=(0,vH.resolveEndpointConfig)(a),l=G1(c),p=hH(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,fm.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,hm.getRetryPlugin)(this.config)),this.middlewareStack.use((0,SH.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,mm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,yH.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,_H.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Bi(this.config,{httpAuthSchemeParametersProvider:z1,identityProviderConfigProvider:async f=>new ho({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(ji(this.config))}destroy(){super.destroy()}}});var bH,xe,gm=y(()=>{d();bH=T(oe()),xe=class e extends bH.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ao,ka,La,gv,yv,Ua,Fa,Ba,ja,Ha,$a,qa,za,Va,ym=y(()=>{d();Ao=T(oe());gm();ka=class e extends xe{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},La=class e extends xe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},gv=e=>({...e,...e.clientSecret&&{clientSecret:Ao.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Ao.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Ao.SENSITIVE_STRING}}),yv=e=>({...e,...e.accessToken&&{accessToken:Ao.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Ao.SENSITIVE_STRING},...e.idToken&&{idToken:Ao.SENSITIVE_STRING}}),Ua=class e extends xe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Fa=class e extends xe{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ba=class e extends xe{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ja=class e extends xe{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ha=class e extends xe{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$a=class e extends xe{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qa=class e extends xe{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},za=class e extends xe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Va=class e extends xe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var R,wH,TH,xfe,Ofe,Nfe,Dfe,Mfe,kfe,Lfe,Ufe,Ffe,Bfe,jfe,Hfe,$fe,Dt,CH=y(()=>{d();ur();Lt();R=T(oe());ym();gm();wH=async(e,t)=>{let r=ra(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,R.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,R._json)(s)})),r.m("POST").h(n).b(o),r.build()},TH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xfe(e,t);let r=(0,R.map)({$metadata:Dt(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await hs(e.body,t)),"body"),o=(0,R.take)(n,{accessToken:R.expectString,expiresIn:R.expectInt32,idToken:R.expectString,refreshToken:R.expectString,tokenType:R.expectString});return Object.assign(r,o),r},xfe=async(e,t)=>{let r={...e,body:await KE(e.body,t)},n=Eo(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Nfe(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Dfe(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Mfe(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await kfe(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Lfe(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Ufe(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Ffe(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Bfe(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await jfe(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Hfe(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await $fe(r,t);default:let o=r.body;return Ofe({output:e,parsedBody:o,errorCode:n})}},Ofe=(0,R.withBaseException)(xe),Nfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new ka({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Dfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new La({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Mfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Ua({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},kfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Fa({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Lfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Ba({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Ufe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new ja({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Ffe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Ha({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Bfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new $a({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},jfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new qa({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Hfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new za({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},$fe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Va({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Dt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var PH,IH,_v,Ga,Ev=y(()=>{d();PH=T(Ss()),IH=T(ns()),_v=T(oe());JS();ym();CH();Ga=class extends _v.Command.classBuilder().ep(K1).m(function(t,r,n,o){return[(0,IH.getSerdePlugin)(n,this.serialize,this.deserialize),(0,PH.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(gv,yv).ser(wH).de(TH).build(){}});var AH,qfe,_m,RH=y(()=>{d();AH=T(oe());Ev();hv();qfe={CreateTokenCommand:Ga},_m=class extends Ma{};(0,AH.createAggregatedClient)(qfe,_m)});var xH=y(()=>{d();Ev()});var OH=y(()=>{d();ym()});var Sv={};He(Sv,{$Command:()=>_v.Command,AccessDeniedException:()=>ka,AuthorizationPendingException:()=>La,CreateTokenCommand:()=>Ga,CreateTokenRequestFilterSensitiveLog:()=>gv,CreateTokenResponseFilterSensitiveLog:()=>yv,ExpiredTokenException:()=>Ua,InternalServerException:()=>Fa,InvalidClientException:()=>Ba,InvalidGrantException:()=>ja,InvalidRequestException:()=>Ha,InvalidScopeException:()=>$a,SSOOIDC:()=>_m,SSOOIDCClient:()=>Ma,SSOOIDCServiceException:()=>xe,SlowDownException:()=>qa,UnauthorizedClientException:()=>za,UnsupportedGrantTypeException:()=>Va,__Client:()=>fv.Client});var vv=y(()=>{d();hv();RH();xH();OH();gm()});var BH=b((O3e,FH)=>{"use strict";d();var zfe=Object.create,Ka=Object.defineProperty,Vfe=Object.getOwnPropertyDescriptor,Gfe=Object.getOwnPropertyNames,Wfe=Object.getPrototypeOf,Kfe=Object.prototype.hasOwnProperty,jr=(e,t)=>Ka(e,"name",{value:t,configurable:!0}),Jfe=(e,t)=>{for(var r in t)Ka(e,r,{get:t[r],enumerable:!0})},MH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gfe(t))!Kfe.call(e,o)&&o!==r&&Ka(e,o,{get:()=>t[o],enumerable:!(n=Vfe(t,o))||n.enumerable});return e},kH=(e,t,r)=>(r=e!=null?zfe(Wfe(e)):{},MH(t||!e||!e.__esModule?Ka(r,"default",{value:e,enumerable:!0}):r,e)),Yfe=e=>MH(Ka({},"__esModule",{value:!0}),e),LH={};Jfe(LH,{fromEnvSigningName:()=>Zfe,fromSso:()=>UH,fromStatic:()=>ihe,nodeProvider:()=>ahe});FH.exports=Yfe(LH);var Xfe=(Qt(),z(Qr)),Qfe=(dg(),z(yA)),mt=Je(),Zfe=jr(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new mt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Qfe.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new mt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,Xfe.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),ehe=300*1e3,bv="To refresh this SSO session run 'aws sso login' with the corresponding profile.",the=jr(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>kH((vv(),z(Sv))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),rhe=jr(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>kH((vv(),z(Sv))));return(await the(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),NH=jr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new mt.TokenProviderError(`Token is expired. ${bv}`,!1)},"validateTokenExpiry"),Ro=jr((e,t,r=!1)=>{if(typeof t>"u")throw new mt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${bv}`,!1)},"validateTokenKey"),Wa=ln(),nhe=M("fs"),{writeFile:ohe}=nhe.promises,she=jr((e,t)=>{let r=(0,Wa.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return ohe(r,n)},"writeSSOTokenToFile"),DH=new Date(0),UH=jr((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Wa.parseKnownFiles)(r),o=(0,Wa.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new mt.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new mt.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,c=(await(0,Wa.loadSsoSessionData)(r))[i];if(!c)throw new mt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!c[E])throw new mt.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);let l=c.sso_start_url,p=c.sso_region,f;try{f=await(0,Wa.getSSOTokenFromFile)(i)}catch{throw new mt.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${bv}`,!1)}Ro("accessToken",f.accessToken),Ro("expiresAt",f.expiresAt);let{accessToken:h,expiresAt:g}=f,_={token:h,expiration:new Date(g)};if(_.expiration.getTime()-Date.now()>ehe)return _;if(Date.now()-DH.getTime()<30*1e3)return NH(_),_;Ro("clientId",f.clientId,!0),Ro("clientSecret",f.clientSecret,!0),Ro("refreshToken",f.refreshToken,!0);try{DH.setTime(Date.now());let E=await rhe(f,p,r);Ro("accessToken",E.accessToken),Ro("expiresIn",E.expiresIn);let S=new Date(Date.now()+E.expiresIn*1e3);try{await she(i,{...f,accessToken:E.accessToken,expiresAt:S.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:S}}catch{return NH(_),_}},"fromSso"),ihe=jr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new mt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),ahe=jr((e={})=>(0,mt.memoize)((0,mt.chain)(UH(e),async()=>{throw new mt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Tv=b((D3e,KH)=>{"use strict";d();var Sm=Object.defineProperty,che=Object.getOwnPropertyDescriptor,$H=Object.getOwnPropertyNames,dhe=Object.prototype.hasOwnProperty,vm=(e,t)=>Sm(e,"name",{value:t,configurable:!0}),lhe=(e,t)=>function(){return e&&(t=(0,e[$H(e)[0]])(e=0)),t},qH=(e,t)=>{for(var r in t)Sm(e,r,{get:t[r],enumerable:!0})},uhe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $H(t))!dhe.call(e,o)&&o!==r&&Sm(e,o,{get:()=>t[o],enumerable:!(n=che(t,o))||n.enumerable});return e},phe=e=>uhe(Sm({},"__esModule",{value:!0}),e),zH={};qH(zH,{GetRoleCredentialsCommand:()=>wv.GetRoleCredentialsCommand,SSOClient:()=>wv.SSOClient});var wv,mhe=lhe({"src/loadSso.ts"(){"use strict";wv=rD()}}),VH={};qH(VH,{fromSSO:()=>hhe,isSsoProfile:()=>GH,validateSsoProfile:()=>WH});KH.exports=phe(VH);var GH=vm(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),jH=(Qt(),z(Qr)),fhe=BH(),Bt=Je(),Em=ln(),Ja=!1,HH=vm(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let p,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let se=await(0,fhe.fromSso)({profile:c})();p={accessToken:se.token,expiresAt:new Date(se.expiration).toISOString()}}catch(se){throw new Bt.CredentialsProviderError(se.message,{tryNextLink:Ja,logger:l})}else try{p=await(0,Em.getSSOTokenFromFile)(e)}catch{throw new Bt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Ja,logger:l})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new Bt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Ja,logger:l});let{accessToken:h}=p,{SSOClient:g,GetRoleCredentialsCommand:_}=await Promise.resolve().then(()=>(mhe(),zH)),E=s||new g(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),S;try{S=await E.send(new _({accountId:r,roleName:o,accessToken:h}))}catch(se){throw new Bt.CredentialsProviderError(se,{tryNextLink:Ja,logger:l})}let{roleCredentials:{accessKeyId:v,secretAccessKey:w,sessionToken:A,expiration:I,credentialScope:C,accountId:k}={}}=S;if(!v||!w||!A||!I)throw new Bt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Ja,logger:l});let Ve={accessKeyId:v,secretAccessKey:w,sessionToken:A,expiration:new Date(I),...C&&{credentialScope:C},...k&&{accountId:k}};return t?(0,jH.setCredentialFeature)(Ve,"CREDENTIALS_SSO","s"):(0,jH.setCredentialFeature)(Ve,"CREDENTIALS_SSO_LEGACY","u"),Ve},"resolveSSOCredentials"),WH=vm((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Bt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),hhe=vm((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,Em.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let p=(await(0,Em.parseKnownFiles)(e))[c];if(!p)throw new Bt.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!GH(p))throw new Bt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(p?.sso_session){let v=(await(0,Em.loadSsoSessionData)(e))[p.sso_session],w=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==v.sso_region)throw new Bt.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==v.sso_start_url)throw new Bt.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});p.sso_region=v.sso_region,p.sso_start_url=v.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:g,sso_role_name:_,sso_session:E}=WH(p,e.logger);return HH({ssoStartUrl:f,ssoSession:E,ssoAccountId:h,ssoRegion:g,ssoRoleName:_,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new Bt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return HH({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function ghe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function yhe(e){return{schemeId:"smithy.api#noAuth"}}var Ya,JH,YH,_he,XH,Cv=y(()=>{d();ur();Ya=T(Or());Xa();JH=async(e,t,r)=>({operation:(0,Ya.getSmithyContext)(t).operation,region:await(0,Ya.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});YH=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(yhe(e));break}default:t.push(ghe(e))}return t},_he=e=>Object.assign(e,{stsClientCtor:hr}),XH=e=>{let t=_he(e),r=fs(t);return Object.assign(r,{authSchemePreference:(0,Ya.normalizeProvider)(e.authSchemePreference??[])})}});var QH,bm,wm=y(()=>{d();QH=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),bm={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var d$,W,te,An,Fe,l$,u$,ue,ZH,gr,Ps,Iv,e$,Pv,p$,t$,Be,r$,m$,f$,ze,ft,n$,h$,g$,o$,y$,s$,i$,a$,c$,Ehe,_$,E$=y(()=>{d();d$="required",W="type",te="argv",An="booleanEquals",Fe="stringEquals",l$="sigv4",u$="us-east-1",ue="endpoint",ZH="https://sts.{Region}.{PartitionResult#dnsSuffix}",gr="tree",Ps="error",Iv="getAttr",e$={[d$]:!1,[W]:"String"},Pv={[d$]:!0,default:!1,[W]:"Boolean"},p$={ref:"Endpoint"},t$={fn:"isSet",[te]:[{ref:"Region"}]},Be={ref:"Region"},r$={fn:"aws.partition",[te]:[Be],assign:"PartitionResult"},m$={ref:"UseFIPS"},f$={ref:"UseDualStack"},ze={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:l$,signingName:"sts",signingRegion:u$}]},headers:{}},ft={},n$={conditions:[{fn:Fe,[te]:[Be,"aws-global"]}],[ue]:ze,[W]:ue},h$={fn:An,[te]:[m$,!0]},g$={fn:An,[te]:[f$,!0]},o$={fn:Iv,[te]:[{ref:"PartitionResult"},"supportsFIPS"]},y$={ref:"PartitionResult"},s$={fn:An,[te]:[!0,{fn:Iv,[te]:[y$,"supportsDualStack"]}]},i$=[{fn:"isSet",[te]:[p$]}],a$=[h$],c$=[g$],Ehe={version:"1.0",parameters:{Region:e$,UseDualStack:Pv,UseFIPS:Pv,Endpoint:e$,UseGlobalEndpoint:Pv},rules:[{conditions:[{fn:An,[te]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[te]:i$},t$,r$,{fn:An,[te]:[m$,!1]},{fn:An,[te]:[f$,!1]}],rules:[{conditions:[{fn:Fe,[te]:[Be,"ap-northeast-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"ap-south-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"ap-southeast-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"ap-southeast-2"]}],endpoint:ze,[W]:ue},n$,{conditions:[{fn:Fe,[te]:[Be,"ca-central-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-central-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-north-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-west-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-west-2"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-west-3"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"sa-east-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,u$]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"us-east-2"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"us-west-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"us-west-2"]}],endpoint:ze,[W]:ue},{endpoint:{url:ZH,properties:{authSchemes:[{name:l$,signingName:"sts",signingRegion:"{Region}"}]},headers:ft},[W]:ue}],[W]:gr},{conditions:i$,rules:[{conditions:a$,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:Ps},{conditions:c$,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:Ps},{endpoint:{url:p$,properties:ft,headers:ft},[W]:ue}],[W]:gr},{conditions:[t$],rules:[{conditions:[r$],rules:[{conditions:[h$,g$],rules:[{conditions:[{fn:An,[te]:[!0,o$]},s$],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:gr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:Ps}],[W]:gr},{conditions:a$,rules:[{conditions:[{fn:An,[te]:[o$,!0]}],rules:[{conditions:[{fn:Fe,[te]:[{fn:Iv,[te]:[y$,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ft,headers:ft},[W]:ue},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:gr},{error:"FIPS is enabled but this partition does not support FIPS",[W]:Ps}],[W]:gr},{conditions:c$,rules:[{conditions:[s$],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:gr},{error:"DualStack is enabled but this partition does not support DualStack",[W]:Ps}],[W]:gr},n$,{endpoint:{url:ZH,properties:ft,headers:ft},[W]:ue}],[W]:gr}],[W]:gr},{error:"Invalid Configuration: Missing Region",[W]:Ps}]},_$=Ehe});var S$,Is,She,v$,b$=y(()=>{d();S$=T(Yu()),Is=T(Gu());E$();She=new Is.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),v$=(e,t={})=>She.get(e,()=>(0,Is.resolveEndpoint)(_$,{endpointParams:e,logger:t.logger}));Is.customEndpointFunctions.aws=S$.awsEndpointFunctions});var w$,T$,Tm,Cm,C$,P$=y(()=>{d();ur();Lt();w$=T(oe()),T$=T(us()),Tm=T(lt()),Cm=T(Xe());Cv();b$();C$=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Tm.fromBase64,base64Encoder:e?.base64Encoder??Tm.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??v$,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??YH,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lr}],logger:e?.logger??new w$.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??T$.parseUrl,utf8Decoder:e?.utf8Decoder??Cm.fromUtf8,utf8Encoder:e?.utf8Encoder??Cm.toUtf8})});var Pm,xn,I$,Im,Rn,Am,A$,R$,x$,O$,N$,D$,M$=y(()=>{d();YS();ur();Pm=T(QS()),xn=T(gs());Lt();I$=T(tv()),Im=T(xa()),Rn=T(Es()),Am=T(Pu()),A$=T(rv()),R$=T(Wp());P$();x$=T(oe()),O$=T(pv()),N$=T(oe()),D$=e=>{(0,N$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,O$.resolveDefaultsModeConfig)(e),r=()=>t().then(x$.loadConfigsForDefaultMode),n=C$(e);sa(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Rn.loadConfig)(ca,o),bodyLengthChecker:e?.bodyLengthChecker??A$.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Pm.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Yp.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lr}],maxAttempts:e?.maxAttempts??(0,Rn.loadConfig)(Im.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Rn.loadConfig)(xn.NODE_REGION_CONFIG_OPTIONS,{...xn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Am.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Rn.loadConfig)({...Im.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||R$.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??I$.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Am.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Rn.loadConfig)(xn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Rn.loadConfig)(xn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Rn.loadConfig)(Pm.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var k$,L$,U$=y(()=>{d();k$=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},L$=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Rm,xm,Om,F$,B$=y(()=>{d();Rm=T(mv()),xm=T(he()),Om=T(oe());U$();F$=(e,t)=>{let r=Object.assign((0,Rm.getAwsRegionExtensionConfiguration)(e),(0,Om.getDefaultExtensionConfiguration)(e),(0,xm.getHttpHandlerExtensionConfiguration)(e),k$(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Rm.resolveAwsRegionExtensionConfiguration)(r),(0,Om.resolveDefaultRuntimeConfig)(r),(0,xm.resolveHttpHandlerRuntimeConfig)(r),L$(r))}});var Nm,j$,H$,Dm,$$,q$,z$,Mm,Av,hr,Xa=y(()=>{d();Nm=T(Yy()),j$=T(Qy()),H$=T(e_()),Dm=T(Cp()),$$=T(gs());Lt();q$=T(vS()),z$=T(Ss()),Mm=T(xa()),Av=T(oe());Cv();wm();M$();B$();hr=class extends Av.Client{config;constructor(...[t]){let r=D$(t||{});super(r),this.initConfig=r;let n=QH(r),o=(0,Dm.resolveUserAgentConfig)(n),s=(0,Mm.resolveRetryConfig)(o),i=(0,$$.resolveRegionConfig)(s),a=(0,Nm.resolveHostHeaderConfig)(i),c=(0,z$.resolveEndpointConfig)(a),l=XH(c),p=F$(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Dm.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Mm.getRetryPlugin)(this.config)),this.middlewareStack.use((0,q$.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Nm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,j$.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,H$.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Bi(this.config,{httpAuthSchemeParametersProvider:JH,identityProviderConfigProvider:async f=>new ho({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(ji(this.config))}destroy(){super.destroy()}}});var V$,it,km=y(()=>{d();V$=T(oe()),it=class e extends V$.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Rv,xv,Ov,Qa,Za,ec,tc,rc,nc,Nv,Dv,oc,sc=y(()=>{d();Rv=T(oe());km();xv=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Rv.SENSITIVE_STRING}}),Ov=e=>({...e,...e.Credentials&&{Credentials:xv(e.Credentials)}}),Qa=class e extends it{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Za=class e extends it{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ec=class e extends it{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tc=class e extends it{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rc=class e extends it{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nc=class e extends it{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Nv=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Rv.SENSITIVE_STRING}}),Dv=e=>({...e,...e.Credentials&&{Credentials:xv(e.Credentials)}}),oc=class e extends it{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var G$,K,W$,K$,J$,Y$,X$,vhe,bhe,whe,The,Che,Phe,Ihe,Ahe,Rhe,Q$,xhe,Ohe,Nhe,Dhe,Mhe,khe,Z$,Lhe,Uhe,eq,Fhe,Bhe,jhe,Hhe,$he,qhe,zhe,$r,Vhe,tq,rq,nq,oq,Mv,Ghe,kv,As,Whe,Lv,Uv,Rs,Fv,xs,Bv,jv,Hv,Os,Ns,$v,qv,zv,Ds,Vv,Ms,ks,Gv,Wv,Hr,Kv,Jv,Yv,Xv,Qv,sq,Zv,eb,tb,Ee,iq,Khe,rb=y(()=>{d();ur();G$=T(he()),K=T(oe());sc();km();W$=async(e,t)=>{let r=rq,n;return n=iq({...Ahe(e,t),[oq]:Ghe,[sq]:nq}),tq(t,r,"/",void 0,n)},K$=async(e,t)=>{let r=rq,n;return n=iq({...Rhe(e,t),[oq]:Whe,[sq]:nq}),tq(t,r,"/",void 0,n)},J$=async(e,t)=>{if(e.statusCode>=300)return X$(e,t);let r=await Ea(e.body,t),n={};return n=Lhe(r.AssumeRoleResult,t),{$metadata:$r(e),...n}},Y$=async(e,t)=>{if(e.statusCode>=300)return X$(e,t);let r=await Ea(e.body,t),n={};return n=Uhe(r.AssumeRoleWithWebIdentityResult,t),{$metadata:$r(e),...n}},X$=async(e,t)=>{let r={...e,body:await uS(e.body,t)},n=Khe(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await vhe(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Che(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Phe(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ihe(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await bhe(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await whe(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await The(r,t);default:let o=r.body;return Vhe({output:e,parsedBody:o.Error,errorCode:n})}},vhe=async(e,t)=>{let r=e.body,n=Fhe(r.Error,t),o=new Qa({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},bhe=async(e,t)=>{let r=e.body,n=Bhe(r.Error,t),o=new oc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},whe=async(e,t)=>{let r=e.body,n=jhe(r.Error,t),o=new rc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},The=async(e,t)=>{let r=e.body,n=Hhe(r.Error,t),o=new nc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},Che=async(e,t)=>{let r=e.body,n=$he(r.Error,t),o=new Za({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},Phe=async(e,t)=>{let r=e.body,n=qhe(r.Error,t),o=new ec({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},Ihe=async(e,t)=>{let r=e.body,n=zhe(r.Error,t),o=new tc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},Ahe=(e,t)=>{let r={};if(e[Ms]!=null&&(r[Ms]=e[Ms]),e[ks]!=null&&(r[ks]=e[ks]),e[Ns]!=null){let n=Q$(e[Ns],t);e[Ns]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Os]!=null&&(r[Os]=e[Os]),e[xs]!=null&&(r[xs]=e[xs]),e[Yv]!=null){let n=khe(e[Yv],t);e[Yv]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[Qv]!=null){let n=Mhe(e[Qv],t);e[Qv]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[jv]!=null&&(r[jv]=e[jv]),e[Kv]!=null&&(r[Kv]=e[Kv]),e[Xv]!=null&&(r[Xv]=e[Xv]),e[Hr]!=null&&(r[Hr]=e[Hr]),e[qv]!=null){let n=Nhe(e[qv],t);e[qv]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},Rhe=(e,t)=>{let r={};if(e[Ms]!=null&&(r[Ms]=e[Ms]),e[ks]!=null&&(r[ks]=e[ks]),e[eb]!=null&&(r[eb]=e[eb]),e[zv]!=null&&(r[zv]=e[zv]),e[Ns]!=null){let n=Q$(e[Ns],t);e[Ns]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[Os]!=null&&(r[Os]=e[Os]),e[xs]!=null&&(r[xs]=e[xs]),r},Q$=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=xhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},xhe=(e,t)=>{let r={};return e[tb]!=null&&(r[tb]=e[tb]),r},Ohe=(e,t)=>{let r={};return e[$v]!=null&&(r[$v]=e[$v]),e[Fv]!=null&&(r[Fv]=e[Fv]),r},Nhe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=Ohe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Dhe=(e,t)=>{let r={};return e[Hv]!=null&&(r[Hv]=e[Hv]),e[Zv]!=null&&(r[Zv]=e[Zv]),r},Mhe=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},khe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=Dhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Z$=(e,t)=>{let r={};return e[kv]!=null&&(r[kv]=(0,K.expectString)(e[kv])),e[Lv]!=null&&(r[Lv]=(0,K.expectString)(e[Lv])),r},Lhe=(e,t)=>{let r={};return e[Rs]!=null&&(r[Rs]=eq(e[Rs],t)),e[As]!=null&&(r[As]=Z$(e[As],t)),e[Ds]!=null&&(r[Ds]=(0,K.strictParseInt32)(e[Ds])),e[Hr]!=null&&(r[Hr]=(0,K.expectString)(e[Hr])),r},Uhe=(e,t)=>{let r={};return e[Rs]!=null&&(r[Rs]=eq(e[Rs],t)),e[Wv]!=null&&(r[Wv]=(0,K.expectString)(e[Wv])),e[As]!=null&&(r[As]=Z$(e[As],t)),e[Ds]!=null&&(r[Ds]=(0,K.strictParseInt32)(e[Ds])),e[Vv]!=null&&(r[Vv]=(0,K.expectString)(e[Vv])),e[Uv]!=null&&(r[Uv]=(0,K.expectString)(e[Uv])),e[Hr]!=null&&(r[Hr]=(0,K.expectString)(e[Hr])),r},eq=(e,t)=>{let r={};return e[Mv]!=null&&(r[Mv]=(0,K.expectString)(e[Mv])),e[Gv]!=null&&(r[Gv]=(0,K.expectString)(e[Gv])),e[Jv]!=null&&(r[Jv]=(0,K.expectString)(e[Jv])),e[Bv]!=null&&(r[Bv]=(0,K.expectNonNull)((0,K.parseRfc3339DateTimeWithOffset)(e[Bv]))),r},Fhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Bhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},jhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Hhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},$he=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},qhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},zhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},$r=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Vhe=(0,K.withBaseException)(it),tq=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new G$.HttpRequest(l)},rq={"content-type":"application/x-www-form-urlencoded"},nq="2011-06-15",oq="Action",Mv="AccessKeyId",Ghe="AssumeRole",kv="AssumedRoleId",As="AssumedRoleUser",Whe="AssumeRoleWithWebIdentity",Lv="Arn",Uv="Audience",Rs="Credentials",Fv="ContextAssertion",xs="DurationSeconds",Bv="Expiration",jv="ExternalId",Hv="Key",Os="Policy",Ns="PolicyArns",$v="ProviderArn",qv="ProvidedContexts",zv="ProviderId",Ds="PackedPolicySize",Vv="Provider",Ms="RoleArn",ks="RoleSessionName",Gv="SecretAccessKey",Wv="SubjectFromWebIdentityToken",Hr="SourceIdentity",Kv="SerialNumber",Jv="SessionToken",Yv="Tags",Xv="TokenCode",Qv="TransitiveTagKeys",sq="Version",Zv="Value",eb="WebIdentityToken",tb="arn",Ee="message",iq=e=>Object.entries(e).map(([t,r])=>(0,K.extendedEncodeURIComponent)(t)+"="+(0,K.extendedEncodeURIComponent)(r)).join("&"),Khe=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var aq,cq,dq,xo,Lm=y(()=>{d();aq=T(Ss()),cq=T(ns()),dq=T(oe());wm();sc();rb();xo=class extends dq.Command.classBuilder().ep(bm).m(function(t,r,n,o){return[(0,cq.getSerdePlugin)(n,this.serialize,this.deserialize),(0,aq.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Ov).ser(W$).de(J$).build(){}});var lq,uq,pq,Oo,Um=y(()=>{d();lq=T(Ss()),uq=T(ns()),pq=T(oe());wm();sc();rb();Oo=class extends pq.Command.classBuilder().ep(bm).m(function(t,r,n,o){return[(0,uq.getSerdePlugin)(n,this.serialize,this.deserialize),(0,lq.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Nv,Dv).ser(K$).de(Y$).build(){}});var mq,Jhe,Fm,fq=y(()=>{d();mq=T(oe());Lm();Um();Xa();Jhe={AssumeRoleCommand:xo,AssumeRoleWithWebIdentityCommand:Oo},Fm=class extends hr{};(0,mq.createAggregatedClient)(Jhe,Fm)});var hq=y(()=>{d();Lm();Um()});var gq=y(()=>{d();sc()});var yq,_q,Eq,Sq,vq,bq,wq=y(()=>{d();Xu();Lm();Um();yq="us-east-1",_q=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},Eq=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${yq} (STS default)`),n??o??yq},Sq=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:p=e?.parentClientConfig?.logger,region:f,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,_=await Eq(f,e?.parentClientConfig?.region,g),E=!bq(h);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:_,requestHandler:E?h:void 0,logger:p})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new xo(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=_q(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return go(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},vq=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,h=await Eq(l,e?.parentClientConfig?.region,f),g=!bq(p);r=new t({profile:e?.parentClientConfig?.profile,region:h,requestHandler:g?p:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new Oo(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=_q(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&go(a,"RESOLVED_ACCOUNT_ID","T"),go(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},bq=e=>e?.metadata?.handlerProtocol==="h2"});var Tq,Cq,Pq,Yhe,Iq=y(()=>{d();wq();Xa();Tq=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Cq=(e={},t)=>Sq(e,Tq(hr,t)),Pq=(e={},t)=>vq(e,Tq(hr,t)),Yhe=e=>t=>e({roleAssumer:Cq(t),roleAssumerWithWebIdentity:Pq(t),...t})});var nb={};He(nb,{AssumeRoleCommand:()=>xo,AssumeRoleResponseFilterSensitiveLog:()=>Ov,AssumeRoleWithWebIdentityCommand:()=>Oo,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Nv,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Dv,CredentialsFilterSensitiveLog:()=>xv,ExpiredTokenException:()=>Qa,IDPCommunicationErrorException:()=>oc,IDPRejectedClaimException:()=>rc,InvalidIdentityTokenException:()=>nc,MalformedPolicyDocumentException:()=>Za,PackedPolicyTooLargeException:()=>ec,RegionDisabledException:()=>tc,STS:()=>Fm,STSClient:()=>hr,STSServiceException:()=>it,__Client:()=>Av.Client,decorateDefaultCredentialProvider:()=>Yhe,getDefaultRoleAssumer:()=>Cq,getDefaultRoleAssumerWithWebIdentity:()=>Pq});var ob=y(()=>{d();Xa();fq();hq();gq();Iq();km()});var ab=b((uWe,xq)=>{"use strict";d();var Bm=Object.defineProperty,Xhe=Object.getOwnPropertyDescriptor,Qhe=Object.getOwnPropertyNames,Zhe=Object.prototype.hasOwnProperty,ib=(e,t)=>Bm(e,"name",{value:t,configurable:!0}),ege=(e,t)=>{for(var r in t)Bm(e,r,{get:t[r],enumerable:!0})},tge=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Qhe(t))!Zhe.call(e,o)&&o!==r&&Bm(e,o,{get:()=>t[o],enumerable:!(n=Xhe(t,o))||n.enumerable});return e},rge=e=>tge(Bm({},"__esModule",{value:!0}),e),Rq={};ege(Rq,{fromProcess:()=>cge});xq.exports=rge(Rq);var Aq=ln(),sb=Je(),nge=M("child_process"),oge=M("util"),sge=(Qt(),z(Qr)),ige=ib((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,sge.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),age=ib(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,oge.promisify)(nge.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return ige(e,a,t)}catch(i){throw new sb.CredentialsProviderError(i.message,{logger:r})}}else throw new sb.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new sb.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),cge=ib((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,Aq.parseKnownFiles)(e);return age((0,Aq.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var cb=b(yr=>{"use strict";d();var dge=yr&&yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lge=yr&&yr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uge=yr&&yr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&dge(r,t,n[o]);return lge(r,t),r}}();Object.defineProperty(yr,"__esModule",{value:!0});yr.fromWebToken=void 0;var pge=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>uge((ob(),z(nb))));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};yr.fromWebToken=pge});var Nq=b(jm=>{"use strict";d();Object.defineProperty(jm,"__esModule",{value:!0});jm.fromTokenFile=void 0;var mge=(Qt(),z(Qr)),fge=Je(),hge=M("fs"),gge=cb(),Oq="AWS_WEB_IDENTITY_TOKEN_FILE",yge="AWS_ROLE_ARN",_ge="AWS_ROLE_SESSION_NAME",Ege=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[Oq],r=e?.roleArn??process.env[yge],n=e?.roleSessionName??process.env[_ge];if(!t||!r)throw new fge.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,gge.fromWebToken)({...e,webIdentityToken:(0,hge.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[Oq]&&(0,mge.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};jm.fromTokenFile=Ege});var ub=b((yWe,Hm)=>{"use strict";d();var Dq=Object.defineProperty,Sge=Object.getOwnPropertyDescriptor,vge=Object.getOwnPropertyNames,bge=Object.prototype.hasOwnProperty,db=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vge(t))!bge.call(e,o)&&o!==r&&Dq(e,o,{get:()=>t[o],enumerable:!(n=Sge(t,o))||n.enumerable});return e},Mq=(e,t,r)=>(db(e,t,"default"),r&&db(r,t,"default")),wge=e=>db(Dq({},"__esModule",{value:!0}),e),lb={};Hm.exports=wge(lb);Mq(lb,Nq(),Hm.exports);Mq(lb,cb(),Hm.exports)});var $q=b((EWe,Hq)=>{"use strict";d();var Tge=Object.create,ac=Object.defineProperty,Cge=Object.getOwnPropertyDescriptor,Pge=Object.getOwnPropertyNames,Ige=Object.getPrototypeOf,Age=Object.prototype.hasOwnProperty,Ce=(e,t)=>ac(e,"name",{value:t,configurable:!0}),Rge=(e,t)=>{for(var r in t)ac(e,r,{get:t[r],enumerable:!0})},Fq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Pge(t))!Age.call(e,o)&&o!==r&&ac(e,o,{get:()=>t[o],enumerable:!(n=Cge(t,o))||n.enumerable});return e},On=(e,t,r)=>(r=e!=null?Tge(Ige(e)):{},Fq(t||!e||!e.__esModule?ac(r,"default",{value:e,enumerable:!0}):r,e)),xge=e=>Fq(ac({},"__esModule",{value:!0}),e),Bq={};Rge(Bq,{fromIni:()=>$ge});Hq.exports=xge(Bq);var mb=ln(),Nn=(Qt(),z(Qr)),ic=Je(),Oge=Ce((e,t,r)=>{let n={EcsContainer:Ce(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>On(Ny())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>On(Di()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,ic.chain)(s(o??{}),i(o))().then(pb)},"EcsContainer"),Ec2InstanceMetadata:Ce(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>On(Di()));return async()=>s(o)().then(pb)},"Ec2InstanceMetadata"),Environment:Ce(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>On(Cy()));return async()=>s(o)().then(pb)},"Environment")};if(e in n)return n[e];throw new ic.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),pb=Ce(e=>(0,Nn.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),Nge=Ce((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Dge(e,{profile:t,logger:r})||Mge(e,{profile:t,logger:r})),"isAssumeRoleProfile"),Dge=Ce((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),Mge=Ce((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),kge=Ce(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>On((ob(),z(nb))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new ic.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,mb.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?jq(s,t,r,{...n,[s]:!0},kq(t[s]??{})):(await Oge(o.credential_source,e,r.logger)(r))();if(kq(o))return a.then(c=>(0,Nn.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:l}=o;if(l){if(!r.mfaCodeProvider)throw new ic.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c).then(f=>(0,Nn.setCredentialFeature)(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),kq=Ce(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),Lge=Ce(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),Uge=Ce(async(e,t)=>Promise.resolve().then(()=>On(ab())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Nn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),Fge=Ce(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>On(Tv()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,Nn.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,Nn.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),Bge=Ce(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Lq=Ce(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),Uq=Ce(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Nn.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),jge=Ce(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),Hge=Ce(async(e,t)=>Promise.resolve().then(()=>On(ub())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Nn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),jq=Ce(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&Lq(s))return Uq(s,r);if(o||Nge(s,{profile:e,logger:r.logger}))return kge(e,t,r,n);if(Lq(s))return Uq(s,r);if(jge(s))return Hge(s,r);if(Lge(s))return Uge(r,e);if(Bge(s))return await Fge(e,s,r);throw new ic.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),$ge=Ce((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,mb.parseKnownFiles)(r);return jq((0,mb.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var Yq=b((vWe,Jq)=>{"use strict";d();var qge=Object.create,cc=Object.defineProperty,zge=Object.getOwnPropertyDescriptor,Vge=Object.getOwnPropertyNames,Gge=Object.getPrototypeOf,Wge=Object.prototype.hasOwnProperty,$m=(e,t)=>cc(e,"name",{value:t,configurable:!0}),Kge=(e,t)=>{for(var r in t)cc(e,r,{get:t[r],enumerable:!0})},Vq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vge(t))!Wge.call(e,o)&&o!==r&&cc(e,o,{get:()=>t[o],enumerable:!(n=zge(t,o))||n.enumerable});return e},Ls=(e,t,r)=>(r=e!=null?qge(Gge(e)):{},Vq(t||!e||!e.__esModule?cc(r,"default",{value:e,enumerable:!0}):r,e)),Jge=e=>Vq(cc({},"__esModule",{value:!0}),e),Gq={};Kge(Gq,{credentialsTreatedAsExpired:()=>Kq,credentialsWillNeedRefresh:()=>Wq,defaultProvider:()=>Qge});Jq.exports=Jge(Gq);var fb=Cy(),Yge=ln(),No=Je(),qq="AWS_EC2_METADATA_DISABLED",Xge=$m(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>Ls(Di()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>Ls(Ny()));return(0,No.chain)(s(e),n(e))}return process.env[qq]&&process.env[qq]!=="false"?async()=>{throw new No.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),zq=!1,Qge=$m((e={})=>(0,No.memoize)((0,No.chain)(async()=>{if(e.profile??process.env[Yge.ENV_PROFILE])throw process.env[fb.ENV_KEY]&&process.env[fb.ENV_SECRET]&&(zq||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),zq=!0)),new No.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,fb.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new No.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>Ls(Tv()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Ls($q()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Ls(ab()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Ls(ub()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Xge(e))()),async()=>{throw new No.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),Kq,Wq),"defaultProvider"),Wq=$m(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),Kq=$m(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var Sz=b(Km=>{"use strict";d();Object.defineProperty(Km,"__esModule",{value:!0});Km.ruleSet=void 0;var Eb="required",V="type",Y="fn",X="argv",Ie="ref",Dn="properties",Mn="headers",Xq=!1,Do="isSet",je="error",_r="endpoint",Pe="tree",Wm="PartitionResult",kn="stringEquals",yz="dynamodb",Ln="getAttr",Qq="aws.parseArn",Us="ParsedArn",Sb="isValidHostLabel",Zq="FirstArn",dc={[Eb]:!1,[V]:"String"},ez={[Eb]:!0,default:!1,[V]:"Boolean"},vb={[Y]:"booleanEquals",[X]:[{[Ie]:"UseFIPS"},!0]},bb={[Y]:"booleanEquals",[X]:[{[Ie]:"UseDualStack"},!0]},jt={},_z={[Ie]:"Region"},tz={[Y]:"booleanEquals",[X]:[{[Y]:Ln,[X]:[{[Ie]:Wm},"supportsFIPS"]},!0]},rz={[Y]:"booleanEquals",[X]:[{[Y]:Ln,[X]:[{[Ie]:Wm},"supportsDualStack"]},!0]},hb={conditions:[{[Y]:Do,[X]:[{[Ie]:"AccountIdEndpointMode"}]},{[Y]:kn,[X]:[{[Ie]:"AccountIdEndpointMode"},"required"]}],rules:[{[je]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:je}],[V]:Pe},Vm={[Y]:Do,[X]:[{[Ie]:"AccountIdEndpointMode"}]},nz={[je]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:je},Ez={[Y]:Ln,[X]:[{[Ie]:Wm},"name"]},oz={[_r]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Dn]:{},[Mn]:{}},[V]:_r},Gm={[Y]:"not",[X]:[vb]},sz={[je]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[V]:je},gb={[Y]:"not",[X]:[{[Y]:kn,[X]:[{[Ie]:"AccountIdEndpointMode"},"disabled"]}]},qm={[Y]:kn,[X]:[Ez,"aws"]},zm={[Y]:"not",[X]:[bb]},iz={[Y]:kn,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"service"]},yz]},az={[Y]:Sb,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"region"]},!1]},cz={[Y]:kn,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"region"]},"{Region}"]},dz={[Y]:Sb,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"accountId"]},!1]},lz={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Dn]:{},[Mn]:{}},uz={[Ie]:"ResourceArnList"},pz={[Ie]:"AccountId"},yb=[vb],_b=[bb],mz=[_z],fz=[Vm,{[Y]:kn,[X]:[{[Ie]:"AccountIdEndpointMode"},"required"]}],hz=[Gm],gz=[{[Ie]:"ResourceArn"}],Zge={version:"1.0",parameters:{Region:dc,UseDualStack:ez,UseFIPS:ez,Endpoint:dc,AccountId:dc,AccountIdEndpointMode:dc,ResourceArn:dc,ResourceArnList:{[Eb]:Xq,[V]:"stringArray"}},rules:[{conditions:[{[Y]:Do,[X]:[{[Ie]:"Endpoint"}]}],rules:[{conditions:yb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:je},{conditions:_b,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:je},{endpoint:{url:"{Endpoint}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{conditions:[{[Y]:Do,[X]:mz}],rules:[{conditions:[{[Y]:"aws.partition",[X]:mz,assign:Wm}],rules:[{conditions:[{[Y]:kn,[X]:[_z,"local"]}],rules:[{conditions:yb,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:je},{conditions:_b,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:je},{endpoint:{url:"http://localhost:8000",[Dn]:{authSchemes:[{signingRegion:"us-east-1",signingName:yz,name:"sigv4"}]},[Mn]:jt},[V]:_r}],[V]:Pe},{conditions:[vb,bb],rules:[{conditions:[tz,rz],rules:[hb,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:je}],[V]:Pe},{conditions:yb,rules:[{conditions:[tz],rules:[{conditions:[{[Y]:kn,[X]:[Ez,"aws-us-gov"]}],rules:[hb,oz],[V]:Pe},hb,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"FIPS is enabled but this partition does not support FIPS",[V]:je}],[V]:Pe},{conditions:_b,rules:[{conditions:[rz],rules:[{conditions:fz,rules:[{conditions:hz,rules:[sz],[V]:Pe},nz],[V]:Pe},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"DualStack is enabled but this partition does not support DualStack",[V]:je}],[V]:Pe},{conditions:[Vm,gb,qm,Gm,zm,{[Y]:Do,[X]:gz},{[Y]:Qq,[X]:gz,assign:Us},iz,az,cz,dz],endpoint:lz,[V]:_r},{conditions:[Vm,gb,qm,Gm,zm,{[Y]:Do,[X]:[uz]},{[Y]:Ln,[X]:[uz,"[0]"],assign:Zq},{[Y]:Qq,[X]:[{[Ie]:Zq}],assign:Us},iz,az,cz,dz],endpoint:lz,[V]:_r},{conditions:[Vm,gb,qm,Gm,zm,{[Y]:Do,[X]:[pz]}],rules:[{conditions:[{[Y]:Sb,[X]:[pz,Xq]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"Credentials-sourced account ID parameter is invalid",[V]:je}],[V]:Pe},{conditions:fz,rules:[{conditions:hz,rules:[{conditions:[zm],rules:[{conditions:[qm],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:je}],[V]:Pe},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:je}],[V]:Pe},sz],[V]:Pe},nz],[V]:Pe},oz],[V]:Pe}],[V]:Pe},{error:"Invalid Configuration: Missing Region",[V]:je}]};Km.ruleSet=Zge});var vz=b(Jm=>{"use strict";d();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.defaultEndpointResolver=void 0;var eye=gd(),wb=pd(),tye=Sz(),rye=new wb.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),nye=(e,t={})=>rye.get(e,()=>(0,wb.resolveEndpoint)(tye.ruleSet,{endpointParams:e,logger:t.logger}));Jm.defaultEndpointResolver=nye;wb.customEndpointFunctions.aws=eye.awsEndpointFunctions});var Tz=b(Ym=>{"use strict";d();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.getRuntimeConfig=void 0;var oye=(er(),z(Zt)),sye=De(),iye=$o(),bz=ct(),wz=Ge(),aye=ly(),cye=vz(),dye=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??bz.fromBase64,base64Encoder:e?.base64Encoder??bz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??cye.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??aye.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new oye.AwsSdkSigV4Signer}],logger:e?.logger??new sye.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??iye.parseUrl,utf8Decoder:e?.utf8Decoder??wz.fromUtf8,utf8Encoder:e?.utf8Encoder??wz.toUtf8});Ym.getRuntimeConfig=dye});var Rz=b(Qm=>{"use strict";d();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.getRuntimeConfig=void 0;var lye=(Cl(),z(Tl)),uye=lye.__importDefault(QO()),Cz=(er(),z(Zt)),pye=(df(),z(cf)),mye=Yq(),fye=yf(),Pz=Ly(),Xm=Go(),hye=By(),Iz=Ri(),qr=Yo(),Az=Ws(),gye=jy(),yye=il(),_ye=Tz(),Eye=De(),Sye=Vy(),vye=De(),bye=e=>{(0,vye.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Sye.resolveDefaultsModeConfig)(e),r=()=>t().then(Eye.loadConfigsForDefaultMode),n=(0,_ye.getRuntimeConfig)(e);(0,Cz.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,qr.loadConfig)(pye.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,qr.loadConfig)(Cz.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??gye.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??mye.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Pz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:uye.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,qr.loadConfig)(fye.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,qr.loadConfig)(Iz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,qr.loadConfig)(Xm.NODE_REGION_CONFIG_OPTIONS,{...Xm.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Az.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,qr.loadConfig)({...Iz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||yye.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??hye.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Az.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,qr.loadConfig)(Xm.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,qr.loadConfig)(Xm.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,qr.loadConfig)(Pz.NODE_APP_ID_CONFIG_OPTIONS,o)}};Qm.getRuntimeConfig=bye});var Lz=b((OWe,kz)=>{d();var Zm=Object.defineProperty,wye=Object.getOwnPropertyDescriptor,Tye=Object.getOwnPropertyNames,Cye=Object.prototype.hasOwnProperty,Er=(e,t)=>Zm(e,"name",{value:t,configurable:!0}),Pye=(e,t)=>{for(var r in t)Zm(e,r,{get:t[r],enumerable:!0})},Iye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tye(t))!Cye.call(e,o)&&o!==r&&Zm(e,o,{get:()=>t[o],enumerable:!(n=wye(t,o))||n.enumerable});return e},Aye=e=>Iye(Zm({},"__esModule",{value:!0}),e),Nz={};Pye(Nz,{WaiterState:()=>Mz,checkExceptions:()=>xye,createWaiter:()=>kye,waiterServiceDefaults:()=>Dz});kz.exports=Aye(Nz);var Rye=Er(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),Dz={minDelay:2,maxDelay:120},Mz=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(Mz||{}),xye=Er(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),Oye=Er((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return Nye(e,o)},"exponentialBackoffWithJitter"),Nye=Er((e,t)=>e+Math.random()*(t-e),"randomInRange"),Dye=Er(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let c={},{state:l,reason:p}=await a(o,i);if(p){let _=xz(p);c[_]|=0,c[_]+=1}if(l!=="RETRY")return{state:l,reason:p,observedResponses:c};let f=1,h=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let v="AbortController signal aborted.";return c[v]|=0,c[v]+=1,{state:"ABORTED",observedResponses:c}}let _=Oye(e,t,g,f);if(Date.now()+_*1e3>h)return{state:"TIMEOUT",observedResponses:c};await Rye(_);let{state:E,reason:S}=await a(o,i);if(S){let v=xz(S);c[v]|=0,c[v]+=1}if(E!=="RETRY")return{state:E,reason:S,observedResponses:c};f+=1}},"runPolling"),xz=Er(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),Mye=Er(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),Oz=Er(e=>{let t,r=new Promise(n=>{t=Er(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),kye=Er(async(e,t,r)=>{let n={...Dz,...e};Mye(n);let o=[Dye(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=Oz(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=Oz(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})},"createWaiter")});var v2=b((DWe,S2)=>{"use strict";d();var tf=Object.defineProperty,Lye=Object.getOwnPropertyDescriptor,Uye=Object.getOwnPropertyNames,Fye=Object.prototype.hasOwnProperty,u=(e,t)=>tf(e,"name",{value:t,configurable:!0}),Bye=(e,t)=>{for(var r in t)tf(e,r,{get:t[r],enumerable:!0})},jye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uye(t))!Fye.call(e,o)&&o!==r&&tf(e,o,{get:()=>t[o],enumerable:!(n=Lye(t,o))||n.enumerable});return e},Hye=e=>jye(tf({},"__esModule",{value:!0}),e),qz={};Bye(qz,{ApproximateCreationDateTimePrecision:()=>Jye,AttributeAction:()=>Yye,AttributeValue:()=>ef,BackupInUseException:()=>Vz,BackupNotFoundException:()=>Wz,BackupStatus:()=>Qye,BackupType:()=>Zye,BackupTypeFilter:()=>a_e,BatchExecuteStatementCommand:()=>bG,BatchGetItemCommand:()=>wG,BatchStatementErrorCodeEnum:()=>l_e,BatchWriteItemCommand:()=>TG,BillingMode:()=>e_e,ComparisonOperator:()=>p_e,ConditionalCheckFailedException:()=>tG,ConditionalOperator:()=>m_e,ContinuousBackupsStatus:()=>f_e,ContinuousBackupsUnavailableException:()=>dV,ContributorInsightsAction:()=>g_e,ContributorInsightsStatus:()=>y_e,CreateBackupCommand:()=>CG,CreateGlobalTableCommand:()=>PG,CreateTableCommand:()=>IG,DeleteBackupCommand:()=>AG,DeleteItemCommand:()=>RG,DeleteResourcePolicyCommand:()=>xG,DeleteTableCommand:()=>OG,DescribeBackupCommand:()=>NG,DescribeContinuousBackupsCommand:()=>DG,DescribeContributorInsightsCommand:()=>MG,DescribeEndpointsCommand:()=>Ob,DescribeExportCommand:()=>kG,DescribeGlobalTableCommand:()=>LG,DescribeGlobalTableSettingsCommand:()=>UG,DescribeImportCommand:()=>FG,DescribeKinesisStreamingDestinationCommand:()=>BG,DescribeLimitsCommand:()=>jG,DescribeTableCommand:()=>sf,DescribeTableReplicaAutoScalingCommand:()=>HG,DescribeTimeToLiveCommand:()=>$G,DestinationStatus:()=>M_e,DisableKinesisStreamingDestinationCommand:()=>qG,DuplicateItemException:()=>OV,DynamoDB:()=>y2,DynamoDBClient:()=>jn,DynamoDBServiceException:()=>Q,EnableKinesisStreamingDestinationCommand:()=>zG,ExecuteStatementCommand:()=>VG,ExecuteTransactionCommand:()=>GG,ExportConflictException:()=>UV,ExportFormat:()=>P_e,ExportNotFoundException:()=>CV,ExportStatus:()=>I_e,ExportTableToPointInTimeCommand:()=>WG,ExportType:()=>A_e,ExportViewType:()=>R_e,GetItemCommand:()=>KG,GetResourcePolicyCommand:()=>JG,GlobalTableAlreadyExistsException:()=>yV,GlobalTableNotFoundException:()=>IV,GlobalTableStatus:()=>__e,IdempotentParameterMismatchException:()=>DV,ImportConflictException:()=>qV,ImportNotFoundException:()=>RV,ImportStatus:()=>O_e,ImportTableCommand:()=>YG,IndexNotFoundException:()=>ZV,IndexStatus:()=>E_e,InputCompressionType:()=>N_e,InputFormat:()=>D_e,InternalServerError:()=>Jz,InvalidEndpointException:()=>Zz,InvalidExportTimeException:()=>BV,InvalidRestoreTimeException:()=>WV,ItemCollectionSizeLimitExceededException:()=>sV,KeyType:()=>t_e,LimitExceededException:()=>uV,ListBackupsCommand:()=>XG,ListContributorInsightsCommand:()=>Nb,ListExportsCommand:()=>Db,ListGlobalTablesCommand:()=>QG,ListImportsCommand:()=>Mb,ListTablesCommand:()=>kb,ListTagsOfResourceCommand:()=>ZG,MultiRegionConsistency:()=>T_e,PointInTimeRecoveryStatus:()=>h_e,PointInTimeRecoveryUnavailableException:()=>HV,PolicyNotFoundException:()=>wV,ProjectionType:()=>r_e,ProvisionedThroughputExceededException:()=>tV,PutItemCommand:()=>e2,PutResourcePolicyCommand:()=>t2,QueryCommand:()=>Lb,ReplicaAlreadyExistsException:()=>JV,ReplicaNotFoundException:()=>XV,ReplicaStatus:()=>S_e,ReplicatedWriteConflictException:()=>aV,RequestLimitExceeded:()=>Xz,ResourceInUseException:()=>EV,ResourceNotFoundException:()=>nV,RestoreTableFromBackupCommand:()=>r2,RestoreTableToPointInTimeCommand:()=>n2,ReturnConsumedCapacity:()=>c_e,ReturnItemCollectionMetrics:()=>u_e,ReturnValue:()=>C_e,ReturnValuesOnConditionCheckFailure:()=>d_e,S3SseAlgorithm:()=>x_e,SSEStatus:()=>o_e,SSEType:()=>n_e,ScalarAttributeType:()=>Xye,ScanCommand:()=>Ub,Select:()=>k_e,StreamViewType:()=>s_e,TableAlreadyExistsException:()=>VV,TableClass:()=>v_e,TableInUseException:()=>mV,TableNotFoundException:()=>hV,TableStatus:()=>b_e,TagResourceCommand:()=>o2,TimeToLiveStatus:()=>i_e,TransactGetItemsCommand:()=>s2,TransactWriteItemsCommand:()=>i2,TransactionCanceledException:()=>nG,TransactionConflictException:()=>vV,TransactionInProgressException:()=>kV,UntagResourceCommand:()=>a2,UpdateContinuousBackupsCommand:()=>c2,UpdateContributorInsightsCommand:()=>d2,UpdateGlobalTableCommand:()=>l2,UpdateGlobalTableSettingsCommand:()=>u2,UpdateItemCommand:()=>p2,UpdateKinesisStreamingDestinationCommand:()=>m2,UpdateTableCommand:()=>f2,UpdateTableReplicaAutoScalingCommand:()=>h2,UpdateTimeToLiveCommand:()=>g2,WitnessStatus:()=>w_e,__Client:()=>m.Client,paginateListContributorInsights:()=>fTe,paginateListExports:()=>gTe,paginateListImports:()=>_Te,paginateListTables:()=>STe,paginateQuery:()=>bTe,paginateScan:()=>TTe,waitForTableExists:()=>CTe,waitForTableNotExists:()=>ITe,waitUntilTableExists:()=>PTe,waitUntilTableNotExists:()=>ATe});S2.exports=Hye(qz);var $ye=(df(),z(cf)),qye=yf(),Uz=Ef(),zye=vf(),Vye=wf(),Fz=Yd(),Gye=Go(),Tb=(rt(),z(yt)),Wye=Vg(),Bz=Ri(),jz=ly(),L=vy(),F=Vs(),Kye=u(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),B={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},D=(er(),z(Zt)),Cb=me(),rf=(ey(),z(Zg)),m=De(),Q=class zz extends m.ServiceException{static{u(this,"DynamoDBServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,zz.prototype)}},Jye={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Yye={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},Xye={B:"B",N:"N",S:"S"},Qye={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Zye={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},e_e={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},t_e={HASH:"HASH",RANGE:"RANGE"},r_e={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},n_e={AES256:"AES256",KMS:"KMS"},o_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},s_e={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},i_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Vz=class Gz extends Q{static{u(this,"BackupInUseException")}name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,Gz.prototype)}},Wz=class Kz extends Q{static{u(this,"BackupNotFoundException")}name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Kz.prototype)}},a_e={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},c_e={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},d_e={ALL_OLD:"ALL_OLD",NONE:"NONE"},l_e={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},Jz=class Yz extends Q{static{u(this,"InternalServerError")}name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,Yz.prototype)}},Xz=class Qz extends Q{static{u(this,"RequestLimitExceeded")}name="RequestLimitExceeded";$fault="client";constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,Qz.prototype)}},Zz=class eV extends Q{static{u(this,"InvalidEndpointException")}name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,eV.prototype),this.Message=t.Message}},tV=class rV extends Q{static{u(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,rV.prototype)}},nV=class oV extends Q{static{u(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,oV.prototype)}},u_e={NONE:"NONE",SIZE:"SIZE"},sV=class iV extends Q{static{u(this,"ItemCollectionSizeLimitExceededException")}name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,iV.prototype)}},aV=class cV extends Q{static{u(this,"ReplicatedWriteConflictException")}name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,cV.prototype)}},p_e={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},m_e={AND:"AND",OR:"OR"},f_e={DISABLED:"DISABLED",ENABLED:"ENABLED"},h_e={DISABLED:"DISABLED",ENABLED:"ENABLED"},dV=class lV extends Q{static{u(this,"ContinuousBackupsUnavailableException")}name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,lV.prototype)}},g_e={DISABLE:"DISABLE",ENABLE:"ENABLE"},y_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},uV=class pV extends Q{static{u(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,pV.prototype)}},mV=class fV extends Q{static{u(this,"TableInUseException")}name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,fV.prototype)}},hV=class gV extends Q{static{u(this,"TableNotFoundException")}name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,gV.prototype)}},__e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},E_e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},S_e={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},v_e={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},b_e={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},yV=class _V extends Q{static{u(this,"GlobalTableAlreadyExistsException")}name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,_V.prototype)}},w_e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},T_e={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},EV=class SV extends Q{static{u(this,"ResourceInUseException")}name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,SV.prototype)}},C_e={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},vV=class bV extends Q{static{u(this,"TransactionConflictException")}name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,bV.prototype)}},wV=class TV extends Q{static{u(this,"PolicyNotFoundException")}name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,TV.prototype)}},P_e={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},I_e={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},A_e={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},R_e={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},x_e={AES256:"AES256",KMS:"KMS"},CV=class PV extends Q{static{u(this,"ExportNotFoundException")}name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,PV.prototype)}},IV=class AV extends Q{static{u(this,"GlobalTableNotFoundException")}name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,AV.prototype)}},O_e={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},N_e={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},D_e={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},RV=class xV extends Q{static{u(this,"ImportNotFoundException")}name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,xV.prototype)}},M_e={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},OV=class NV extends Q{static{u(this,"DuplicateItemException")}name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,NV.prototype)}},DV=class MV extends Q{static{u(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,MV.prototype),this.Message=t.Message}},kV=class LV extends Q{static{u(this,"TransactionInProgressException")}name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,LV.prototype),this.Message=t.Message}},UV=class FV extends Q{static{u(this,"ExportConflictException")}name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,FV.prototype)}},BV=class jV extends Q{static{u(this,"InvalidExportTimeException")}name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,jV.prototype)}},HV=class $V extends Q{static{u(this,"PointInTimeRecoveryUnavailableException")}name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,$V.prototype)}},qV=class zV extends Q{static{u(this,"ImportConflictException")}name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,zV.prototype)}},k_e={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},VV=class GV extends Q{static{u(this,"TableAlreadyExistsException")}name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,GV.prototype)}},WV=class KV extends Q{static{u(this,"InvalidRestoreTimeException")}name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,KV.prototype)}},JV=class YV extends Q{static{u(this,"ReplicaAlreadyExistsException")}name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,YV.prototype)}},XV=class QV extends Q{static{u(this,"ReplicaNotFoundException")}name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,QV.prototype)}},ZV=class eG extends Q{static{u(this,"IndexNotFoundException")}name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,eG.prototype)}},ef;(e=>{e.visit=u((t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]),"visit")})(ef||(ef={}));var tG=class rG extends Q{static{u(this,"ConditionalCheckFailedException")}name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,rG.prototype),this.Item=t.Item}},nG=class oG extends Q{static{u(this,"TransactionCanceledException")}name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,oG.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},L_e=u(async(e,t)=>{let r=U("BatchExecuteStatement"),n;return n=JSON.stringify(Pve(e,t)),H(t,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),U_e=u(async(e,t)=>{let r=U("BatchGetItem"),n;return n=JSON.stringify(Ive(e,t)),H(t,r,"/",void 0,n)},"se_BatchGetItemCommand"),F_e=u(async(e,t)=>{let r=U("BatchWriteItem"),n;return n=JSON.stringify(xve(e,t)),H(t,r,"/",void 0,n)},"se_BatchWriteItemCommand"),B_e=u(async(e,t)=>{let r=U("CreateBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateBackupCommand"),j_e=u(async(e,t)=>{let r=U("CreateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),H_e=u(async(e,t)=>{let r=U("CreateTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateTableCommand"),$_e=u(async(e,t)=>{let r=U("DeleteBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteBackupCommand"),q_e=u(async(e,t)=>{let r=U("DeleteItem"),n;return n=JSON.stringify(kve(e,t)),H(t,r,"/",void 0,n)},"se_DeleteItemCommand"),z_e=u(async(e,t)=>{let r=U("DeleteResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),V_e=u(async(e,t)=>{let r=U("DeleteTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteTableCommand"),G_e=u(async(e,t)=>{let r=U("DescribeBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeBackupCommand"),W_e=u(async(e,t)=>{let r=U("DescribeContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),K_e=u(async(e,t)=>{let r=U("DescribeContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),J_e=u(async(e,t)=>{let r=U("DescribeEndpoints"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),Y_e=u(async(e,t)=>{let r=U("DescribeExport"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeExportCommand"),X_e=u(async(e,t)=>{let r=U("DescribeGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),Q_e=u(async(e,t)=>{let r=U("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),Z_e=u(async(e,t)=>{let r=U("DescribeImport"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeImportCommand"),eEe=u(async(e,t)=>{let r=U("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),tEe=u(async(e,t)=>{let r=U("DescribeLimits"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),rEe=u(async(e,t)=>{let r=U("DescribeTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTableCommand"),nEe=u(async(e,t)=>{let r=U("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),oEe=u(async(e,t)=>{let r=U("DescribeTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),sEe=u(async(e,t)=>{let r=U("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),iEe=u(async(e,t)=>{let r=U("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),aEe=u(async(e,t)=>{let r=U("ExecuteStatement"),n;return n=JSON.stringify(Uve(e,t)),H(t,r,"/",void 0,n)},"se_ExecuteStatementCommand"),cEe=u(async(e,t)=>{let r=U("ExecuteTransaction"),n;return n=JSON.stringify(Fve(e,t)),H(t,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),dEe=u(async(e,t)=>{let r=U("ExportTableToPointInTime"),n;return n=JSON.stringify(jve(e,t)),H(t,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),lEe=u(async(e,t)=>{let r=U("GetItem"),n;return n=JSON.stringify($ve(e,t)),H(t,r,"/",void 0,n)},"se_GetItemCommand"),uEe=u(async(e,t)=>{let r=U("GetResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),pEe=u(async(e,t)=>{let r=U("ImportTable"),n;return n=JSON.stringify(Wve(e,t)),H(t,r,"/",void 0,n)},"se_ImportTableCommand"),mEe=u(async(e,t)=>{let r=U("ListBackups"),n;return n=JSON.stringify(Zve(e,t)),H(t,r,"/",void 0,n)},"se_ListBackupsCommand"),fEe=u(async(e,t)=>{let r=U("ListContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),hEe=u(async(e,t)=>{let r=U("ListExports"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListExportsCommand"),gEe=u(async(e,t)=>{let r=U("ListGlobalTables"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),yEe=u(async(e,t)=>{let r=U("ListImports"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListImportsCommand"),_Ee=u(async(e,t)=>{let r=U("ListTables"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListTablesCommand"),EEe=u(async(e,t)=>{let r=U("ListTagsOfResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),SEe=u(async(e,t)=>{let r=U("PutItem"),n;return n=JSON.stringify(sbe(e,t)),H(t,r,"/",void 0,n)},"se_PutItemCommand"),vEe=u(async(e,t)=>{let r=U("PutResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),bEe=u(async(e,t)=>{let r=U("Query"),n;return n=JSON.stringify(abe(e,t)),H(t,r,"/",void 0,n)},"se_QueryCommand"),wEe=u(async(e,t)=>{let r=U("RestoreTableFromBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),TEe=u(async(e,t)=>{let r=U("RestoreTableToPointInTime"),n;return n=JSON.stringify(gbe(e,t)),H(t,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),CEe=u(async(e,t)=>{let r=U("Scan"),n;return n=JSON.stringify(ybe(e,t)),H(t,r,"/",void 0,n)},"se_ScanCommand"),PEe=u(async(e,t)=>{let r=U("TagResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_TagResourceCommand"),IEe=u(async(e,t)=>{let r=U("TransactGetItems"),n;return n=JSON.stringify(Sbe(e,t)),H(t,r,"/",void 0,n)},"se_TransactGetItemsCommand"),AEe=u(async(e,t)=>{let r=U("TransactWriteItems"),n;return n=JSON.stringify(wbe(e,t)),H(t,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),REe=u(async(e,t)=>{let r=U("UntagResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UntagResourceCommand"),xEe=u(async(e,t)=>{let r=U("UpdateContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),OEe=u(async(e,t)=>{let r=U("UpdateContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),NEe=u(async(e,t)=>{let r=U("UpdateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),DEe=u(async(e,t)=>{let r=U("UpdateGlobalTableSettings"),n;return n=JSON.stringify(Cbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),MEe=u(async(e,t)=>{let r=U("UpdateItem"),n;return n=JSON.stringify(Pbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateItemCommand"),kEe=u(async(e,t)=>{let r=U("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),LEe=u(async(e,t)=>{let r=U("UpdateTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateTableCommand"),UEe=u(async(e,t)=>{let r=U("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(Ibe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),FEe=u(async(e,t)=>{let r=U("UpdateTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),BEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Lbe(r,t),{$metadata:P(e),...n}},"de_BatchExecuteStatementCommand"),jEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Ube(r,t),{$metadata:P(e),...n}},"de_BatchGetItemCommand"),HEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=$be(r,t),{$metadata:P(e),...n}},"de_BatchWriteItemCommand"),$Ee=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Kbe(r,t),{$metadata:P(e),...n}},"de_CreateBackupCommand"),qEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Jbe(r,t),{$metadata:P(e),...n}},"de_CreateGlobalTableCommand"),zEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Ybe(r,t),{$metadata:P(e),...n}},"de_CreateTableCommand"),VEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Xbe(r,t),{$metadata:P(e),...n}},"de_DeleteBackupCommand"),GEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Qbe(r,t),{$metadata:P(e),...n}},"de_DeleteItemCommand"),WEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DeleteResourcePolicyCommand"),KEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=ewe(r,t),{$metadata:P(e),...n}},"de_DeleteTableCommand"),JEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=twe(r,t),{$metadata:P(e),...n}},"de_DescribeBackupCommand"),YEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=rwe(r,t),{$metadata:P(e),...n}},"de_DescribeContinuousBackupsCommand"),XEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=nwe(r,t),{$metadata:P(e),...n}},"de_DescribeContributorInsightsCommand"),QEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeEndpointsCommand"),ZEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=owe(r,t),{$metadata:P(e),...n}},"de_DescribeExportCommand"),eSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=swe(r,t),{$metadata:P(e),...n}},"de_DescribeGlobalTableCommand"),tSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=iwe(r,t),{$metadata:P(e),...n}},"de_DescribeGlobalTableSettingsCommand"),rSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=awe(r,t),{$metadata:P(e),...n}},"de_DescribeImportCommand"),nSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeKinesisStreamingDestinationCommand"),oSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeLimitsCommand"),sSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=cwe(r,t),{$metadata:P(e),...n}},"de_DescribeTableCommand"),iSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=dwe(r,t),{$metadata:P(e),...n}},"de_DescribeTableReplicaAutoScalingCommand"),aSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeTimeToLiveCommand"),cSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DisableKinesisStreamingDestinationCommand"),dSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_EnableKinesisStreamingDestinationCommand"),lSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=lwe(r,t),{$metadata:P(e),...n}},"de_ExecuteStatementCommand"),uSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=uwe(r,t),{$metadata:P(e),...n}},"de_ExecuteTransactionCommand"),pSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=pwe(r,t),{$metadata:P(e),...n}},"de_ExportTableToPointInTimeCommand"),mSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=mwe(r,t),{$metadata:P(e),...n}},"de_GetItemCommand"),fSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_GetResourcePolicyCommand"),hSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=_we(r,t),{$metadata:P(e),...n}},"de_ImportTableCommand"),gSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Iwe(r,t),{$metadata:P(e),...n}},"de_ListBackupsCommand"),ySe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListContributorInsightsCommand"),_Se=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListExportsCommand"),ESe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListGlobalTablesCommand"),SSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Awe(r,t),{$metadata:P(e),...n}},"de_ListImportsCommand"),vSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListTablesCommand"),bSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListTagsOfResourceCommand"),wSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Dwe(r,t),{$metadata:P(e),...n}},"de_PutItemCommand"),TSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_PutResourcePolicyCommand"),CSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=kwe(r,t),{$metadata:P(e),...n}},"de_QueryCommand"),PSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Vwe(r,t),{$metadata:P(e),...n}},"de_RestoreTableFromBackupCommand"),ISe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Gwe(r,t),{$metadata:P(e),...n}},"de_RestoreTableToPointInTimeCommand"),ASe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Wwe(r,t),{$metadata:P(e),...n}},"de_ScanCommand"),RSe=u(async(e,t)=>e.statusCode>=300?j(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:P(e)}),"de_TagResourceCommand"),xSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Ywe(r,t),{$metadata:P(e),...n}},"de_TransactGetItemsCommand"),OSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Qwe(r,t),{$metadata:P(e),...n}},"de_TransactWriteItemsCommand"),NSe=u(async(e,t)=>e.statusCode>=300?j(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:P(e)}),"de_UntagResourceCommand"),DSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Zwe(r,t),{$metadata:P(e),...n}},"de_UpdateContinuousBackupsCommand"),MSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateContributorInsightsCommand"),kSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=eTe(r,t),{$metadata:P(e),...n}},"de_UpdateGlobalTableCommand"),LSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=tTe(r,t),{$metadata:P(e),...n}},"de_UpdateGlobalTableSettingsCommand"),USe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=rTe(r,t),{$metadata:P(e),...n}},"de_UpdateItemCommand"),FSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateKinesisStreamingDestinationCommand"),BSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=nTe(r,t),{$metadata:P(e),...n}},"de_UpdateTableCommand"),jSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=oTe(r,t),{$metadata:P(e),...n}},"de_UpdateTableReplicaAutoScalingCommand"),HSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateTimeToLiveCommand"),j=u(async(e,t)=>{let r={...e,body:await(0,D.parseJsonErrorBody)(e.body,t)},n=(0,D.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await tve(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await mve(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await rve(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await dve(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await hve(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await sve(r,t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await pve(r,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await $Se(r,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await VSe(r,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await ive(r,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await yve(r,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await _ve(r,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await JSe(r,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await fve(r,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await qSe(r,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await zSe(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Sve(r,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await cve(r,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await KSe(r,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await YSe(r,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await ZSe(r,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await GSe(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await XSe(r,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Eve(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await vve(r,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await WSe(r,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await nve(r,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await ave(r,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await QSe(r,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await gve(r,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await ove(r,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await lve(r,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await uve(r,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await eve(r,t);default:let o=r.body;return aTe({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),$Se=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Vz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),qSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Wz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),zSe=u(async(e,t)=>{let r=e.body,n=Wbe(r,t),o=new tG({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),VSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new dV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),GSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new OV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),WSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new UV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),KSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new CV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),JSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new yV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),YSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new IV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),XSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new DV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),QSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new qV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),ZSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new RV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),eve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new ZV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),tve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Jz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),rve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Zz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),nve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new BV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),ove=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new WV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),sve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new sV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),ive=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new uV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),ave=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new HV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),cve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new wV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),dve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new tV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),lve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new JV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),uve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new XV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),pve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new aV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicatedWriteConflictExceptionRes"),mve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Xz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),fve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new EV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),hve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new nV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),gve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new VV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),yve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new mV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),_ve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new hV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),Eve=u(async(e,t)=>{let r=e.body,n=Xwe(r,t),o=new nG({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),Sve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new vV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),vve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new kV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),bve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=wve(o,t)),r),{}),"se_AttributeUpdates"),zr=u((e,t)=>ef.visit(e,{B:u(r=>({B:t.base64Encoder(r)}),"B"),BOOL:u(r=>({BOOL:r}),"BOOL"),BS:u(r=>({BS:Nve(r,t)}),"BS"),L:u(r=>({L:Qve(r,t)}),"L"),M:u(r=>({M:ebe(r,t)}),"M"),N:u(r=>({N:r}),"N"),NS:u(r=>({NS:(0,m._json)(r)}),"NS"),NULL:u(r=>({NULL:r}),"NULL"),S:u(r=>({S:r}),"S"),SS:u(r=>({SS:(0,m._json)(r)}),"SS"),_:u((r,n)=>({[r]:n}),"_")}),"se_AttributeValue"),sG=u((e,t)=>e.filter(r=>r!=null).map(r=>zr(r,t)),"se_AttributeValueList"),wve=u((e,t)=>(0,m.take)(e,{Action:[],Value:u(r=>zr(r,t),"Value")}),"se_AttributeValueUpdate"),Tve=u((e,t)=>(0,m.take)(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:u(r=>Cve(r,t),"TargetTrackingScalingPolicyConfiguration")}),"se_AutoScalingPolicyUpdate"),Fn=u((e,t)=>(0,m.take)(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:u(r=>Tve(r,t),"ScalingPolicyUpdate")}),"se_AutoScalingSettingsUpdate"),Cve=u((e,t)=>(0,m.take)(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:m.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),Pve=u((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],Statements:u(r=>nbe(r,t),"Statements")}),"se_BatchExecuteStatementInput"),Ive=u((e,t)=>(0,m.take)(e,{RequestItems:u(r=>Ave(r,t),"RequestItems"),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),Ave=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Xve(o,t)),r),{}),"se_BatchGetRequestMap"),Rve=u((e,t)=>(0,m.take)(e,{ConsistentRead:[],Parameters:u(r=>Ib(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),xve=u((e,t)=>(0,m.take)(e,{RequestItems:u(r=>Ove(r,t),"RequestItems"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),Ove=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Rbe(o,t)),r),{}),"se_BatchWriteItemRequestMap"),Nve=u((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinarySetAttributeValue"),iG=u((e,t)=>(0,m.take)(e,{AttributeValueList:u(r=>sG(r,t),"AttributeValueList"),ComparisonOperator:[]}),"se_Condition"),Dve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),Mve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),kve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Pb(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),Lve=u((e,t)=>(0,m.take)(e,{Key:u(r=>$t(r,t),"Key")}),"se_DeleteRequest"),Uve=u((e,t)=>(0,m.take)(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:u(r=>Ib(r,t),"Parameters"),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),Fve=u((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,rf.v4)()],ReturnConsumedCapacity:[],TransactStatements:u(r=>rbe(r,t),"TransactStatements")}),"se_ExecuteTransactionInput"),Pb=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Bve(o,t)),r),{}),"se_ExpectedAttributeMap"),Bve=u((e,t)=>(0,m.take)(e,{AttributeValueList:u(r=>sG(r,t),"AttributeValueList"),ComparisonOperator:[],Exists:[],Value:u(r=>zr(r,t),"Value")}),"se_ExpectedAttributeValue"),jve=u((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,rf.v4)()],ExportFormat:[],ExportTime:u(r=>r.getTime()/1e3,"ExportTime"),ExportType:[],IncrementalExportSpecification:u(r=>Kve(r,t),"IncrementalExportSpecification"),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),Vr=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_ExpressionAttributeValueMap"),aG=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=iG(o,t)),r),{}),"se_FilterConditionMap"),Hve=u((e,t)=>(0,m.take)(e,{ExpressionAttributeNames:m._json,Key:u(r=>$t(r,t),"Key"),ProjectionExpression:[],TableName:[]}),"se_Get"),$ve=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Key:u(r=>$t(r,t),"Key"),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),qve=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate")}),"se_GlobalSecondaryIndexAutoScalingUpdate"),zve=u((e,t)=>e.filter(r=>r!=null).map(r=>qve(r,t)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),Vve=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingSettingsUpdate"),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),Gve=u((e,t)=>e.filter(r=>r!=null).map(r=>Vve(r,t)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),Wve=u((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,rf.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:m._json,S3BucketSource:m._json,TableCreationParameters:m._json}),"se_ImportTableInput"),Kve=u((e,t)=>(0,m.take)(e,{ExportFromTime:u(r=>r.getTime()/1e3,"ExportFromTime"),ExportToTime:u(r=>r.getTime()/1e3,"ExportToTime"),ExportViewType:[]}),"se_IncrementalExportSpecification"),$t=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_Key"),Jve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=iG(o,t)),r),{}),"se_KeyConditions"),Yve=u((e,t)=>e.filter(r=>r!=null).map(r=>$t(r,t)),"se_KeyList"),Xve=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Keys:u(r=>Yve(r,t),"Keys"),ProjectionExpression:[]}),"se_KeysAndAttributes"),Qve=u((e,t)=>e.filter(r=>r!=null).map(r=>zr(r,t)),"se_ListAttributeValue"),Zve=u((e,t)=>(0,m.take)(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:u(r=>r.getTime()/1e3,"TimeRangeLowerBound"),TimeRangeUpperBound:u(r=>r.getTime()/1e3,"TimeRangeUpperBound")}),"se_ListBackupsInput"),ebe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_MapAttributeValue"),tbe=u((e,t)=>(0,m.take)(e,{Parameters:u(r=>Ib(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),rbe=u((e,t)=>e.filter(r=>r!=null).map(r=>tbe(r,t)),"se_ParameterizedStatements"),nbe=u((e,t)=>e.filter(r=>r!=null).map(r=>Rve(r,t)),"se_PartiQLBatchRequest"),Ib=u((e,t)=>e.filter(r=>r!=null).map(r=>zr(r,t)),"se_PreparedStatementParameters"),obe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Item:u(r=>Ab(r,t),"Item"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),sbe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Pb(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Item:u(r=>Ab(r,t),"Item"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),Ab=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_PutItemInputAttributeMap"),ibe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Ab(r,t),"Item")}),"se_PutRequest"),abe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>$t(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:u(r=>Jve(r,t),"KeyConditions"),Limit:[],ProjectionExpression:[],QueryFilter:u(r=>aG(r,t),"QueryFilter"),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),cbe=u((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:u(r=>ube(r,t),"ReplicaGlobalSecondaryIndexUpdates"),ReplicaProvisionedReadCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ReplicaProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaAutoScalingUpdate"),dbe=u((e,t)=>e.filter(r=>r!=null).map(r=>cbe(r,t)),"se_ReplicaAutoScalingUpdateList"),lbe=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),ube=u((e,t)=>e.filter(r=>r!=null).map(r=>lbe(r,t)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),pbe=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"ProvisionedReadCapacityAutoScalingSettingsUpdate"),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),mbe=u((e,t)=>e.filter(r=>r!=null).map(r=>pbe(r,t)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),fbe=u((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:u(r=>mbe(r,t),"ReplicaGlobalSecondaryIndexSettingsUpdate"),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate"),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),hbe=u((e,t)=>e.filter(r=>r!=null).map(r=>fbe(r,t)),"se_ReplicaSettingsUpdateList"),gbe=u((e,t)=>(0,m.take)(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:m._json,LocalSecondaryIndexOverride:m._json,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RestoreDateTime:u(r=>r.getTime()/1e3,"RestoreDateTime"),SSESpecificationOverride:m._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),ybe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>$t(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:u(r=>aG(r,t),"ScanFilter"),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),_be=u((e,t)=>(0,m.take)(e,{Get:u(r=>Hve(r,t),"Get")}),"se_TransactGetItem"),Ebe=u((e,t)=>e.filter(r=>r!=null).map(r=>_be(r,t)),"se_TransactGetItemList"),Sbe=u((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],TransactItems:u(r=>Ebe(r,t),"TransactItems")}),"se_TransactGetItemsInput"),vbe=u((e,t)=>(0,m.take)(e,{ConditionCheck:u(r=>Dve(r,t),"ConditionCheck"),Delete:u(r=>Mve(r,t),"Delete"),Put:u(r=>obe(r,t),"Put"),Update:u(r=>Tbe(r,t),"Update")}),"se_TransactWriteItem"),bbe=u((e,t)=>e.filter(r=>r!=null).map(r=>vbe(r,t)),"se_TransactWriteItemList"),wbe=u((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,rf.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:u(r=>bbe(r,t),"TransactItems")}),"se_TransactWriteItemsInput"),Tbe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),Cbe=u((e,t)=>(0,m.take)(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:u(r=>Gve(r,t),"GlobalTableGlobalSecondaryIndexSettingsUpdate"),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate"),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:u(r=>hbe(r,t),"ReplicaSettingsUpdate")}),"se_UpdateGlobalTableSettingsInput"),Pbe=u((e,t)=>(0,m.take)(e,{AttributeUpdates:u(r=>bve(r,t),"AttributeUpdates"),ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Pb(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),Ibe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexUpdates:u(r=>zve(r,t),"GlobalSecondaryIndexUpdates"),ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate"),ReplicaUpdates:u(r=>dbe(r,t),"ReplicaUpdates"),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),Abe=u((e,t)=>(0,m.take)(e,{DeleteRequest:u(r=>Lve(r,t),"DeleteRequest"),PutRequest:u(r=>ibe(r,t),"PutRequest")}),"se_WriteRequest"),Rbe=u((e,t)=>e.filter(r=>r!=null).map(r=>Abe(r,t)),"se_WriteRequests"),xbe=u((e,t)=>(0,m.take)(e,{ArchivalBackupArn:m.expectString,ArchivalDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ArchivalDateTime"),ArchivalReason:m.expectString}),"de_ArchivalSummary"),Sr=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_AttributeMap"),Fs=u((e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:(0,m.expectBoolean)(e.BOOL)!==void 0?{BOOL:(0,m.expectBoolean)(e.BOOL)}:e.BS!=null?{BS:zbe(e.BS,t)}:e.L!=null?{L:Pwe(e.L,t)}:e.M!=null?{M:Rwe(e.M,t)}:(0,m.expectString)(e.N)!==void 0?{N:(0,m.expectString)(e.N)}:e.NS!=null?{NS:(0,m._json)(e.NS)}:(0,m.expectBoolean)(e.NULL)!==void 0?{NULL:(0,m.expectBoolean)(e.NULL)}:(0,m.expectString)(e.S)!==void 0?{S:(0,m.expectString)(e.S)}:e.SS!=null?{SS:(0,m._json)(e.SS)}:{$unknown:Object.entries(e)[0]},"de_AttributeValue"),Obe=u((e,t)=>(0,m.take)(e,{PolicyName:m.expectString,TargetTrackingScalingPolicyConfiguration:u(r=>Dbe(r,t),"TargetTrackingScalingPolicyConfiguration")}),"de_AutoScalingPolicyDescription"),Nbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Obe(n,t)),"de_AutoScalingPolicyDescriptionList"),Un=u((e,t)=>(0,m.take)(e,{AutoScalingDisabled:m.expectBoolean,AutoScalingRoleArn:m.expectString,MaximumUnits:m.expectLong,MinimumUnits:m.expectLong,ScalingPolicies:u(r=>Nbe(r,t),"ScalingPolicies")}),"de_AutoScalingSettingsDescription"),Dbe=u((e,t)=>(0,m.take)(e,{DisableScaleIn:m.expectBoolean,ScaleInCooldown:m.expectInt32,ScaleOutCooldown:m.expectInt32,TargetValue:m.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),cG=u((e,t)=>(0,m.take)(e,{BackupDetails:u(r=>dG(r,t),"BackupDetails"),SourceTableDetails:u(r=>Kwe(r,t),"SourceTableDetails"),SourceTableFeatureDetails:u(r=>Jwe(r,t),"SourceTableFeatureDetails")}),"de_BackupDescription"),dG=u((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString}),"de_BackupDetails"),Mbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>kbe(n,t)),"de_BackupSummaries"),kbe=u((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString,TableArn:m.expectString,TableId:m.expectString,TableName:m.expectString}),"de_BackupSummary"),Lbe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>xwe(r,t),"Responses")}),"de_BatchExecuteStatementOutput"),Ube=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>Bbe(r,t),"Responses"),UnprocessedKeys:u(r=>Fbe(r,t),"UnprocessedKeys")}),"de_BatchGetItemOutput"),Fbe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Cwe(o,t)),r),{}),"de_BatchGetRequestMap"),Bbe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=of(o,t)),r),{}),"de_BatchGetResponseMap"),jbe=u((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:u(r=>Sr(r,t),"Item"),Message:m.expectString}),"de_BatchStatementError"),Hbe=u((e,t)=>(0,m.take)(e,{Error:u(r=>jbe(r,t),"Error"),Item:u(r=>Sr(r,t),"Item"),TableName:m.expectString}),"de_BatchStatementResponse"),$be=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>hG(r,t),"ItemCollectionMetrics"),UnprocessedItems:u(r=>qbe(r,t),"UnprocessedItems")}),"de_BatchWriteItemOutput"),qbe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=iTe(o,t)),r),{}),"de_BatchWriteItemRequestMap"),lG=u((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,LastUpdateToPayPerRequestDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateToPayPerRequestDateTime")}),"de_BillingModeSummary"),zbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinarySetAttributeValue"),Vbe=u((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:u(r=>Sr(r,t),"Item"),Message:m.expectString}),"de_CancellationReason"),Gbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Vbe(n,t)),"de_CancellationReasonList"),uG=u((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,ReadCapacityUnits:m.limitedParseDouble,WriteCapacityUnits:m.limitedParseDouble}),"de_Capacity"),Wbe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Sr(r,t),"Item"),message:m.expectString}),"de_ConditionalCheckFailedException"),Bn=u((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,GlobalSecondaryIndexes:u(r=>Hz(r,t),"GlobalSecondaryIndexes"),LocalSecondaryIndexes:u(r=>Hz(r,t),"LocalSecondaryIndexes"),ReadCapacityUnits:m.limitedParseDouble,Table:u(r=>uG(r,t),"Table"),TableName:m.expectString,WriteCapacityUnits:m.limitedParseDouble}),"de_ConsumedCapacity"),Bs=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Bn(n,t)),"de_ConsumedCapacityMultiple"),pG=u((e,t)=>(0,m.take)(e,{ContinuousBackupsStatus:m.expectString,PointInTimeRecoveryDescription:u(r=>Owe(r,t),"PointInTimeRecoveryDescription")}),"de_ContinuousBackupsDescription"),Kbe=u((e,t)=>(0,m.take)(e,{BackupDetails:u(r=>dG(r,t),"BackupDetails")}),"de_CreateBackupOutput"),Jbe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_CreateGlobalTableOutput"),Ybe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_CreateTableOutput"),Xbe=u((e,t)=>(0,m.take)(e,{BackupDescription:u(r=>cG(r,t),"BackupDescription")}),"de_DeleteBackupOutput"),Qbe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>Sr(r,t),"Attributes"),ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>nf(r,t),"ItemCollectionMetrics")}),"de_DeleteItemOutput"),Zbe=u((e,t)=>(0,m.take)(e,{Key:u(r=>lc(r,t),"Key")}),"de_DeleteRequest"),ewe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_DeleteTableOutput"),twe=u((e,t)=>(0,m.take)(e,{BackupDescription:u(r=>cG(r,t),"BackupDescription")}),"de_DescribeBackupOutput"),rwe=u((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:u(r=>pG(r,t),"ContinuousBackupsDescription")}),"de_DescribeContinuousBackupsOutput"),nwe=u((e,t)=>(0,m.take)(e,{ContributorInsightsRuleList:m._json,ContributorInsightsStatus:m.expectString,FailureException:m._json,IndexName:m.expectString,LastUpdateDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableName:m.expectString}),"de_DescribeContributorInsightsOutput"),owe=u((e,t)=>(0,m.take)(e,{ExportDescription:u(r=>mG(r,t),"ExportDescription")}),"de_DescribeExportOutput"),swe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_DescribeGlobalTableOutput"),iwe=u((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:u(r=>EG(r,t),"ReplicaSettings")}),"de_DescribeGlobalTableSettingsOutput"),awe=u((e,t)=>(0,m.take)(e,{ImportTableDescription:u(r=>fG(r,t),"ImportTableDescription")}),"de_DescribeImportOutput"),cwe=u((e,t)=>(0,m.take)(e,{Table:u(r=>js(r,t),"Table")}),"de_DescribeTableOutput"),dwe=u((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:u(r=>vG(r,t),"TableAutoScalingDescription")}),"de_DescribeTableReplicaAutoScalingOutput"),lwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Items:u(r=>of(r,t),"Items"),LastEvaluatedKey:u(r=>lc(r,t),"LastEvaluatedKey"),NextToken:m.expectString}),"de_ExecuteStatementOutput"),uwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>gG(r,t),"Responses")}),"de_ExecuteTransactionOutput"),mG=u((e,t)=>(0,m.take)(e,{BilledSizeBytes:m.expectLong,ClientToken:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ExportArn:m.expectString,ExportFormat:m.expectString,ExportManifest:m.expectString,ExportStatus:m.expectString,ExportTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportTime"),ExportType:m.expectString,FailureCode:m.expectString,FailureMessage:m.expectString,IncrementalExportSpecification:u(r=>Ewe(r,t),"IncrementalExportSpecification"),ItemCount:m.expectLong,S3Bucket:m.expectString,S3BucketOwner:m.expectString,S3Prefix:m.expectString,S3SseAlgorithm:m.expectString,S3SseKmsKeyId:m.expectString,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableId:m.expectString}),"de_ExportDescription"),pwe=u((e,t)=>(0,m.take)(e,{ExportDescription:u(r=>mG(r,t),"ExportDescription")}),"de_ExportTableToPointInTimeOutput"),mwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Item:u(r=>Sr(r,t),"Item")}),"de_GetItemOutput"),fwe=u((e,t)=>(0,m.take)(e,{Backfilling:m.expectBoolean,IndexArn:m.expectString,IndexName:m.expectString,IndexSizeBytes:m.expectLong,IndexStatus:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,Projection:m._json,ProvisionedThroughput:u(r=>yG(r,t),"ProvisionedThroughput"),WarmThroughput:m._json}),"de_GlobalSecondaryIndexDescription"),hwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>fwe(n,t)),"de_GlobalSecondaryIndexDescriptionList"),Rb=u((e,t)=>(0,m.take)(e,{CreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),GlobalTableArn:m.expectString,GlobalTableName:m.expectString,GlobalTableStatus:m.expectString,ReplicationGroup:u(r=>_G(r,t),"ReplicationGroup")}),"de_GlobalTableDescription"),gwe=u((e,t)=>(0,m.take)(e,{CloudWatchLogGroupArn:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ImportArn:m.expectString,ImportStatus:m.expectString,InputFormat:m.expectString,S3BucketSource:m._json,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString}),"de_ImportSummary"),ywe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>gwe(n,t)),"de_ImportSummaryList"),fG=u((e,t)=>(0,m.take)(e,{ClientToken:m.expectString,CloudWatchLogGroupArn:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ErrorCount:m.expectLong,FailureCode:m.expectString,FailureMessage:m.expectString,ImportArn:m.expectString,ImportStatus:m.expectString,ImportedItemCount:m.expectLong,InputCompressionType:m.expectString,InputFormat:m.expectString,InputFormatOptions:m._json,ProcessedItemCount:m.expectLong,ProcessedSizeBytes:m.expectLong,S3BucketSource:m._json,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableCreationParameters:m._json,TableId:m.expectString}),"de_ImportTableDescription"),_we=u((e,t)=>(0,m.take)(e,{ImportTableDescription:u(r=>fG(r,t),"ImportTableDescription")}),"de_ImportTableOutput"),Ewe=u((e,t)=>(0,m.take)(e,{ExportFromTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportFromTime"),ExportToTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportToTime"),ExportViewType:m.expectString}),"de_IncrementalExportSpecification"),Swe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_ItemCollectionKeyAttributeMap"),nf=u((e,t)=>(0,m.take)(e,{ItemCollectionKey:u(r=>Swe(r,t),"ItemCollectionKey"),SizeEstimateRangeGB:u(r=>bwe(r,t),"SizeEstimateRangeGB")}),"de_ItemCollectionMetrics"),vwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>nf(n,t)),"de_ItemCollectionMetricsMultiple"),hG=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=vwe(o,t)),r),{}),"de_ItemCollectionMetricsPerTable"),bwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,m.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),of=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Sr(n,t)),"de_ItemList"),wwe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Sr(r,t),"Item")}),"de_ItemResponse"),gG=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>wwe(n,t)),"de_ItemResponseList"),lc=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_Key"),Twe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>lc(n,t)),"de_KeyList"),Cwe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:m.expectBoolean,ExpressionAttributeNames:m._json,Keys:u(r=>Twe(r,t),"Keys"),ProjectionExpression:m.expectString}),"de_KeysAndAttributes"),Pwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fs((0,D.awsExpectUnion)(n),t)),"de_ListAttributeValue"),Iwe=u((e,t)=>(0,m.take)(e,{BackupSummaries:u(r=>Mbe(r,t),"BackupSummaries"),LastEvaluatedBackupArn:m.expectString}),"de_ListBackupsOutput"),Awe=u((e,t)=>(0,m.take)(e,{ImportSummaryList:u(r=>ywe(r,t),"ImportSummaryList"),NextToken:m.expectString}),"de_ListImportsOutput"),Rwe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_MapAttributeValue"),xwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Hbe(n,t)),"de_PartiQLBatchResponse"),Owe=u((e,t)=>(0,m.take)(e,{EarliestRestorableDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EarliestRestorableDateTime"),LatestRestorableDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LatestRestorableDateTime"),PointInTimeRecoveryStatus:m.expectString,RecoveryPeriodInDays:m.expectInt32}),"de_PointInTimeRecoveryDescription"),yG=u((e,t)=>(0,m.take)(e,{LastDecreaseDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastDecreaseDateTime"),LastIncreaseDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastIncreaseDateTime"),NumberOfDecreasesToday:m.expectLong,ReadCapacityUnits:m.expectLong,WriteCapacityUnits:m.expectLong}),"de_ProvisionedThroughputDescription"),Nwe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_PutItemInputAttributeMap"),Dwe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>Sr(r,t),"Attributes"),ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>nf(r,t),"ItemCollectionMetrics")}),"de_PutItemOutput"),Mwe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Nwe(r,t),"Item")}),"de_PutRequest"),kwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:u(r=>of(r,t),"Items"),LastEvaluatedKey:u(r=>lc(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_QueryOutput"),Lwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:u(r=>jwe(r,t),"GlobalSecondaryIndexes"),RegionName:m.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaStatus:m.expectString}),"de_ReplicaAutoScalingDescription"),Uwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Lwe(n,t)),"de_ReplicaAutoScalingDescriptionList"),Fwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,KMSMasterKeyId:m.expectString,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RegionName:m.expectString,ReplicaInaccessibleDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ReplicaInaccessibleDateTime"),ReplicaStatus:m.expectString,ReplicaStatusDescription:m.expectString,ReplicaStatusPercentProgress:m.expectString,ReplicaTableClassSummary:u(r=>xb(r,t),"ReplicaTableClassSummary"),WarmThroughput:m._json}),"de_ReplicaDescription"),_G=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fwe(n,t)),"de_ReplicaDescriptionList"),Bwe=u((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedWriteCapacityAutoScalingSettings")}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),jwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Bwe(n,t)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),Hwe=u((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedReadCapacityUnits:m.expectLong,ProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedWriteCapacityAutoScalingSettings"),ProvisionedWriteCapacityUnits:m.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),$we=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Hwe(n,t)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),qwe=u((e,t)=>(0,m.take)(e,{RegionName:m.expectString,ReplicaBillingModeSummary:u(r=>lG(r,t),"ReplicaBillingModeSummary"),ReplicaGlobalSecondaryIndexSettings:u(r=>$we(r,t),"ReplicaGlobalSecondaryIndexSettings"),ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedReadCapacityUnits:m.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityUnits:m.expectLong,ReplicaStatus:m.expectString,ReplicaTableClassSummary:u(r=>xb(r,t),"ReplicaTableClassSummary")}),"de_ReplicaSettingsDescription"),EG=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>qwe(n,t)),"de_ReplicaSettingsDescriptionList"),zwe=u((e,t)=>(0,m.take)(e,{RestoreDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"RestoreDateTime"),RestoreInProgress:m.expectBoolean,SourceBackupArn:m.expectString,SourceTableArn:m.expectString}),"de_RestoreSummary"),Vwe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_RestoreTableFromBackupOutput"),Gwe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_RestoreTableToPointInTimeOutput"),Wwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:u(r=>of(r,t),"Items"),LastEvaluatedKey:u(r=>lc(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_ScanOutput"),Hz=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=uG(o,t)),r),{}),"de_SecondaryIndexesCapacityMap"),Kwe=u((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,ProvisionedThroughput:m._json,TableArn:m.expectString,TableCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"TableCreationDateTime"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong}),"de_SourceTableDetails"),Jwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,LocalSecondaryIndexes:m._json,SSEDescription:u(r=>SG(r,t),"SSEDescription"),StreamDescription:m._json,TimeToLiveDescription:m._json}),"de_SourceTableFeatureDetails"),SG=u((e,t)=>(0,m.take)(e,{InaccessibleEncryptionDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"InaccessibleEncryptionDateTime"),KMSMasterKeyArn:m.expectString,SSEType:m.expectString,Status:m.expectString}),"de_SSEDescription"),vG=u((e,t)=>(0,m.take)(e,{Replicas:u(r=>Uwe(r,t),"Replicas"),TableName:m.expectString,TableStatus:m.expectString}),"de_TableAutoScalingDescription"),xb=u((e,t)=>(0,m.take)(e,{LastUpdateDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableClass:m.expectString}),"de_TableClassSummary"),js=u((e,t)=>(0,m.take)(e,{ArchivalSummary:u(r=>xbe(r,t),"ArchivalSummary"),AttributeDefinitions:m._json,BillingModeSummary:u(r=>lG(r,t),"BillingModeSummary"),CreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),DeletionProtectionEnabled:m.expectBoolean,GlobalSecondaryIndexes:u(r=>hwe(r,t),"GlobalSecondaryIndexes"),GlobalTableVersion:m.expectString,GlobalTableWitnesses:m._json,ItemCount:m.expectLong,KeySchema:m._json,LatestStreamArn:m.expectString,LatestStreamLabel:m.expectString,LocalSecondaryIndexes:m._json,MultiRegionConsistency:m.expectString,OnDemandThroughput:m._json,ProvisionedThroughput:u(r=>yG(r,t),"ProvisionedThroughput"),Replicas:u(r=>_G(r,t),"Replicas"),RestoreSummary:u(r=>zwe(r,t),"RestoreSummary"),SSEDescription:u(r=>SG(r,t),"SSEDescription"),StreamSpecification:m._json,TableArn:m.expectString,TableClassSummary:u(r=>xb(r,t),"TableClassSummary"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong,TableStatus:m.expectString,WarmThroughput:m._json}),"de_TableDescription"),Ywe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>gG(r,t),"Responses")}),"de_TransactGetItemsOutput"),Xwe=u((e,t)=>(0,m.take)(e,{CancellationReasons:u(r=>Gbe(r,t),"CancellationReasons"),Message:m.expectString}),"de_TransactionCanceledException"),Qwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>hG(r,t),"ItemCollectionMetrics")}),"de_TransactWriteItemsOutput"),Zwe=u((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:u(r=>pG(r,t),"ContinuousBackupsDescription")}),"de_UpdateContinuousBackupsOutput"),eTe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_UpdateGlobalTableOutput"),tTe=u((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:u(r=>EG(r,t),"ReplicaSettings")}),"de_UpdateGlobalTableSettingsOutput"),rTe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>Sr(r,t),"Attributes"),ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>nf(r,t),"ItemCollectionMetrics")}),"de_UpdateItemOutput"),nTe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_UpdateTableOutput"),oTe=u((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:u(r=>vG(r,t),"TableAutoScalingDescription")}),"de_UpdateTableReplicaAutoScalingOutput"),sTe=u((e,t)=>(0,m.take)(e,{DeleteRequest:u(r=>Zbe(r,t),"DeleteRequest"),PutRequest:u(r=>Mwe(r,t),"PutRequest")}),"de_WriteRequest"),iTe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>sTe(n,t)),"de_WriteRequests"),P=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),aTe=(0,m.withBaseException)(Q),H=u(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new Cb.HttpRequest(l)},"buildHttpRpcRequest");function U(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}u(U,"sharedHeaders");var Ob=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(J_e).de(QEe).build(){static{u(this,"DescribeEndpointsCommand")}},cTe=Rz(),$z=Gy(),dTe=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),lTe=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),uTe=u((e,t)=>{let r=Object.assign((0,$z.getAwsRegionExtensionConfiguration)(e),(0,m.getDefaultExtensionConfiguration)(e),(0,Cb.getHttpHandlerExtensionConfiguration)(e),dTe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,$z.resolveAwsRegionExtensionConfiguration)(r),(0,m.resolveDefaultRuntimeConfig)(r),(0,Cb.resolveHttpHandlerRuntimeConfig)(r),lTe(r))},"resolveRuntimeExtensions"),jn=class extends m.Client{static{u(this,"DynamoDBClient")}config;constructor(...[e]){let t=(0,cTe.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Kye(t),n=(0,$ye.resolveAccountIdEndpointModeConfig)(r),o=(0,Fz.resolveUserAgentConfig)(n),s=(0,Bz.resolveRetryConfig)(o),i=(0,Gye.resolveRegionConfig)(s),a=(0,Uz.resolveHostHeaderConfig)(i),c=(0,L.resolveEndpointConfig)(a),l=(0,jz.resolveHttpAuthSchemeConfig)(c),p=(0,qye.resolveEndpointDiscoveryConfig)(l,{endpointDiscoveryCommandCtor:Ob}),f=uTe(p,e?.extensions||[]);this.config=f,this.middlewareStack.use((0,Fz.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Bz.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Wye.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Uz.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,zye.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Vye.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Tb.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:jz.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:u(async h=>new Tb.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Tb.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},bG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(L_e).de(BEe).build(){static{u(this,"BatchExecuteStatementCommand")}},wG=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(U_e).de(jEe).build(){static{u(this,"BatchGetItemCommand")}},TG=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(F_e).de(HEe).build(){static{u(this,"BatchWriteItemCommand")}},CG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(B_e).de($Ee).build(){static{u(this,"CreateBackupCommand")}},PG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(j_e).de(qEe).build(){static{u(this,"CreateGlobalTableCommand")}},IG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(H_e).de(zEe).build(){static{u(this,"CreateTableCommand")}},AG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser($_e).de(VEe).build(){static{u(this,"DeleteBackupCommand")}},RG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(q_e).de(GEe).build(){static{u(this,"DeleteItemCommand")}},xG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(z_e).de(WEe).build(){static{u(this,"DeleteResourcePolicyCommand")}},OG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(V_e).de(KEe).build(){static{u(this,"DeleteTableCommand")}},NG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(G_e).de(JEe).build(){static{u(this,"DescribeBackupCommand")}},DG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(W_e).de(YEe).build(){static{u(this,"DescribeContinuousBackupsCommand")}},MG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(K_e).de(XEe).build(){static{u(this,"DescribeContributorInsightsCommand")}},kG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(Y_e).de(ZEe).build(){static{u(this,"DescribeExportCommand")}},LG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(X_e).de(eSe).build(){static{u(this,"DescribeGlobalTableCommand")}},UG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(Q_e).de(tSe).build(){static{u(this,"DescribeGlobalTableSettingsCommand")}},FG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(Z_e).de(rSe).build(){static{u(this,"DescribeImportCommand")}},BG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(eEe).de(nSe).build(){static{u(this,"DescribeKinesisStreamingDestinationCommand")}},jG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(tEe).de(oSe).build(){static{u(this,"DescribeLimitsCommand")}},sf=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(rEe).de(sSe).build(){static{u(this,"DescribeTableCommand")}},HG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(nEe).de(iSe).build(){static{u(this,"DescribeTableReplicaAutoScalingCommand")}},$G=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(oEe).de(aSe).build(){static{u(this,"DescribeTimeToLiveCommand")}},qG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(sEe).de(cSe).build(){static{u(this,"DisableKinesisStreamingDestinationCommand")}},zG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(iEe).de(dSe).build(){static{u(this,"EnableKinesisStreamingDestinationCommand")}},VG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(aEe).de(lSe).build(){static{u(this,"ExecuteStatementCommand")}},GG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(cEe).de(uSe).build(){static{u(this,"ExecuteTransactionCommand")}},WG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(dEe).de(pSe).build(){static{u(this,"ExportTableToPointInTimeCommand")}},KG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(lEe).de(mSe).build(){static{u(this,"GetItemCommand")}},JG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(uEe).de(fSe).build(){static{u(this,"GetResourcePolicyCommand")}},YG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"operationContextParams",get:u(e=>e?.TableCreationParameters?.TableName,"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(pEe).de(hSe).build(){static{u(this,"ImportTableCommand")}},XG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(mEe).de(gSe).build(){static{u(this,"ListBackupsCommand")}},Nb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(fEe).de(ySe).build(){static{u(this,"ListContributorInsightsCommand")}},Db=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(hEe).de(_Se).build(){static{u(this,"ListExportsCommand")}},QG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(gEe).de(ESe).build(){static{u(this,"ListGlobalTablesCommand")}},Mb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(yEe).de(SSe).build(){static{u(this,"ListImportsCommand")}},kb=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(_Ee).de(vSe).build(){static{u(this,"ListTablesCommand")}},ZG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(EEe).de(bSe).build(){static{u(this,"ListTagsOfResourceCommand")}},e2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(SEe).de(wSe).build(){static{u(this,"PutItemCommand")}},t2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(vEe).de(TSe).build(){static{u(this,"PutResourcePolicyCommand")}},Lb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(bEe).de(CSe).build(){static{u(this,"QueryCommand")}},r2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(wEe).de(PSe).build(){static{u(this,"RestoreTableFromBackupCommand")}},n2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(TEe).de(ISe).build(){static{u(this,"RestoreTableToPointInTimeCommand")}},Ub=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(CEe).de(ASe).build(){static{u(this,"ScanCommand")}},o2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(PEe).de(RSe).build(){static{u(this,"TagResourceCommand")}},s2=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>e?.TransactItems?.map(t=>t?.Get?.TableName),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(IEe).de(xSe).build(){static{u(this,"TransactGetItemsCommand")}},i2=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>e?.TransactItems?.map(t=>[t?.ConditionCheck?.TableName,t?.Put?.TableName,t?.Delete?.TableName,t?.Update?.TableName].filter(r=>r)).flat(),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(AEe).de(OSe).build(){static{u(this,"TransactWriteItemsCommand")}},a2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(REe).de(NSe).build(){static{u(this,"UntagResourceCommand")}},c2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(xEe).de(DSe).build(){static{u(this,"UpdateContinuousBackupsCommand")}},d2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(OEe).de(MSe).build(){static{u(this,"UpdateContributorInsightsCommand")}},l2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(NEe).de(kSe).build(){static{u(this,"UpdateGlobalTableCommand")}},u2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(DEe).de(LSe).build(){static{u(this,"UpdateGlobalTableSettingsCommand")}},p2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(MEe).de(USe).build(){static{u(this,"UpdateItemCommand")}},m2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(kEe).de(FSe).build(){static{u(this,"UpdateKinesisStreamingDestinationCommand")}},f2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(LEe).de(BSe).build(){static{u(this,"UpdateTableCommand")}},h2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(UEe).de(jSe).build(){static{u(this,"UpdateTableReplicaAutoScalingCommand")}},g2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(FEe).de(HSe).build(){static{u(this,"UpdateTimeToLiveCommand")}},pTe={BatchExecuteStatementCommand:bG,BatchGetItemCommand:wG,BatchWriteItemCommand:TG,CreateBackupCommand:CG,CreateGlobalTableCommand:PG,CreateTableCommand:IG,DeleteBackupCommand:AG,DeleteItemCommand:RG,DeleteResourcePolicyCommand:xG,DeleteTableCommand:OG,DescribeBackupCommand:NG,DescribeContinuousBackupsCommand:DG,DescribeContributorInsightsCommand:MG,DescribeEndpointsCommand:Ob,DescribeExportCommand:kG,DescribeGlobalTableCommand:LG,DescribeGlobalTableSettingsCommand:UG,DescribeImportCommand:FG,DescribeKinesisStreamingDestinationCommand:BG,DescribeLimitsCommand:jG,DescribeTableCommand:sf,DescribeTableReplicaAutoScalingCommand:HG,DescribeTimeToLiveCommand:$G,DisableKinesisStreamingDestinationCommand:qG,EnableKinesisStreamingDestinationCommand:zG,ExecuteStatementCommand:VG,ExecuteTransactionCommand:GG,ExportTableToPointInTimeCommand:WG,GetItemCommand:KG,GetResourcePolicyCommand:JG,ImportTableCommand:YG,ListBackupsCommand:XG,ListContributorInsightsCommand:Nb,ListExportsCommand:Db,ListGlobalTablesCommand:QG,ListImportsCommand:Mb,ListTablesCommand:kb,ListTagsOfResourceCommand:ZG,PutItemCommand:e2,PutResourcePolicyCommand:t2,QueryCommand:Lb,RestoreTableFromBackupCommand:r2,RestoreTableToPointInTimeCommand:n2,ScanCommand:Ub,TagResourceCommand:o2,TransactGetItemsCommand:s2,TransactWriteItemsCommand:i2,UntagResourceCommand:a2,UpdateContinuousBackupsCommand:c2,UpdateContributorInsightsCommand:d2,UpdateGlobalTableCommand:l2,UpdateGlobalTableSettingsCommand:u2,UpdateItemCommand:p2,UpdateKinesisStreamingDestinationCommand:m2,UpdateTableCommand:f2,UpdateTableReplicaAutoScalingCommand:h2,UpdateTimeToLiveCommand:g2},y2=class extends jn{static{u(this,"DynamoDB")}};(0,m.createAggregatedClient)(pTe,y2);var mTe=(rt(),z(yt)),fTe=(0,mTe.createPaginator)(jn,Nb,"NextToken","NextToken","MaxResults"),hTe=(rt(),z(yt)),gTe=(0,hTe.createPaginator)(jn,Db,"NextToken","NextToken","MaxResults"),yTe=(rt(),z(yt)),_Te=(0,yTe.createPaginator)(jn,Mb,"NextToken","NextToken","PageSize"),ETe=(rt(),z(yt)),STe=(0,ETe.createPaginator)(jn,kb,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),vTe=(rt(),z(yt)),bTe=(0,vTe.createPaginator)(jn,Lb,"ExclusiveStartKey","LastEvaluatedKey","Limit"),wTe=(rt(),z(yt)),TTe=(0,wTe.createPaginator)(jn,Ub,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Ht=Lz(),_2=u(async(e,t)=>{let r;try{let n=await e.send(new sf(t));r=n;try{if(u(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:Ht.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Ht.WaiterState.RETRY,reason:r}}return{state:Ht.WaiterState.RETRY,reason:r}},"checkState"),CTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Ht.createWaiter)({...r,...e},t,_2)},"waitForTableExists"),PTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Ht.createWaiter)({...r,...e},t,_2);return(0,Ht.checkExceptions)(n)},"waitUntilTableExists"),E2=u(async(e,t)=>{let r;try{r=await e.send(new sf(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Ht.WaiterState.SUCCESS,reason:r}}return{state:Ht.WaiterState.RETRY,reason:r}},"checkState"),ITe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Ht.createWaiter)({...r,...e},t,E2)},"waitForTableNotExists"),ATe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Ht.createWaiter)({...r,...e},t,E2);return(0,Ht.checkExceptions)(n)},"waitUntilTableNotExists")});d();var uc=T(v2(),1);import{randomBytes as b2}from"crypto";var w2=new uc.DynamoDBClient({region:process.env.AWS_REGION}),$8e=async e=>{try{let t=JSON.parse(e.body||"{}"),{gameName:r,startDate:n,adminMode:o,customChallenges:s,userId:i}=t,a=`GAME_${b2(8).toString("hex").toUpperCase()}`,c=b2(6).toString("hex").toUpperCase(),l=new Date(n).getFullYear(),p=`GAME#${l}`,f={TableName:process.env.DYNAMODB_TABLE_NAME,Item:{PK:{S:`${p}#METADATA`},SK:{S:a},game_id:{S:a},year:{N:l.toString()},game_name:{S:r},start_date:{S:n},admin_mode:{BOOL:o},admin_user_id:{S:i},invite_code:{S:c},participant_count:{N:"1"},custom_challenges:{S:JSON.stringify(s||[])},game_settings:{S:JSON.stringify({})},created_at:{S:new Date().toISOString()}}},h={TableName:process.env.DYNAMODB_TABLE_NAME,Item:{PK:{S:p},SK:{S:`USER#${i}#${a}`},user_id:{S:i},game_id:{S:a},nickname:{S:i},nameplate_style:{S:"default"},points:{N:"0"},bonus_points:{N:"0"},rank:{N:"1"},jinglebells:{N:"0"},subscription_status:{S:o?"pending_payment":"trial"},challenge_status:{S:JSON.stringify({})},submission_data:{S:JSON.stringify({})},timestamps:{S:JSON.stringify({})},cosmetics:{S:JSON.stringify({})},created_at:{S:new Date().toISOString()}}};return await w2.send(new uc.PutItemCommand(f)),await w2.send(new uc.PutItemCommand(h)),{statusCode:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!0,gameId:a,inviteCode:c,requiresPayment:o,message:"Game created successfully"})}}catch(t){return console.error("Error creating game:",t),{statusCode:500,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!1,message:"Failed to create game"})}}};export{$8e as handler};
//# sourceMappingURL=index.mjs.map
