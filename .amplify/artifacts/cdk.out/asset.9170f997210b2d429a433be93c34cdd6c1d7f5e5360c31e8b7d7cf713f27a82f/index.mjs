/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var w2=Object.create;var pc=Object.defineProperty;var T2=Object.getOwnPropertyDescriptor;var C2=Object.getOwnPropertyNames;var P2=Object.getPrototypeOf,I2=Object.prototype.hasOwnProperty;var M=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var y=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),He=(e,t)=>{for(var r in t)pc(e,r,{get:t[r],enumerable:!0})},Fb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of C2(t))!I2.call(e,o)&&o!==r&&pc(e,o,{get:()=>t[o],enumerable:!(n=T2(t,o))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?w2(P2(e)):{},Fb(t||!e||!e.__esModule?pc(r,"default",{value:e,enumerable:!0}):r,e)),z=e=>Fb(pc({},"__esModule",{value:!0}),e);import{createRequire as A2}from"node:module";import R2 from"node:path";import x2 from"node:url";var d=y(()=>{global.require=A2(import.meta.url);global.__filename=x2.fileURLToPath(import.meta.url);global.__dirname=R2.dirname(__filename)});var qt=b((NTe,Wb)=>{d();var mc=Object.defineProperty,O2=Object.getOwnPropertyDescriptor,N2=Object.getOwnPropertyNames,D2=Object.prototype.hasOwnProperty,fc=(e,t)=>mc(e,"name",{value:t,configurable:!0}),M2=(e,t)=>{for(var r in t)mc(e,r,{get:t[r],enumerable:!0})},k2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of N2(t))!D2.call(e,o)&&o!==r&&mc(e,o,{get:()=>t[o],enumerable:!(n=O2(t,o))||n.enumerable});return e},L2=e=>k2(mc({},"__esModule",{value:!0}),e),Bb={};M2(Bb,{AlgorithmId:()=>qb,EndpointURLScheme:()=>$b,FieldPosition:()=>zb,HttpApiKeyAuthLocation:()=>Hb,HttpAuthLocation:()=>jb,IniSectionType:()=>Vb,RequestHandlerProtocol:()=>Gb,SMITHY_CONTEXT_KEY:()=>H2,getDefaultClientConfiguration:()=>B2,resolveDefaultRuntimeConfig:()=>j2});Wb.exports=L2(Bb);var jb=(e=>(e.HEADER="header",e.QUERY="query",e))(jb||{}),Hb=(e=>(e.HEADER="header",e.QUERY="query",e))(Hb||{}),$b=(e=>(e.HTTP="http",e.HTTPS="https",e))($b||{}),qb=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(qb||{}),U2=fc(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),F2=fc(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),B2=fc(e=>U2(e),"getDefaultClientConfiguration"),j2=fc(e=>F2(e),"resolveDefaultRuntimeConfig"),zb=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(zb||{}),H2="__smithy_context",Vb=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(Vb||{}),Gb=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(Gb||{})});var zt=b((MTe,Xb)=>{d();var hc=Object.defineProperty,$2=Object.getOwnPropertyDescriptor,q2=Object.getOwnPropertyNames,z2=Object.prototype.hasOwnProperty,Jb=(e,t)=>hc(e,"name",{value:t,configurable:!0}),V2=(e,t)=>{for(var r in t)hc(e,r,{get:t[r],enumerable:!0})},G2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q2(t))!z2.call(e,o)&&o!==r&&hc(e,o,{get:()=>t[o],enumerable:!(n=$2(t,o))||n.enumerable});return e},W2=e=>G2(hc({},"__esModule",{value:!0}),e),Yb={};V2(Yb,{getSmithyContext:()=>K2,normalizeProvider:()=>J2});Xb.exports=W2(Yb);var Kb=qt(),K2=Jb(e=>e[Kb.SMITHY_CONTEXT_KEY]||(e[Kb.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),J2=Jb(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});function Mo(e){return Qb.includes(e)}var $s,Qb,gc=y(()=>{d();$s="preferred",Qb=["disabled","preferred","required"]});var Zb,Y2,ew=y(()=>{d();Zb=T(zt());gc();Y2=e=>{let{accountIdEndpointMode:t}=e,r=(0,Zb.normalizeProvider)(t??$s);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Mo(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var tw,rw,nw,ow,X2,sw=y(()=>{d();gc();tw="Invalid AccountIdEndpointMode value",rw=e=>{throw new Error(e)},nw="AWS_ACCOUNT_ID_ENDPOINT_MODE",ow="account_id_endpoint_mode",X2={environmentVariableSelector:e=>{let t=e[nw];return t&&!Mo(t)&&rw(tw),t},configFileSelector:e=>{let t=e[ow];return t&&!Mo(t)&&rw(tw),t},default:$s}});var cf={};He(cf,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>Qb,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>ow,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>$s,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>nw,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>X2,resolveAccountIdEndpointModeConfig:()=>Y2,validateAccountIdEndpointMode:()=>Mo});var df=y(()=>{d();ew();gc();sw()});var hw=b((KTe,fw)=>{d();var yc=Object.defineProperty,Q2=Object.getOwnPropertyDescriptor,Z2=Object.getOwnPropertyNames,e3=Object.prototype.hasOwnProperty,_c=(e,t)=>yc(e,"name",{value:t,configurable:!0}),t3=(e,t)=>{for(var r in t)yc(e,r,{get:t[r],enumerable:!0})},r3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Z2(t))!e3.call(e,o)&&o!==r&&yc(e,o,{get:()=>t[o],enumerable:!(n=Q2(t,o))||n.enumerable});return e},n3=e=>r3(yc({},"__esModule",{value:!0}),e),iw={};t3(iw,{AlgorithmId:()=>lw,EndpointURLScheme:()=>dw,FieldPosition:()=>uw,HttpApiKeyAuthLocation:()=>cw,HttpAuthLocation:()=>aw,IniSectionType:()=>pw,RequestHandlerProtocol:()=>mw,SMITHY_CONTEXT_KEY:()=>c3,getDefaultClientConfiguration:()=>i3,resolveDefaultRuntimeConfig:()=>a3});fw.exports=n3(iw);var aw=(e=>(e.HEADER="header",e.QUERY="query",e))(aw||{}),cw=(e=>(e.HEADER="header",e.QUERY="query",e))(cw||{}),dw=(e=>(e.HTTP="http",e.HTTPS="https",e))(dw||{}),lw=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(lw||{}),o3=_c(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),s3=_c(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),i3=_c(e=>o3(e),"getDefaultClientConfiguration"),a3=_c(e=>s3(e),"resolveDefaultRuntimeConfig"),uw=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(uw||{}),c3="__smithy_context",pw=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(pw||{}),mw=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(mw||{})});var vw=b((YTe,Sw)=>{d();var Ec=Object.defineProperty,d3=Object.getOwnPropertyDescriptor,l3=Object.getOwnPropertyNames,u3=Object.prototype.hasOwnProperty,Gr=(e,t)=>Ec(e,"name",{value:t,configurable:!0}),p3=(e,t)=>{for(var r in t)Ec(e,r,{get:t[r],enumerable:!0})},m3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l3(t))!u3.call(e,o)&&o!==r&&Ec(e,o,{get:()=>t[o],enumerable:!(n=d3(t,o))||n.enumerable});return e},f3=e=>m3(Ec({},"__esModule",{value:!0}),e),gw={};p3(gw,{Field:()=>y3,Fields:()=>_3,HttpRequest:()=>E3,HttpResponse:()=>S3,IHttpRequest:()=>yw.HttpRequest,getHttpHandlerExtensionConfiguration:()=>h3,isValidHostname:()=>Ew,resolveHttpHandlerRuntimeConfig:()=>g3});Sw.exports=f3(gw);var h3=Gr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),g3=Gr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),yw=hw(),y3=class{static{Gr(this,"Field")}constructor({name:e,kind:t=yw.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},_3=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Gr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},E3=class lf{static{Gr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new lf({...t,headers:{...t.headers}});return r.query&&(r.query=_w(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return lf.clone(this)}};function _w(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Gr(_w,"cloneQuery");var S3=class{static{Gr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Ew(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Gr(Ew,"isValidHostname")});var ww=b((tCe,bw)=>{d();function vr(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}vr.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(vr.prototype[Symbol.iterator]=function(){return this});vr.of=function(){var e=arguments,t=e.length,r=0;return new vr(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};vr.empty=function(){var e=new vr(null);return e.done=!0,e};vr.is=function(e){return e instanceof vr?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};bw.exports=vr});var uf=b((nCe,Iw)=>{d();var Tw=typeof ArrayBuffer<"u",Cw=typeof Symbol<"u";function Pw(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Tw&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],o);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Cw&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,o),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}Pw.forEachWithNullKeys=function(e,t){var r,n,o,s,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||Tw&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(o=0,s=e.length;o<s;o++)t(e[o],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(Cw&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,o=0;i=r.next(),i.done!==!0;)t(i.value,null),o++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};Iw.exports=Pw});var pf=b(Vt=>{d();var v3=Math.pow(2,8)-1,b3=Math.pow(2,16)-1,w3=Math.pow(2,32)-1,T3=Math.pow(2,7)-1,C3=Math.pow(2,15)-1,P3=Math.pow(2,31)-1;Vt.getPointerArray=function(e){var t=e-1;return t<=v3?Uint8Array:t<=b3?Uint16Array:t<=w3?Uint32Array:Float64Array};Vt.getSignedPointerArray=function(e){var t=e-1;return t<=T3?Int8Array:t<=C3?Int16Array:t<=P3?Int32Array:Float64Array};Vt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var I3={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Vt.getMinimalRepresentation=function(e,t){var r=null,n=0,o,s,i,a,c;for(a=0,c=e.length;a<c;a++)i=t?t(e[a]):e[a],s=Vt.getNumberType(i),o=I3[s.name],o>n&&(n=o,r=s);return r};Vt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Vt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)o.set(arguments[t],r),r+=arguments[t].length;return o};Vt.indices=function(e){for(var t=Vt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var xw=b(qs=>{d();var Aw=uf(),Rw=pf();function A3(e){return Array.isArray(e)||Rw.isTypedArray(e)}function mf(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function R3(e){var t=mf(e),r=typeof t=="number"?new Array(t):[],n=0;return Aw(e,function(o){r[n++]=o}),r}function x3(e){var t=mf(e),r=typeof t=="number"?Rw.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],o=typeof t=="number"?new r(t):[],s=0;return Aw(e,function(i){n[s]=i,o[s]=s++}),[n,o]}qs.isArrayLike=A3;qs.guessLength=mf;qs.toArray=R3;qs.toArrayWithIndices=x3});var Nw=b((dCe,Ow)=>{d();var ff=ww(),O3=uf(),N3=pf(),D3=xw();function Se(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=N3.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Se.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Se.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Se.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Se.prototype.setpop=function(e,t){var r=null,n=null,o=this.items[e];return typeof o<"u"?(this.splayOnTop(o),r=this.V[o],this.V[o]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?o=this.size++:(o=this.tail,this.tail=this.backward[o],r=this.V[o],n=this.K[o],delete this.items[this.K[o]]),this.items[e]=o,this.K[o]=e,this.V[o]=t,this.forward[o]=this.head,this.backward[this.head]=o,this.head=o,n?{evicted:!0,key:n,value:r}:null)};Se.prototype.has=function(e){return e in this.items};Se.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Se.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Se.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,o=this.head,s=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[o],s[o],this),o=a[o],r++};Se.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.forward;return new ff(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Se.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,o=this.forward;return new ff(function(){if(e>=t)return{done:!0};var s=n[r];return e++,e<t&&(r=o[r]),{done:!1,value:s}})};Se.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,o=this.V,s=this.forward;return new ff(function(){if(e>=t)return{done:!0};var i=n[r],a=o[r];return e++,e<t&&(r=s[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Se.prototype[Symbol.iterator]=Se.prototype.entries);Se.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Se,enumerable:!1}),e};typeof Symbol<"u"&&(Se.prototype[Symbol.for("nodejs.util.inspect.custom")]=Se.prototype.inspect);Se.from=function(e,t,r,n){if(arguments.length<2){if(n=D3.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var o=new Se(t,r,n);return O3(e,function(s,i){o.set(i,s)}),o};Ow.exports=Se});var Lw=b((uCe,kw)=>{"use strict";d();var M3=Object.create,zs=Object.defineProperty,k3=Object.getOwnPropertyDescriptor,L3=Object.getOwnPropertyNames,U3=Object.getPrototypeOf,F3=Object.prototype.hasOwnProperty,B3=(e,t)=>zs(e,"name",{value:t,configurable:!0}),j3=(e,t)=>{for(var r in t)zs(e,r,{get:t[r],enumerable:!0})},Dw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of L3(t))!F3.call(e,o)&&o!==r&&zs(e,o,{get:()=>t[o],enumerable:!(n=k3(t,o))||n.enumerable});return e},H3=(e,t,r)=>(r=e!=null?M3(U3(e)):{},Dw(t||!e||!e.__esModule?zs(r,"default",{value:e,enumerable:!0}):r,e)),$3=e=>Dw(zs({},"__esModule",{value:!0}),e),Mw={};j3(Mw,{EndpointCache:()=>z3});kw.exports=$3(Mw);var q3=H3(Nw()),z3=class{static{B3(this,"EndpointCache")}cache;constructor(e){this.cache=new q3.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(o=>r<o.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:o})=>({Address:n,Expires:r+o*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var yf=b((fCe,Hw)=>{"use strict";d();var Sc=Object.defineProperty,V3=Object.getOwnPropertyDescriptor,G3=Object.getOwnPropertyNames,W3=Object.prototype.hasOwnProperty,at=(e,t)=>Sc(e,"name",{value:t,configurable:!0}),K3=(e,t)=>{for(var r in t)Sc(e,r,{get:t[r],enumerable:!0})},J3=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G3(t))!W3.call(e,o)&&o!==r&&Sc(e,o,{get:()=>t[o],enumerable:!(n=V3(t,o))||n.enumerable});return e},Y3=e=>J3(Sc({},"__esModule",{value:!0}),e),jw={};K3(jw,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>X3,endpointDiscoveryMiddlewareOptions:()=>vc,getEndpointDiscoveryOptionalPlugin:()=>r4,getEndpointDiscoveryPlugin:()=>e4,getEndpointDiscoveryRequiredPlugin:()=>t4,resolveEndpointDiscoveryConfig:()=>o4});Hw.exports=Y3(jw);var Uw=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],hf="endpoint_discovery_enabled",Fw=at(e=>["false","0"].indexOf(e)>=0,"isFalsy"),X3={environmentVariableSelector:at(e=>{for(let t=0;t<Uw.length;t++){let r=Uw[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!Fw(n)}}},"environmentVariableSelector"),configFileSelector:at(e=>{if(hf in e){let t=e[hf];if(t===void 0)throw Error(`Shared config entry ${hf} can't be undefined, got "${t}"`);return!Fw(t)}},"configFileSelector"),default:void 0},Q3=vw(),Z3=at(async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:o}=r;return JSON.stringify({...n&&{accessKeyId:n},...o&&{commandName:e,identifiers:Object.entries(o).sort().reduce((s,[i,a])=>({...s,[i]:a}),{})}})},"getCacheKey"),br={},Bw=at(async(e,t)=>new Promise((r,n)=>{let{endpointCache:o}=e,{cacheKey:s,commandName:i,identifiers:a}=t,c=o.get(s);if(c&&c.length===1&&c[0].Address==="")t.isDiscoveredEndpointRequired?(br[s]||(br[s]=[]),br[s].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];o.set(s,l);let p=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(h=>{o.set(s,h.output.Endpoints),br[s]&&(br[s].forEach(({resolve:g})=>{g()}),delete br[s]),r()}).catch(h=>{o.delete(s);let g=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:h});br[s]&&(br[s].forEach(({reject:_})=>{_(g)}),delete br[s]),t.isDiscoveredEndpointRequired?n(g):(o.set(s,l),r())})}}),"updateDiscoveredEndpointInCache"),gf=at((e,t)=>(r,n)=>async o=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(o)}let{endpointDiscoveryCommandCtor:s}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,c=n.clientName,l=n.commandName,p=await e.endpointDiscoveryEnabled(),f=await Z3(l,e,{identifiers:a});if(i){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${c} requires it. Please check your configurations.`);await Bw(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:s})}else p&&Bw(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:s});let{request:h}=o;if(f&&Q3.HttpRequest.isInstance(h)){let g=e.endpointCache.getEndpoint(f);g&&(h.hostname=g)}return r(o)},"endpointDiscoveryMiddleware"),vc={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},e4=at((e,t)=>({applyToStack:at(r=>{r.add(gf(e,t),vc)},"applyToStack")}),"getEndpointDiscoveryPlugin"),t4=at((e,t)=>({applyToStack:at(r=>{r.add(gf(e,{...t,isDiscoveredEndpointRequired:!0}),vc)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),r4=at((e,t)=>({applyToStack:at(r=>{r.add(gf(e,{...t,isDiscoveredEndpointRequired:!1}),vc)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),n4=Lw(),o4=at((e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:o}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new n4.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):o,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var me=b((gCe,Gw)=>{d();var bc=Object.defineProperty,s4=Object.getOwnPropertyDescriptor,i4=Object.getOwnPropertyNames,a4=Object.prototype.hasOwnProperty,Wr=(e,t)=>bc(e,"name",{value:t,configurable:!0}),c4=(e,t)=>{for(var r in t)bc(e,r,{get:t[r],enumerable:!0})},d4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of i4(t))!a4.call(e,o)&&o!==r&&bc(e,o,{get:()=>t[o],enumerable:!(n=s4(t,o))||n.enumerable});return e},l4=e=>d4(bc({},"__esModule",{value:!0}),e),$w={};c4($w,{Field:()=>m4,Fields:()=>f4,HttpRequest:()=>h4,HttpResponse:()=>g4,IHttpRequest:()=>qw.HttpRequest,getHttpHandlerExtensionConfiguration:()=>u4,isValidHostname:()=>Vw,resolveHttpHandlerRuntimeConfig:()=>p4});Gw.exports=l4($w);var u4=Wr(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),p4=Wr(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),qw=qt(),m4=class{static{Wr(this,"Field")}constructor({name:e,kind:t=qw.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},f4=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{Wr(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},h4=class _f{static{Wr(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new _f({...t,headers:{...t.headers}});return r.query&&(r.query=zw(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return _f.clone(this)}};function zw(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}Wr(zw,"cloneQuery");var g4=class{static{Wr(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function Vw(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Wr(Vw,"isValidHostname")});var Ef=b((vCe,Xw)=>{"use strict";d();var Tc=Object.defineProperty,y4=Object.getOwnPropertyDescriptor,_4=Object.getOwnPropertyNames,E4=Object.prototype.hasOwnProperty,wc=(e,t)=>Tc(e,"name",{value:t,configurable:!0}),S4=(e,t)=>{for(var r in t)Tc(e,r,{get:t[r],enumerable:!0})},v4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _4(t))!E4.call(e,o)&&o!==r&&Tc(e,o,{get:()=>t[o],enumerable:!(n=y4(t,o))||n.enumerable});return e},b4=e=>v4(Tc({},"__esModule",{value:!0}),e),Ww={};S4(Ww,{getHostHeaderPlugin:()=>T4,hostHeaderMiddleware:()=>Jw,hostHeaderMiddlewareOptions:()=>Yw,resolveHostHeaderConfig:()=>Kw});Xw.exports=b4(Ww);var w4=me();function Kw(e){return e}wc(Kw,"resolveHostHeaderConfig");var Jw=wc(e=>t=>async r=>{if(!w4.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),Yw={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},T4=wc(e=>({applyToStack:wc(t=>{t.add(Jw(e),Yw)},"applyToStack")}),"getHostHeaderPlugin")});var vf=b((wCe,tT)=>{"use strict";d();var Cc=Object.defineProperty,C4=Object.getOwnPropertyDescriptor,P4=Object.getOwnPropertyNames,I4=Object.prototype.hasOwnProperty,Sf=(e,t)=>Cc(e,"name",{value:t,configurable:!0}),A4=(e,t)=>{for(var r in t)Cc(e,r,{get:t[r],enumerable:!0})},R4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P4(t))!I4.call(e,o)&&o!==r&&Cc(e,o,{get:()=>t[o],enumerable:!(n=C4(t,o))||n.enumerable});return e},x4=e=>R4(Cc({},"__esModule",{value:!0}),e),Qw={};A4(Qw,{getLoggerPlugin:()=>O4,loggerMiddleware:()=>Zw,loggerMiddlewareOptions:()=>eT});tT.exports=x4(Qw);var Zw=Sf(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,p=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),eT={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},O4=Sf(e=>({applyToStack:Sf(t=>{t.add(Zw(),eT)},"applyToStack")}),"getLoggerPlugin")});var wf=b((CCe,sT)=>{"use strict";d();var Ic=Object.defineProperty,N4=Object.getOwnPropertyDescriptor,D4=Object.getOwnPropertyNames,M4=Object.prototype.hasOwnProperty,Pc=(e,t)=>Ic(e,"name",{value:t,configurable:!0}),k4=(e,t)=>{for(var r in t)Ic(e,r,{get:t[r],enumerable:!0})},L4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of D4(t))!M4.call(e,o)&&o!==r&&Ic(e,o,{get:()=>t[o],enumerable:!(n=N4(t,o))||n.enumerable});return e},U4=e=>L4(Ic({},"__esModule",{value:!0}),e),rT={};k4(rT,{addRecursionDetectionMiddlewareOptions:()=>oT,getRecursionDetectionPlugin:()=>H4,recursionDetectionMiddleware:()=>nT});sT.exports=U4(rT);var F4=me(),bf="X-Amzn-Trace-Id",B4="AWS_LAMBDA_FUNCTION_NAME",j4="_X_AMZN_TRACE_ID",nT=Pc(e=>t=>async r=>{let{request:n}=r;if(!F4.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===bf.toLowerCase())??bf;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[B4],i=process.env[j4],a=Pc(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[bf]=i),t({...r,request:n})},"recursionDetectionMiddleware"),oT={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},H4=Pc(e=>({applyToStack:Pc(t=>{t.add(nT(e),oT)},"applyToStack")}),"getRecursionDetectionPlugin")});var Tf,$4,iT=y(()=>{d();Tf=T(qt()),$4=e=>e[Tf.SMITHY_CONTEXT_KEY]||(e[Tf.SMITHY_CONTEXT_KEY]={})});var aT,cT=y(()=>{d();aT=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function q4(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var OCe,dT,Vs,Ac=y(()=>{d();OCe=T(qt()),dT=T(zt());cT();Vs=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=aT(s,i),c=q4(e.httpAuthSchemes),l=(0,dT.getSmithyContext)(n),p=[];for(let f of a){let h=c.get(f.schemeId);if(!h){p.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){p.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:E={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},E),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var lT,z4,uT=y(()=>{d();Ac();lT={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},z4=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Vs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),lT)}})});var Gs=b((BCe,_T)=>{d();var Rc=Object.defineProperty,V4=Object.getOwnPropertyDescriptor,G4=Object.getOwnPropertyNames,W4=Object.prototype.hasOwnProperty,xc=(e,t)=>Rc(e,"name",{value:t,configurable:!0}),K4=(e,t)=>{for(var r in t)Rc(e,r,{get:t[r],enumerable:!0})},J4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G4(t))!W4.call(e,o)&&o!==r&&Rc(e,o,{get:()=>t[o],enumerable:!(n=V4(t,o))||n.enumerable});return e},Y4=e=>J4(Rc({},"__esModule",{value:!0}),e),pT={};K4(pT,{deserializerMiddleware:()=>mT,deserializerMiddlewareOption:()=>hT,getSerdePlugin:()=>yT,serializerMiddleware:()=>fT,serializerMiddlewareOption:()=>gT});_T.exports=Y4(pT);var X4=me(),mT=xc((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(X4.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:Cf(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Cf(/^x-[\w-]+-id-2$/,l),cfId:Cf(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),Cf=xc((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),fT=xc((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),hT={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},gT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function yT(e,t,r){return{applyToStack:n=>{n.add(mT(e,r),hT),n.add(fT(e,t),gT)}}}xc(yT,"getSerdePlugin")});var ET,ST,Q4,vT=y(()=>{d();ET=T(Gs());Ac();ST={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:ET.serializerMiddlewareOption.name},Q4=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Vs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ST)}})});var bT=y(()=>{d();Ac();uT();vT()});var wT,JCe,TT,Z4,eW,Pf,If=y(()=>{d();wT=T(me()),JCe=T(qt()),TT=T(zt()),Z4=e=>t=>{throw t},eW=(e,t)=>{},Pf=e=>(t,r)=>async n=>{if(!wT.HttpRequest.isInstance(n.request))return t(n);let s=(0,TT.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||Z4)(i));return(c.successHandler||eW)(l.response,i),l}});var CT,tW,PT=y(()=>{d();If();CT={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},tW=e=>({applyToStack:t=>{t.addRelativeTo(Pf(e),CT)}})});var IT=y(()=>{d();If();PT()});var Kr,AT=y(()=>{d();Kr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function RT(e,t,r,n,o){return async function*(i,a,...c){let l=a,p=i.startingToken??l[r],f=!0,h;for(;f;){if(l[r]=p,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)h=await rW(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=p;p=nW(h,n),f=!!(p&&(!i.stopOnSameToken||p!==g))}return void 0}}var rW,nW,xT=y(()=>{d();rW=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};nW=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var Af=b((lPe,NT)=>{d();var Oc=Object.defineProperty,oW=Object.getOwnPropertyDescriptor,sW=Object.getOwnPropertyNames,iW=Object.prototype.hasOwnProperty,aW=(e,t)=>Oc(e,"name",{value:t,configurable:!0}),cW=(e,t)=>{for(var r in t)Oc(e,r,{get:t[r],enumerable:!0})},dW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sW(t))!iW.call(e,o)&&o!==r&&Oc(e,o,{get:()=>t[o],enumerable:!(n=oW(t,o))||n.enumerable});return e},lW=e=>dW(Oc({},"__esModule",{value:!0}),e),OT={};cW(OT,{isArrayBuffer:()=>uW});NT.exports=lW(OT);var uW=aW(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var ko=b((pPe,kT)=>{d();var Nc=Object.defineProperty,pW=Object.getOwnPropertyDescriptor,mW=Object.getOwnPropertyNames,fW=Object.prototype.hasOwnProperty,DT=(e,t)=>Nc(e,"name",{value:t,configurable:!0}),hW=(e,t)=>{for(var r in t)Nc(e,r,{get:t[r],enumerable:!0})},gW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mW(t))!fW.call(e,o)&&o!==r&&Nc(e,o,{get:()=>t[o],enumerable:!(n=pW(t,o))||n.enumerable});return e},yW=e=>gW(Nc({},"__esModule",{value:!0}),e),MT={};hW(MT,{fromArrayBuffer:()=>EW,fromString:()=>SW});kT.exports=yW(MT);var _W=Af(),Rf=M("buffer"),EW=DT((e,t=0,r=e.byteLength-t)=>{if(!(0,_W.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Rf.Buffer.from(e,t,r)},"fromArrayBuffer"),SW=DT((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Rf.Buffer.from(e,t):Rf.Buffer.from(e)},"fromString")});var LT=b(Dc=>{"use strict";d();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.fromBase64=void 0;var vW=ko(),bW=/^[A-Za-z0-9+/]*={0,2}$/,wW=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!bW.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,vW.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Dc.fromBase64=wW});var Ge=b((gPe,jT)=>{d();var Mc=Object.defineProperty,TW=Object.getOwnPropertyDescriptor,CW=Object.getOwnPropertyNames,PW=Object.prototype.hasOwnProperty,xf=(e,t)=>Mc(e,"name",{value:t,configurable:!0}),IW=(e,t)=>{for(var r in t)Mc(e,r,{get:t[r],enumerable:!0})},AW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of CW(t))!PW.call(e,o)&&o!==r&&Mc(e,o,{get:()=>t[o],enumerable:!(n=TW(t,o))||n.enumerable});return e},RW=e=>AW(Mc({},"__esModule",{value:!0}),e),UT={};IW(UT,{fromUtf8:()=>BT,toUint8Array:()=>xW,toUtf8:()=>OW});jT.exports=RW(UT);var FT=ko(),BT=xf(e=>{let t=(0,FT.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),xW=xf(e=>typeof e=="string"?BT(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),OW=xf(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,FT.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var HT=b(kc=>{"use strict";d();Object.defineProperty(kc,"__esModule",{value:!0});kc.toBase64=void 0;var NW=ko(),DW=Ge(),MW=e=>{let t;if(typeof e=="string"?t=(0,DW.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,NW.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};kc.toBase64=MW});var ct=b((SPe,Lc)=>{d();var $T=Object.defineProperty,kW=Object.getOwnPropertyDescriptor,LW=Object.getOwnPropertyNames,UW=Object.prototype.hasOwnProperty,Of=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LW(t))!UW.call(e,o)&&o!==r&&$T(e,o,{get:()=>t[o],enumerable:!(n=kW(t,o))||n.enumerable});return e},qT=(e,t,r)=>(Of(e,t,"default"),r&&Of(r,t,"default")),FW=e=>Of($T({},"__esModule",{value:!0}),e),Nf={};Lc.exports=FW(Nf);qT(Nf,LT(),Lc.exports);qT(Nf,HT(),Lc.exports)});var Mf=b(Uc=>{"use strict";d();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.ChecksumStream=void 0;var BW=ct(),jW=M("stream"),Df=class extends jW.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??BW.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Uc.ChecksumStream=Df});var Jr=b(Lo=>{"use strict";d();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.isBlob=Lo.isReadableStream=void 0;var HW=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Lo.isReadableStream=HW;var $W=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};Lo.isBlob=$W});var zT=b(Fc=>{"use strict";d();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.ChecksumStream=void 0;var qW=typeof ReadableStream=="function"?ReadableStream:function(){},kf=class extends qW{};Fc.ChecksumStream=kf});var VT=b(Bc=>{"use strict";d();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.createChecksumStream=void 0;var zW=ct(),VW=Jr(),GW=zT(),WW=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,VW.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??zW.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(p,f){t.update(p),f.enqueue(p)},async flush(p){let f=await t.digest(),h=a(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);p.error(g)}else p.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,GW.ChecksumStream.prototype),l};Bc.createChecksumStream=WW});var GT=b(Lf=>{"use strict";d();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.createChecksumStream=XW;var KW=Jr(),JW=Mf(),YW=VT();function XW(e){return typeof ReadableStream=="function"&&(0,KW.isReadableStream)(e.source)?(0,YW.createChecksumStream)(e):new JW.ChecksumStream(e)}});var Ff=b(jc=>{"use strict";d();Object.defineProperty(jc,"__esModule",{value:!0});jc.ByteArrayCollector=void 0;var Uf=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};jc.ByteArrayCollector=Uf});var YT=b(wr=>{"use strict";d();Object.defineProperty(wr,"__esModule",{value:!0});wr.createBufferedReadable=void 0;wr.createBufferedReadableStream=WT;wr.merge=KT;wr.flush=Hc;wr.sizeOf=Uo;wr.modeOf=JT;var QW=Ff();function WT(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new QW.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:p,done:f}=await n.read(),h=p;if(f){if(a!==-1){let g=Hc(i,a);Uo(g)>0&&l.enqueue(g)}l.close()}else{let g=JT(h,!1);if(a!==g&&(a>=0&&l.enqueue(Hc(i,a)),a=g),a===-1){l.enqueue(h);return}let _=Uo(h);s+=_;let E=Uo(i[a]);if(_>=t&&E===0)l.enqueue(h);else{let S=KT(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${t}, automatically buffering.`)),S>=t?l.enqueue(Hc(i,a)):await c(l)}}};return new ReadableStream({pull:c})}wr.createBufferedReadable=WT;function KT(e,t,r){switch(t){case 0:return e[0]+=r,Uo(e[0]);case 1:case 2:return e[t].push(r),Uo(e[t])}}function Hc(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Uo(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function JT(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var QT=b(Bf=>{"use strict";d();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.createBufferedReadable=t8;var ZW=M("node:stream"),XT=Ff(),Tr=YT(),e8=Jr();function t8(e,t,r){if((0,e8.isReadableStream)(e))return(0,Tr.createBufferedReadableStream)(e,t,r);let n=new ZW.Readable({read(){}}),o=!1,s=0,i=["",new XT.ByteArrayCollector(c=>new Uint8Array(c)),new XT.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Tr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Tr.flush)(i,a)),a=l),a===-1){n.push(c);return}let p=(0,Tr.sizeOf)(c);s+=p;let f=(0,Tr.sizeOf)(i[a]);if(p>=t&&f===0)n.push(c);else{let h=(0,Tr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Tr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Tr.flush)(i,a);(0,Tr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var ZT=b($c=>{"use strict";d();Object.defineProperty($c,"__esModule",{value:!0});$c.getAwsChunkedEncodingStream=void 0;var r8=M("stream"),n8=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new r8.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${s}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};$c.getAwsChunkedEncodingStream=n8});var eC=b(jf=>{"use strict";d();Object.defineProperty(jf,"__esModule",{value:!0});jf.headStream=o8;async function o8(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var tC=b(qc=>{"use strict";d();Object.defineProperty(qc,"__esModule",{value:!0});qc.headStream=void 0;var s8=M("stream"),i8=eC(),a8=Jr(),c8=(e,t)=>(0,a8.isReadableStream)(e)?(0,i8.headStream)(e,t):new Promise((r,n)=>{let o=new Hf;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});qc.headStream=c8;var Hf=class extends s8.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var qf=b((zPe,oC)=>{d();var zc=Object.defineProperty,d8=Object.getOwnPropertyDescriptor,l8=Object.getOwnPropertyNames,u8=Object.prototype.hasOwnProperty,$f=(e,t)=>zc(e,"name",{value:t,configurable:!0}),p8=(e,t)=>{for(var r in t)zc(e,r,{get:t[r],enumerable:!0})},m8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of l8(t))!u8.call(e,o)&&o!==r&&zc(e,o,{get:()=>t[o],enumerable:!(n=d8(t,o))||n.enumerable});return e},f8=e=>m8(zc({},"__esModule",{value:!0}),e),rC={};p8(rC,{escapeUri:()=>nC,escapeUriPath:()=>g8});oC.exports=f8(rC);var nC=$f(e=>encodeURIComponent(e).replace(/[!'()*]/g,h8),"escapeUri"),h8=$f(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),g8=$f(e=>e.split("/").map(nC).join("/"),"escapeUriPath")});var Vf=b((GPe,aC)=>{d();var Vc=Object.defineProperty,y8=Object.getOwnPropertyDescriptor,_8=Object.getOwnPropertyNames,E8=Object.prototype.hasOwnProperty,S8=(e,t)=>Vc(e,"name",{value:t,configurable:!0}),v8=(e,t)=>{for(var r in t)Vc(e,r,{get:t[r],enumerable:!0})},b8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _8(t))!E8.call(e,o)&&o!==r&&Vc(e,o,{get:()=>t[o],enumerable:!(n=y8(t,o))||n.enumerable});return e},w8=e=>b8(Vc({},"__esModule",{value:!0}),e),sC={};v8(sC,{buildQueryString:()=>iC});aC.exports=w8(sC);var zf=qf();function iC(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,zf.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,zf.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,zf.escapeUri)(n)}`),t.push(o)}}return t.join("&")}S8(iC,"buildQueryString")});var Ks=b((KPe,bC)=>{d();var T8=Object.create,Ws=Object.defineProperty,C8=Object.getOwnPropertyDescriptor,P8=Object.getOwnPropertyNames,I8=Object.getPrototypeOf,A8=Object.prototype.hasOwnProperty,ie=(e,t)=>Ws(e,"name",{value:t,configurable:!0}),R8=(e,t)=>{for(var r in t)Ws(e,r,{get:t[r],enumerable:!0})},pC=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P8(t))!A8.call(e,o)&&o!==r&&Ws(e,o,{get:()=>t[o],enumerable:!(n=C8(t,o))||n.enumerable});return e},x8=(e,t,r)=>(r=e!=null?T8(I8(e)):{},pC(t||!e||!e.__esModule?Ws(r,"default",{value:e,enumerable:!0}):r,e)),O8=e=>pC(Ws({},"__esModule",{value:!0}),e),mC={};R8(mC,{DEFAULT_REQUEST_TIMEOUT:()=>EC,NodeHttp2Handler:()=>H8,NodeHttpHandler:()=>U8,streamCollector:()=>q8});bC.exports=O8(mC);var fC=me(),hC=Vf(),Gf=M("http"),Wf=M("https"),N8=["ECONNRESET","EPIPE","ETIMEDOUT"],gC=ie(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),tt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},cC=1e3,D8=ie((e,t,r=0)=>{if(!r)return-1;let n=ie(o=>{let s=tt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ie(a=>{a?.connecting?a.on("connect",()=>{tt.clearTimeout(s)}):tt.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):tt.setTimeout(n.bind(null,cC),cC)},"setConnectionTimeout"),M8=3e3,k8=ie((e,{keepAlive:t,keepAliveMsecs:r},n=M8)=>{if(t!==!0)return-1;let o=ie(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):tt.setTimeout(o,n)},"setSocketKeepAlive"),dC=3e3,L8=ie((e,t,r=EC)=>{let n=ie(o=>{let s=r-o,i=ie(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):tt.setTimeout(n.bind(null,r===0?0:dC),dC)},"setSocketTimeout"),yC=M("stream"),lC=6e3;async function Jf(e,t,r=lC){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(tt.setTimeout(()=>a(!0),Math.max(lC,r)))}),new Promise(a=>{e.on("continue",()=>{tt.clearTimeout(s),a(!0)}),e.on("response",()=>{tt.clearTimeout(s),a(!1)}),e.on("error",()=>{tt.clearTimeout(s),a(!1)})})])),i&&_C(e,t.body)}ie(Jf,"writeRequestBody");function _C(e,t){if(t instanceof yC.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ie(_C,"writeBody");var EC=0,U8=class Kf{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ie(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new Kf(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,p=s[c]?.length??0;if(l>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof Gf.Agent||typeof i?.destroy=="function"?i:new Gf.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof Wf.Agent||typeof a?.destroy=="function"?a:new Wf.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ie(async C=>{await i,a.forEach(tt.clearTimeout),o(C)},"resolve"),l=ie(async C=>{await i,a.forEach(tt.clearTimeout),s(C)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let C=new Error("Request aborted");C.name="AbortError",l(C);return}let p=t.protocol==="https:",f=p?this.config.httpsAgent:this.config.httpAgent;a.push(tt.setTimeout(()=>{this.socketWarningTimestamp=Kf.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,hC.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let C=t.username??"",k=t.password??"";g=`${C}:${k}`}let _=t.path;h&&(_+=`?${h}`),t.fragment&&(_+=`#${t.fragment}`);let E=t.hostname??"";E[0]==="["&&E.endsWith("]")?E=t.hostname.slice(1,-1):E=t.hostname;let S={headers:t.headers,host:E,method:t.method,path:_,port:t.port,agent:f,auth:g},w=(p?Wf.request:Gf.request)(S,C=>{let k=new fC.HttpResponse({statusCode:C.statusCode||-1,reason:C.statusMessage,headers:gC(C.headers),body:C});c({response:k})});if(w.on("error",C=>{N8.includes(C.code)?l(Object.assign(C,{name:"TimeoutError"})):l(C)}),r){let C=ie(()=>{w.destroy();let k=new Error("Request aborted");k.name="AbortError",l(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",C,{once:!0}),w.once("close",()=>k.removeEventListener("abort",C))}else r.onabort=C}let A=n??this.config.requestTimeout;a.push(D8(w,l,this.config.connectionTimeout)),a.push(L8(w,l,A));let I=S.agent;typeof I=="object"&&"keepAlive"in I&&a.push(k8(w,{keepAlive:I.keepAlive,keepAliveMsecs:I.keepAliveMsecs})),i=Jf(w,t,A).catch(C=>(a.forEach(tt.clearTimeout),s(C)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},uC=M("http2"),F8=x8(M("http2")),B8=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ie(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},j8=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ie(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=F8.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ie(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new B8;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},H8=class SC{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new j8({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ie(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new SC(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,p,f=ie(async G=>{await p,a(G)},"resolve"),h=ie(async G=>{await p,c(G)},"reject");if(r?.aborted){l=!0;let G=new Error("Request aborted");G.name="AbortError",h(G);return}let{hostname:g,method:_,port:E,protocol:S,query:v}=t,w="";if(t.username!=null||t.password!=null){let G=t.username??"",pe=t.password??"";w=`${G}:${pe}@`}let A=`${S}//${w}${g}${E?`:${E}`:""}`,I={destination:new URL(A)},C=this.connectionManager.lease(I,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),k=ie(G=>{s&&this.destroySession(C),l=!0,h(G)},"rejectWithDestroy"),Ve=(0,hC.buildQueryString)(v||{}),se=t.path;Ve&&(se+=`?${Ve}`),t.fragment&&(se+=`#${t.fragment}`);let le=C.request({...t.headers,[uC.constants.HTTP2_HEADER_PATH]:se,[uC.constants.HTTP2_HEADER_METHOD]:_});if(C.ref(),le.on("response",G=>{let pe=new fC.HttpResponse({statusCode:G[":status"]||-1,headers:gC(G),body:le});l=!0,f({response:pe}),s&&(C.close(),this.connectionManager.deleteSession(A,C))}),i&&le.setTimeout(i,()=>{le.close();let G=new Error(`Stream timed out because of no activity for ${i} ms`);G.name="TimeoutError",k(G)}),r){let G=ie(()=>{le.close();let pe=new Error("Request aborted");pe.name="AbortError",k(pe)},"onAbort");if(typeof r.addEventListener=="function"){let pe=r;pe.addEventListener("abort",G,{once:!0}),le.once("close",()=>pe.removeEventListener("abort",G))}else r.onabort=G}le.on("frameError",(G,pe,af)=>{k(new Error(`Frame type id ${G} in stream id ${af} has failed with code ${pe}.`))}),le.on("error",k),le.on("aborted",()=>{k(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${le.rstCode}.`))}),le.on("close",()=>{C.unref(),s&&C.destroy(),l||k(new Error("Unexpected error: http2 request did not get a response"))}),p=Jf(le,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},$8=class extends yC.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ie(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},q8=ie(e=>z8(e)?vC(e):new Promise((t,r)=>{let n=new $8;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),z8=ie(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function vC(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ie(vC,"collectReadableStream")});var OC=b((ZPe,xC)=>{d();var Wc=Object.defineProperty,V8=Object.getOwnPropertyDescriptor,G8=Object.getOwnPropertyNames,W8=Object.prototype.hasOwnProperty,Gt=(e,t)=>Wc(e,"name",{value:t,configurable:!0}),K8=(e,t)=>{for(var r in t)Wc(e,r,{get:t[r],enumerable:!0})},J8=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of G8(t))!W8.call(e,o)&&o!==r&&Wc(e,o,{get:()=>t[o],enumerable:!(n=V8(t,o))||n.enumerable});return e},Y8=e=>J8(Wc({},"__esModule",{value:!0}),e),TC={};K8(TC,{FetchHttpHandler:()=>Q8,keepAliveSupport:()=>Gc,streamCollector:()=>eK});xC.exports=Y8(TC);var wC=me(),X8=Vf();function Yf(e,t){return new Request(e,t)}Gt(Yf,"createRequest");function CC(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}Gt(CC,"requestTimeout");var Gc={supported:void 0},Q8=class PC{static{Gt(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new PC(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Gc.supported===void 0&&(Gc.supported=typeof Request<"u"&&"keepalive"in Yf("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,X8.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",A=t.password??"";l=`${w}:${A}@`}let{port:p,method:f}=t,h=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,g=f==="GET"||f==="HEAD"?void 0:t.body,_={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(_.cache=this.config.cache),g&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=r),Gc.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(t));let E=Gt(()=>{},"removeSignalEventListener"),S=Yf(h,_),v=[fetch(S).then(w=>{let A=w.headers,I={};for(let k of A.entries())I[k[0]]=k[1];return w.body!=null?{response:new wC.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(k=>({response:new wC.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:k})}))}),CC(o)];return r&&v.push(new Promise((w,A)=>{let I=Gt(()=>{let C=new Error("Request aborted");C.name="AbortError",A(C)},"onAbort");if(typeof r.addEventListener=="function"){let C=r;C.addEventListener("abort",I,{once:!0}),E=Gt(()=>C.removeEventListener("abort",I),"removeSignalEventListener")}else r.onabort=I})),Promise.race(v).finally(E)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},Z8=ct(),eK=Gt(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):IC(e):AC(e),"streamCollector");async function IC(e){let t=await RC(e),r=(0,Z8.fromBase64)(t);return new Uint8Array(r)}Gt(IC,"collectBlob");async function AC(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}Gt(AC,"collectStream");function RC(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Gt(RC,"readToBase64")});var Qf=b((tIe,UC)=>{d();var Kc=Object.defineProperty,tK=Object.getOwnPropertyDescriptor,rK=Object.getOwnPropertyNames,nK=Object.prototype.hasOwnProperty,NC=(e,t)=>Kc(e,"name",{value:t,configurable:!0}),oK=(e,t)=>{for(var r in t)Kc(e,r,{get:t[r],enumerable:!0})},sK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of rK(t))!nK.call(e,o)&&o!==r&&Kc(e,o,{get:()=>t[o],enumerable:!(n=tK(t,o))||n.enumerable});return e},iK=e=>sK(Kc({},"__esModule",{value:!0}),e),DC={};oK(DC,{fromHex:()=>kC,toHex:()=>LC});UC.exports=iK(DC);var MC={},Xf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),MC[e]=t,Xf[t]=e}function kC(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Xf)t[r/2]=Xf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}NC(kC,"fromHex");function LC(e){let t="";for(let r=0;r<e.byteLength;r++)t+=MC[e[r]];return t}NC(LC,"toHex")});var HC=b(Jc=>{"use strict";d();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.sdkStreamMixin=void 0;var aK=OC(),cK=ct(),dK=Qf(),lK=Ge(),FC=Jr(),BC="The stream has already been transformed.",uK=e=>{var t,r;if(!jC(e)&&!(0,FC.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(BC);return n=!0,await(0,aK.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,cK.toBase64)(a);if(i==="hex")return(0,dK.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,lK.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(BC);if(n=!0,jC(e))return s(e);if((0,FC.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Jc.sdkStreamMixin=uK;var jC=e=>typeof Blob=="function"&&e instanceof Blob});var qC=b(Yc=>{"use strict";d();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.sdkStreamMixin=void 0;var pK=Ks(),mK=ko(),Zf=M("stream"),fK=HC(),$C="The stream has already been transformed.",hK=e=>{var t,r;if(!(e instanceof Zf.Readable))try{return(0,fK.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error($C);return n=!0,await(0,pK.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,mK.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error($C);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Zf.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Zf.Readable.toWeb(e)}})};Yc.sdkStreamMixin=hK});var zC=b(eh=>{"use strict";d();Object.defineProperty(eh,"__esModule",{value:!0});eh.splitStream=gK;async function gK(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var WC=b(th=>{"use strict";d();Object.defineProperty(th,"__esModule",{value:!0});th.splitStream=_K;var VC=M("stream"),yK=zC(),GC=Jr();async function _K(e){if((0,GC.isReadableStream)(e)||(0,GC.isBlob)(e))return(0,yK.splitStream)(e);let t=new VC.PassThrough,r=new VC.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Qc=b((uIe,Kt)=>{d();var Xc=Object.defineProperty,EK=Object.getOwnPropertyDescriptor,SK=Object.getOwnPropertyNames,vK=Object.prototype.hasOwnProperty,oh=(e,t)=>Xc(e,"name",{value:t,configurable:!0}),bK=(e,t)=>{for(var r in t)Xc(e,r,{get:t[r],enumerable:!0})},rh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of SK(t))!vK.call(e,o)&&o!==r&&Xc(e,o,{get:()=>t[o],enumerable:!(n=EK(t,o))||n.enumerable});return e},Yr=(e,t,r)=>(rh(e,t,"default"),r&&rh(r,t,"default")),wK=e=>rh(Xc({},"__esModule",{value:!0}),e),Wt={};bK(Wt,{Uint8ArrayBlobAdapter:()=>nh});Kt.exports=wK(Wt);var KC=ct(),JC=Ge();function YC(e,t="utf-8"){return t==="base64"?(0,KC.toBase64)(e):(0,JC.toUtf8)(e)}oh(YC,"transformToString");function XC(e,t){return t==="base64"?nh.mutate((0,KC.fromBase64)(e)):nh.mutate((0,JC.fromUtf8)(e))}oh(XC,"transformFromString");var nh=class QC extends Uint8Array{static{oh(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return XC(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,QC.prototype),t}transformToString(t="utf-8"){return YC(this,t)}};Yr(Wt,Mf(),Kt.exports);Yr(Wt,GT(),Kt.exports);Yr(Wt,QT(),Kt.exports);Yr(Wt,ZT(),Kt.exports);Yr(Wt,tC(),Kt.exports);Yr(Wt,qC(),Kt.exports);Yr(Wt,WC(),Kt.exports);Yr(Wt,Jr(),Kt.exports)});var Zc,ht,Js=y(()=>{d();Zc=T(Qc()),ht=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Zc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Zc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Zc.Uint8ArrayBlobAdapter.mutate(await r)}});function Jt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ed=y(()=>{d()});var Cr,sh=y(()=>{d();Cr=e=>typeof e=="function"?e():e});var ZC=y(()=>{d()});var We,eP=y(()=>{d();We=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};We.registries=new Map});var Yt,Fo=y(()=>{d();Yt=class{constructor(t,r){this.name=t,this.traits=r}}});var Ys,ih=y(()=>{d();Fo();Ys=class e extends Yt{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Ys.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Xs,ah=y(()=>{d();Fo();Xs=class e extends Yt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Xs.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var tP=y(()=>{d()});var Hn,td=y(()=>{d();Fo();Hn=class e extends Yt{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Hn.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var ch,rP=y(()=>{d();td();ch=class e extends Hn{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};ch.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var x,dh=y(()=>{d();x={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Qs,lh=y(()=>{d();Fo();Qs=class e extends Yt{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Qs.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var $,nP=y(()=>{d();sh();ih();ah();dh();lh();td();$=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Cr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Cr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Qs?Cr(this.schema.schemaRef):Cr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.LIST_MODIFIER&&t<x.MAP_MODIFIER:t instanceof Ys}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=x.MAP_MODIFIER&&t<=255:t instanceof Xs}isDocumentSchema(){return this.getSchema()===x.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof Hn}isBlobSchema(){return this.getSchema()===x.BLOB||this.getSchema()===x.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=x.TIMESTAMP_DEFAULT&&t<=x.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===x.STRING}isBooleanSchema(){return this.getSchema()===x.BOOLEAN}isNumericSchema(){return this.getSchema()===x.NUMERIC}isBigIntegerSchema(){return this.getSchema()===x.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===x.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===x.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([x.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(x).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case x.MAP_MODIFIER:return`${o}Map`;case x.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};$.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Ae=y(()=>{d();sh();ZC();ih();ah();tP();rP();nP();Fo();lh();td();dh();eP()});var Zs,oP=y(()=>{d();Ae();Zs=(e,t,r=n=>n)=>{let n=$.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let a of e)s[i++]=Zs(a,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=Zs(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=Zs(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=Zs(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var TK,CK,ei,PK,rd,ti,IK,uh,ph,mh,fh,AK,RK,sP,xK,OK,od,NK,hh,DK,Bo,gh,MK,kK,LK,iP,aP,UK,FK,$n,yh,nd,ri,_h=y(()=>{d();TK=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},CK=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ri.warn(nd(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ri.warn(nd(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ei=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ri.warn(nd(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},PK=Math.ceil(34028234663852886e22),rd=e=>{let t=ei(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>PK)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ti=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},IK=ti,uh=e=>fh(e,32),ph=e=>fh(e,16),mh=e=>fh(e,8),fh=(e,t)=>{let r=ti(e);if(r!==void 0&&AK(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},AK=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},RK=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},sP=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},xK=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ri.warn(nd(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},OK=e=>{if(e==null)return;let t=sP(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},od=e=>ei(typeof e=="string"?Bo(e):e),NK=od,hh=e=>rd(typeof e=="string"?Bo(e):e),DK=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Bo=e=>{let t=e.match(DK);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},gh=e=>typeof e=="string"?iP(e):ei(e),MK=gh,kK=gh,LK=e=>typeof e=="string"?iP(e):rd(e),iP=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},aP=e=>ti(typeof e=="string"?Bo(e):e),UK=aP,FK=e=>uh(typeof e=="string"?Bo(e):e),$n=e=>ph(typeof e=="string"?Bo(e):e),yh=e=>mh(typeof e=="string"?Bo(e):e),nd=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ri={warn:console.warn}});function oi(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${BK[n]}, ${c} ${Sh[r]} ${t} ${l}:${p}:${f} GMT`}var BK,Sh,jK,HK,$K,si,qK,zK,VK,ii,ai,ni,GK,WK,KK,Eh,JK,YK,XK,Xt,QK,ZK,jo,cP=y(()=>{d();_h();BK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Sh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];jK=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),HK=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=jK.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,p=$n(jo(n)),f=Xt(o,"month",1,12),h=Xt(s,"day",1,31);return ni(p,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},$K=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),si=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=$K.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,p]=t,f=$n(jo(n)),h=Xt(o,"month",1,12),g=Xt(s,"day",1,31),_=ni(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&_.setTime(_.getTime()-ZK(p)),_},qK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),zK=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),VK=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ii=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=qK.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return ni($n(jo(s)),Eh(o),Xt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=zK.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return KK(ni(GK(s),Eh(o),Xt(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=VK.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return ni($n(jo(l)),Eh(n),Xt(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ai=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=od(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ni=(e,t,r,n)=>{let o=t-1;return YK(e,o,r),new Date(Date.UTC(e,o,r,Xt(n.hours,"hour",0,23),Xt(n.minutes,"minute",0,59),Xt(n.seconds,"seconds",0,60),QK(n.fractionalMilliseconds)))},GK=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+$n(jo(e));return r<t?r+100:r},WK=50*365*24*60*60*1e3,KK=e=>e.getTime()-new Date().getTime()>WK?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Eh=e=>{let t=Sh.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},JK=[31,28,31,30,31,30,31,31,30,31,30,31],YK=(e,t,r)=>{let n=JK[t];if(t===1&&XK(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Sh[t]} in ${e}: ${r}`)},XK=e=>e%4===0&&(e%100!==0||e%400===0),Xt=(e,t,r,n)=>{let o=yh(jo(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},QK=e=>e==null?0:hh("0."+e)*1e3,ZK=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},jo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ke,dP=y(()=>{d();Ke=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ke.from=e=>e&&typeof e=="object"&&(e instanceof Ke||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ke(String(e)):Ke(JSON.stringify(e));Ke.fromObject=Ke.from});function vh(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var lP=y(()=>{d()});function bh(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var uP=y(()=>{d()});var ci,pP=y(()=>{d();ci=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function e6(e){return new Oe(String(e),"bigDecimal")}var Oe,mP=y(()=>{d();Oe=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var fP={};He(fP,{LazyJsonString:()=>Ke,NumericValue:()=>Oe,copyDocumentWithTransform:()=>Zs,dateToUtcString:()=>oi,expectBoolean:()=>CK,expectByte:()=>mh,expectFloat32:()=>rd,expectInt:()=>IK,expectInt32:()=>uh,expectLong:()=>ti,expectNonNull:()=>RK,expectNumber:()=>ei,expectObject:()=>sP,expectShort:()=>ph,expectString:()=>xK,expectUnion:()=>OK,handleFloat:()=>MK,limitedParseDouble:()=>gh,limitedParseFloat:()=>kK,limitedParseFloat32:()=>LK,logger:()=>ri,nv:()=>e6,parseBoolean:()=>TK,parseEpochTimestamp:()=>ai,parseRfc3339DateTime:()=>HK,parseRfc3339DateTimeWithOffset:()=>si,parseRfc7231DateTime:()=>ii,quoteHeader:()=>vh,splitEvery:()=>bh,splitHeader:()=>ci,strictParseByte:()=>yh,strictParseDouble:()=>od,strictParseFloat:()=>NK,strictParseFloat32:()=>hh,strictParseInt:()=>UK,strictParseInt32:()=>FK,strictParseLong:()=>aP,strictParseShort:()=>$n});var gt=y(()=>{d();oP();cP();dP();_h();lP();uP();pP();mP()});var sd,hP,Ho,wh=y(()=>{d();Ae();gt();sd=T(me()),hP=T(Qc());Js();Ho=class{constructor(t){this.options=t}getRequestType(){return sd.HttpRequest}getResponseType(){return sd.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=$.of(r),s=$.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=$.of(t),l=[];for(let[p,f]of c.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let E=this.serdeContext;if(!E.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[p]=E.eventStreamMarshaller.deserialize(n.body,async v=>{let w=Object.keys(v).find(A=>A!=="__type")??"";if(w in S){let A=S[w];return{[w]:await a.read(A,v[w].body)}}else return{$unknown:v}})}else i[p]=(0,hP.sdkStreamMixin)(n.body);else if(n.body){let _=await ht(n.body,r);_.byteLength>0&&(i[p]=await a.read(f,_))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),_=n.headers[g];if(_!=null)if(f.isListSchema()){let E=f.getValueSchema(),S;E.isTimestampSchema()&&E.getSchema()===x.TIMESTAMP_DEFAULT?S=bh(_,",",2):S=ci(_);let v=[];for(let w of S)v.push(await a.read([E,{httpHeader:g}],w.trim()));i[p]=v}else i[p]=await a.read(f,_)}else if(h.httpPrefixHeaders!==void 0){i[p]={};for(let[g,_]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[p][g.slice(h.httpPrefixHeaders.length)]=await a.read([f.getValueSchema(),{httpHeader:g}],_))}else h.httpResponseCode?i[p]=n.statusCode:l.push(p)}return l}}});var gP,qn,yP=y(()=>{d();Ae();gP=T(me());Js();ed();wh();qn=class extends Ho{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=$.of(t?.input),p=l.getSchema(),f=!1,h,g=new gP.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let _=$.translateTraits(t.traits);if(_.http){g.method=_.http[0];let[E,S]=_.http[1].split("?");g.path=="/"?g.path=E:g.path+=E;let v=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(v))}}for(let[_,E]of l.structIterator()){let S=E.getMergedTraits()??{},v=o[_];if(v!=null)if(S.httpPayload){if(E.isStreaming()){if(E.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=v}else s.write(E,v),h=s.flush();delete o[_]}else if(S.httpLabel){s.write(E,v);let w=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,w.split("/").map(Jt).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,Jt(w))),delete o[_]}else if(S.httpHeader)s.write(E,v),a[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[_];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,A]of Object.entries(v)){let I=S.httpPrefixHeaders+w;s.write([E.getValueSchema(),{httpHeader:I}],A),a[I.toLowerCase()]=s.flush()}delete o[_]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(E,v,i),delete o[_]):f=!0}return f&&o&&(s.write(p,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery($.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let l=await ht(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await ht(n.body,r);if(l.byteLength>0){let p=await o.read(s,l);for(let f of a)i[f]=p[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var _P,zn,EP=y(()=>{d();Ae();_P=T(me());Js();wh();zn=class extends Ho{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=$.of(t?.input).getSchema(),p,f=new _P.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(l,h),p=o.flush()),f.headers=i,f.query=s,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let l=await ht(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await ht(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var Th,Ch=y(()=>{d();ed();Th=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Jt(a)).join("/"):Jt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Ph(e,t){return new id(e,t)}var SP,id,vP=y(()=>{d();SP=T(me());Ch();id=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new SP.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=Th(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Vn(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===x.TIMESTAMP_DATE_TIME||e.getSchema()===x.TIMESTAMP_HTTP_DATE||e.getSchema()===x.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?x.TIMESTAMP_HTTP_DATE:s||r?x.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var ad=y(()=>{d();Ae()});var Ih,bP,Gn,Ah=y(()=>{d();Ae();gt();Ih=T(ct()),bP=T(Ge());ad();Gn=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=$.of(t);if(n.isListSchema())return ci(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Ih.fromBase64)(r);if(n.isTimestampSchema())switch(Vn(n,this.settings)){case x.TIMESTAMP_DATE_TIME:return si(r);case x.TIMESTAMP_HTTP_DATE:return ii(r);case x.TIMESTAMP_EPOCH_SECONDS:return ai(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ke.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new Oe(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??bP.toUtf8)((this.serdeContext?.base64Decoder??Ih.fromBase64)(t))}}});var cd,Wn,wP=y(()=>{d();Ae();cd=T(Ge());Ah();Wn=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new Gn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=$.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??cd.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??cd.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var Rh,di,xh=y(()=>{d();Ae();gt();Rh=T(ct());ad();di=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=$.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Vn(n,this.settings)){case x.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:this.stringBuffer=oi(r);break;case x.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Rh.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:vh(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ke.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Rh.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Kn,TP=y(()=>{d();Ae();xh();Kn=class{constructor(t,r,n=new di(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=$.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var CP={};He(CP,{FromStringShapeDeserializer:()=>Gn,HttpBindingProtocol:()=>qn,HttpInterceptingShapeDeserializer:()=>Wn,HttpInterceptingShapeSerializer:()=>Kn,RequestBuilder:()=>id,RpcProtocol:()=>zn,ToStringShapeSerializer:()=>di,collectBody:()=>ht,determineTimestampFormat:()=>Vn,extendedEncodeURIComponent:()=>Jt,requestBuilder:()=>Ph,resolvedPath:()=>Th});var Pr=y(()=>{d();Js();ed();yP();EP();vP();Ch();Ah();wP();TP();xh();ad()});var PP=y(()=>{d();Pr()});function t6(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var IP=y(()=>{d()});var Oh,AP=y(()=>{d();Oh=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var RP,Nh,Dh,xP=y(()=>{d();RP=T(me()),Nh=T(qt()),Dh=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=RP.HttpRequest.clone(t);if(n.in===Nh.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Nh.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var OP,Mh,NP=y(()=>{d();OP=T(me()),Mh=class{async sign(t,r,n){let o=OP.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var kh,DP=y(()=>{d();kh=class{async sign(t,r,n){return t}}});var MP=y(()=>{d();xP();NP();DP()});var kP,r6,Lh,dd,Uh,LP=y(()=>{d();kP=e=>t=>dd(t)&&t.expiration.getTime()-Date.now()<e,r6=3e5,Lh=kP(3e5),dd=e=>e.expiration!==void 0,Uh=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var UP=y(()=>{d();AP();MP();LP()});var yt={};He(yt,{DefaultIdentityProviderConfig:()=>Oh,EXPIRATION_MS:()=>r6,HttpApiKeyAuthSigner:()=>Dh,HttpBearerAuthSigner:()=>Mh,NoAuthSigner:()=>kh,createIsIdentityExpiredFunction:()=>kP,createPaginator:()=>RT,doesIdentityRequireRefresh:()=>dd,getHttpAuthSchemeEndpointRuleSetPlugin:()=>z4,getHttpAuthSchemePlugin:()=>Q4,getHttpSigningPlugin:()=>tW,getSmithyContext:()=>$4,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>lT,httpAuthSchemeMiddleware:()=>Vs,httpAuthSchemeMiddlewareOptions:()=>ST,httpSigningMiddleware:()=>Pf,httpSigningMiddlewareOptions:()=>CT,isIdentityExpired:()=>Lh,memoizeIdentityProvider:()=>Uh,normalizeProvider:()=>Kr,requestBuilder:()=>Ph,setFeature:()=>t6});var rt=y(()=>{d();iT();bT();IT();AT();xT();PP();IP();UP()});var pd=b((Sxe,GP)=>{d();var ld=Object.defineProperty,n6=Object.getOwnPropertyDescriptor,o6=Object.getOwnPropertyNames,s6=Object.prototype.hasOwnProperty,re=(e,t)=>ld(e,"name",{value:t,configurable:!0}),i6=(e,t)=>{for(var r in t)ld(e,r,{get:t[r],enumerable:!0})},a6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of o6(t))!s6.call(e,o)&&o!==r&&ld(e,o,{get:()=>t[o],enumerable:!(n=n6(t,o))||n.enumerable});return e},c6=e=>a6(ld({},"__esModule",{value:!0}),e),FP={};i6(FP,{EndpointCache:()=>d6,EndpointError:()=>nt,customEndpointFunctions:()=>Bh,isIpAddress:()=>BP,isValidHostLabel:()=>Hh,resolveEndpoint:()=>A6});GP.exports=c6(FP);var d6=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{re(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},l6=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),BP=re(e=>l6.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),u6=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Hh=re((e,t=!1)=>{if(!t)return u6.test(e);let r=e.split(".");for(let n of r)if(!Hh(n))return!1;return!0},"isValidHostLabel"),Bh={},li="endpoints";function Ir(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ir(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ir).join(", ")})`:JSON.stringify(e,null,2)}re(Ir,"toDebugString");var nt=class extends Error{static{re(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},p6=re((e,t)=>e===t,"booleanEquals"),m6=re(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new nt(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new nt(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),jP=re((e,t)=>m6(t).reduce((r,n)=>{if(typeof r!="object")throw new nt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),f6=re(e=>e!=null,"isSet"),h6=re(e=>!e,"not"),jh=qt(),Fh={[jh.EndpointURLScheme.HTTP]:80,[jh.EndpointURLScheme.HTTPS]:443},g6=re(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:_="",path:E="",query:S={}}=e,v=new URL(`${_}//${h}${g?`:${g}`:""}${E}`);return v.search=Object.entries(S).map(([w,A])=>`${w}=${A}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(jh.EndpointURLScheme).includes(c))return null;let l=BP(o),p=r.includes(`${n}:${Fh[c]}`)||typeof e=="string"&&e.includes(`${n}:${Fh[c]}`),f=`${n}${p?`:${Fh[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),y6=re((e,t)=>e===t,"stringEquals"),_6=re((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),E6=re(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),S6={booleanEquals:p6,getAttr:jP,isSet:f6,isValidHostLabel:Hh,not:h6,parseURL:g6,stringEquals:y6,substring:_6,uriEncode:E6},HP=re((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(jP(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),v6=re(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),ud=re((e,t,r)=>{if(typeof e=="string")return HP(e,r);if(e.fn)return $P(e,r);if(e.ref)return v6(e,r);throw new nt(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),$P=re(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:ud(s,"arg",r)),o=e.split(".");return o[0]in Bh&&o[1]!=null?Bh[o[0]][o[1]](...n):S6[e](...n)},"callFunction"),b6=re(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new nt(`'${e}' is already defined in Reference Record.`);let n=$P(t,r);return r.logger?.debug?.(`${li} evaluateCondition: ${Ir(t)} = ${Ir(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),$h=re((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=b6(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${li} assign: ${s.name} := ${Ir(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),w6=re((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=ud(s,"Header value entry",t);if(typeof i!="string")throw new nt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),qP=re((e,t)=>{if(Array.isArray(e))return e.map(r=>qP(r,t));switch(typeof e){case"string":return HP(e,t);case"object":if(e===null)throw new nt(`Unexpected endpoint property: ${e}`);return zP(e,t);case"boolean":return e;default:throw new nt(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),zP=re((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:qP(o,t)}),{}),"getEndpointProperties"),T6=re((e,t)=>{let r=ud(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new nt(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),C6=re((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=$h(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${li} Resolving endpoint from template: ${Ir(n)}`),{...l!=null&&{headers:w6(l,i)},...c!=null&&{properties:zP(c,i)},url:T6(a,i)}},"evaluateEndpointRule"),P6=re((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=$h(r,t);if(o)throw new nt(ud(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),I6=re((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=$h(r,t);if(o)return VP(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),VP=re((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=C6(r,t);if(n)return n}else if(r.type==="error")P6(r,t);else if(r.type==="tree"){let n=I6(r,t);if(n)return n}else throw new nt(`Unknown endpoint rule: ${r}`);throw new nt("Rules evaluation failed")},"evaluateRules"),A6=re((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${li} Initial EndpointParams: ${Ir(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(i.length>0)for(let[l,p]of i)r[l]=r[l]??p;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new nt(`Missing required parameter: '${l}'`);let c=VP(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${li} Resolved endpoint: ${Ir(c)}`),c},"resolveEndpoint")});var YP=b((Txe,JP)=>{d();var md=Object.defineProperty,R6=Object.getOwnPropertyDescriptor,x6=Object.getOwnPropertyNames,O6=Object.prototype.hasOwnProperty,N6=(e,t)=>md(e,"name",{value:t,configurable:!0}),D6=(e,t)=>{for(var r in t)md(e,r,{get:t[r],enumerable:!0})},M6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x6(t))!O6.call(e,o)&&o!==r&&md(e,o,{get:()=>t[o],enumerable:!(n=R6(t,o))||n.enumerable});return e},k6=e=>M6(md({},"__esModule",{value:!0}),e),WP={};D6(WP,{parseQueryString:()=>KP});JP.exports=k6(WP);function KP(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}N6(KP,"parseQueryString")});var $o=b((Pxe,ZP)=>{d();var fd=Object.defineProperty,L6=Object.getOwnPropertyDescriptor,U6=Object.getOwnPropertyNames,F6=Object.prototype.hasOwnProperty,B6=(e,t)=>fd(e,"name",{value:t,configurable:!0}),j6=(e,t)=>{for(var r in t)fd(e,r,{get:t[r],enumerable:!0})},H6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U6(t))!F6.call(e,o)&&o!==r&&fd(e,o,{get:()=>t[o],enumerable:!(n=L6(t,o))||n.enumerable});return e},$6=e=>H6(fd({},"__esModule",{value:!0}),e),XP={};j6(XP,{parseUrl:()=>QP});ZP.exports=$6(XP);var q6=YP(),QP=B6(e=>{if(typeof e=="string")return QP(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,q6.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var gd=b((Axe,lI)=>{"use strict";d();var hd=Object.defineProperty,z6=Object.getOwnPropertyDescriptor,V6=Object.getOwnPropertyNames,G6=Object.prototype.hasOwnProperty,Xr=(e,t)=>hd(e,"name",{value:t,configurable:!0}),W6=(e,t)=>{for(var r in t)hd(e,r,{get:t[r],enumerable:!0})},K6=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of V6(t))!G6.call(e,o)&&o!==r&&hd(e,o,{get:()=>t[o],enumerable:!(n=z6(t,o))||n.enumerable});return e},J6=e=>K6(hd({},"__esModule",{value:!0}),e),tI={};W6(tI,{ConditionObject:()=>ce.ConditionObject,DeprecatedObject:()=>ce.DeprecatedObject,EndpointError:()=>ce.EndpointError,EndpointObject:()=>ce.EndpointObject,EndpointObjectHeaders:()=>ce.EndpointObjectHeaders,EndpointObjectProperties:()=>ce.EndpointObjectProperties,EndpointParams:()=>ce.EndpointParams,EndpointResolverOptions:()=>ce.EndpointResolverOptions,EndpointRuleObject:()=>ce.EndpointRuleObject,ErrorRuleObject:()=>ce.ErrorRuleObject,EvaluateOptions:()=>ce.EvaluateOptions,Expression:()=>ce.Expression,FunctionArgv:()=>ce.FunctionArgv,FunctionObject:()=>ce.FunctionObject,FunctionReturn:()=>ce.FunctionReturn,ParameterObject:()=>ce.ParameterObject,ReferenceObject:()=>ce.ReferenceObject,ReferenceRecord:()=>ce.ReferenceRecord,RuleSetObject:()=>ce.RuleSetObject,RuleSetRules:()=>ce.RuleSetRules,TreeRuleObject:()=>ce.TreeRuleObject,awsEndpointFunctions:()=>cI,getUserAgentPrefix:()=>Z6,isIpAddress:()=>ce.isIpAddress,partition:()=>iI,resolveDefaultAwsRegionalEndpointsConfig:()=>tJ,resolveEndpoint:()=>ce.resolveEndpoint,setPartitionInfo:()=>aI,toEndpointV1:()=>dI,useDefaultPartitionInfo:()=>Q6});lI.exports=J6(tI);var ce=pd(),rI=Xr((e,t=!1)=>{if(t){for(let r of e.split("."))if(!rI(r))return!1;return!0}return!(!(0,ce.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,ce.isIpAddress)(e))},"isVirtualHostableS3Bucket"),eI=":",Y6="/",X6=Xr(e=>{let t=e.split(eI);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(eI)==="")return null;let c=a.map(l=>l.split(Y6)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),nI={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},oI=nI,sI="",iI=Xr(e=>{let{partitions:t}=oI;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),aI=Xr((e,t="")=>{oI=e,sI=t},"setPartitionInfo"),Q6=Xr(()=>{aI(nI,"")},"useDefaultPartitionInfo"),Z6=Xr(()=>sI,"getUserAgentPrefix"),cI={isVirtualHostableS3Bucket:rI,parseArn:X6,partition:iI};ce.customEndpointFunctions.aws=cI;var eJ=$o(),tJ=Xr(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>dI(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),dI=Xr(e=>(0,eJ.parseUrl)(e.url),"toEndpointV1")});var yd,uI,pI=y(()=>{d();yd={warningEmitted:!1},uI=e=>{e&&!yd.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(yd.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function _d(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var mI=y(()=>{d()});function fI(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var hI=y(()=>{d()});function gI(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var yI=y(()=>{d()});var Qr={};He(Qr,{emitWarningIfUnsupportedVersion:()=>uI,setCredentialFeature:()=>_d,setFeature:()=>fI,setTokenFeature:()=>gI,state:()=>yd});var Qt=y(()=>{d();pI();mI();hI();yI()});var _I,qh,EI=y(()=>{d();_I=T(me()),qh=e=>_I.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var qo,zh=y(()=>{d();qo=e=>new Date(Date.now()+e)});var SI,vI=y(()=>{d();zh();SI=(e,t)=>Math.abs(qo(t).getTime()-e)>=3e5});var Vh,bI=y(()=>{d();vI();Vh=(e,t)=>{let r=Date.parse(e);return SI(r,t)?r-Date.now():t}});var Gh=y(()=>{d();EI();zh();bI()});var wI,ui,zo,Zr,Wh,Kh=y(()=>{d();wI=T(me());Gh();ui=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},zo=async e=>{let t=ui("context",e.context),r=ui("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await ui("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},Zr=class{async sign(t,r,n){if(!wI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await zo(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:qo(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??qh(r.$response);if(n){let o=ui("config",t.config),s=o.systemClockOffset;o.systemClockOffset=Vh(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=qh(t);if(n){let o=ui("config",r.config);o.systemClockOffset=Vh(n,o.systemClockOffset)}}},Wh=Zr});var TI,pi,CI=y(()=>{d();TI=T(me());Gh();Kh();pi=class extends Zr{async sign(t,r,n){if(!TI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await zo(n),p=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:qo(o.systemClockOffset),signingRegion:p,signingService:c})}}});var Jh,PI=y(()=>{d();Jh=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Ed,Yh=y(()=>{d();Ed=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var II,AI,RI,xI=y(()=>{d();PI();Yh();II="AWS_AUTH_SCHEME_PREFERENCE",AI="auth_scheme_preference",RI={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Ed(t.signingName)in e)return["httpBearerAuth"];if(II in e)return Jh(e[II])},configFileSelector:e=>{if(AI in e)return Jh(e[AI])},default:[]}});var Je=b((EOe,kI)=>{d();var Sd=Object.defineProperty,rJ=Object.getOwnPropertyDescriptor,nJ=Object.getOwnPropertyNames,oJ=Object.prototype.hasOwnProperty,Jn=(e,t)=>Sd(e,"name",{value:t,configurable:!0}),sJ=(e,t)=>{for(var r in t)Sd(e,r,{get:t[r],enumerable:!0})},iJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nJ(t))!oJ.call(e,o)&&o!==r&&Sd(e,o,{get:()=>t[o],enumerable:!(n=rJ(t,o))||n.enumerable});return e},aJ=e=>iJ(Sd({},"__esModule",{value:!0}),e),OI={};sJ(OI,{CredentialsProviderError:()=>cJ,ProviderError:()=>vd,TokenProviderError:()=>dJ,chain:()=>lJ,fromStatic:()=>uJ,memoize:()=>pJ});kI.exports=aJ(OI);var vd=class NI extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,NI.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{Jn(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},cJ=class DI extends vd{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,DI.prototype)}static{Jn(this,"CredentialsProviderError")}},dJ=class MI extends vd{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,MI.prototype)}static{Jn(this,"TokenProviderError")}},lJ=Jn((...e)=>async()=>{if(e.length===0)throw new vd("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),uJ=Jn(e=>()=>Promise.resolve(e),"fromStatic"),pJ=Jn((e,t,r)=>{let n,o,s,i=!1,a=Jn(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Xh,LI,UI,FI=y(()=>{d();rt();Xh=T(Je()),LI=e=>(e.sigv4aSigningRegionSet=Kr(e.sigv4aSigningRegionSet),e),UI={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Xh.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Xh.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var mA=b((TOe,pA)=>{d();var Ad=Object.defineProperty,mJ=Object.getOwnPropertyDescriptor,fJ=Object.getOwnPropertyNames,hJ=Object.prototype.hasOwnProperty,Ne=(e,t)=>Ad(e,"name",{value:t,configurable:!0}),gJ=(e,t)=>{for(var r in t)Ad(e,r,{get:t[r],enumerable:!0})},yJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fJ(t))!hJ.call(e,o)&&o!==r&&Ad(e,o,{get:()=>t[o],enumerable:!(n=mJ(t,o))||n.enumerable});return e},_J=e=>yJ(Ad({},"__esModule",{value:!0}),e),qI={};gJ(qI,{ALGORITHM_IDENTIFIER:()=>bd,ALGORITHM_IDENTIFIER_V4A:()=>bJ,ALGORITHM_QUERY_PARAM:()=>zI,ALWAYS_UNSIGNABLE_HEADERS:()=>QI,AMZ_DATE_HEADER:()=>sg,AMZ_DATE_QUERY_PARAM:()=>tg,AUTH_HEADER:()=>og,CREDENTIAL_QUERY_PARAM:()=>VI,DATE_HEADER:()=>KI,EVENT_ALGORITHM_IDENTIFIER:()=>tA,EXPIRES_QUERY_PARAM:()=>WI,GENERATED_HEADERS:()=>JI,HOST_HEADER:()=>SJ,KEY_TYPE_IDENTIFIER:()=>ig,MAX_CACHE_SIZE:()=>nA,MAX_PRESIGNED_TTL:()=>oA,PROXY_HEADER_PATTERN:()=>ZI,REGION_SET_PARAM:()=>EJ,SEC_HEADER_PATTERN:()=>eA,SHA256_HEADER:()=>Id,SIGNATURE_HEADER:()=>YI,SIGNATURE_QUERY_PARAM:()=>rg,SIGNED_HEADERS_QUERY_PARAM:()=>GI,SignatureV4:()=>DJ,SignatureV4Base:()=>uA,TOKEN_HEADER:()=>XI,TOKEN_QUERY_PARAM:()=>ng,UNSIGNABLE_PATTERNS:()=>vJ,UNSIGNED_PAYLOAD:()=>rA,clearCredentialCache:()=>TJ,createScope:()=>Td,getCanonicalHeaders:()=>Qh,getCanonicalQuery:()=>lA,getPayloadHash:()=>Cd,getSigningKey:()=>sA,hasHeader:()=>aA,moveHeadersToQuery:()=>dA,prepareRequest:()=>eg,signatureV4aContainer:()=>MJ});pA.exports=_J(qI);var BI=Ge(),zI="X-Amz-Algorithm",VI="X-Amz-Credential",tg="X-Amz-Date",GI="X-Amz-SignedHeaders",WI="X-Amz-Expires",rg="X-Amz-Signature",ng="X-Amz-Security-Token",EJ="X-Amz-Region-Set",og="authorization",sg=tg.toLowerCase(),KI="date",JI=[og,sg,KI],YI=rg.toLowerCase(),Id="x-amz-content-sha256",XI=ng.toLowerCase(),SJ="host",QI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ZI=/^proxy-/,eA=/^sec-/,vJ=[/^proxy-/i,/^sec-/i],bd="AWS4-HMAC-SHA256",bJ="AWS4-ECDSA-P256-SHA256",tA="AWS4-HMAC-SHA256-PAYLOAD",rA="UNSIGNED-PAYLOAD",nA=50,ig="aws4_request",oA=3600*24*7,en=Qf(),wJ=Ge(),Vo={},wd=[],Td=Ne((e,t,r)=>`${e}/${t}/${r}/${ig}`,"createScope"),sA=Ne(async(e,t,r,n,o)=>{let s=await jI(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,en.toHex)(s)}:${t.sessionToken}`;if(i in Vo)return Vo[i];for(wd.push(i);wd.length>nA;)delete Vo[wd.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,ig])a=await jI(e,a,c);return Vo[i]=a},"getSigningKey"),TJ=Ne(()=>{wd.length=0,Object.keys(Vo).forEach(e=>{delete Vo[e]})},"clearCredentialCache"),jI=Ne((e,t,r)=>{let n=new e(t);return n.update((0,wJ.toUint8Array)(r)),n.digest()},"hmac"),Qh=Ne(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in QI||t?.has(s)||ZI.test(s)||eA.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),CJ=Af(),PJ=Ge(),Cd=Ne(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Id)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,CJ.isArrayBuffer)(t)){let n=new r;return n.update((0,PJ.toUint8Array)(t)),(0,en.toHex)(await n.digest())}return rA},"getPayloadHash"),HI=Ge(),IJ=class{static{Ne(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,HI.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,HI.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(RJ.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!AJ.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,en.fromHex)(e.value.replace(/\-/g,"")),1),p}}},AJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,RJ=class iA{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Ne(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Zh(r),new iA(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Zh(t),parseInt((0,en.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Zh(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Ne(Zh,"negate");var aA=Ne((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),cA=me(),dA=Ne((e,t={})=>{let{headers:r,query:n={}}=cA.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),eg=Ne(e=>{e=cA.HttpRequest.clone(e);for(let t of Object.keys(e.headers))JI.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),$I=zt(),xJ=Ge(),Pd=qf(),lA=Ne(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===YI)continue;let o=(0,Pd.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,Pd.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,Pd.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),OJ=Ne(e=>NJ(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),NJ=Ne(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),uA=class{static{Ne(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,$I.normalizeProvider)(r),this.credentialProvider=(0,$I.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${lA(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,xJ.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,en.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,Pd.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=OJ(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},DJ=class extends uA{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new IJ}static{Ne(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=c??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>oA)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=Td(g,f,l??this.service),E=dA(eg(e),{unhoistableHeaders:s,hoistableHeaders:a});p.sessionToken&&(E.query[ng]=p.sessionToken),E.query[zI]=bd,E.query[VI]=`${p.accessKeyId}/${_}`,E.query[tg]=h,E.query[WI]=n.toString(10);let S=Qh(E,o,i);return E.query[GI]=this.getCanonicalHeaderList(S),E.query[rg]=await this.getSignature(h,_,this.getSigningKey(p,f,g,l),this.createCanonicalRequest(E,S,await Cd(e,this.sha256))),E}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=Td(a,i,s??this.service),p=await Cd({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,en.toHex)(await f.digest()),g=[tA,c,l,n,h,p].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,BI.toUint8Array)(e)),(0,en.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=eg(e),{longDate:l,shortDate:p}=this.formatDate(t),f=Td(p,a,s??this.service);c.headers[sg]=l,i.sessionToken&&(c.headers[XI]=i.sessionToken);let h=await Cd(c,this.sha256);!aA(Id,c.headers)&&this.applyChecksum&&(c.headers[Id]=h);let g=Qh(c,n,r),_=await this.getSignature(l,f,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(c,g,h));return c.headers[og]=`${bd} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${_}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,bd),s=new this.sha256(await r);return s.update((0,BI.toUint8Array)(o)),(0,en.toHex)(await s.digest())}getSigningKey(e,t,r,n){return sA(this.sha256,e,r,t,n||this.service)}},MJ={SignatureV4a:null}});function kJ(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Uh(t,Lh,dd):r?n=Kr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function LJ(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var ag,cg,fA,hA=y(()=>{d();Qt();rt();ag=T(mA()),cg=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=kJ(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=LJ(e,p);r&&!f.attributed?(n=async h=>f(h).then(g=>_d(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Kr(e.signer):e.regionInfoProvider?a=()=>Kr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:h}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},_=e.signerConstructor||ag.SignatureV4;return new _(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Kr(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||ag.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},fA=cg});var gA=y(()=>{d();Kh();CI();xI();FI();hA()});var yA={};He(yA,{AWSSDKSigV4Signer:()=>Wh,AwsSdkSigV4ASigner:()=>pi,AwsSdkSigV4Signer:()=>Zr,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>RI,NODE_SIGV4A_CONFIG_OPTIONS:()=>UI,getBearerTokenEnvKey:()=>Ed,resolveAWSSDKSigV4Config:()=>fA,resolveAwsSdkSigV4AConfig:()=>LI,resolveAwsSdkSigV4Config:()=>cg,validateSigningProperties:()=>zo});var dg=y(()=>{d();gA();Yh()});var UJ,FJ,BJ,_A=y(()=>{d();UJ=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},FJ=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},BJ=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var mi=b((VOe,vA)=>{d();var Rd=Object.defineProperty,jJ=Object.getOwnPropertyDescriptor,HJ=Object.getOwnPropertyNames,$J=Object.prototype.hasOwnProperty,qJ=(e,t)=>Rd(e,"name",{value:t,configurable:!0}),zJ=(e,t)=>{for(var r in t)Rd(e,r,{get:t[r],enumerable:!0})},VJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HJ(t))!$J.call(e,o)&&o!==r&&Rd(e,o,{get:()=>t[o],enumerable:!(n=jJ(t,o))||n.enumerable});return e},GJ=e=>VJ(Rd({},"__esModule",{value:!0}),e),SA={};zJ(SA,{calculateBodyLength:()=>WJ});vA.exports=GJ(SA);var EA=typeof TextEncoder=="function"?new TextEncoder:null,WJ=qJ(e=>{if(typeof e=="string"){if(EA)return EA.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var $e,tn=y(()=>{d();$e=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function bA(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new Oe(n,"bigDecimal"):BigInt(n)}return t}var wA=y(()=>{d();gt()});var AA=b((QOe,IA)=>{d();var xd=Object.defineProperty,KJ=Object.getOwnPropertyDescriptor,JJ=Object.getOwnPropertyNames,YJ=Object.prototype.hasOwnProperty,_t=(e,t)=>xd(e,"name",{value:t,configurable:!0}),XJ=(e,t)=>{for(var r in t)xd(e,r,{get:t[r],enumerable:!0})},QJ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of JJ(t))!YJ.call(e,o)&&o!==r&&xd(e,o,{get:()=>t[o],enumerable:!(n=KJ(t,o))||n.enumerable});return e},ZJ=e=>QJ(xd({},"__esModule",{value:!0}),e),PA={};XJ(PA,{constructStack:()=>lg});IA.exports=ZJ(PA);var Yn=_t((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),rn=_t((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),lg=_t(()=>{let e=[],t=[],r=!1,n=new Set,o=_t(f=>f.sort((h,g)=>TA[g.step]-TA[h.step]||CA[g.priority||"normal"]-CA[h.priority||"normal"]),"sort"),s=_t(f=>{let h=!1,g=_t(_=>{let E=Yn(_.name,_.aliases);if(E.includes(f)){h=!0;for(let S of E)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=_t(f=>{let h=!1,g=_t(_=>{if(_.middleware===f){h=!0;for(let E of Yn(_.name,_.aliases))n.delete(E);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=_t(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(p.identifyOnResolve()),f),"cloneTo"),c=_t(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=_t((f=!1)=>{let h=[],g=[],_={};return e.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Yn(v.name,v.aliases))_[w]=v;h.push(v)}),t.forEach(S=>{let v={...S,before:[],after:[]};for(let w of Yn(v.name,v.aliases))_[w]=v;g.push(v)}),g.forEach(S=>{if(S.toMiddleware){let v=_[S.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${rn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&v.after.push(S),S.relation==="before"&&v.before.push(S)}}),o(h).map(c).reduce((S,v)=>(S.push(...v),S),[])},"getMiddlewareList"),p={add:(f,h={})=>{let{name:g,override:_,aliases:E}=h,S={step:"initialize",priority:"normal",middleware:f,...h},v=Yn(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${rn(g,E)}'`);for(let w of v){let A=e.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=e[A];if(I.step!==S.step||S.priority!==I.priority)throw new Error(`"${rn(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${rn(g,E)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(A,1)}}for(let w of v)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:E}=h,S={middleware:f,...h},v=Yn(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${rn(g,E)}'`);for(let w of v){let A=t.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=t[A];if(I.toMiddleware!==S.toMiddleware||I.relation!==S.relation)throw new Error(`"${rn(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${rn(g,E)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(A,1)}}for(let w of v)n.add(w)}t.push(S)},clone:()=>a(lg()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=_t(_=>{let{tags:E,name:S,aliases:v}=_;if(E&&E.includes(f)){let w=Yn(S,v);for(let A of w)n.delete(A);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=a(lg());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return rn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of l().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(p.identify()),f}};return p},"constructStack"),TA={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},CA={high:3,normal:2,low:1}});var De=b((e0e,yg)=>{d();var Od=Object.defineProperty,eY=Object.getOwnPropertyDescriptor,tY=Object.getOwnPropertyNames,rY=Object.prototype.hasOwnProperty,Z=(e,t)=>Od(e,"name",{value:t,configurable:!0}),nY=(e,t)=>{for(var r in t)Od(e,r,{get:t[r],enumerable:!0})},pg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tY(t))!rY.call(e,o)&&o!==r&&Od(e,o,{get:()=>t[o],enumerable:!(n=eY(t,o))||n.enumerable});return e},oY=(e,t,r)=>(pg(e,t,"default"),r&&pg(r,t,"default")),sY=e=>pg(Od({},"__esModule",{value:!0}),e),hg={};nY(hg,{Client:()=>iY,Command:()=>OA,NoOpLogger:()=>wY,SENSITIVE_STRING:()=>cY,ServiceException:()=>lY,_json:()=>fg,collectBody:()=>ug.collectBody,convertMap:()=>TY,createAggregatedClient:()=>dY,decorateServiceException:()=>NA,emitWarningIfUnsupportedVersion:()=>fY,extendedEncodeURIComponent:()=>ug.extendedEncodeURIComponent,getArrayIfSingleItem:()=>vY,getDefaultClientConfiguration:()=>EY,getDefaultExtensionConfiguration:()=>MA,getValueFromTextNode:()=>kA,isSerializableHeaderValue:()=>bY,loadConfigsForDefaultMode:()=>mY,map:()=>gg,resolveDefaultRuntimeConfig:()=>SY,resolvedPath:()=>ug.resolvedPath,serializeDateTime:()=>xY,serializeFloat:()=>RY,take:()=>CY,throwDefaultError:()=>DA,withBaseException:()=>uY});yg.exports=sY(hg);var xA=AA(),iY=class{constructor(e){this.config=e,this.middlewareStack=(0,xA.constructStack)()}static{Z(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},ug=(Pr(),z(CP)),mg=qt(),OA=class{constructor(){this.middlewareStack=(0,xA.constructStack)()}static{Z(this,"Command")}static classBuilder(){return new aY}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:p}){for(let E of n.bind(this)(p,e,t,r))this.middlewareStack.use(E);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[mg.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:_}=t;return f.resolve(E=>_.handle(E.request,r||{}),g)}},aY=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{Z(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends OA{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{Z(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},cY="***SensitiveInformation***",dY=Z((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=Z(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),lY=class fi extends Error{static{Z(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return fi.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===fi?fi.isInstance(t):fi.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},NA=Z((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),DA=Z(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=pY(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw NA(i,t)},"throwDefaultError"),uY=Z(e=>({output:t,parsedBody:r,errorCode:n})=>{DA({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),pY=Z(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),mY=Z(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),RA=!1,fY=Z(e=>{e&&!RA&&parseInt(e.substring(1,e.indexOf(".")))<16&&(RA=!0)},"emitWarningIfUnsupportedVersion"),hY=Z(e=>{let t=[];for(let r in mg.AlgorithmId){let n=mg.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),gY=Z(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),yY=Z(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),_Y=Z(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),MA=Z(e=>Object.assign(hY(e),yY(e)),"getDefaultExtensionConfiguration"),EY=MA,SY=Z(e=>Object.assign(gY(e),_Y(e)),"resolveDefaultRuntimeConfig"),vY=Z(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),kA=Z(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=kA(e[r]));return e},"getValueFromTextNode"),bY=Z(e=>e!=null,"isSerializableHeaderValue"),wY=class{static{Z(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function gg(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,PY(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}LA(n,null,s,i)}return n}Z(gg,"map");var TY=Z(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),CY=Z((e,t)=>{let r={};for(let n in t)LA(r,e,t,n);return r},"take"),PY=Z((e,t,r)=>gg(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),LA=Z((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=IY,c=AY,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),IY=Z(e=>e!=null,"nonNullish"),AY=Z(e=>e,"pass"),RY=Z(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),xY=Z(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),fg=Z(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(fg);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=fg(e[r]));return t}return e},"_json");oY(hg,(gt(),z(fP)),yg.exports)});var UA,Nd,_g=y(()=>{d();UA=T(De()),Nd=(e,t)=>(0,UA.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var Dd,OY,hi,gi=y(()=>{d();_g();Dd=(e,t)=>Nd(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),OY=async(e,t)=>{let r=await Dd(e,t);return r.message=r.message??r.Message,r},hi=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var FA,yi,Eg=y(()=>{d();Ae();gt();FA=T(ct());tn();wA();gi();yi=class extends $e{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,bA):await Dd(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=$.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(c||p!=null)&&(a[l]=this._read(i,p));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,p=this._read(c,r[l]);p!=null&&(i[a]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,FA.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ke.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===x.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case x.TIMESTAMP_DATE_TIME:return si(r);case x.TIMESTAMP_HTTP_DATE:return ii(r);case x.TIMESTAMP_EPOCH_SECONDS:return ai(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof Oe?r:new Oe(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var BA,Md,jA=y(()=>{d();gt();BA="\u039D",Md=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof Oe){let n=`${BA+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${BA+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var _i,Sg=y(()=>{d();Ae();gt();gt();tn();jA();_i=class extends $e{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=$.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new Md;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=$.of(t);if(s.isListSchema()&&Array.isArray(r)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let p of r)(l||p!=null)&&c.push(this._write(a,p));return c}else if(s.isMapSchema()&&o){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[p,f]of Object.entries(r))(l||f!=null)&&(c[p]=this._write(a,f));return c}else if(s.isStructSchema()&&o){let a={};for(let[c,l]of s.structIterator()){let p=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,r[c],s);f!==void 0&&(a[p]=f)}return a}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===x.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case x.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case x.TIMESTAMP_HTTP_DATE:return oi(r);case x.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?Ke.from(r):r}}});var Xn,kd=y(()=>{d();tn();Eg();Sg();Xn=class extends $e{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new _i(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new yi(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var HA,Qn,Ld=y(()=>{d();Pr();Ae();HA=T(mi());kd();gi();Qn=class extends zn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new Xn({timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+$.of(t).getName()}),(Cr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,HA.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=hi(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var vg,$A=y(()=>{d();Ld();vg=class extends Qn{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var bg,qA=y(()=>{d();Ld();bg=class extends Qn{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var zA,wg,VA=y(()=>{d();Pr();Ae();zA=T(mi());kd();gi();wg=class extends qn{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new Xn(r),this.serializer=new Kn(this.codec.createSerializer(),r),this.deserializer=new Wn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=$.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,zA.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=hi(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var GA,NY,WA=y(()=>{d();GA=T(De()),NY=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,GA.expectUnion)(e)}});function Ud(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function JA(e){return typeof e<"u"}var KA,DY,MY,kY,Ei,Fd=y(()=>{"use strict";d();KA=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",DY=KA+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",MY="["+KA+"]["+DY+"]*",kY=new RegExp("^"+MY+"$");Ei=function(e){let t=kY.exec(e);return!(t===null||typeof t>"u")}});function eR(e,t){t=Object.assign({},LY,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=XA(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=QA(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!zY(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",ye("InvalidTag",f,Ye(e,s))}let l=BY(e,s);if(l===!1)return ye("InvalidAttr","Attributes for '"+c+"' have open quote.",Ye(e,s));let p=l.value;if(s=l.index,p[p.length-1]==="/"){let f=s-p.length;p=p.substring(0,p.length-1);let h=ZA(p,t);if(h===!0)n=!0;else return ye(h.err.code,h.err.msg,Ye(e,f+h.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return ye("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ye(e,i));if(r.length===0)return ye("InvalidTag","Closing tag '"+c+"' has not been opened.",Ye(e,i));{let f=r.pop();if(c!==f.tagName){let h=Ye(e,f.tagStartPos);return ye("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Ye(e,i))}r.length==0&&(o=!0)}}else return ye("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ye(e,s));else{let f=ZA(p,t);if(f!==!0)return ye(f.err.code,f.err.msg,Ye(e,s-p.length+f.err.line));if(o===!0)return ye("InvalidXml","Multiple possible root nodes found.",Ye(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=QA(e,s);continue}else if(e[s+1]==="?"){if(s=XA(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=$Y(e,s);if(f==-1)return ye("InvalidChar","char '&' is not expected.",Ye(e,s));s=f}else if(o===!0&&!YA(e[s]))return ye("InvalidXml","Extra text at the end",Ye(e,s));e[s]==="<"&&s--}}else{if(YA(e[s]))continue;return ye("InvalidChar","char '"+e[s]+"' is not expected.",Ye(e,s))}if(n){if(r.length==1)return ye("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Ye(e,r[0].tagStartPos));if(r.length>0)return ye("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return ye("InvalidXml","Start tag expected.",1);return!0}function YA(e){return e===" "||e==="	"||e===`
`||e==="\r"}function XA(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return ye("InvalidXml","XML declaration allowed only at the start of the document.",Ye(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function QA(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function BY(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===UY||e[t]===FY)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function ZA(e,t){let r=Ud(e,jY),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return ye("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Si(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return ye("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Si(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return ye("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Si(r[o]));let s=r[o][2];if(!qY(s))return ye("InvalidAttr","Attribute '"+s+"' is an invalid name.",Si(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return ye("InvalidAttr","Attribute '"+s+"' is repeated.",Si(r[o]))}return!0}function HY(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function $Y(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,HY(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function ye(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function qY(e){return Ei(e)}function zY(e){return Ei(e)}function Ye(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Si(e){return e.startIndex+e[1].length}var LY,UY,FY,jY,tR=y(()=>{"use strict";d();Fd();LY={allowBooleanAttributes:!1,unpairedTags:[]};UY='"',FY="'";jY=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var VY,rR,nR=y(()=>{d();VY={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},rR=function(e){return Object.assign({},VY,e)}});var Bd,dt,jd=y(()=>{"use strict";d();typeof Symbol!="function"?Bd="@@xmlMetadata":Bd=Symbol("XML Node Metadata");dt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][Bd]={startIndex:r})}static getMetaDataSymbol(){return Bd}}});function Tg(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&Zn(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=GY(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&Zn(e,"!ELEMENT",t)){t+=8;let{index:a}=KY(e,t+1);t=a}else if(o&&Zn(e,"!ATTLIST",t))t+=8;else if(o&&Zn(e,"!NOTATION",t)){t+=9;let{index:a}=WY(e,t+1);t=a}else if(Zn(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function GY(e,t){t=nn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(Cg(r),t=nn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Hd(e,t,"entity"),t--,[r,n,t]}function WY(e,t){t=nn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;Cg(r),t=nn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=nn(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Hd(e,t,"publicIdentifier"),t=nn(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Hd(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Hd(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Hd(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function KY(e,t){t=nn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!Cg(r))throw new Error(`Invalid element name: "${r}"`);t=nn(e,t);let n="";if(e[t]==="E"&&Zn(e,"MPTY",t))t+=4;else if(e[t]==="A"&&Zn(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function Zn(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function Cg(e){if(Ei(e))return e;throw new Error(`Invalid entity name ${e}`)}var nn,oR=y(()=>{d();Fd();nn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function Pg(e,t={}){if(t=Object.assign({},XY,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&JY.test(r))return t5(r,16);if(r.search(/.+[eE].+/)!==-1)return ZY(e,r,t);{let n=YY.exec(r);if(n){let o=n[1]||"",s=n[2],i=e5(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let p=s?i:r;return s?p===l||o+p===l?c:e:p===l||p===o+l?c:e}}else return e}}function ZY(e,t,r){if(!r.eNotation)return e;let n=t.match(QY);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function e5(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function t5(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var JY,YY,XY,QY,sR=y(()=>{d();JY=/^[-+]?0x[a-fA-F0-9]+$/,YY=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,XY={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};QY=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function Ig(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var iR=y(()=>{d()});function r5(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function n5(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?Rg(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Rg(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function o5(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function i5(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=Ud(e,s5),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?s[l]=c:typeof p!=typeof c||p!==c?s[l]=p:s[l]=Rg(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function c5(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function l5(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function u5(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function p5(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function eo(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function Ag(e,t,r,n=">"){let o=p5(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let p=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:p}}function m5(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=eo(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=eo(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=eo(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=eo(e,"]]>",r,"StopNode is not closed.")-2;else{let s=Ag(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function Rg(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:Pg(e,r)}else return JA(e)?e:""}var vi,s5,a5,d5,aR=y(()=>{"use strict";d();Fd();jd();oR();sR();iR();vi=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=r5,this.parseXml=a5,this.parseTextData=n5,this.resolveNameSpace=o5,this.buildAttributesMap=i5,this.isItStopNode=u5,this.replaceEntitiesValue=d5,this.readStopNodeData=m5,this.saveTextToParentTag=l5,this.addChild=c5,this.ignoreAttributesFn=Ig(this.options.ignoreAttributes)}};s5=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");a5=function(e){e=e.replace(/\r\n?/g,`
`);let t=new dt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=eo(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Ag(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new dt(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=eo(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=Tg(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=eo(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=Ag(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,p=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let v=this.readStopNodeData(e,l,h+1);if(!v)throw new Error(`Unexpected end of ${l}`);s=v.i,E=v.tagContent}let S=new dt(c);c!==p&&f&&(S[":@"]=this.buildAttributesMap(p,o,c)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,E),this.addChild(r,S,o,_)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new dt(c);c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),o=o.substr(0,o.lastIndexOf("."))}else{let E=new dt(c);this.tagsNodeStack.push(r),c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),r=E}n="",s=h}}else n+=e[s];return t.child};d5=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function Og(e,t){return cR(e,t)}function cR(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=f5(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=cR(i[a],t,c),p=g5(l,t);i[xg]!==void 0&&(l[xg]=i[xg]),i[":@"]?h5(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function f5(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function h5(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function g5(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var xg,dR=y(()=>{"use strict";d();jd();xg=dt.getMetaDataSymbol()});var on,lR=y(()=>{d();nR();aR();dR();tR();jd();on=class{constructor(t){this.externalEntities={},this.options=rR(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=eR(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new vi(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:Og(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return dt.getMetaDataSymbol()}}});var Ng=y(()=>{"use strict";d();lR()});var uR,pR,to,$d=y(()=>{d();Pr();Ae();uR=T(De()),pR=T(Ge());Ng();tn();to=class extends $e{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Gn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=$.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(s)[0];return s[p].isBlobSchema()?l[p]=r:l[p]=this.read(s[p],r),l}let a=(this.serdeContext?.utf8Encoder??pR.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=$.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],p=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of p){let _=g[f],E=g[h];(E!=null||s)&&(a[_]=this.readSchema(l,E))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new on({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,uR.getValueFromTextNode)(i)}return{}}}});var mR,fR,qd,hR=y(()=>{d();Pr();Ae();gt();mR=T(De()),fR=T(ct());tn();qd=class extends $e{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=$.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??fR.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Oe?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Vn(o,this.settings)){case x.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case x.TIMESTAMP_HTTP_DATE:this.writeValue((0,mR.dateToUtcString)(r));break;case x.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,p),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,h),this.write(i,p,_),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Jt(t)}=`}writeValue(t){this.buffer+=Jt(t)}}});var gR,bi,Dg=y(()=>{d();Pr();Ae();gR=T(mi());$d();hR();bi=class extends zn{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new qd(r),this.deserializer=new to(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Cr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,gR.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=$.of(t.output),i={};if(n.statusCode>=300){let p=await ht(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(x.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let f=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=f}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await ht(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),p=We.for(a),f;try{f=p.find(S=>$.of(S).getMergedTraits().awsQueryError?.[0]===c),f||(f=p.getSchema(i))}catch{let v=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(v){let w=v.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let h=$.of(f),g=this.loadQueryErrorMessage(o),_=new f.ctor(g),E={};for(let[S,v]of h.structIterator()){let w=v.getMergedTraits().xmlName??S,A=l[w]??o[w];E[S]=this.deserializer.readSchema(v,A)}throw Object.assign(_,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,...E}),_}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var Mg,yR=y(()=>{d();Dg();Mg=class extends bi{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var _R,ER,y5,kg,Lg=y(()=>{d();_R=T(De());Ng();_g();ER=(e,t)=>Nd(e,t).then(r=>{if(r.length){let n=new on({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,_R.getValueFromTextNode)(a)}return{}}),y5=async(e,t)=>{let r=await ER(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},kg=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Ug=b((aDe,TR)=>{"use strict";d();var Vd=Object.defineProperty,_5=Object.getOwnPropertyDescriptor,E5=Object.getOwnPropertyNames,S5=Object.prototype.hasOwnProperty,Gd=(e,t)=>Vd(e,"name",{value:t,configurable:!0}),v5=(e,t)=>{for(var r in t)Vd(e,r,{get:t[r],enumerable:!0})},b5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of E5(t))!S5.call(e,o)&&o!==r&&Vd(e,o,{get:()=>t[o],enumerable:!(n=_5(t,o))||n.enumerable});return e},w5=e=>b5(Vd({},"__esModule",{value:!0}),e),SR={};v5(SR,{XmlNode:()=>T5,XmlText:()=>wR});TR.exports=w5(SR);function vR(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Gd(vR,"escapeAttribute");function bR(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Gd(bR,"escapeElement");var wR=class{constructor(e){this.value=e}static{Gd(this,"XmlText")}toString(){return bR(""+this.value)}},T5=class zd{constructor(t,r=[]){this.name=t,this.children=r}static{Gd(this,"XmlNode")}attributes={};static of(t,r,n){let o=new zd(t);return r!==void 0&&o.addChildNode(new wR(r)),n!==void 0&&o.withName(n),o}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let o=zd.of(r,t[r]).withName(n);this.c(o)}}l(t,r,n,o){t[r]!=null&&o().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,o){if(t[r]!=null){let s=o(),i=new zd(n);s.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let o of Object.keys(n)){let s=n[o];s!=null&&(r+=` ${o}="${vR(""+s)}"`)}return r+=t?`>${this.children.map(o=>o.toString()).join("")}</${this.name}>`:"/>"}}});var Et,Fg,Wd,wi,Bg=y(()=>{d();Et=T(Ug());Ae();gt();Fg=T(De()),Wd=T(ct());tn();wi=class extends $e{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=$.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Wd.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Et.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,c);else if(p.isMapSchema())this.writeMap(p,f,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,c));else{let h=Et.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,h,c),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,o),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let E=this.writeStruct(i,_,f);g.addChildNode(E.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let E=Et.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,E,f),g.addChildNode(E)}};if(l)for(let g of r)(c||g!=null)&&h(n,g);else{let g=Et.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(p,f);for(let _ of r)(c||_!=null)&&h(g,_);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[E,S]=this.getXmlnsAttribute(t,o),v=(w,A,I)=>{let C=Et.XmlNode.of(l,A),[k,Ve]=this.getXmlnsAttribute(a,S);Ve&&C.addAttribute(k,Ve),w.addChildNode(C);let se=Et.XmlNode.of(h);p.isListSchema()?this.writeList(p,I,se,S):p.isMapSchema()?this.writeMap(p,I,se,S,!0):p.isStructSchema()?se=this.writeStruct(p,I,S):this.writeSimpleInto(p,I,se,S),w.addChildNode(se)};if(_){for(let[w,A]of Object.entries(r))if(g||A!=null){let I=Et.XmlNode.of(i.xmlName??t.getMemberName());v(I,w,A),n.addChildNode(I)}}else{let w;s||(w=Et.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(E,S),n.addChildNode(w));for(let[A,I]of Object.entries(r))if(g||I!=null){let C=Et.XmlNode.of("entry");v(C,A,I),(s?n:w).addChildNode(C)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=$.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??Wd.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===x.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case x.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case x.TIMESTAMP_HTTP_DATE:o=(0,Fg.dateToUtcString)(r);break;case x.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,Fg.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof Oe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=$.of(t),a=new Et.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var Ti,jg=y(()=>{d();tn();$d();Bg();Ti=class extends $e{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new wi(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new to(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var CR,Hg,PR=y(()=>{d();Pr();Ae();CR=T(mi());Lg();jg();Hg=class extends qn{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:x.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Ti(r),this.serializer=new Kn(this.codec.createSerializer(),r),this.deserializer=new Wn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=$.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,CR.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=kg(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=We.for(a),p;try{p=l.getSchema(i)}catch{let S=We.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=$.of(p),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().xmlName??E,w=o.Error?.[v]??o[v];_[E]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var IR=y(()=>{d();_A();$A();qA();Ld();VA();kd();Eg();Sg();WA();gi();yR();Dg();PR();jg();$d();Bg();Lg()});var Zt={};He(Zt,{AWSSDKSigV4Signer:()=>Wh,AwsEc2QueryProtocol:()=>Mg,AwsJson1_0Protocol:()=>vg,AwsJson1_1Protocol:()=>bg,AwsJsonRpcProtocol:()=>Qn,AwsQueryProtocol:()=>bi,AwsRestJsonProtocol:()=>wg,AwsRestXmlProtocol:()=>Hg,AwsSdkSigV4ASigner:()=>pi,AwsSdkSigV4Signer:()=>Zr,JsonCodec:()=>Xn,JsonShapeDeserializer:()=>yi,JsonShapeSerializer:()=>_i,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>RI,NODE_SIGV4A_CONFIG_OPTIONS:()=>UI,XmlCodec:()=>Ti,XmlShapeDeserializer:()=>to,XmlShapeSerializer:()=>wi,_toBool:()=>FJ,_toNum:()=>BJ,_toStr:()=>UJ,awsExpectUnion:()=>NY,emitWarningIfUnsupportedVersion:()=>uI,getBearerTokenEnvKey:()=>Ed,loadRestJsonErrorCode:()=>hi,loadRestXmlErrorCode:()=>kg,parseJsonBody:()=>Dd,parseJsonErrorBody:()=>OY,parseXmlBody:()=>ER,parseXmlErrorBody:()=>y5,resolveAWSSDKSigV4Config:()=>fA,resolveAwsSdkSigV4AConfig:()=>LI,resolveAwsSdkSigV4Config:()=>cg,setCredentialFeature:()=>_d,setFeature:()=>fI,setTokenFeature:()=>gI,state:()=>yd,validateSigningProperties:()=>zo});var er=y(()=>{d();Qt();dg();IR()});var Yd=b((JDe,BR)=>{"use strict";d();var Jd=Object.defineProperty,C5=Object.getOwnPropertyDescriptor,P5=Object.getOwnPropertyNames,I5=Object.prototype.hasOwnProperty,Ar=(e,t)=>Jd(e,"name",{value:t,configurable:!0}),A5=(e,t)=>{for(var r in t)Jd(e,r,{get:t[r],enumerable:!0})},R5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P5(t))!I5.call(e,o)&&o!==r&&Jd(e,o,{get:()=>t[o],enumerable:!(n=C5(t,o))||n.enumerable});return e},x5=e=>R5(Jd({},"__esModule",{value:!0}),e),OR={};A5(OR,{DEFAULT_UA_APP_ID:()=>NR,getUserAgentMiddlewareOptions:()=>FR,getUserAgentPlugin:()=>F5,resolveUserAgentConfig:()=>MR,userAgentMiddleware:()=>UR});BR.exports=x5(OR);var O5=(rt(),z(yt)),NR=void 0;function DR(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Ar(DR,"isValidUserAgentAppId");function MR(e){let t=(0,O5.normalizeProvider)(e.userAgentAppId??NR),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Ar(async()=>{let n=await t();if(!DR(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Ar(MR,"resolveUserAgentConfig");var N5=gd(),D5=me(),tr=(er(),z(Zt)),M5=/\d{12}\.ddb/;async function kR(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,tr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,tr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,tr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,tr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(M5)&&(0,tr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,tr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,tr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,tr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,tr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,tr.setFeature)(e,i,a)}}Ar(kR,"checkFeatures");var AR="user-agent",$g="x-amz-user-agent",RR=" ",qg="/",k5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,L5=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,xR="-",U5=1024;function LR(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=U5){t.length?t+=","+n:t+=n;continue}break}return t}Ar(LR,"encodeFeatures");var UR=Ar(e=>(t,r)=>async n=>{let{request:o}=n;if(!D5.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(Kd)||[],a=(await e.defaultUserAgentProvider()).map(Kd);await kR(r,e,n);let c=r;a.push(`m/${LR(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Kd)||[],p=await e.userAgentAppId();p&&a.push(Kd([`app/${p}`]));let f=(0,N5.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...a,...i,...l]).join(RR),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...l].join(RR);return e.runtime!=="browser"?(g&&(s[$g]=s[$g]?`${s[AR]} ${g}`:g),s[AR]=h):s[$g]=h,t({...n,request:o})},"userAgentMiddleware"),Kd=Ar(e=>{let t=e[0].split(qg).map(i=>i.replace(k5,xR)).join(qg),r=e[1]?.replace(L5,xR),n=t.indexOf(qg),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),FR={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},F5=Ar(e=>({applyToStack:Ar(t=>{t.add(UR(e),FR)},"applyToStack")}),"getUserAgentPlugin")});var zR=b((XDe,qR)=>{d();var Xd=Object.defineProperty,B5=Object.getOwnPropertyDescriptor,j5=Object.getOwnPropertyNames,H5=Object.prototype.hasOwnProperty,jR=(e,t)=>Xd(e,"name",{value:t,configurable:!0}),$5=(e,t)=>{for(var r in t)Xd(e,r,{get:t[r],enumerable:!0})},q5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of j5(t))!H5.call(e,o)&&o!==r&&Xd(e,o,{get:()=>t[o],enumerable:!(n=B5(t,o))||n.enumerable});return e},z5=e=>q5(Xd({},"__esModule",{value:!0}),e),HR={};$5(HR,{SelectorType:()=>$R,booleanSelector:()=>V5,numberSelector:()=>G5});qR.exports=z5(HR);var V5=jR((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),G5=jR((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),$R=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))($R||{})});var Go=b((ZDe,tx)=>{d();var Zd=Object.defineProperty,W5=Object.getOwnPropertyDescriptor,K5=Object.getOwnPropertyNames,J5=Object.prototype.hasOwnProperty,Mt=(e,t)=>Zd(e,"name",{value:t,configurable:!0}),Y5=(e,t)=>{for(var r in t)Zd(e,r,{get:t[r],enumerable:!0})},X5=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K5(t))!J5.call(e,o)&&o!==r&&Zd(e,o,{get:()=>t[o],enumerable:!(n=W5(t,o))||n.enumerable});return e},Q5=e=>X5(Zd({},"__esModule",{value:!0}),e),WR={};Y5(WR,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>JR,CONFIG_USE_FIPS_ENDPOINT:()=>XR,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>Z5,DEFAULT_USE_FIPS_ENDPOINT:()=>tX,ENV_USE_DUALSTACK_ENDPOINT:()=>KR,ENV_USE_FIPS_ENDPOINT:()=>YR,NODE_REGION_CONFIG_FILE_OPTIONS:()=>aX,NODE_REGION_CONFIG_OPTIONS:()=>iX,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>eX,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>rX,REGION_ENV_NAME:()=>QR,REGION_INI_NAME:()=>ZR,getRegionInfo:()=>pX,resolveCustomEndpointsConfig:()=>nX,resolveEndpointsConfig:()=>sX,resolveRegionConfig:()=>cX});tx.exports=Q5(WR);var sn=zR(),KR="AWS_USE_DUALSTACK_ENDPOINT",JR="use_dualstack_endpoint",Z5=!1,eX={environmentVariableSelector:e=>(0,sn.booleanSelector)(e,KR,sn.SelectorType.ENV),configFileSelector:e=>(0,sn.booleanSelector)(e,JR,sn.SelectorType.CONFIG),default:!1},YR="AWS_USE_FIPS_ENDPOINT",XR="use_fips_endpoint",tX=!1,rX={environmentVariableSelector:e=>(0,sn.booleanSelector)(e,YR,sn.SelectorType.ENV),configFileSelector:e=>(0,sn.booleanSelector)(e,XR,sn.SelectorType.CONFIG),default:!1},Qd=zt(),nX=Mt(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Qd.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Qd.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),oX=Mt(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),sX=Mt(e=>{let t=(0,Qd.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Qd.normalizeProvider)(typeof r=="string"?o(r):r):()=>oX({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),QR="AWS_REGION",ZR="region",iX={environmentVariableSelector:e=>e[QR],configFileSelector:e=>e[ZR],default:()=>{throw new Error("Region is missing")}},aX={preferredFile:"credentials"},ex=Mt(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),VR=Mt(e=>ex(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),cX=Mt(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return VR(t);let n=await t();return VR(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return ex(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),GR=Mt((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),dX=Mt((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),lX=Mt((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),uX=Mt((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),pX=Mt((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=lX(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=GR(o[a]?.variants,c),p=GR(s[i]?.variants,c),f=dX(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=uX(f,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var Vg=b((tMe,ix)=>{d();var el=Object.defineProperty,mX=Object.getOwnPropertyDescriptor,fX=Object.getOwnPropertyNames,hX=Object.prototype.hasOwnProperty,nx=(e,t)=>el(e,"name",{value:t,configurable:!0}),gX=(e,t)=>{for(var r in t)el(e,r,{get:t[r],enumerable:!0})},yX=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fX(t))!hX.call(e,o)&&o!==r&&el(e,o,{get:()=>t[o],enumerable:!(n=mX(t,o))||n.enumerable});return e},_X=e=>yX(el({},"__esModule",{value:!0}),e),ox={};gX(ox,{contentLengthMiddleware:()=>zg,contentLengthMiddlewareOptions:()=>sx,getContentLengthPlugin:()=>SX});ix.exports=_X(ox);var EX=me(),rx="content-length";function zg(e){return t=>async r=>{let n=r.request;if(EX.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(rx)===-1)try{let i=e(o);n.headers={...n.headers,[rx]:String(i)}}catch{}}return t({...r,request:n})}}nx(zg,"contentLengthMiddleware");var sx={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},SX=nx(e=>({applyToStack:t=>{t.add(zg(e.bodyLengthChecker),sx)}}),"getContentLengthPlugin")});import vX from"crypto";function Ci(){return tl>rl.length-16&&(vX.randomFillSync(rl),tl=0),rl.slice(tl,tl+=16)}var rl,tl,Gg=y(()=>{d();rl=new Uint8Array(256),tl=rl.length});var ax,cx=y(()=>{d();ax=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function bX(e){return typeof e=="string"&&ax.test(e)}var an,Pi=y(()=>{d();cx();an=bX});function ro(e,t=0){return Me[e[t+0]]+Me[e[t+1]]+Me[e[t+2]]+Me[e[t+3]]+"-"+Me[e[t+4]]+Me[e[t+5]]+"-"+Me[e[t+6]]+Me[e[t+7]]+"-"+Me[e[t+8]]+Me[e[t+9]]+"-"+Me[e[t+10]]+Me[e[t+11]]+Me[e[t+12]]+Me[e[t+13]]+Me[e[t+14]]+Me[e[t+15]]}function wX(e,t=0){let r=ro(e,t);if(!an(r))throw TypeError("Stringified UUID is invalid");return r}var Me,dx,Ii=y(()=>{d();Pi();Me=[];for(let e=0;e<256;++e)Me.push((e+256).toString(16).slice(1));dx=wX});function TX(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||lx,i=e.clockseq!==void 0?e.clockseq:Wg;if(s==null||i==null){let h=e.random||(e.rng||Ci)();s==null&&(s=lx=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=Wg=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Jg+1,l=a-Kg+(c-Jg)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>Kg)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Kg=a,Jg=c,Wg=i,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||ro(o)}var lx,Wg,Kg,Jg,ux,px=y(()=>{d();Gg();Ii();Kg=0,Jg=0;ux=TX});function CX(e){if(!an(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var nl,Yg=y(()=>{d();Pi();nl=CX});function PX(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Ai(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=PX(o)),typeof s=="string"&&(s=nl(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let p=0;p<16;++p)i[a+p]=l[p];return i}return ro(l)}try{n.name=e}catch{}return n.DNS=IX,n.URL=AX,n}var IX,AX,Xg=y(()=>{d();Ii();Yg();IX="6ba7b810-9dad-11d1-80b4-00c04fd430c8",AX="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import RX from"crypto";function xX(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),RX.createHash("md5").update(e).digest()}var mx,fx=y(()=>{d();mx=xX});var OX,hx,gx=y(()=>{d();Xg();fx();OX=Ai("v3",48,mx),hx=OX});import NX from"crypto";var Qg,yx=y(()=>{d();Qg={randomUUID:NX.randomUUID}});function DX(e,t,r){if(Qg.randomUUID&&!t&&!e)return Qg.randomUUID();e=e||{};let n=e.random||(e.rng||Ci)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return ro(n)}var _x,Ex=y(()=>{d();yx();Gg();Ii();_x=DX});import MX from"crypto";function kX(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),MX.createHash("sha1").update(e).digest()}var Sx,vx=y(()=>{d();Sx=kX});var LX,bx,wx=y(()=>{d();Xg();vx();LX=Ai("v5",80,Sx),bx=LX});var Tx,Cx=y(()=>{d();Tx="00000000-0000-0000-0000-000000000000"});function UX(e){if(!an(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Px,Ix=y(()=>{d();Pi();Px=UX});var Zg={};He(Zg,{NIL:()=>Tx,parse:()=>nl,stringify:()=>dx,v1:()=>ux,v3:()=>hx,v4:()=>_x,v5:()=>bx,validate:()=>an,version:()=>Px});var ey=y(()=>{d();px();gx();Ex();wx();Cx();Ix();Pi();Ii();Yg()});var ry=b((cke,Ox)=>{d();var ol=Object.defineProperty,FX=Object.getOwnPropertyDescriptor,BX=Object.getOwnPropertyNames,jX=Object.prototype.hasOwnProperty,no=(e,t)=>ol(e,"name",{value:t,configurable:!0}),HX=(e,t)=>{for(var r in t)ol(e,r,{get:t[r],enumerable:!0})},$X=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BX(t))!jX.call(e,o)&&o!==r&&ol(e,o,{get:()=>t[o],enumerable:!(n=FX(t,o))||n.enumerable});return e},qX=e=>$X(ol({},"__esModule",{value:!0}),e),Ax={};HX(Ax,{isBrowserNetworkError:()=>xx,isClockSkewCorrectedError:()=>Rx,isClockSkewError:()=>XX,isRetryableByTrait:()=>YX,isServerError:()=>ZX,isThrottlingError:()=>QX,isTransientError:()=>ty});Ox.exports=qX(Ax);var zX=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],VX=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],GX=["TimeoutError","RequestTimeout","RequestTimeoutException"],WX=[500,502,503,504],KX=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],JX=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],YX=no(e=>e.$retryable!==void 0,"isRetryableByTrait"),XX=no(e=>zX.includes(e.name),"isClockSkewError"),Rx=no(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),xx=no(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),QX=no(e=>e.$metadata?.httpStatusCode===429||VX.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),ty=no((e,t=0)=>Rx(e)||GX.includes(e.name)||KX.includes(e?.code||"")||JX.includes(e?.code||"")||WX.includes(e.$metadata?.httpStatusCode||0)||xx(e)||e.cause!==void 0&&t<=10&&ty(e.cause,t+1),"isTransientError"),ZX=no(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!ty(e)}return!1},"isServerError")});var il=b((lke,Hx)=>{d();var sl=Object.defineProperty,eQ=Object.getOwnPropertyDescriptor,tQ=Object.getOwnPropertyNames,rQ=Object.prototype.hasOwnProperty,kt=(e,t)=>sl(e,"name",{value:t,configurable:!0}),nQ=(e,t)=>{for(var r in t)sl(e,r,{get:t[r],enumerable:!0})},oQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tQ(t))!rQ.call(e,o)&&o!==r&&sl(e,o,{get:()=>t[o],enumerable:!(n=eQ(t,o))||n.enumerable});return e},sQ=e=>oQ(sl({},"__esModule",{value:!0}),e),Dx={};nQ(Dx,{AdaptiveRetryStrategy:()=>uQ,ConfiguredRetryStrategy:()=>pQ,DEFAULT_MAX_ATTEMPTS:()=>ny,DEFAULT_RETRY_DELAY_BASE:()=>Ri,DEFAULT_RETRY_MODE:()=>iQ,DefaultRateLimiter:()=>kx,INITIAL_RETRY_TOKENS:()=>oy,INVOCATION_ID_HEADER:()=>cQ,MAXIMUM_RETRY_DELAY:()=>sy,NO_RETRY_INCREMENT:()=>jx,REQUEST_HEADER:()=>dQ,RETRY_COST:()=>Fx,RETRY_MODES:()=>Mx,StandardRetryStrategy:()=>iy,THROTTLING_RETRY_DELAY_BASE:()=>Ux,TIMEOUT_RETRY_COST:()=>Bx});Hx.exports=sQ(Dx);var Mx=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(Mx||{}),ny=3,iQ="standard",aQ=ry(),kx=class Lx{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{kt(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Lx.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,aQ.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Ri=100,sy=20*1e3,Ux=500,oy=500,Fx=5,Bx=10,jx=1,cQ="amz-sdk-invocation-id",dQ="amz-sdk-request",lQ=kt(()=>{let e=Ri;return{computeNextBackoffDelay:kt(n=>Math.floor(Math.min(sy,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:kt(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),Nx=kt(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:kt(()=>t,"getRetryCount"),getRetryDelay:kt(()=>Math.min(sy,e),"getRetryDelay"),getRetryCost:kt(()=>r,"getRetryCost")}),"createDefaultRetryToken"),iy=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=oy,this.retryBackoffStrategy=lQ(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{kt(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return Nx({retryDelay:Ri,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?Ux:Ri);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,Nx({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(oy,this.capacity+(e.getRetryCost()??jx))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${ny}`),ny}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?Bx:Fx}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},uQ=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new kx,this.standardRetryStrategy=new iy(e)}static{kt(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},pQ=class extends iy{static{kt(this,"ConfiguredRetryStrategy")}constructor(e,t=Ri){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var $x=b(al=>{"use strict";d();Object.defineProperty(al,"__esModule",{value:!0});al.isStreamingPayload=void 0;var mQ=M("stream"),fQ=e=>e?.body instanceof mQ.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;al.isStreamingPayload=fQ});var xi=b((yke,nO)=>{d();var cl=Object.defineProperty,hQ=Object.getOwnPropertyDescriptor,gQ=Object.getOwnPropertyNames,yQ=Object.prototype.hasOwnProperty,ve=(e,t)=>cl(e,"name",{value:t,configurable:!0}),_Q=(e,t)=>{for(var r in t)cl(e,r,{get:t[r],enumerable:!0})},EQ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gQ(t))!yQ.call(e,o)&&o!==r&&cl(e,o,{get:()=>t[o],enumerable:!(n=hQ(t,o))||n.enumerable});return e},SQ=e=>EQ(cl({},"__esModule",{value:!0}),e),zx={};_Q(zx,{AdaptiveRetryStrategy:()=>wQ,CONFIG_MAX_ATTEMPTS:()=>cy,CONFIG_RETRY_MODE:()=>Xx,ENV_MAX_ATTEMPTS:()=>ay,ENV_RETRY_MODE:()=>Yx,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>TQ,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>PQ,StandardRetryStrategy:()=>Jx,defaultDelayDecider:()=>Gx,defaultRetryDecider:()=>Wx,getOmitRetryHeadersPlugin:()=>IQ,getRetryAfterHint:()=>rO,getRetryPlugin:()=>DQ,omitRetryHeadersMiddleware:()=>Qx,omitRetryHeadersMiddlewareOptions:()=>Zx,resolveRetryConfig:()=>CQ,retryMiddleware:()=>eO,retryMiddlewareOptions:()=>tO});nO.exports=SQ(zx);var Wo=me(),Vx=(ey(),z(Zg)),fe=il(),vQ=ve((e,t)=>{let r=e,n=t?.noRetryIncrement??fe.NO_RETRY_INCREMENT,o=t?.retryCost??fe.RETRY_COST,s=t?.timeoutRetryCost??fe.TIMEOUT_RETRY_COST,i=e,a=ve(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),c=ve(f=>a(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ve(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:ve(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),Gx=ve((e,t)=>Math.floor(Math.min(fe.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),cn=ry(),Wx=ve(e=>e?(0,cn.isRetryableByTrait)(e)||(0,cn.isClockSkewError)(e)||(0,cn.isThrottlingError)(e)||(0,cn.isTransientError)(e):!1,"defaultRetryDecider"),Kx=ve(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),Jx=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=fe.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??Wx,this.delayDecider=t?.delayDecider??Gx,this.retryQuota=t?.retryQuota??vQ(fe.INITIAL_RETRY_TOKENS)}static{ve(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=fe.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(Wo.HttpRequest.isInstance(a)&&(a.headers[fe.INVOCATION_ID_HEADER]=(0,Vx.v4)());;)try{Wo.HttpRequest.isInstance(a)&&(a.headers[fe.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=Kx(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,cn.isThrottlingError)(l)?fe.THROTTLING_RETRY_DELAY_BASE:fe.DEFAULT_RETRY_DELAY_BASE,o),f=bQ(l.$response),h=Math.max(f||0,p);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},bQ=ve(e=>{if(!Wo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),wQ=class extends Jx{static{ve(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new fe.DefaultRateLimiter,this.mode=fe.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},qx=zt(),ay="AWS_MAX_ATTEMPTS",cy="max_attempts",TQ={environmentVariableSelector:e=>{let t=e[ay];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ay} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[cy];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${cy} mast be a number, got "${t}"`);return r},default:fe.DEFAULT_MAX_ATTEMPTS},CQ=ve(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,qx.normalizeProvider)(n??fe.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,qx.normalizeProvider)(r)()===fe.RETRY_MODES.ADAPTIVE?new fe.AdaptiveRetryStrategy(o):new fe.StandardRetryStrategy(o))})},"resolveRetryConfig"),Yx="AWS_RETRY_MODE",Xx="retry_mode",PQ={environmentVariableSelector:e=>e[Yx],configFileSelector:e=>e[Xx],default:fe.DEFAULT_RETRY_MODE},Qx=ve(()=>e=>async t=>{let{request:r}=t;return Wo.HttpRequest.isInstance(r)&&(delete r.headers[fe.INVOCATION_ID_HEADER],delete r.headers[fe.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),Zx={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},IQ=ve(e=>({applyToStack:t=>{t.addRelativeTo(Qx(),Zx)}}),"getOmitRetryHeadersPlugin"),AQ=De(),RQ=$x(),eO=ve(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(xQ(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:p}=n,f=Wo.HttpRequest.isInstance(p);for(f&&(p.headers[fe.INVOCATION_ID_HEADER]=(0,Vx.v4)());;)try{f&&(p.headers[fe.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:h,output:g}}catch(h){let g=OQ(h);if(a=Kx(h),f&&(0,RQ.isStreamingPayload)(p))throw(r.logger instanceof AQ.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let _=i.getRetryDelay();l+=_,await new Promise(E=>setTimeout(E,_))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),xQ=ve(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),OQ=ve(e=>{let t={error:e,errorType:NQ(e)},r=rO(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),NQ=ve(e=>(0,cn.isThrottlingError)(e)?"THROTTLING":(0,cn.isTransientError)(e)?"TRANSIENT":(0,cn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),tO={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},DQ=ve(e=>({applyToStack:t=>{t.add(eO(e),tO)}}),"getRetryPlugin"),rO=ve(e=>{if(!Wo.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var ly=b(dn=>{"use strict";d();Object.defineProperty(dn,"__esModule",{value:!0});dn.resolveHttpAuthSchemeConfig=dn.defaultDynamoDBHttpAuthSchemeProvider=dn.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var MQ=(er(),z(Zt)),dy=zt(),kQ=async(e,t,r)=>({operation:(0,dy.getSmithyContext)(t).operation,region:await(0,dy.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dn.defaultDynamoDBHttpAuthSchemeParametersProvider=kQ;function LQ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var UQ=e=>{let t=[];switch(e.operation){default:t.push(LQ(e))}return t};dn.defaultDynamoDBHttpAuthSchemeProvider=UQ;var FQ=e=>{let t=(0,MQ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,dy.normalizeProvider)(e.authSchemePreference??[])})};dn.resolveHttpAuthSchemeConfig=FQ});var Ko=b(dl=>{"use strict";d();Object.defineProperty(dl,"__esModule",{value:!0});dl.getHomeDir=void 0;var BQ=M("os"),jQ=M("path"),uy={},HQ=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",$Q=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${jQ.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=HQ();return uy[o]||(uy[o]=(0,BQ.homedir)()),uy[o]};dl.getHomeDir=$Q});var py=b(ll=>{"use strict";d();Object.defineProperty(ll,"__esModule",{value:!0});ll.getSSOTokenFilepath=void 0;var qQ=M("crypto"),zQ=M("path"),VQ=Ko(),GQ=e=>{let r=(0,qQ.createHash)("sha1").update(e).digest("hex");return(0,zQ.join)((0,VQ.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ll.getSSOTokenFilepath=GQ});var oO=b(ul=>{"use strict";d();Object.defineProperty(ul,"__esModule",{value:!0});ul.getSSOTokenFromFile=void 0;var WQ=M("fs"),KQ=py(),{readFile:JQ}=WQ.promises,YQ=async e=>{let t=(0,KQ.getSSOTokenFilepath)(e),r=await JQ(t,"utf8");return JSON.parse(r)};ul.getSSOTokenFromFile=YQ});var fy=b(pl=>{"use strict";d();Object.defineProperty(pl,"__esModule",{value:!0});pl.slurpFile=void 0;var XQ=M("fs"),{readFile:QQ}=XQ.promises,my={},ZQ=(e,t)=>((!my[e]||t?.ignoreCache)&&(my[e]=QQ(e,"utf8")),my[e]);pl.slurpFile=ZQ});var ln=b((Oke,Ni)=>{d();var hl=Object.defineProperty,e9=Object.getOwnPropertyDescriptor,t9=Object.getOwnPropertyNames,r9=Object.prototype.hasOwnProperty,St=(e,t)=>hl(e,"name",{value:t,configurable:!0}),n9=(e,t)=>{for(var r in t)hl(e,r,{get:t[r],enumerable:!0})},hy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of t9(t))!r9.call(e,o)&&o!==r&&hl(e,o,{get:()=>t[o],enumerable:!(n=e9(t,o))||n.enumerable});return e},yy=(e,t,r)=>(hy(e,t,"default"),r&&hy(r,t,"default")),o9=e=>hy(hl({},"__esModule",{value:!0}),e),Oi={};n9(Oi,{CONFIG_PREFIX_SEPARATOR:()=>oo,DEFAULT_PROFILE:()=>cO,ENV_PROFILE:()=>aO,getProfileName:()=>s9,loadSharedConfigFiles:()=>lO,loadSsoSessionData:()=>_9,parseKnownFiles:()=>S9});Ni.exports=o9(Oi);yy(Oi,Ko(),Ni.exports);var aO="AWS_PROFILE",cO="default",s9=St(e=>e.profile||process.env[aO]||cO,"getProfileName");yy(Oi,py(),Ni.exports);yy(Oi,oO(),Ni.exports);var ml=qt(),i9=St(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(oo);return r===-1?!1:Object.values(ml.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(oo),s=r.substring(0,o)===ml.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),fl=M("path"),a9=Ko(),c9="AWS_CONFIG_FILE",dO=St(()=>process.env[c9]||(0,fl.join)((0,a9.getHomeDir)(),".aws","config"),"getConfigFilepath"),d9=Ko(),l9="AWS_SHARED_CREDENTIALS_FILE",u9=St(()=>process.env[l9]||(0,fl.join)((0,d9.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),p9=Ko(),m9=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,f9=["__proto__","profile __proto__"],gy=St(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=m9.exec(a);if(c){let[,l,,p]=c;Object.values(ml.IniSectionType).includes(l)&&(r=[l,p].join(oo))}else r=a;if(f9.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(oo):c;t[r][p]=l}}}}return t},"parseIni"),sO=fy(),iO=St(()=>({}),"swallowError"),oo=".",lO=St(async(e={})=>{let{filepath:t=u9(),configFilepath:r=dO()}=e,n=(0,p9.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,fl.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,fl.join)(n,r.slice(2)));let a=await Promise.all([(0,sO.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(gy).then(i9).catch(iO),(0,sO.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(gy).catch(iO)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),h9=St(e=>Object.entries(e).filter(([t])=>t.startsWith(ml.IniSectionType.SSO_SESSION+oo)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(oo)+1)]:n}),{}),"getSsoSessionData"),g9=fy(),y9=St(()=>({}),"swallowError"),_9=St(async(e={})=>(0,g9.slurpFile)(e.configFilepath??dO()).then(gy).then(h9).catch(y9),"loadSsoSessionData"),E9=St((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),S9=St(async e=>{let t=await lO(e);return E9(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Yo=b((Dke,mO)=>{d();var gl=Object.defineProperty,v9=Object.getOwnPropertyDescriptor,b9=Object.getOwnPropertyNames,w9=Object.prototype.hasOwnProperty,Jo=(e,t)=>gl(e,"name",{value:t,configurable:!0}),T9=(e,t)=>{for(var r in t)gl(e,r,{get:t[r],enumerable:!0})},C9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b9(t))!w9.call(e,o)&&o!==r&&gl(e,o,{get:()=>t[o],enumerable:!(n=v9(t,o))||n.enumerable});return e},P9=e=>C9(gl({},"__esModule",{value:!0}),e),pO={};T9(pO,{loadConfig:()=>O9});mO.exports=P9(pO);var Di=Je();function _y(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}Jo(_y,"getSelectorName");var I9=Jo((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Di.CredentialsProviderError(r.message||`Not found in ENV: ${_y(e.toString())}`,{logger:t?.logger})}},"fromEnv"),uO=ln(),A9=Jo((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,uO.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,uO.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let p=e(c,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(l){throw new Di.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${_y(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),R9=Jo(e=>typeof e=="function","isFunction"),x9=Jo(e=>R9(e)?async()=>await e():(0,Di.fromStatic)(e),"fromStatic"),O9=Jo(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Di.memoize)((0,Di.chain)(I9(e,i),A9(t,n),x9(r)))},"loadConfig")});var yO=b(yl=>{"use strict";d();Object.defineProperty(yl,"__esModule",{value:!0});yl.getEndpointUrlConfig=void 0;var fO=ln(),hO="AWS_ENDPOINT_URL",gO="endpoint_url",N9=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[hO,...r].join("_")];if(n)return n;let o=t[hO];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(fO.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),gO].join(fO.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[gO];if(n)return n},default:void 0});yl.getEndpointUrlConfig=N9});var Ey=b(_l=>{"use strict";d();Object.defineProperty(_l,"__esModule",{value:!0});_l.getEndpointFromConfig=void 0;var D9=Yo(),M9=yO(),k9=async e=>(0,D9.loadConfig)((0,M9.getEndpointUrlConfig)(e??""))();_l.getEndpointFromConfig=k9});var vy=b((Bke,TO)=>{d();var Sl=Object.defineProperty,L9=Object.getOwnPropertyDescriptor,U9=Object.getOwnPropertyNames,F9=Object.prototype.hasOwnProperty,vt=(e,t)=>Sl(e,"name",{value:t,configurable:!0}),B9=(e,t)=>{for(var r in t)Sl(e,r,{get:t[r],enumerable:!0})},j9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U9(t))!F9.call(e,o)&&o!==r&&Sl(e,o,{get:()=>t[o],enumerable:!(n=L9(t,o))||n.enumerable});return e},H9=e=>j9(Sl({},"__esModule",{value:!0}),e),EO={};B9(EO,{endpointMiddleware:()=>bO,endpointMiddlewareOptions:()=>wO,getEndpointFromInstructions:()=>SO,getEndpointPlugin:()=>Q9,resolveEndpointConfig:()=>e7,resolveEndpointRequiredConfig:()=>t7,resolveParams:()=>vO,toEndpointV1:()=>Sy});TO.exports=H9(EO);var $9=vt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),W9(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!G9(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),q9=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,z9=/(\d+\.){3}\d+/,V9=/\.\./,G9=vt(e=>q9.test(e)&&!z9.test(e)&&!V9.test(e),"isDnsCompatibleBucketName"),W9=vt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),K9=vt((e,t,r)=>{let n=vt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),J9=Ey(),_O=$o(),Sy=vt(e=>typeof e=="object"?"url"in e?(0,_O.parseUrl)(e.url):e:(0,_O.parseUrl)(e),"toEndpointV1"),SO=vt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,J9.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Sy(i)),r.isCustomEndpoint=!0)}let o=await vO(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),vO=vt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await K9(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await $9(n),n},"resolveParams"),Y9=(rt(),z(yt)),El=zt(),bO=vt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,Y9.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await SO(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,El.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),X9=Gs(),wO={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:X9.serializerMiddlewareOption.name},Q9=vt((e,t)=>({applyToStack:r=>{r.addRelativeTo(bO({config:e,instructions:t}),wO)}}),"getEndpointPlugin"),Z9=Ey(),e7=vt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>Sy(await(0,El.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,El.normalizeProvider)(n??!1),useFipsEndpoint:(0,El.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,Z9.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),t7=vt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});var Tl={};He(Tl,{__addDisposableResource:()=>JO,__assign:()=>vl,__asyncDelegator:()=>HO,__asyncGenerator:()=>jO,__asyncValues:()=>$O,__await:()=>Xo,__awaiter:()=>MO,__classPrivateFieldGet:()=>GO,__classPrivateFieldIn:()=>KO,__classPrivateFieldSet:()=>WO,__createBinding:()=>wl,__decorate:()=>IO,__disposeResources:()=>YO,__esDecorate:()=>RO,__exportStar:()=>LO,__extends:()=>CO,__generator:()=>kO,__importDefault:()=>VO,__importStar:()=>zO,__makeTemplateObject:()=>qO,__metadata:()=>DO,__param:()=>AO,__propKey:()=>OO,__read:()=>Ty,__rest:()=>PO,__rewriteRelativeImportExtension:()=>XO,__runInitializers:()=>xO,__setFunctionName:()=>NO,__spread:()=>UO,__spreadArray:()=>BO,__spreadArrays:()=>FO,__values:()=>bl,default:()=>o7});function CO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");by(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function PO(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function IO(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function AO(e,t){return function(r,n){t(r,n,e)}}function RO(e,t,r,n,o,s){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,h=!1,g=r.length-1;g>=0;g--){var _={};for(var E in n)_[E]=E==="access"?{}:n[E];for(var E in n.access)_.access[E]=n.access[E];_.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(v||null))};var S=(0,r[g])(a==="accessor"?{get:p.get,set:p.set}:p[c],_);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=i(S.get))&&(p.get=f),(f=i(S.set))&&(p.set=f),(f=i(S.init))&&o.unshift(f)}else(f=i(S))&&(a==="field"?o.unshift(f):p[c]=f)}l&&Object.defineProperty(l,n.name,p),h=!0}function xO(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function OO(e){return typeof e=="symbol"?e:"".concat(e)}function NO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function DO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function MO(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(p){try{l(n.next(p))}catch(f){i(f)}}function c(p){try{l(n.throw(p))}catch(f){i(f)}}function l(p){p.done?s(p.value):o(p.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function kO(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(p){return c([l,p])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,o&&(s=l[0]&2?o.return:l[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,l[1])).done)return s;switch(o=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,o=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],o=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function LO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wl(t,e,r)}function bl(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ty(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function UO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ty(arguments[t]));return e}function FO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function BO(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Xo(e){return this instanceof Xo?(this.v=e,this):new Xo(e)}function jO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(g){return function(_){return Promise.resolve(_).then(g,f)}}function a(g,_){n[g]&&(o[g]=function(E){return new Promise(function(S,v){s.push([g,E,S,v])>1||c(g,E)})},_&&(o[g]=_(o[g])))}function c(g,_){try{l(n[g](_))}catch(E){h(s[0][3],E)}}function l(g){g.value instanceof Xo?Promise.resolve(g.value.v).then(p,f):h(s[0][2],g)}function p(g){c("next",g)}function f(g){c("throw",g)}function h(g,_){g(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function HO(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:Xo(e[o](i)),done:!1}:s?s(i):i}:s}}function $O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof bl=="function"?bl(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},i)}}function qO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function zO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=wy(e),n=0;n<r.length;n++)r[n]!=="default"&&wl(t,e,r[n]);return r7(t,e),t}function VO(e){return e&&e.__esModule?e:{default:e}}function GO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function WO(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function KO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function JO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function YO(e){function t(s){e.error=e.hasError?new n7(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function XO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var by,vl,wl,r7,wy,n7,o7,Cl=y(()=>{d();by=function(e,t){return by=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},by(e,t)};vl=function(){return vl=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vl.apply(this,arguments)};wl=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};r7=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},wy=function(e){return wy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},wy(e)};n7=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};o7={__extends:CO,__assign:vl,__rest:PO,__decorate:IO,__param:AO,__esDecorate:RO,__runInitializers:xO,__propKey:OO,__setFunctionName:NO,__metadata:DO,__awaiter:MO,__generator:kO,__createBinding:wl,__exportStar:LO,__values:bl,__read:Ty,__spread:UO,__spreadArrays:FO,__spreadArray:BO,__await:Xo,__asyncGenerator:jO,__asyncDelegator:HO,__asyncValues:$O,__makeTemplateObject:qO,__importStar:zO,__importDefault:VO,__classPrivateFieldGet:GO,__classPrivateFieldSet:WO,__classPrivateFieldIn:KO,__addDisposableResource:JO,__disposeResources:YO,__rewriteRelativeImportExtension:XO}});var QO=b(($ke,s7)=>{s7.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/credential-provider-node":"3.848.0","@aws-sdk/middleware-endpoint-discovery":"3.840.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.6","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Cy=b((qke,i0)=>{"use strict";d();var Pl=Object.defineProperty,i7=Object.getOwnPropertyDescriptor,a7=Object.getOwnPropertyNames,c7=Object.prototype.hasOwnProperty,d7=(e,t)=>Pl(e,"name",{value:t,configurable:!0}),l7=(e,t)=>{for(var r in t)Pl(e,r,{get:t[r],enumerable:!0})},u7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of a7(t))!c7.call(e,o)&&o!==r&&Pl(e,o,{get:()=>t[o],enumerable:!(n=i7(t,o))||n.enumerable});return e},p7=e=>u7(Pl({},"__esModule",{value:!0}),e),ZO={};l7(ZO,{ENV_ACCOUNT_ID:()=>s0,ENV_CREDENTIAL_SCOPE:()=>o0,ENV_EXPIRATION:()=>n0,ENV_KEY:()=>e0,ENV_SECRET:()=>t0,ENV_SESSION:()=>r0,fromEnv:()=>h7});i0.exports=p7(ZO);var m7=(Qt(),z(Qr)),f7=Je(),e0="AWS_ACCESS_KEY_ID",t0="AWS_SECRET_ACCESS_KEY",r0="AWS_SESSION_TOKEN",n0="AWS_CREDENTIAL_EXPIRATION",o0="AWS_CREDENTIAL_SCOPE",s0="AWS_ACCOUNT_ID",h7=d7(e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[e0],r=process.env[t0],n=process.env[r0],o=process.env[n0],s=process.env[o0],i=process.env[s0];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...o&&{expiration:new Date(o)},...s&&{credentialScope:s},...i&&{accountId:i}};return(0,m7.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new f7.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})},"fromEnv")});var Mi=b((Vke,S0)=>{d();var Rl=Object.defineProperty,g7=Object.getOwnPropertyDescriptor,y7=Object.getOwnPropertyNames,_7=Object.prototype.hasOwnProperty,be=(e,t)=>Rl(e,"name",{value:t,configurable:!0}),E7=(e,t)=>{for(var r in t)Rl(e,r,{get:t[r],enumerable:!0})},S7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of y7(t))!_7.call(e,o)&&o!==r&&Rl(e,o,{get:()=>t[o],enumerable:!(n=g7(t,o))||n.enumerable});return e},v7=e=>S7(Rl({},"__esModule",{value:!0}),e),l0={};E7(l0,{DEFAULT_MAX_RETRIES:()=>f0,DEFAULT_TIMEOUT:()=>m0,ENV_CMDS_AUTH_TOKEN:()=>Ay,ENV_CMDS_FULL_URI:()=>Il,ENV_CMDS_RELATIVE_URI:()=>Al,Endpoint:()=>g0,fromContainerMetadata:()=>C7,fromInstanceMetadata:()=>G7,getInstanceMetadataEndpoint:()=>_0,httpRequest:()=>Qo,providerConfigFromInit:()=>Ry});S0.exports=v7(l0);var b7=M("url"),rr=Je(),w7=M("buffer"),T7=M("http");function Qo(e){return new Promise((t,r)=>{let n=(0,T7.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new rr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new rr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new rr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(w7.Buffer.concat(i)),n.destroy()})}),n.end()})}be(Qo,"httpRequest");var u0=be(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),p0=be(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),m0=1e3,f0=0,Ry=be(({maxRetries:e=f0,timeout:t=m0})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),Iy=be((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),Il="AWS_CONTAINER_CREDENTIALS_FULL_URI",Al="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ay="AWS_CONTAINER_AUTHORIZATION_TOKEN",C7=be((e={})=>{let{timeout:t,maxRetries:r}=Ry(e);return()=>Iy(async()=>{let n=await x7({logger:e.logger}),o=JSON.parse(await P7(t,n));if(!u0(o))throw new rr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return p0(o)},r)},"fromContainerMetadata"),P7=be(async(e,t)=>(process.env[Ay]&&(t.headers={...t.headers,Authorization:process.env[Ay]}),(await Qo({...t,timeout:e})).toString()),"requestFromEcsImds"),I7="169.254.170.2",A7={localhost:!0,"127.0.0.1":!0},R7={"http:":!0,"https:":!0},x7=be(async({logger:e})=>{if(process.env[Al])return{hostname:I7,path:process.env[Al]};if(process.env[Il]){let t=(0,b7.parse)(process.env[Il]);if(!t.hostname||!(t.hostname in A7))throw new rr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in R7))throw new rr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new rr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Al} or ${Il} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),O7=class h0 extends rr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,h0.prototype)}static{be(this,"InstanceMetadataV1FallbackError")}},xy=Yo(),N7=$o(),g0=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(g0||{}),D7="AWS_EC2_METADATA_SERVICE_ENDPOINT",M7="ec2_metadata_service_endpoint",k7={environmentVariableSelector:e=>e[D7],configFileSelector:e=>e[M7],default:void 0},y0=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(y0||{}),L7="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",U7="ec2_metadata_service_endpoint_mode",F7={environmentVariableSelector:e=>e[L7],configFileSelector:e=>e[U7],default:"IPv4"},_0=be(async()=>(0,N7.parseUrl)(await B7()||await j7()),"getInstanceMetadataEndpoint"),B7=be(async()=>(0,xy.loadConfig)(k7)(),"getFromEndpointConfig"),j7=be(async()=>{let e=await(0,xy.loadConfig)(F7)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(y0)}`)}},"getFromEndpointModeConfig"),H7=300,$7=300,q7="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",a0=be((e,t)=>{let r=H7+Math.floor(Math.random()*$7),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+q7);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),z7=be((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=a0(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=a0(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),E0="/latest/meta-data/iam/security-credentials/",V7="/latest/api/token",Py="AWS_EC2_METADATA_V1_DISABLED",c0="ec2_metadata_v1_disabled",d0="x-aws-ec2-metadata-token",G7=be((e={})=>z7(W7(e),{logger:e.logger}),"fromInstanceMetadata"),W7=be((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=Ry(e),i=be(async(a,c)=>{if(t||c.headers?.[d0]==null){let f=!1,h=!1,g=await(0,xy.loadConfig)({environmentVariableSelector:_=>{let E=_[Py];if(h=!!E&&E!=="false",E===void 0)throw new rr.CredentialsProviderError(`${Py} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:_=>{let E=_[c0];return f=!!E&&E!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${c0})`),h&&_.push(`process environment variable (${Py})`),new O7(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let p=(await Iy(async()=>{let f;try{f=await J7(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)).trim();return Iy(async()=>{let f;try{f=await Y7(p,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)},"getCredentials");return async()=>{let a=await _0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await K7({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[d0]:c},timeout:o})}}},"getInstanceMetadataProvider"),K7=be(async e=>Qo({...e,path:V7,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),J7=be(async e=>(await Qo({...e,path:E0})).toString(),"getProfile"),Y7=be(async(e,t,r)=>{let n=JSON.parse((await Qo({...t,path:E0+e})).toString());if(!u0(n))throw new rr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return p0(n)},"getCredentialsFromProfile")});var v0=b(xl=>{"use strict";d();Object.defineProperty(xl,"__esModule",{value:!0});xl.checkUrl=void 0;var X7=Je(),Q7="169.254.170.2",Z7="169.254.170.23",eZ="[fd00:ec2::23]",tZ=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===Q7||e.hostname===Z7||e.hostname===eZ)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=o=>{let s=parseInt(o,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new X7.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};xl.checkUrl=tZ});var b0=b(Ol=>{"use strict";d();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.createGetRequest=sZ;Ol.getCredentials=iZ;var Oy=Je(),rZ=me(),nZ=De(),oZ=Qc();function sZ(e){return new rZ.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function iZ(e,t){let n=await(0,oZ.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let o=JSON.parse(n);if(typeof o.AccessKeyId!="string"||typeof o.SecretAccessKey!="string"||typeof o.Token!="string"||typeof o.Expiration!="string")throw new Oy.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.Token,expiration:(0,nZ.parseRfc3339DateTime)(o.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let o={};try{o=JSON.parse(n)}catch{}throw Object.assign(new Oy.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:o.Code,Message:o.Message})}throw new Oy.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var w0=b(Nl=>{"use strict";d();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.retryWrapper=void 0;var aZ=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(s=>setTimeout(s,r))}return await e()};Nl.retryWrapper=aZ});var P0=b(Dl=>{"use strict";d();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.fromHttp=void 0;var cZ=(Cl(),z(Tl)),dZ=(Qt(),z(Qr)),lZ=Ks(),T0=Je(),uZ=cZ.__importDefault(M("fs/promises")),pZ=v0(),C0=b0(),mZ=w0(),fZ="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",hZ="http://169.254.170.2",gZ="AWS_CONTAINER_CREDENTIALS_FULL_URI",yZ="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",_Z="AWS_CONTAINER_AUTHORIZATION_TOKEN",EZ=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[fZ],n=e.awsContainerCredentialsFullUri??process.env[gZ],o=e.awsContainerAuthorizationToken??process.env[_Z],s=e.awsContainerAuthorizationTokenFile??process.env[yZ],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console.warn:e.logger.warn;if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),o&&s&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${hZ}${r}`;else throw new T0.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,pZ.checkUrl)(a,e.logger);let c=new lZ.NodeHttpHandler({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,mZ.retryWrapper)(async()=>{let l=(0,C0.createGetRequest)(a);o?l.headers.Authorization=o:s&&(l.headers.Authorization=(await uZ.default.readFile(s)).toString());try{let p=await c.handle(l);return(0,C0.getCredentials)(p.response).then(f=>(0,dZ.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(p){throw new T0.CredentialsProviderError(String(p),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Dl.fromHttp=EZ});var Ny=b(Ml=>{"use strict";d();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.fromHttp=void 0;var SZ=P0();Object.defineProperty(Ml,"fromHttp",{enumerable:!0,get:function(){return SZ.fromHttp}})});var My=b(un=>{"use strict";d();Object.defineProperty(un,"__esModule",{value:!0});un.resolveHttpAuthSchemeConfig=un.defaultSSOHttpAuthSchemeProvider=un.defaultSSOHttpAuthSchemeParametersProvider=void 0;var vZ=(er(),z(Zt)),Dy=zt(),bZ=async(e,t,r)=>({operation:(0,Dy.getSmithyContext)(t).operation,region:await(0,Dy.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});un.defaultSSOHttpAuthSchemeParametersProvider=bZ;function wZ(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function kl(e){return{schemeId:"smithy.api#noAuth"}}var TZ=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(kl(e));break}case"ListAccountRoles":{t.push(kl(e));break}case"ListAccounts":{t.push(kl(e));break}case"Logout":{t.push(kl(e));break}default:t.push(wZ(e))}return t};un.defaultSSOHttpAuthSchemeProvider=TZ;var CZ=e=>{let t=(0,vZ.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Dy.normalizeProvider)(e.authSchemePreference??[])})};un.resolveHttpAuthSchemeConfig=CZ});var I0=b((sLe,PZ)=>{PZ.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.848.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Ly=b((iLe,M0)=>{"use strict";d();var Ul=Object.defineProperty,IZ=Object.getOwnPropertyDescriptor,AZ=Object.getOwnPropertyNames,RZ=Object.prototype.hasOwnProperty,Ll=(e,t)=>Ul(e,"name",{value:t,configurable:!0}),xZ=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},OZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AZ(t))!RZ.call(e,o)&&o!==r&&Ul(e,o,{get:()=>t[o],enumerable:!(n=IZ(t,o))||n.enumerable});return e},NZ=e=>OZ(Ul({},"__esModule",{value:!0}),e),R0={};xZ(R0,{NODE_APP_ID_CONFIG_OPTIONS:()=>UZ,UA_APP_ID_ENV_NAME:()=>N0,UA_APP_ID_INI_NAME:()=>D0,createDefaultUserAgentProvider:()=>O0,crtAvailability:()=>x0,defaultUserAgent:()=>MZ});M0.exports=NZ(R0);var A0=M("os"),ky=M("process"),x0={isCrtAvailable:!1},DZ=Ll(()=>x0.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),O0=Ll(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,A0.platform)()}`,(0,A0.release)()],["lang/js"],["md/nodejs",`${ky.versions.node}`]],o=DZ();o&&n.push(o),e&&n.push([`api/${e}`,t]),ky.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${ky.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),MZ=O0,kZ=Yd(),N0="AWS_SDK_UA_APP_ID",D0="sdk_ua_app_id",LZ="sdk-ua-app-id",UZ={environmentVariableSelector:Ll(e=>e[N0],"environmentVariableSelector"),configFileSelector:Ll(e=>e[D0]??e[LZ],"configFileSelector"),default:kZ.DEFAULT_UA_APP_ID}});var By=b((cLe,F0)=>{d();var Fl=Object.defineProperty,FZ=Object.getOwnPropertyDescriptor,BZ=Object.getOwnPropertyNames,jZ=Object.prototype.hasOwnProperty,L0=(e,t)=>Fl(e,"name",{value:t,configurable:!0}),HZ=(e,t)=>{for(var r in t)Fl(e,r,{get:t[r],enumerable:!0})},$Z=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of BZ(t))!jZ.call(e,o)&&o!==r&&Fl(e,o,{get:()=>t[o],enumerable:!(n=FZ(t,o))||n.enumerable});return e},qZ=e=>$Z(Fl({},"__esModule",{value:!0}),e),U0={};HZ(U0,{Hash:()=>GZ});F0.exports=qZ(U0);var Uy=ko(),zZ=Ge(),VZ=M("buffer"),k0=M("crypto"),GZ=class{static{L0(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,zZ.toUint8Array)(Fy(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,k0.createHmac)(this.algorithmIdentifier,Fy(this.secret)):(0,k0.createHash)(this.algorithmIdentifier)}};function Fy(e,t){return VZ.Buffer.isBuffer(e)?e:typeof e=="string"?(0,Uy.fromString)(e,t):ArrayBuffer.isView(e)?(0,Uy.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,Uy.fromArrayBuffer)(e)}L0(Fy,"castSourceData")});var jy=b((uLe,H0)=>{d();var Bl=Object.defineProperty,WZ=Object.getOwnPropertyDescriptor,KZ=Object.getOwnPropertyNames,JZ=Object.prototype.hasOwnProperty,YZ=(e,t)=>Bl(e,"name",{value:t,configurable:!0}),XZ=(e,t)=>{for(var r in t)Bl(e,r,{get:t[r],enumerable:!0})},QZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KZ(t))!JZ.call(e,o)&&o!==r&&Bl(e,o,{get:()=>t[o],enumerable:!(n=WZ(t,o))||n.enumerable});return e},ZZ=e=>QZ(Bl({},"__esModule",{value:!0}),e),j0={};XZ(j0,{calculateBodyLength:()=>eee});H0.exports=ZZ(j0);var B0=M("fs"),eee=YZ(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,B0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,B0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var rN=b(jl=>{"use strict";d();Object.defineProperty(jl,"__esModule",{value:!0});jl.ruleSet=void 0;var Q0="required",wt="fn",Tt="argv",ts="ref",$0=!0,q0="isSet",ki="booleanEquals",Zo="error",es="endpoint",Rr="tree",Hy="PartitionResult",$y="getAttr",z0={[Q0]:!1,type:"String"},V0={[Q0]:!0,default:!1,type:"Boolean"},G0={[ts]:"Endpoint"},Z0={[wt]:ki,[Tt]:[{[ts]:"UseFIPS"},!0]},eN={[wt]:ki,[Tt]:[{[ts]:"UseDualStack"},!0]},bt={},W0={[wt]:$y,[Tt]:[{[ts]:Hy},"supportsFIPS"]},tN={[ts]:Hy},K0={[wt]:ki,[Tt]:[!0,{[wt]:$y,[Tt]:[tN,"supportsDualStack"]}]},J0=[Z0],Y0=[eN],X0=[{[ts]:"Region"}],tee={version:"1.0",parameters:{Region:z0,UseDualStack:V0,UseFIPS:V0,Endpoint:z0},rules:[{conditions:[{[wt]:q0,[Tt]:[G0]}],rules:[{conditions:J0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Zo},{conditions:Y0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Zo},{endpoint:{url:G0,properties:bt,headers:bt},type:es}],type:Rr},{conditions:[{[wt]:q0,[Tt]:X0}],rules:[{conditions:[{[wt]:"aws.partition",[Tt]:X0,assign:Hy}],rules:[{conditions:[Z0,eN],rules:[{conditions:[{[wt]:ki,[Tt]:[$0,W0]},K0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Zo}],type:Rr},{conditions:J0,rules:[{conditions:[{[wt]:ki,[Tt]:[W0,$0]}],rules:[{conditions:[{[wt]:"stringEquals",[Tt]:[{[wt]:$y,[Tt]:[tN,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:bt,headers:bt},type:es},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr},{error:"FIPS is enabled but this partition does not support FIPS",type:Zo}],type:Rr},{conditions:Y0,rules:[{conditions:[K0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr},{error:"DualStack is enabled but this partition does not support DualStack",type:Zo}],type:Rr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},type:es}],type:Rr}],type:Rr},{error:"Invalid Configuration: Missing Region",type:Zo}]};jl.ruleSet=tee});var nN=b(Hl=>{"use strict";d();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.defaultEndpointResolver=void 0;var ree=gd(),qy=pd(),nee=rN(),oee=new qy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),see=(e,t={})=>oee.get(e,()=>(0,qy.resolveEndpoint)(nee.ruleSet,{endpointParams:e,logger:t.logger}));Hl.defaultEndpointResolver=see;qy.customEndpointFunctions.aws=ree.awsEndpointFunctions});var iN=b($l=>{"use strict";d();Object.defineProperty($l,"__esModule",{value:!0});$l.getRuntimeConfig=void 0;var iee=(er(),z(Zt)),aee=(rt(),z(yt)),cee=De(),dee=$o(),oN=ct(),sN=Ge(),lee=My(),uee=nN(),pee=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??oN.fromBase64,base64Encoder:e?.base64Encoder??oN.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uee.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??lee.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new iee.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aee.NoAuthSigner}],logger:e?.logger??new cee.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??dee.parseUrl,utf8Decoder:e?.utf8Decoder??sN.fromUtf8,utf8Encoder:e?.utf8Encoder??sN.toUtf8});$l.getRuntimeConfig=pee});var Vy=b((ELe,pN)=>{d();var mee=Object.create,Li=Object.defineProperty,fee=Object.getOwnPropertyDescriptor,hee=Object.getOwnPropertyNames,gee=Object.getPrototypeOf,yee=Object.prototype.hasOwnProperty,zy=(e,t)=>Li(e,"name",{value:t,configurable:!0}),_ee=(e,t)=>{for(var r in t)Li(e,r,{get:t[r],enumerable:!0})},lN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hee(t))!yee.call(e,o)&&o!==r&&Li(e,o,{get:()=>t[o],enumerable:!(n=fee(t,o))||n.enumerable});return e},Eee=(e,t,r)=>(r=e!=null?mee(gee(e)):{},lN(t||!e||!e.__esModule?Li(r,"default",{value:e,enumerable:!0}):r,e)),See=e=>lN(Li({},"__esModule",{value:!0}),e),uN={};_ee(uN,{resolveDefaultsModeConfig:()=>xee});pN.exports=See(uN);var vee=Go(),aN=Yo(),bee=Je(),wee="AWS_EXECUTION_ENV",cN="AWS_REGION",dN="AWS_DEFAULT_REGION",Tee="AWS_EC2_METADATA_DISABLED",Cee=["in-region","cross-region","mobile","standard","legacy"],Pee="/latest/meta-data/placement/region",Iee="AWS_DEFAULTS_MODE",Aee="defaults_mode",Ree={environmentVariableSelector:e=>e[Iee],configFileSelector:e=>e[Aee],default:"legacy"},xee=zy(({region:e=(0,aN.loadConfig)(vee.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,aN.loadConfig)(Ree)}={})=>(0,bee.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return Oee(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Cee.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),Oee=zy(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Nee();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),Nee=zy(async()=>{if(process.env[wee]&&(process.env[cN]||process.env[dN]))return process.env[cN]??process.env[dN];if(!process.env[Tee])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>Eee(Mi())),r=await e();return(await t({...r,path:Pee})).toString()}catch{}},"inferPhysicalRegion")});var yN=b(zl=>{"use strict";d();Object.defineProperty(zl,"__esModule",{value:!0});zl.getRuntimeConfig=void 0;var Dee=(Cl(),z(Tl)),Mee=Dee.__importDefault(I0()),mN=(er(),z(Zt)),fN=Ly(),ql=Go(),kee=By(),hN=xi(),so=Yo(),gN=Ks(),Lee=jy(),Uee=il(),Fee=iN(),Bee=De(),jee=Vy(),Hee=De(),$ee=e=>{(0,Hee.emitWarningIfUnsupportedVersion)(process.version);let t=(0,jee.resolveDefaultsModeConfig)(e),r=()=>t().then(Bee.loadConfigsForDefaultMode),n=(0,Fee.getRuntimeConfig)(e);(0,mN.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,so.loadConfig)(mN.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??Lee.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,fN.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Mee.default.version}),maxAttempts:e?.maxAttempts??(0,so.loadConfig)(hN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,so.loadConfig)(ql.NODE_REGION_CONFIG_OPTIONS,{...ql.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:gN.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,so.loadConfig)({...hN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Uee.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??kee.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??gN.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,so.loadConfig)(ql.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,so.loadConfig)(ql.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,so.loadConfig)(fN.NODE_APP_ID_CONFIG_OPTIONS,o)}};zl.getRuntimeConfig=$ee});var Gy=b((wLe,wN)=>{"use strict";d();var Vl=Object.defineProperty,qee=Object.getOwnPropertyDescriptor,zee=Object.getOwnPropertyNames,Vee=Object.prototype.hasOwnProperty,nr=(e,t)=>Vl(e,"name",{value:t,configurable:!0}),Gee=(e,t)=>{for(var r in t)Vl(e,r,{get:t[r],enumerable:!0})},Wee=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zee(t))!Vee.call(e,o)&&o!==r&&Vl(e,o,{get:()=>t[o],enumerable:!(n=qee(t,o))||n.enumerable});return e},Kee=e=>Wee(Vl({},"__esModule",{value:!0}),e),EN={};Gee(EN,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Qee,NODE_REGION_CONFIG_OPTIONS:()=>Xee,REGION_ENV_NAME:()=>SN,REGION_INI_NAME:()=>vN,getAwsRegionExtensionConfiguration:()=>Jee,resolveAwsRegionExtensionConfiguration:()=>Yee,resolveRegionConfig:()=>Zee});wN.exports=Kee(EN);var Jee=nr(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Yee=nr(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),SN="AWS_REGION",vN="region",Xee={environmentVariableSelector:nr(e=>e[SN],"environmentVariableSelector"),configFileSelector:nr(e=>e[vN],"configFileSelector"),default:nr(()=>{throw new Error("Region is missing")},"default")},Qee={preferredFile:"credentials"},bN=nr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),_N=nr(e=>bN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Zee=nr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:nr(async()=>{if(typeof t=="string")return _N(t);let n=await t();return _N(n)},"region"),useFipsEndpoint:nr(async()=>{let n=typeof t=="string"?t:await t();return bN(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var rD=b((CLe,tD)=>{"use strict";d();var Gl=Object.defineProperty,ete=Object.getOwnPropertyDescriptor,tte=Object.getOwnPropertyNames,rte=Object.prototype.hasOwnProperty,J=(e,t)=>Gl(e,"name",{value:t,configurable:!0}),nte=(e,t)=>{for(var r in t)Gl(e,r,{get:t[r],enumerable:!0})},ote=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tte(t))!rte.call(e,o)&&o!==r&&Gl(e,o,{get:()=>t[o],enumerable:!(n=ete(t,o))||n.enumerable});return e},ste=e=>ote(Gl({},"__esModule",{value:!0}),e),xN={};nte(xN,{GetRoleCredentialsCommand:()=>QN,GetRoleCredentialsRequestFilterSensitiveLog:()=>jN,GetRoleCredentialsResponseFilterSensitiveLog:()=>$N,InvalidRequestException:()=>NN,ListAccountRolesCommand:()=>Wy,ListAccountRolesRequestFilterSensitiveLog:()=>qN,ListAccountsCommand:()=>Ky,ListAccountsRequestFilterSensitiveLog:()=>zN,LogoutCommand:()=>ZN,LogoutRequestFilterSensitiveLog:()=>VN,ResourceNotFoundException:()=>MN,RoleCredentialsFilterSensitiveLog:()=>HN,SSO:()=>eD,SSOClient:()=>Kl,SSOServiceException:()=>rs,TooManyRequestsException:()=>LN,UnauthorizedException:()=>FN,__Client:()=>N.Client,paginateListAccountRoles:()=>Ote,paginateListAccounts:()=>Nte});tD.exports=ste(xN);var TN=Ef(),ite=vf(),ate=wf(),CN=Yd(),cte=Go(),xr=(rt(),z(yt)),dte=Vg(),Fi=vy(),PN=xi(),IN=My(),lte=J(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),Wl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},ute=yN(),AN=Gy(),RN=me(),N=De(),pte=J(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),mte=J(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),fte=J((e,t)=>{let r=Object.assign((0,AN.getAwsRegionExtensionConfiguration)(e),(0,N.getDefaultExtensionConfiguration)(e),(0,RN.getHttpHandlerExtensionConfiguration)(e),pte(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,AN.resolveAwsRegionExtensionConfiguration)(r),(0,N.resolveDefaultRuntimeConfig)(r),(0,RN.resolveHttpHandlerRuntimeConfig)(r),mte(r))},"resolveRuntimeExtensions"),Kl=class extends N.Client{static{J(this,"SSOClient")}config;constructor(...[e]){let t=(0,ute.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=lte(t),n=(0,CN.resolveUserAgentConfig)(r),o=(0,PN.resolveRetryConfig)(n),s=(0,cte.resolveRegionConfig)(o),i=(0,TN.resolveHostHeaderConfig)(s),a=(0,Fi.resolveEndpointConfig)(i),c=(0,IN.resolveHttpAuthSchemeConfig)(a),l=fte(c,e?.extensions||[]);this.config=l,this.middlewareStack.use((0,CN.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,PN.getRetryPlugin)(this.config)),this.middlewareStack.use((0,dte.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,TN.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,ite.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,ate.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,xr.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:IN.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:J(async p=>new xr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,xr.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Jl=Gs(),rs=class ON extends N.ServiceException{static{J(this,"SSOServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,ON.prototype)}},NN=class DN extends rs{static{J(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,DN.prototype)}},MN=class kN extends rs{static{J(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,kN.prototype)}},LN=class UN extends rs{static{J(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,UN.prototype)}},FN=class BN extends rs{static{J(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,BN.prototype)}},jN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),HN=J(e=>({...e,...e.secretAccessKey&&{secretAccessKey:N.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:N.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),$N=J(e=>({...e,...e.roleCredentials&&{roleCredentials:HN(e.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),qN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),zN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),VN=J(e=>({...e,...e.accessToken&&{accessToken:N.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Ui=(er(),z(Zt)),hte=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});r.bp("/federation/credentials");let o=(0,N.map)({[Rte]:[,(0,N.expectNonNull)(e[Ate],"roleName")],[WN]:[,(0,N.expectNonNull)(e[GN],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),gte=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});r.bp("/assignment/roles");let o=(0,N.map)({[XN]:[,e[YN]],[JN]:[()=>e.maxResults!==void 0,()=>e[KN].toString()],[WN]:[,(0,N.expectNonNull)(e[GN],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountRolesCommand"),yte=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});r.bp("/assignment/accounts");let o=(0,N.map)({[XN]:[,e[YN]],[JN]:[()=>e.maxResults!==void 0,()=>e[KN].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()},"se_ListAccountsCommand"),_te=J(async(e,t)=>{let r=(0,xr.requestBuilder)(e,t),n=(0,N.map)({},N.isSerializableHeaderValue,{[Ql]:e[Xl]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Ete=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Ui.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{roleCredentials:N._json});return Object.assign(r,o),r},"de_GetRoleCredentialsCommand"),Ste=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Ui.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{nextToken:N.expectString,roleList:N._json});return Object.assign(r,o),r},"de_ListAccountRolesCommand"),vte=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)}),n=(0,N.expectNonNull)((0,N.expectObject)(await(0,Ui.parseJsonBody)(e.body,t)),"body"),o=(0,N.take)(n,{accountList:N._json,nextToken:N.expectString});return Object.assign(r,o),r},"de_ListAccountsCommand"),bte=J(async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yl(e,t);let r=(0,N.map)({$metadata:pn(e)});return await(0,N.collectBody)(e.body,t),r},"de_LogoutCommand"),Yl=J(async(e,t)=>{let r={...e,body:await(0,Ui.parseJsonErrorBody)(e.body,t)},n=(0,Ui.loadRestJsonErrorCode)(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Tte(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Cte(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Pte(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ite(r,t);default:let o=r.body;return wte({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),wte=(0,N.withBaseException)(rs),Tte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new NN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_InvalidRequestExceptionRes"),Cte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new MN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_ResourceNotFoundExceptionRes"),Pte=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new LN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_TooManyRequestsExceptionRes"),Ite=J(async(e,t)=>{let r=(0,N.map)({}),n=e.body,o=(0,N.take)(n,{message:N.expectString});Object.assign(r,o);let s=new FN({$metadata:pn(e),...r});return(0,N.decorateServiceException)(s,e.body)},"de_UnauthorizedExceptionRes"),pn=J(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),GN="accountId",Xl="accessToken",WN="account_id",KN="maxResults",JN="max_result",YN="nextToken",XN="next_token",Ate="roleName",Rte="role_name",Ql="x-amz-sso_bearer_token",QN=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Fi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(jN,$N).ser(hte).de(Ete).build(){static{J(this,"GetRoleCredentialsCommand")}},Wy=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Fi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(qN,void 0).ser(gte).de(Ste).build(){static{J(this,"ListAccountRolesCommand")}},Ky=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Fi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(zN,void 0).ser(yte).de(vte).build(){static{J(this,"ListAccountsCommand")}},ZN=class extends N.Command.classBuilder().ep(Wl).m(function(e,t,r,n){return[(0,Jl.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Fi.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(VN,void 0).ser(_te).de(bte).build(){static{J(this,"LogoutCommand")}},xte={GetRoleCredentialsCommand:QN,ListAccountRolesCommand:Wy,ListAccountsCommand:Ky,LogoutCommand:ZN},eD=class extends Kl{static{J(this,"SSO")}};(0,N.createAggregatedClient)(xte,eD);var Ote=(0,xr.createPaginator)(Kl,Wy,"nextToken","nextToken","maxResults"),Nte=(0,xr.createPaginator)(Kl,Ky,"nextToken","nextToken","maxResults")});var or=b((DLe,uD)=>{d();var Zl=Object.defineProperty,Dte=Object.getOwnPropertyDescriptor,Mte=Object.getOwnPropertyNames,kte=Object.prototype.hasOwnProperty,eu=(e,t)=>Zl(e,"name",{value:t,configurable:!0}),Lte=(e,t)=>{for(var r in t)Zl(e,r,{get:t[r],enumerable:!0})},Ute=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Mte(t))!kte.call(e,o)&&o!==r&&Zl(e,o,{get:()=>t[o],enumerable:!(n=Dte(t,o))||n.enumerable});return e},Fte=e=>Ute(Zl({},"__esModule",{value:!0}),e),nD={};Lte(nD,{AlgorithmId:()=>aD,EndpointURLScheme:()=>iD,FieldPosition:()=>cD,HttpApiKeyAuthLocation:()=>sD,HttpAuthLocation:()=>oD,IniSectionType:()=>dD,RequestHandlerProtocol:()=>lD,SMITHY_CONTEXT_KEY:()=>qte,getDefaultClientConfiguration:()=>Hte,resolveDefaultRuntimeConfig:()=>$te});uD.exports=Fte(nD);var oD=(e=>(e.HEADER="header",e.QUERY="query",e))(oD||{}),sD=(e=>(e.HEADER="header",e.QUERY="query",e))(sD||{}),iD=(e=>(e.HTTP="http",e.HTTPS="https",e))(iD||{}),aD=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(aD||{}),Bte=eu(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),jte=eu(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),Hte=eu(e=>Bte(e),"getDefaultClientConfiguration"),$te=eu(e=>jte(e),"resolveDefaultRuntimeConfig"),cD=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(cD||{}),qte="__smithy_context",dD=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(dD||{}),lD=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(lD||{})});var he=b((kLe,gD)=>{d();var tu=Object.defineProperty,zte=Object.getOwnPropertyDescriptor,Vte=Object.getOwnPropertyNames,Gte=Object.prototype.hasOwnProperty,mn=(e,t)=>tu(e,"name",{value:t,configurable:!0}),Wte=(e,t)=>{for(var r in t)tu(e,r,{get:t[r],enumerable:!0})},Kte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vte(t))!Gte.call(e,o)&&o!==r&&tu(e,o,{get:()=>t[o],enumerable:!(n=zte(t,o))||n.enumerable});return e},Jte=e=>Kte(tu({},"__esModule",{value:!0}),e),pD={};Wte(pD,{Field:()=>Qte,Fields:()=>Zte,HttpRequest:()=>ere,HttpResponse:()=>tre,IHttpRequest:()=>mD.HttpRequest,getHttpHandlerExtensionConfiguration:()=>Yte,isValidHostname:()=>hD,resolveHttpHandlerRuntimeConfig:()=>Xte});gD.exports=Jte(pD);var Yte=mn(e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),Xte=mn(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),mD=or(),Qte=class{static{mn(this,"Field")}constructor({name:e,kind:t=mD.FieldPosition.HEADER,values:r=[]}){this.name=e,this.kind=t,this.values=r}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(t=>t!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},Zte=class{constructor({fields:e=[],encoding:t="utf-8"}){this.entries={},e.forEach(this.setField.bind(this)),this.encoding=t}static{mn(this,"Fields")}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(t=>t.kind===e)}},ere=class Jy{static{mn(this,"HttpRequest")}constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new Jy({...t,headers:{...t.headers}});return r.query&&(r.query=fD(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Jy.clone(this)}};function fD(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}mn(fD,"cloneQuery");var tre=class{static{mn(this,"HttpResponse")}constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function hD(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}mn(hD,"isValidHostname")});var Yy=b((jLe,vD)=>{"use strict";d();var nu=Object.defineProperty,rre=Object.getOwnPropertyDescriptor,nre=Object.getOwnPropertyNames,ore=Object.prototype.hasOwnProperty,ru=(e,t)=>nu(e,"name",{value:t,configurable:!0}),sre=(e,t)=>{for(var r in t)nu(e,r,{get:t[r],enumerable:!0})},ire=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of nre(t))!ore.call(e,o)&&o!==r&&nu(e,o,{get:()=>t[o],enumerable:!(n=rre(t,o))||n.enumerable});return e},are=e=>ire(nu({},"__esModule",{value:!0}),e),yD={};sre(yD,{getHostHeaderPlugin:()=>dre,hostHeaderMiddleware:()=>ED,hostHeaderMiddlewareOptions:()=>SD,resolveHostHeaderConfig:()=>_D});vD.exports=are(yD);var cre=he();function _D(e){return e}ru(_D,"resolveHostHeaderConfig");var ED=ru(e=>t=>async r=>{if(!cre.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},"hostHeaderMiddleware"),SD={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},dre=ru(e=>({applyToStack:ru(t=>{t.add(ED(e),SD)},"applyToStack")}),"getHostHeaderPlugin")});var Qy=b(($Le,CD)=>{"use strict";d();var ou=Object.defineProperty,lre=Object.getOwnPropertyDescriptor,ure=Object.getOwnPropertyNames,pre=Object.prototype.hasOwnProperty,Xy=(e,t)=>ou(e,"name",{value:t,configurable:!0}),mre=(e,t)=>{for(var r in t)ou(e,r,{get:t[r],enumerable:!0})},fre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ure(t))!pre.call(e,o)&&o!==r&&ou(e,o,{get:()=>t[o],enumerable:!(n=lre(t,o))||n.enumerable});return e},hre=e=>fre(ou({},"__esModule",{value:!0}),e),bD={};mre(bD,{getLoggerPlugin:()=>gre,loggerMiddleware:()=>wD,loggerMiddlewareOptions:()=>TD});CD.exports=hre(bD);var wD=Xy(()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,p=c??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:h,...g}=n.output;return i?.info?.({clientName:o,commandName:s,input:p(r.input),output:f(g),metadata:h}),n}catch(n){let{clientName:o,commandName:s,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:c}=a,l=c??t.inputFilterSensitiveLog;throw i?.error?.({clientName:o,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),TD={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},gre=Xy(e=>({applyToStack:Xy(t=>{t.add(wD(),TD)},"applyToStack")}),"getLoggerPlugin")});var e_=b((zLe,RD)=>{"use strict";d();var iu=Object.defineProperty,yre=Object.getOwnPropertyDescriptor,_re=Object.getOwnPropertyNames,Ere=Object.prototype.hasOwnProperty,su=(e,t)=>iu(e,"name",{value:t,configurable:!0}),Sre=(e,t)=>{for(var r in t)iu(e,r,{get:t[r],enumerable:!0})},vre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _re(t))!Ere.call(e,o)&&o!==r&&iu(e,o,{get:()=>t[o],enumerable:!(n=yre(t,o))||n.enumerable});return e},bre=e=>vre(iu({},"__esModule",{value:!0}),e),PD={};Sre(PD,{addRecursionDetectionMiddlewareOptions:()=>AD,getRecursionDetectionPlugin:()=>Pre,recursionDetectionMiddleware:()=>ID});RD.exports=bre(PD);var wre=he(),Zy="X-Amzn-Trace-Id",Tre="AWS_LAMBDA_FUNCTION_NAME",Cre="_X_AMZN_TRACE_ID",ID=su(e=>t=>async r=>{let{request:n}=r;if(!wre.HttpRequest.isInstance(n)||e.runtime!=="node")return t(r);let o=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===Zy.toLowerCase())??Zy;if(n.headers.hasOwnProperty(o))return t(r);let s=process.env[Tre],i=process.env[Cre],a=su(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(i)&&(n.headers[Zy]=i),t({...r,request:n})},"recursionDetectionMiddleware"),AD={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Pre=su(e=>({applyToStack:su(t=>{t.add(ID(e),AD)},"applyToStack")}),"getRecursionDetectionPlugin")});var t_,Ire,xD=y(()=>{d();t_=T(or()),Ire=e=>e[t_.SMITHY_CONTEXT_KEY]||(e[t_.SMITHY_CONTEXT_KEY]={})});var Or=b((KLe,MD)=>{d();var au=Object.defineProperty,Are=Object.getOwnPropertyDescriptor,Rre=Object.getOwnPropertyNames,xre=Object.prototype.hasOwnProperty,ND=(e,t)=>au(e,"name",{value:t,configurable:!0}),Ore=(e,t)=>{for(var r in t)au(e,r,{get:t[r],enumerable:!0})},Nre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rre(t))!xre.call(e,o)&&o!==r&&au(e,o,{get:()=>t[o],enumerable:!(n=Are(t,o))||n.enumerable});return e},Dre=e=>Nre(au({},"__esModule",{value:!0}),e),DD={};Ore(DD,{getSmithyContext:()=>Mre,normalizeProvider:()=>kre});MD.exports=Dre(DD);var OD=or(),Mre=ND(e=>e[OD.SMITHY_CONTEXT_KEY]||(e[OD.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),kre=ND(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var kD,LD=y(()=>{d();kD=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let o of e)o.schemeId.split("#")[1]===n&&r.push(o);for(let n of e)r.find(({schemeId:o})=>o===n.schemeId)||r.push(n);return r}});function Lre(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var QLe,UD,Bi,cu=y(()=>{d();QLe=T(or()),UD=T(Or());LD();Bi=(e,t)=>(r,n)=>async o=>{let s=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=kD(s,i),c=Lre(e.httpAuthSchemes),l=(0,UD.getSmithyContext)(n),p=[];for(let f of a){let h=c.get(f.schemeId);if(!h){p.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let g=h.identityProvider(await t.identityProviderConfigProvider(e));if(!g){p.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:E={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},_),f.signingProperties=Object.assign(f.signingProperties||{},E),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await g(f.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(o)}});var FD,ji,BD=y(()=>{d();cu();FD={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},ji=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Bi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),FD)}})});var ns=b((iUe,GD)=>{d();var du=Object.defineProperty,Ure=Object.getOwnPropertyDescriptor,Fre=Object.getOwnPropertyNames,Bre=Object.prototype.hasOwnProperty,lu=(e,t)=>du(e,"name",{value:t,configurable:!0}),jre=(e,t)=>{for(var r in t)du(e,r,{get:t[r],enumerable:!0})},Hre=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Fre(t))!Bre.call(e,o)&&o!==r&&du(e,o,{get:()=>t[o],enumerable:!(n=Ure(t,o))||n.enumerable});return e},$re=e=>Hre(du({},"__esModule",{value:!0}),e),jD={};jre(jD,{deserializerMiddleware:()=>HD,deserializerMiddlewareOption:()=>qD,getSerdePlugin:()=>VD,serializerMiddleware:()=>$D,serializerMiddlewareOption:()=>zD});GD.exports=$re(jD);var qre=he(),HD=lu((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(qre.HttpResponse.isInstance(s)){let{headers:c={}}=s,l=Object.entries(c);i.$metadata={httpStatusCode:s.statusCode,requestId:r_(/^x-[\w-]+-request-?id$/,l),extendedRequestId:r_(/^x-[\w-]+-id-2$/,l),cfId:r_(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},"deserializerMiddleware"),r_=lu((e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],"findHeader"),$D=lu((e,t)=>(r,n)=>async o=>{let s=e,i=n.endpointV2?.url&&s.urlParser?async()=>s.urlParser(n.endpointV2.url):s.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),qD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},zD={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function VD(e,t,r){return{applyToStack:n=>{n.add(HD(e,r),qD),n.add($D(e,t),zD)}}}lu(VD,"getSerdePlugin")});var WD,KD,zre,JD=y(()=>{d();WD=T(ns());cu();KD={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:WD.serializerMiddlewareOption.name},zre=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Bi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),KD)}})});var YD=y(()=>{d();cu();BD();JD()});var XD,gUe,QD,Vre,Gre,n_,o_=y(()=>{d();XD=T(he()),gUe=T(or()),QD=T(Or()),Vre=e=>t=>{throw t},Gre=(e,t)=>{},n_=e=>(t,r)=>async n=>{if(!XD.HttpRequest.isInstance(n.request))return t(n);let s=(0,QD.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,l=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||Vre)(i));return(c.successHandler||Gre)(l.response,i),l}});var ZD,Hi,eM=y(()=>{d();o_();ZD={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Hi=e=>({applyToStack:t=>{t.addRelativeTo(n_(e),ZD)}})});var tM=y(()=>{d();o_();eM()});var fn,rM=y(()=>{d();fn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function nM(e,t,r,n,o){return async function*(i,a,...c){let l=a,p=i.startingToken??l[r],f=!0,h;for(;f;){if(l[r]=p,o&&(l[o]=l[o]??i.pageSize),i.client instanceof e)h=await Wre(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield h;let g=p;p=Kre(h,n),f=!!(p&&(!i.stopOnSameToken||p!==g))}return void 0}}var Wre,Kre,oM=y(()=>{d();Wre=async(e,t,r,n=s=>s,...o)=>{let s=new e(r);return s=n(s)??s,await t.send(s,...o)};Kre=(e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r}});var s_=b((OUe,iM)=>{d();var uu=Object.defineProperty,Jre=Object.getOwnPropertyDescriptor,Yre=Object.getOwnPropertyNames,Xre=Object.prototype.hasOwnProperty,Qre=(e,t)=>uu(e,"name",{value:t,configurable:!0}),Zre=(e,t)=>{for(var r in t)uu(e,r,{get:t[r],enumerable:!0})},ene=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yre(t))!Xre.call(e,o)&&o!==r&&uu(e,o,{get:()=>t[o],enumerable:!(n=Jre(t,o))||n.enumerable});return e},tne=e=>ene(uu({},"__esModule",{value:!0}),e),sM={};Zre(sM,{isArrayBuffer:()=>rne});iM.exports=tne(sM);var rne=Qre(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var os=b((DUe,dM)=>{d();var pu=Object.defineProperty,nne=Object.getOwnPropertyDescriptor,one=Object.getOwnPropertyNames,sne=Object.prototype.hasOwnProperty,aM=(e,t)=>pu(e,"name",{value:t,configurable:!0}),ine=(e,t)=>{for(var r in t)pu(e,r,{get:t[r],enumerable:!0})},ane=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of one(t))!sne.call(e,o)&&o!==r&&pu(e,o,{get:()=>t[o],enumerable:!(n=nne(t,o))||n.enumerable});return e},cne=e=>ane(pu({},"__esModule",{value:!0}),e),cM={};ine(cM,{fromArrayBuffer:()=>lne,fromString:()=>une});dM.exports=cne(cM);var dne=s_(),i_=M("buffer"),lne=aM((e,t=0,r=e.byteLength-t)=>{if(!(0,dne.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return i_.Buffer.from(e,t,r)},"fromArrayBuffer"),une=aM((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?i_.Buffer.from(e,t):i_.Buffer.from(e)},"fromString")});var lM=b(mu=>{"use strict";d();Object.defineProperty(mu,"__esModule",{value:!0});mu.fromBase64=void 0;var pne=os(),mne=/^[A-Za-z0-9+/]*={0,2}$/,fne=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!mne.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,pne.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};mu.fromBase64=fne});var Xe=b((UUe,fM)=>{d();var fu=Object.defineProperty,hne=Object.getOwnPropertyDescriptor,gne=Object.getOwnPropertyNames,yne=Object.prototype.hasOwnProperty,a_=(e,t)=>fu(e,"name",{value:t,configurable:!0}),_ne=(e,t)=>{for(var r in t)fu(e,r,{get:t[r],enumerable:!0})},Ene=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gne(t))!yne.call(e,o)&&o!==r&&fu(e,o,{get:()=>t[o],enumerable:!(n=hne(t,o))||n.enumerable});return e},Sne=e=>Ene(fu({},"__esModule",{value:!0}),e),uM={};_ne(uM,{fromUtf8:()=>mM,toUint8Array:()=>vne,toUtf8:()=>bne});fM.exports=Sne(uM);var pM=os(),mM=a_(e=>{let t=(0,pM.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),vne=a_(e=>typeof e=="string"?mM(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),bne=a_(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,pM.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var hM=b(hu=>{"use strict";d();Object.defineProperty(hu,"__esModule",{value:!0});hu.toBase64=void 0;var wne=os(),Tne=Xe(),Cne=e=>{let t;if(typeof e=="string"?t=(0,Tne.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,wne.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};hu.toBase64=Cne});var lt=b((HUe,gu)=>{d();var gM=Object.defineProperty,Pne=Object.getOwnPropertyDescriptor,Ine=Object.getOwnPropertyNames,Ane=Object.prototype.hasOwnProperty,c_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ine(t))!Ane.call(e,o)&&o!==r&&gM(e,o,{get:()=>t[o],enumerable:!(n=Pne(t,o))||n.enumerable});return e},yM=(e,t,r)=>(c_(e,t,"default"),r&&c_(r,t,"default")),Rne=e=>c_(gM({},"__esModule",{value:!0}),e),d_={};gu.exports=Rne(d_);yM(d_,lM(),gu.exports);yM(d_,hM(),gu.exports)});var u_=b(yu=>{"use strict";d();Object.defineProperty(yu,"__esModule",{value:!0});yu.ChecksumStream=void 0;var xne=lt(),One=M("stream"),l_=class extends One.Duplex{constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:o,base64Encoder:s}){var i,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(i=n?.constructor)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??xne.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=o,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(o){return n(o)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};yu.ChecksumStream=l_});var hn=b(ss=>{"use strict";d();Object.defineProperty(ss,"__esModule",{value:!0});ss.isBlob=ss.isReadableStream=void 0;var Nne=e=>{var t;return typeof ReadableStream=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};ss.isReadableStream=Nne;var Dne=e=>{var t;return typeof Blob=="function"&&(((t=e?.constructor)===null||t===void 0?void 0:t.name)===Blob.name||e instanceof Blob)};ss.isBlob=Dne});var _M=b(_u=>{"use strict";d();Object.defineProperty(_u,"__esModule",{value:!0});_u.ChecksumStream=void 0;var Mne=typeof ReadableStream=="function"?ReadableStream:function(){},p_=class extends Mne{};_u.ChecksumStream=p_});var EM=b(Eu=>{"use strict";d();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.createChecksumStream=void 0;var kne=lt(),Lne=hn(),Une=_M(),Fne=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:o})=>{var s,i;if(!(0,Lne.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(i=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&i!==void 0?i:r} in ChecksumStream.`);let a=o??kne.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(p,f){t.update(p),f.enqueue(p)},async flush(p){let f=await t.digest(),h=a(f);if(e!==h){let g=new Error(`Checksum mismatch: expected "${e}" but received "${h}" in response header "${n}".`);p.error(g)}else p.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,Une.ChecksumStream.prototype),l};Eu.createChecksumStream=Fne});var SM=b(m_=>{"use strict";d();Object.defineProperty(m_,"__esModule",{value:!0});m_.createChecksumStream=$ne;var Bne=hn(),jne=u_(),Hne=EM();function $ne(e){return typeof ReadableStream=="function"&&(0,Bne.isReadableStream)(e.source)?(0,Hne.createChecksumStream)(e):new jne.ChecksumStream(e)}});var h_=b(Su=>{"use strict";d();Object.defineProperty(Su,"__esModule",{value:!0});Su.ByteArrayCollector=void 0;var f_=class{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let o=this.byteArrays[n];t.set(o,r),r+=o.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Su.ByteArrayCollector=f_});var TM=b(Nr=>{"use strict";d();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.createBufferedReadable=void 0;Nr.createBufferedReadableStream=vM;Nr.merge=bM;Nr.flush=vu;Nr.sizeOf=is;Nr.modeOf=wM;var qne=h_();function vM(e,t,r){let n=e.getReader(),o=!1,s=0,i=["",new qne.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:p,done:f}=await n.read(),h=p;if(f){if(a!==-1){let g=vu(i,a);is(g)>0&&l.enqueue(g)}l.close()}else{let g=wM(h,!1);if(a!==g&&(a>=0&&l.enqueue(vu(i,a)),a=g),a===-1){l.enqueue(h);return}let _=is(h);s+=_;let E=is(i[a]);if(_>=t&&E===0)l.enqueue(h);else{let S=bM(i,a,h);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${t}, automatically buffering.`)),S>=t?l.enqueue(vu(i,a)):await c(l)}}};return new ReadableStream({pull:c})}Nr.createBufferedReadable=vM;function bM(e,t,r){switch(t){case 0:return e[0]+=r,is(e[0]);case 1:case 2:return e[t].push(r),is(e[t])}}function vu(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function is(e){var t,r;return(r=(t=e?.byteLength)!==null&&t!==void 0?t:e?.length)!==null&&r!==void 0?r:0}function wM(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var PM=b(g_=>{"use strict";d();Object.defineProperty(g_,"__esModule",{value:!0});g_.createBufferedReadable=Gne;var zne=M("node:stream"),CM=h_(),Dr=TM(),Vne=hn();function Gne(e,t,r){if((0,Vne.isReadableStream)(e))return(0,Dr.createBufferedReadableStream)(e,t,r);let n=new zne.Readable({read(){}}),o=!1,s=0,i=["",new CM.ByteArrayCollector(c=>new Uint8Array(c)),new CM.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let l=(0,Dr.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Dr.flush)(i,a)),a=l),a===-1){n.push(c);return}let p=(0,Dr.sizeOf)(c);s+=p;let f=(0,Dr.sizeOf)(i[a]);if(p>=t&&f===0)n.push(c);else{let h=(0,Dr.merge)(i,a,c);!o&&s>t*2&&(o=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),h>=t&&n.push((0,Dr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Dr.flush)(i,a);(0,Dr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var IM=b(bu=>{"use strict";d();Object.defineProperty(bu,"__esModule",{value:!0});bu.getAwsChunkedEncodingStream=void 0;var Wne=M("stream"),Kne=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,l=new Wne.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await c);l.push(`${s}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};bu.getAwsChunkedEncodingStream=Kne});var AM=b(y_=>{"use strict";d();Object.defineProperty(y_,"__esModule",{value:!0});y_.headStream=Jne;async function Jne(e,t){var r;let n=0,o=[],s=e.getReader(),i=!1;for(;!i;){let{done:l,value:p}=await s.read();if(p&&(o.push(p),n+=(r=p?.byteLength)!==null&&r!==void 0?r:0),n>=t)break;i=l}s.releaseLock();let a=new Uint8Array(Math.min(t,n)),c=0;for(let l of o){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var RM=b(wu=>{"use strict";d();Object.defineProperty(wu,"__esModule",{value:!0});wu.headStream=void 0;var Yne=M("stream"),Xne=AM(),Qne=hn(),Zne=(e,t)=>(0,Qne.isReadableStream)(e)?(0,Xne.headStream)(e,t):new Promise((r,n)=>{let o=new __;o.limit=t,e.pipe(o),e.on("error",s=>{o.end(),n(s)}),o.on("error",n),o.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});wu.headStream=Zne;var __=class extends Yne.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,r,n){var o;if(this.buffers.push(t),this.bytesBuffered+=(o=t.byteLength)!==null&&o!==void 0?o:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var S_=b((uFe,NM)=>{d();var Tu=Object.defineProperty,eoe=Object.getOwnPropertyDescriptor,toe=Object.getOwnPropertyNames,roe=Object.prototype.hasOwnProperty,E_=(e,t)=>Tu(e,"name",{value:t,configurable:!0}),noe=(e,t)=>{for(var r in t)Tu(e,r,{get:t[r],enumerable:!0})},ooe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of toe(t))!roe.call(e,o)&&o!==r&&Tu(e,o,{get:()=>t[o],enumerable:!(n=eoe(t,o))||n.enumerable});return e},soe=e=>ooe(Tu({},"__esModule",{value:!0}),e),xM={};noe(xM,{escapeUri:()=>OM,escapeUriPath:()=>aoe});NM.exports=soe(xM);var OM=E_(e=>encodeURIComponent(e).replace(/[!'()*]/g,ioe),"escapeUri"),ioe=E_(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),aoe=E_(e=>e.split("/").map(OM).join("/"),"escapeUriPath")});var b_=b((mFe,kM)=>{d();var Cu=Object.defineProperty,coe=Object.getOwnPropertyDescriptor,doe=Object.getOwnPropertyNames,loe=Object.prototype.hasOwnProperty,uoe=(e,t)=>Cu(e,"name",{value:t,configurable:!0}),poe=(e,t)=>{for(var r in t)Cu(e,r,{get:t[r],enumerable:!0})},moe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of doe(t))!loe.call(e,o)&&o!==r&&Cu(e,o,{get:()=>t[o],enumerable:!(n=coe(t,o))||n.enumerable});return e},foe=e=>moe(Cu({},"__esModule",{value:!0}),e),DM={};poe(DM,{buildQueryString:()=>MM});kM.exports=foe(DM);var v_=S_();function MM(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,v_.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,v_.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,v_.escapeUri)(n)}`),t.push(o)}}return t.join("&")}uoe(MM,"buildQueryString")});var Pu=b((hFe,YM)=>{d();var hoe=Object.create,$i=Object.defineProperty,goe=Object.getOwnPropertyDescriptor,yoe=Object.getOwnPropertyNames,_oe=Object.getPrototypeOf,Eoe=Object.prototype.hasOwnProperty,ae=(e,t)=>$i(e,"name",{value:t,configurable:!0}),Soe=(e,t)=>{for(var r in t)$i(e,r,{get:t[r],enumerable:!0})},jM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yoe(t))!Eoe.call(e,o)&&o!==r&&$i(e,o,{get:()=>t[o],enumerable:!(n=goe(t,o))||n.enumerable});return e},voe=(e,t,r)=>(r=e!=null?hoe(_oe(e)):{},jM(t||!e||!e.__esModule?$i(r,"default",{value:e,enumerable:!0}):r,e)),boe=e=>jM($i({},"__esModule",{value:!0}),e),HM={};Soe(HM,{DEFAULT_REQUEST_TIMEOUT:()=>WM,NodeHttp2Handler:()=>Noe,NodeHttpHandler:()=>Aoe,streamCollector:()=>Moe});YM.exports=boe(HM);var $M=he(),qM=b_(),w_=M("http"),T_=M("https"),woe=["ECONNRESET","EPIPE","ETIMEDOUT"],zM=ae(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),ot={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},LM=1e3,Toe=ae((e,t,r=0)=>{if(!r)return-1;let n=ae(o=>{let s=ot.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-o),i=ae(a=>{a?.connecting?a.on("connect",()=>{ot.clearTimeout(s)}):ot.clearTimeout(s)},"doWithSocket");e.socket?i(e.socket):e.on("socket",i)},"registerTimeout");return r<2e3?(n(0),0):ot.setTimeout(n.bind(null,LM),LM)},"setConnectionTimeout"),Coe=3e3,Poe=ae((e,{keepAlive:t,keepAliveMsecs:r},n=Coe)=>{if(t!==!0)return-1;let o=ae(()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",s=>{s.setKeepAlive(t,r||0)})},"registerListener");return n===0?(o(),0):ot.setTimeout(o,n)},"setSocketKeepAlive"),UM=3e3,Ioe=ae((e,t,r=WM)=>{let n=ae(o=>{let s=r-o,i=ae(()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");e.socket?(e.socket.setTimeout(s,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(s,i)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):ot.setTimeout(n.bind(null,r===0?0:UM),UM)},"setSocketTimeout"),VM=M("stream"),FM=6e3;async function P_(e,t,r=FM){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!0;o==="100-continue"&&(i=await Promise.race([new Promise(a=>{s=Number(ot.setTimeout(()=>a(!0),Math.max(FM,r)))}),new Promise(a=>{e.on("continue",()=>{ot.clearTimeout(s),a(!0)}),e.on("response",()=>{ot.clearTimeout(s),a(!1)}),e.on("error",()=>{ot.clearTimeout(s),a(!1)})})])),i&&GM(e,t.body)}ae(P_,"writeRequestBody");function GM(e,t){if(t instanceof VM.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}ae(GM,"writeBody");var WM=0,Aoe=class C_{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static{ae(this,"NodeHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new C_(t)}static checkSocketUsage(t,r,n=console){let{sockets:o,requests:s,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(o&&s)for(let c in o){let l=o[c]?.length??0,p=s[c]?.length??0;if(l>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,socketAcquisitionWarningTimeout:s,httpAgent:i,httpsAgent:a}=t||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??o,socketAcquisitionWarningTimeout:s,httpAgent:i instanceof w_.Agent||typeof i?.destroy=="function"?i:new w_.Agent({keepAlive:c,maxSockets:l,...i}),httpsAgent:a instanceof T_.Agent||typeof a?.destroy=="function"?a:new T_.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((o,s)=>{let i,a=[],c=ae(async C=>{await i,a.forEach(ot.clearTimeout),o(C)},"resolve"),l=ae(async C=>{await i,a.forEach(ot.clearTimeout),s(C)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let C=new Error("Request aborted");C.name="AbortError",l(C);return}let p=t.protocol==="https:",f=p?this.config.httpsAgent:this.config.httpAgent;a.push(ot.setTimeout(()=>{this.socketWarningTimestamp=C_.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let h=(0,qM.buildQueryString)(t.query||{}),g;if(t.username!=null||t.password!=null){let C=t.username??"",k=t.password??"";g=`${C}:${k}`}let _=t.path;h&&(_+=`?${h}`),t.fragment&&(_+=`#${t.fragment}`);let E=t.hostname??"";E[0]==="["&&E.endsWith("]")?E=t.hostname.slice(1,-1):E=t.hostname;let S={headers:t.headers,host:E,method:t.method,path:_,port:t.port,agent:f,auth:g},w=(p?T_.request:w_.request)(S,C=>{let k=new $M.HttpResponse({statusCode:C.statusCode||-1,reason:C.statusMessage,headers:zM(C.headers),body:C});c({response:k})});if(w.on("error",C=>{woe.includes(C.code)?l(Object.assign(C,{name:"TimeoutError"})):l(C)}),r){let C=ae(()=>{w.destroy();let k=new Error("Request aborted");k.name="AbortError",l(k)},"onAbort");if(typeof r.addEventListener=="function"){let k=r;k.addEventListener("abort",C,{once:!0}),w.once("close",()=>k.removeEventListener("abort",C))}else r.onabort=C}let A=n??this.config.requestTimeout;a.push(Toe(w,l,this.config.connectionTimeout)),a.push(Ioe(w,l,A));let I=S.agent;typeof I=="object"&&"keepAlive"in I&&a.push(Poe(w,{keepAlive:I.keepAlive,keepAliveMsecs:I.keepAliveMsecs})),i=P_(w,t,A).catch(C=>(a.forEach(ot.clearTimeout),s(C)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},BM=M("http2"),Roe=voe(M("http2")),xoe=class{constructor(e){this.sessions=[],this.sessions=e??[]}static{ae(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},Ooe=class{constructor(e){if(this.sessionCache=new Map,this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{ae(this,"NodeHttp2ConnectionManager")}lease(e,t){let r=this.getUrlString(e),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let o=Roe.default.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let s=ae(()=>{o.destroy(),this.deleteSession(r,o)},"destroySessionCb");o.on("goaway",s),o.on("error",s),o.on("frameError",s),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,s);let i=this.sessionCache.get(r)||new xoe;return i.offerLast(o),this.sessionCache.set(r,i),o}deleteSession(e,t){let r=this.sessionCache.get(e);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(e,r))}release(e,t){let r=this.getUrlString(e);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[e,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Noe=class KM{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new Ooe({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static{ae(this,"NodeHttp2Handler")}static create(t){return typeof t?.handle=="function"?t:new KM(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:o,disableConcurrentStreams:s}=this.config,i=n??o;return new Promise((a,c)=>{let l=!1,p,f=ae(async G=>{await p,a(G)},"resolve"),h=ae(async G=>{await p,c(G)},"reject");if(r?.aborted){l=!0;let G=new Error("Request aborted");G.name="AbortError",h(G);return}let{hostname:g,method:_,port:E,protocol:S,query:v}=t,w="";if(t.username!=null||t.password!=null){let G=t.username??"",pe=t.password??"";w=`${G}:${pe}@`}let A=`${S}//${w}${g}${E?`:${E}`:""}`,I={destination:new URL(A)},C=this.connectionManager.lease(I,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),k=ae(G=>{s&&this.destroySession(C),l=!0,h(G)},"rejectWithDestroy"),Ve=(0,qM.buildQueryString)(v||{}),se=t.path;Ve&&(se+=`?${Ve}`),t.fragment&&(se+=`#${t.fragment}`);let le=C.request({...t.headers,[BM.constants.HTTP2_HEADER_PATH]:se,[BM.constants.HTTP2_HEADER_METHOD]:_});if(C.ref(),le.on("response",G=>{let pe=new $M.HttpResponse({statusCode:G[":status"]||-1,headers:zM(G),body:le});l=!0,f({response:pe}),s&&(C.close(),this.connectionManager.deleteSession(A,C))}),i&&le.setTimeout(i,()=>{le.close();let G=new Error(`Stream timed out because of no activity for ${i} ms`);G.name="TimeoutError",k(G)}),r){let G=ae(()=>{le.close();let pe=new Error("Request aborted");pe.name="AbortError",k(pe)},"onAbort");if(typeof r.addEventListener=="function"){let pe=r;pe.addEventListener("abort",G,{once:!0}),le.once("close",()=>pe.removeEventListener("abort",G))}else r.onabort=G}le.on("frameError",(G,pe,af)=>{k(new Error(`Frame type id ${G} in stream id ${af} has failed with code ${pe}.`))}),le.on("error",k),le.on("aborted",()=>{k(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${le.rstCode}.`))}),le.on("close",()=>{C.unref(),s&&C.destroy(),l||k(new Error("Unexpected error: http2 request did not get a response"))}),p=P_(le,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Doe=class extends VM.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{ae(this,"Collector")}_write(e,t,r){this.bufferedBytes.push(e),r()}},Moe=ae(e=>koe(e)?JM(e):new Promise((t,r)=>{let n=new Doe;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector"),koe=ae(e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,"isReadableStreamInstance");async function JM(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}ae(JM,"collectReadableStream")});var sk=b((SFe,ok)=>{d();var Au=Object.defineProperty,Loe=Object.getOwnPropertyDescriptor,Uoe=Object.getOwnPropertyNames,Foe=Object.prototype.hasOwnProperty,sr=(e,t)=>Au(e,"name",{value:t,configurable:!0}),Boe=(e,t)=>{for(var r in t)Au(e,r,{get:t[r],enumerable:!0})},joe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uoe(t))!Foe.call(e,o)&&o!==r&&Au(e,o,{get:()=>t[o],enumerable:!(n=Loe(t,o))||n.enumerable});return e},Hoe=e=>joe(Au({},"__esModule",{value:!0}),e),QM={};Boe(QM,{FetchHttpHandler:()=>qoe,keepAliveSupport:()=>Iu,streamCollector:()=>Voe});ok.exports=Hoe(QM);var XM=he(),$oe=b_();function I_(e,t){return new Request(e,t)}sr(I_,"createRequest");function ZM(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}sr(ZM,"requestTimeout");var Iu={supported:void 0},qoe=class ek{static{sr(this,"FetchHttpHandler")}static create(t){return typeof t?.handle=="function"?t:new ek(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Iu.supported===void 0&&(Iu.supported=typeof Request<"u"&&"keepalive"in I_("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let o=n??this.config.requestTimeout,s=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let w=new Error("Request aborted");return w.name="AbortError",Promise.reject(w)}let a=t.path,c=(0,$oe.buildQueryString)(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let w=t.username??"",A=t.password??"";l=`${w}:${A}@`}let{port:p,method:f}=t,h=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,g=f==="GET"||f==="HEAD"?void 0:t.body,_={body:g,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(_.cache=this.config.cache),g&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=r),Iu.supported&&(_.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(t));let E=sr(()=>{},"removeSignalEventListener"),S=I_(h,_),v=[fetch(S).then(w=>{let A=w.headers,I={};for(let k of A.entries())I[k[0]]=k[1];return w.body!=null?{response:new XM.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:w.body})}:w.blob().then(k=>({response:new XM.HttpResponse({headers:I,reason:w.statusText,statusCode:w.status,body:k})}))}),ZM(o)];return r&&v.push(new Promise((w,A)=>{let I=sr(()=>{let C=new Error("Request aborted");C.name="AbortError",A(C)},"onAbort");if(typeof r.addEventListener=="function"){let C=r;C.addEventListener("abort",I,{once:!0}),E=sr(()=>C.removeEventListener("abort",I),"removeSignalEventListener")}else r.onabort=I})),Promise.race(v).finally(E)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},zoe=lt(),Voe=sr(async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):tk(e):rk(e),"streamCollector");async function tk(e){let t=await nk(e),r=(0,zoe.fromBase64)(t);return new Uint8Array(r)}sr(tk,"collectBlob");async function rk(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),o+=c.length),n=a}let s=new Uint8Array(o),i=0;for(let a of t)s.set(a,i),i+=a.length;return s}sr(rk,"collectStream");function nk(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let o=n.result??"",s=o.indexOf(","),i=s>-1?s+1:o.length;t(o.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}sr(nk,"readToBase64")});var R_=b((bFe,uk)=>{d();var Ru=Object.defineProperty,Goe=Object.getOwnPropertyDescriptor,Woe=Object.getOwnPropertyNames,Koe=Object.prototype.hasOwnProperty,ik=(e,t)=>Ru(e,"name",{value:t,configurable:!0}),Joe=(e,t)=>{for(var r in t)Ru(e,r,{get:t[r],enumerable:!0})},Yoe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Woe(t))!Koe.call(e,o)&&o!==r&&Ru(e,o,{get:()=>t[o],enumerable:!(n=Goe(t,o))||n.enumerable});return e},Xoe=e=>Yoe(Ru({},"__esModule",{value:!0}),e),ak={};Joe(ak,{fromHex:()=>dk,toHex:()=>lk});uk.exports=Xoe(ak);var ck={},A_={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),ck[e]=t,A_[t]=e}function dk(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in A_)t[r/2]=A_[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}ik(dk,"fromHex");function lk(e){let t="";for(let r=0;r<e.byteLength;r++)t+=ck[e[r]];return t}ik(lk,"toHex")});var hk=b(xu=>{"use strict";d();Object.defineProperty(xu,"__esModule",{value:!0});xu.sdkStreamMixin=void 0;var Qoe=sk(),Zoe=lt(),ese=R_(),tse=Xe(),pk=hn(),mk="The stream has already been transformed.",rse=e=>{var t,r;if(!fk(e)&&!(0,pk.isReadableStream)(e)){let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(mk);return n=!0,await(0,Qoe.streamCollector)(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:o,transformToString:async i=>{let a=await o();if(i==="base64")return(0,Zoe.toBase64)(a);if(i==="hex")return(0,ese.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,tse.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(mk);if(n=!0,fk(e))return s(e);if((0,pk.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};xu.sdkStreamMixin=rse;var fk=e=>typeof Blob=="function"&&e instanceof Blob});var yk=b(Ou=>{"use strict";d();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.sdkStreamMixin=void 0;var nse=Pu(),ose=os(),x_=M("stream"),sse=hk(),gk="The stream has already been transformed.",ise=e=>{var t,r;if(!(e instanceof x_.Readable))try{return(0,sse.sdkStreamMixin)(e)}catch{let i=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let n=!1,o=async()=>{if(n)throw new Error(gk);return n=!0,await(0,nse.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,ose.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(gk);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof x_.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,x_.Readable.toWeb(e)}})};Ou.sdkStreamMixin=ise});var _k=b(O_=>{"use strict";d();Object.defineProperty(O_,"__esModule",{value:!0});O_.splitStream=ase;async function ase(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var vk=b(N_=>{"use strict";d();Object.defineProperty(N_,"__esModule",{value:!0});N_.splitStream=dse;var Ek=M("stream"),cse=_k(),Sk=hn();async function dse(e){if((0,Sk.isReadableStream)(e)||(0,Sk.isBlob)(e))return(0,cse.splitStream)(e);let t=new Ek.PassThrough,r=new Ek.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var L_=b((NFe,ar)=>{d();var Nu=Object.defineProperty,lse=Object.getOwnPropertyDescriptor,use=Object.getOwnPropertyNames,pse=Object.prototype.hasOwnProperty,k_=(e,t)=>Nu(e,"name",{value:t,configurable:!0}),mse=(e,t)=>{for(var r in t)Nu(e,r,{get:t[r],enumerable:!0})},D_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of use(t))!pse.call(e,o)&&o!==r&&Nu(e,o,{get:()=>t[o],enumerable:!(n=lse(t,o))||n.enumerable});return e},gn=(e,t,r)=>(D_(e,t,"default"),r&&D_(r,t,"default")),fse=e=>D_(Nu({},"__esModule",{value:!0}),e),ir={};mse(ir,{Uint8ArrayBlobAdapter:()=>M_});ar.exports=fse(ir);var bk=lt(),wk=Xe();function Tk(e,t="utf-8"){return t==="base64"?(0,bk.toBase64)(e):(0,wk.toUtf8)(e)}k_(Tk,"transformToString");function Ck(e,t){return t==="base64"?M_.mutate((0,bk.fromBase64)(e)):M_.mutate((0,wk.fromUtf8)(e))}k_(Ck,"transformFromString");var M_=class Pk extends Uint8Array{static{k_(this,"Uint8ArrayBlobAdapter")}static fromString(t,r="utf-8"){switch(typeof t){case"string":return Ck(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Pk.prototype),t}transformToString(t="utf-8"){return Tk(this,t)}};gn(ir,u_(),ar.exports);gn(ir,SM(),ar.exports);gn(ir,PM(),ar.exports);gn(ir,IM(),ar.exports);gn(ir,RM(),ar.exports);gn(ir,yk(),ar.exports);gn(ir,vk(),ar.exports);gn(ir,hn(),ar.exports)});var Du,Ct,qi=y(()=>{d();Du=T(L_()),Ct=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Du.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Du.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Du.Uint8ArrayBlobAdapter.mutate(await r)}});function cr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Mu=y(()=>{d()});var Mr,U_=y(()=>{d();Mr=e=>typeof e=="function"?e():e});var Ik=y(()=>{d()});var Qe,Ak=y(()=>{d();Qe=class e{constructor(t,r=new Map){this.namespace=t,this.schemas=r}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(this.getNamespace(t)).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}getBaseException(){for(let[t,r]of this.schemas.entries())if(t.startsWith("smithy.ts.sdk.synthetic.")&&t.endsWith("ServiceException"))return r}find(t){return[...this.schemas.values()].find(t)}destroy(){e.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}getNamespace(t){return this.normalizeShapeId(t).split("#")[0]}};Qe.registries=new Map});var dr,as=y(()=>{d();dr=class{constructor(t,r){this.name=t,this.traits=r}}});var zi,F_=y(()=>{d();as();zi=class e extends dr{constructor(t,r,n){super(t,r),this.name=t,this.traits=r,this.valueSchema=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};zi.symbol=Symbol.for("@smithy/core/schema::ListSchema")});var Vi,B_=y(()=>{d();as();Vi=class e extends dr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.keySchema=n,this.valueSchema=o,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Vi.symbol=Symbol.for("@smithy/core/schema::MapSchema")});var Rk=y(()=>{d()});var io,ku=y(()=>{d();as();io=class e extends dr{constructor(t,r,n,o){super(t,r),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.symbol=e.symbol,this.members={};for(let s=0;s<n.length;++s)this.members[n[s]]=Array.isArray(o[s])?o[s]:[o[s],0]}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};io.symbol=Symbol.for("@smithy/core/schema::StructureSchema")});var j_,xk=y(()=>{d();ku();j_=class e extends io{constructor(t,r,n,o,s){super(t,r,n,o),this.name=t,this.traits=r,this.memberNames=n,this.memberList=o,this.ctor=s,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};j_.symbol=Symbol.for("@smithy/core/schema::ErrorSchema")});var O,H_=y(()=>{d();O={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Gi,$_=y(()=>{d();as();Gi=class e extends dr{constructor(t,r,n){super(t,n),this.name=t,this.schemaRef=r,this.traits=n,this.symbol=e.symbol}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}};Gi.symbol=Symbol.for("@smithy/core/schema::SimpleSchema")});var q,Ok=y(()=>{d();U_();F_();B_();H_();$_();ku();q=class e{constructor(t,r){this.ref=t,this.memberName=r,this.symbol=e.symbol;let n=[],o=t,s=t;for(this._isMemberSchema=!1;Array.isArray(o);)n.push(o[1]),o=o[0],s=Mr(o),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,e.translateTraits(a))}}else this.memberTraits=0;if(s instanceof e){this.name=s.name,this.traits=s.traits,this._isMemberSchema=s._isMemberSchema,this.schema=s.schema,this.memberTraits=Object.assign({},s.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=s.ref,this.memberName=r??s.memberName;return}if(this.schema=Mr(s),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static[Symbol.hasInstance](t){let r=e.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===e.symbol:r}static of(t,r){return t instanceof e?t:new e(t,r)}static translateTraits(t){if(typeof t=="object")return t;t=t|0;let r={};return(t&1)===1&&(r.httpLabel=1),(t>>1&1)===1&&(r.idempotent=1),(t>>2&1)===1&&(r.idempotencyToken=1),(t>>3&1)===1&&(r.sensitive=1),(t>>4&1)===1&&(r.httpPayload=1),(t>>5&1)===1&&(r.httpResponseCode=1),(t>>6&1)===1&&(r.httpQueryParams=1),r}static memberFrom(t,r){return t instanceof e?(t.memberName=r,t._isMemberSchema=!0,t):new e(t,r)}getSchema(){return this.schema instanceof e?this.schema=this.schema.getSchema():this.schema instanceof Gi?Mr(this.schema.schemaRef):Mr(this.schema)}getName(t=!1){return!t&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.LIST_MODIFIER&&t<O.MAP_MODIFIER:t instanceof zi}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=O.MAP_MODIFIER&&t<=255:t instanceof Vi}isDocumentSchema(){return this.getSchema()===O.DOCUMENT}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof io}isBlobSchema(){return this.getSchema()===O.BLOB||this.getSchema()===O.STREAMING_BLOB}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=O.TIMESTAMP_DEFAULT&&t<=O.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===O.STRING}isBooleanSchema(){return this.getSchema()===O.BOOLEAN}isNumericSchema(){return this.getSchema()===O.NUMERIC}isBigIntegerSchema(){return this.getSchema()===O.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===O.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===O.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return e.translateTraits(this.memberTraits)}getOwnTraits(){return e.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);let t=this.getSchema();return typeof t=="number"?e.memberFrom([63&t,0],"key"):e.memberFrom([t.keySchema,0],"key")}getValueSchema(){let t=this.getSchema();if(typeof t=="number"){if(this.isMapSchema())return e.memberFrom([63&t,0],"value");if(this.isListSchema())return e.memberFrom([63&t,0],"member")}if(t&&typeof t=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);let r=t;if("valueSchema"in r){if(this.isMapSchema())return e.memberFrom([r.valueSchema,0],"value");if(this.isListSchema())return e.memberFrom([r.valueSchema,0],"member")}}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(t){if(this.isStructSchema()){let r=this.getSchema();if(!(t in r.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${t}.`);return e.memberFrom(r.members[t],t)}if(this.isDocumentSchema())return e.memberFrom([O.DOCUMENT,0],t);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){let{schema:t}=this,r=t;if(!r||typeof r!="object")return{};if("members"in r){let n={};for(let o of r.memberNames)n[o]=this.getMemberSchema(o);return n}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],e.memberFrom([t.memberList[r],0],t.memberNames[r])]}getSchemaName(){let t=this.getSchema();if(typeof t=="number"){let r=63&t,n=192&t,o=Object.entries(O).find(([,s])=>s===r)?.[0]??"Unknown";switch(n){case O.MAP_MODIFIER:return`${o}Map`;case O.LIST_MODIFIER:return`${o}List`;case 0:return o}}return"Unknown"}};q.symbol=Symbol.for("@smithy/core/schema::NormalizedSchema")});var Re=y(()=>{d();U_();Ik();F_();B_();Rk();xk();Ok();as();$_();ku();H_();Ak()});var Wi,Nk=y(()=>{d();Re();Wi=(e,t,r=n=>n)=>{let n=q.of(t);switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return r(e,n);case"function":case"object":if(e===null)return r(null,n);if(Array.isArray(e)){let s=new Array(e.length),i=0;for(let a of e)s[i++]=Wi(a,n.getValueSchema(),r);return r(s,n)}if("byteLength"in e){let s=new Uint8Array(e.byteLength);return s.set(e,0),r(s,n)}if(e instanceof Date)return r(e,n);let o={};if(n.isMapSchema())for(let s of Object.keys(e))o[s]=Wi(e[s],n.getValueSchema(),r);else if(n.isStructSchema())for(let[s,i]of n.structIterator())o[s]=Wi(e[s],i,r);else if(n.isDocumentSchema())for(let s of Object.keys(e))o[s]=Wi(e[s],n.getValueSchema(),r);return r(o,n);default:return r(e,n)}}});var hse,gse,Ki,yse,Lu,Ji,_se,q_,z_,V_,G_,Ese,Sse,Dk,vse,bse,Fu,wse,W_,Tse,cs,K_,Cse,Pse,Ise,Mk,kk,Ase,Rse,ao,J_,Uu,Yi,Y_=y(()=>{d();hse=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},gse=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Yi.warn(Uu(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Yi.warn(Uu(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Ki=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Yi.warn(Uu(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},yse=Math.ceil(34028234663852886e22),Lu=e=>{let t=Ki(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>yse)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Ji=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},_se=Ji,q_=e=>G_(e,32),z_=e=>G_(e,16),V_=e=>G_(e,8),G_=(e,t)=>{let r=Ji(e);if(r!==void 0&&Ese(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Ese=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Sse=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Dk=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},vse=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Yi.warn(Uu(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},bse=e=>{if(e==null)return;let t=Dk(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Fu=e=>Ki(typeof e=="string"?cs(e):e),wse=Fu,W_=e=>Lu(typeof e=="string"?cs(e):e),Tse=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,cs=e=>{let t=e.match(Tse);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},K_=e=>typeof e=="string"?Mk(e):Ki(e),Cse=K_,Pse=K_,Ise=e=>typeof e=="string"?Mk(e):Lu(e),Mk=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},kk=e=>Ji(typeof e=="string"?cs(e):e),Ase=kk,Rse=e=>q_(typeof e=="string"?cs(e):e),ao=e=>z_(typeof e=="string"?cs(e):e),J_=e=>V_(typeof e=="string"?cs(e):e),Uu=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Yi={warn:console.warn}});function Qi(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,l=s<10?`0${s}`:`${s}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${xse[n]}, ${c} ${Q_[r]} ${t} ${l}:${p}:${f} GMT`}var xse,Q_,Ose,Nse,Dse,Zi,Mse,kse,Lse,ea,ta,Xi,Use,Fse,Bse,X_,jse,Hse,$se,lr,qse,zse,ds,Lk=y(()=>{d();Y_();xse=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ose=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Nse=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Ose.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l]=t,p=ao(ds(n)),f=lr(o,"month",1,12),h=lr(s,"day",1,31);return Xi(p,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})},Dse=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Zi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Dse.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,l,p]=t,f=ao(ds(n)),h=lr(o,"month",1,12),g=lr(s,"day",1,31),_=Xi(f,h,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&_.setTime(_.getTime()-zse(p)),_},Mse=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),kse=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Lse=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ea=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Mse.exec(e);if(t){let[r,n,o,s,i,a,c,l]=t;return Xi(ao(ds(s)),X_(o),lr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(t=kse.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return Bse(Xi(Use(s),X_(o),lr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(t=Lse.exec(e),t){let[r,n,o,s,i,a,c,l]=t;return Xi(ao(ds(l)),X_(n),lr(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ta=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Fu(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Xi=(e,t,r,n)=>{let o=t-1;return Hse(e,o,r),new Date(Date.UTC(e,o,r,lr(n.hours,"hour",0,23),lr(n.minutes,"minute",0,59),lr(n.seconds,"seconds",0,60),qse(n.fractionalMilliseconds)))},Use=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+ao(ds(e));return r<t?r+100:r},Fse=50*365*24*60*60*1e3,Bse=e=>e.getTime()-new Date().getTime()>Fse?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,X_=e=>{let t=Q_.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},jse=[31,28,31,30,31,30,31,31,30,31,30,31],Hse=(e,t,r)=>{let n=jse[t];if(t===1&&$se(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Q_[t]} in ${e}: ${r}`)},$se=e=>e%4===0&&(e%100!==0||e%400===0),lr=(e,t,r,n)=>{let o=J_(ds(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},qse=e=>e==null?0:W_("0."+e)*1e3,zse=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},ds=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ze,Uk=y(()=>{d();Ze=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};Ze.from=e=>e&&typeof e=="object"&&(e instanceof Ze||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Ze(String(e)):Ze(JSON.stringify(e));Ze.fromObject=Ze.from});function Z_(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Fk=y(()=>{d()});function eE(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}var Bk=y(()=>{d()});var ra,jk=y(()=>{d();ra=e=>{let t=e.length,r=[],n=!1,o,s=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':o!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(s,i)),s=i+1);break;default:}o=a}return r.push(e.slice(s)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function Vse(e){return new ke(String(e),"bigDecimal")}var ke,Hk=y(()=>{d();ke=class e{constructor(t,r){this.string=t,this.type=r;let n=0;for(let o=0;o<t.length;++o){let s=t.charCodeAt(o);if(!(o===0&&s===45)){if(s===46){if(n)throw new Error("@smithy/core/serde - NumericValue must contain at most one decimal point.");n=1;continue}if(s<48||s>57)throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}}}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t,n=e.prototype.isPrototypeOf(t.constructor?.prototype);return n||(typeof r.string=="string"&&typeof r.type=="string"&&r.constructor?.name==="NumericValue"?!0:n)}}});var $k={};He($k,{LazyJsonString:()=>Ze,NumericValue:()=>ke,copyDocumentWithTransform:()=>Wi,dateToUtcString:()=>Qi,expectBoolean:()=>gse,expectByte:()=>V_,expectFloat32:()=>Lu,expectInt:()=>_se,expectInt32:()=>q_,expectLong:()=>Ji,expectNonNull:()=>Sse,expectNumber:()=>Ki,expectObject:()=>Dk,expectShort:()=>z_,expectString:()=>vse,expectUnion:()=>bse,handleFloat:()=>Cse,limitedParseDouble:()=>K_,limitedParseFloat:()=>Pse,limitedParseFloat32:()=>Ise,logger:()=>Yi,nv:()=>Vse,parseBoolean:()=>hse,parseEpochTimestamp:()=>ta,parseRfc3339DateTime:()=>Nse,parseRfc3339DateTimeWithOffset:()=>Zi,parseRfc7231DateTime:()=>ea,quoteHeader:()=>Z_,splitEvery:()=>eE,splitHeader:()=>ra,strictParseByte:()=>J_,strictParseDouble:()=>Fu,strictParseFloat:()=>wse,strictParseFloat32:()=>W_,strictParseInt:()=>Ase,strictParseInt32:()=>Rse,strictParseLong:()=>kk,strictParseShort:()=>ao});var Pt=y(()=>{d();Nk();Lk();Uk();Y_();Fk();Bk();jk();Hk()});var Bu,qk,ls,tE=y(()=>{d();Re();Pt();Bu=T(he()),qk=T(L_());qi();ls=class{constructor(t){this.options=t}getRequestType(){return Bu.HttpRequest}getResponseType(){return Bu.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0;for(let[n,o]of r.url.searchParams.entries())t.query||(t.query={}),t.query[n]=o;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let o=q.of(r),s=q.of(r.input);if(o.getMergedTraits().endpoint){let i=o.getMergedTraits().endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let l=n[c];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async deserializeHttpMessage(t,r,n,o,s){let i;o instanceof Set?i=s:i=o;let a=this.deserializer,c=q.of(t),l=[];for(let[p,f]of c.structIterator()){let h=f.getMemberTraits();if(h.httpPayload){if(f.isStreaming())if(f.isStructSchema()){let E=this.serdeContext;if(!E.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");let S=f.getMemberSchemas();i[p]=E.eventStreamMarshaller.deserialize(n.body,async v=>{let w=Object.keys(v).find(A=>A!=="__type")??"";if(w in S){let A=S[w];return{[w]:await a.read(A,v[w].body)}}else return{$unknown:v}})}else i[p]=(0,qk.sdkStreamMixin)(n.body);else if(n.body){let _=await Ct(n.body,r);_.byteLength>0&&(i[p]=await a.read(f,_))}}else if(h.httpHeader){let g=String(h.httpHeader).toLowerCase(),_=n.headers[g];if(_!=null)if(f.isListSchema()){let E=f.getValueSchema(),S;E.isTimestampSchema()&&E.getSchema()===O.TIMESTAMP_DEFAULT?S=eE(_,",",2):S=ra(_);let v=[];for(let w of S)v.push(await a.read([E,{httpHeader:g}],w.trim()));i[p]=v}else i[p]=await a.read(f,_)}else if(h.httpPrefixHeaders!==void 0){i[p]={};for(let[g,_]of Object.entries(n.headers))g.startsWith(h.httpPrefixHeaders)&&(i[p][g.slice(h.httpPrefixHeaders.length)]=await a.read([f.getValueSchema(),{httpHeader:g}],_))}else h.httpResponseCode?i[p]=n.statusCode:l.push(p)}return l}}});var zk,co,Vk=y(()=>{d();Re();zk=T(he());qi();Mu();tE();co=class extends ls{async serializeRequest(t,r,n){let o={...r??{}},s=this.serializer,i={},a={},c=await n.endpoint(),l=q.of(t?.input),p=l.getSchema(),f=!1,h,g=new zk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(g,c),this.setHostPrefix(g,t,o);let _=q.translateTraits(t.traits);if(_.http){g.method=_.http[0];let[E,S]=_.http[1].split("?");g.path=="/"?g.path=E:g.path+=E;let v=new URLSearchParams(S??"");Object.assign(i,Object.fromEntries(v))}}for(let[_,E]of l.structIterator()){let S=E.getMergedTraits()??{},v=o[_];if(v!=null)if(S.httpPayload){if(E.isStreaming()){if(E.isStructSchema())throw new Error("serialization of event streams is not yet implemented");h=v}else s.write(E,v),h=s.flush();delete o[_]}else if(S.httpLabel){s.write(E,v);let w=s.flush();g.path.includes(`{${_}+}`)?g.path=g.path.replace(`{${_}+}`,w.split("/").map(cr).join("/")):g.path.includes(`{${_}}`)&&(g.path=g.path.replace(`{${_}}`,cr(w))),delete o[_]}else if(S.httpHeader)s.write(E,v),a[S.httpHeader.toLowerCase()]=String(s.flush()),delete o[_];else if(typeof S.httpPrefixHeaders=="string"){for(let[w,A]of Object.entries(v)){let I=S.httpPrefixHeaders+w;s.write([E.getValueSchema(),{httpHeader:I}],A),a[I.toLowerCase()]=s.flush()}delete o[_]}else S.httpQuery||S.httpQueryParams?(this.serializeQuery(E,v,i),delete o[_]):f=!0}return f&&o&&(s.write(p,o),h=s.flush()),g.headers=a,g.query=i,g.body=h,g}serializeQuery(t,r,n){let o=this.serializer,s=t.getMergedTraits();if(s.httpQueryParams){for(let[i,a]of Object.entries(r))i in n||this.serializeQuery(q.of([t.getValueSchema(),{...s,httpQuery:i,httpQueryParams:void 0}]),a,n);return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){o.write([t.getValueSchema(),s],c);let l=o.flush();(i||l!==void 0)&&a.push(l)}n[s.httpQuery]=a}else o.write([t,s],r),n[s.httpQuery]=o.flush()}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let l=await Ct(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await this.deserializeHttpMessage(s,r,n,i);if(a.length){let l=await Ct(n.body,r);if(l.byteLength>0){let p=await o.read(s,l);for(let f of a)i[f]=p[f]}}return{$metadata:this.deserializeMetadata(n),...i}}}});var Gk,lo,Wk=y(()=>{d();Re();Gk=T(he());qi();tE();lo=class extends ls{async serializeRequest(t,r,n){let o=this.serializer,s={},i={},a=await n.endpoint(),l=q.of(t?.input).getSchema(),p,f=new Gk.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:s,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let h={...r};return r&&(o.write(l,h),p=o.flush()),f.headers=i,f.query=s,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let l=await Ct(n.body,r);throw l.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,l)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let p=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=p}let a=await Ct(n.body,r);return a.byteLength>0&&Object.assign(i,await o.read(s,a)),{$metadata:this.deserializeMetadata(n),...i}}}});var rE,nE=y(()=>{d();Mu();rE=(e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>cr(a)).join("/"):cr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function na(e,t){return new ju(e,t)}var Kk,ju,Jk=y(()=>{d();Kk=T(he());nE();ju=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new Kk.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=rE(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function uo(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===O.TIMESTAMP_DATE_TIME||e.getSchema()===O.TIMESTAMP_HTTP_DATE||e.getSchema()===O.TIMESTAMP_EPOCH_SECONDS))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:o,httpQuery:s}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||o?O.TIMESTAMP_HTTP_DATE:s||r?O.TIMESTAMP_DATE_TIME:void 0:void 0)??t.timestampFormat.default}var Hu=y(()=>{d();Re()});var oE,Yk,po,sE=y(()=>{d();Re();Pt();oE=T(lt()),Yk=T(Xe());Hu();po=class{constructor(t){this.settings=t}setSerdeContext(t){this.serdeContext=t}read(t,r){let n=q.of(t);if(n.isListSchema())return ra(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??oE.fromBase64)(r);if(n.isTimestampSchema())switch(uo(n,this.settings)){case O.TIMESTAMP_DATE_TIME:return Zi(r);case O.TIMESTAMP_HTTP_DATE:return ea(r);case O.TIMESTAMP_EPOCH_SECONDS:return ta(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,s=r;if(o)return n.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(o==="application/json"||o.endsWith("+json"))&&(s=Ze.from(s)),s}switch(!0){case n.isNumericSchema():return Number(r);case n.isBigIntegerSchema():return BigInt(r);case n.isBigDecimalSchema():return new ke(r,"bigDecimal");case n.isBooleanSchema():return String(r).toLowerCase()==="true"}return r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Yk.toUtf8)((this.serdeContext?.base64Decoder??oE.fromBase64)(t))}}});var $u,mo,Xk=y(()=>{d();Re();$u=T(Xe());sE();mo=class{constructor(t,r){this.codecDeserializer=t,this.stringDeserializer=new po(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=q.of(t),o=n.getMergedTraits(),s=this.serdeContext?.utf8Encoder??$u.toUtf8;if(o.httpHeader||o.httpResponseCode)return this.stringDeserializer.read(n,s(r));if(o.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??$u.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(n,r)}}});var iE,oa,aE=y(()=>{d();Re();Pt();iE=T(lt());Hu();oa=class{constructor(t){this.settings=t,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(t){this.serdeContext=t}write(t,r){let n=q.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(uo(n,this.settings)){case O.TIMESTAMP_DATE_TIME:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:this.stringBuffer=Qi(r);break;case O.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??iE.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),l=n.getValueSchema().isTimestampSchema()?c:Z_(c);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,s=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(s=Ze.from(s)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??iE.toBase64)(s.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var fo,Qk=y(()=>{d();Re();aE();fo=class{constructor(t,r,n=new oa(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=q.of(t),o=n.getMergedTraits();if(o.httpHeader||o.httpLabel||o.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var Zk={};He(Zk,{FromStringShapeDeserializer:()=>po,HttpBindingProtocol:()=>co,HttpInterceptingShapeDeserializer:()=>mo,HttpInterceptingShapeSerializer:()=>fo,RequestBuilder:()=>ju,RpcProtocol:()=>lo,ToStringShapeSerializer:()=>oa,collectBody:()=>Ct,determineTimestampFormat:()=>uo,extendedEncodeURIComponent:()=>cr,requestBuilder:()=>na,resolvedPath:()=>rE});var kr=y(()=>{d();qi();Mu();Vk();Wk();Jk();nE();sE();Xk();Qk();aE();Hu()});var eL=y(()=>{d();kr()});function Gse(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var tL=y(()=>{d()});var ho,rL=y(()=>{d();ho=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var nL,cE,dE,oL=y(()=>{d();nL=T(he()),cE=T(or()),dE=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=nL.HttpRequest.clone(t);if(n.in===cE.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===cE.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}}});var sL,lE,iL=y(()=>{d();sL=T(he()),lE=class{async sign(t,r,n){let o=sL.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}}});var Lr,aL=y(()=>{d();Lr=class{async sign(t,r,n){return t}}});var cL=y(()=>{d();oL();iL();aL()});var dL,Wse,uE,qu,pE,lL=y(()=>{d();dL=e=>t=>qu(t)&&t.expiration.getTime()-Date.now()<e,Wse=3e5,uE=dL(3e5),qu=e=>e.expiration!==void 0,pE=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=async l=>{s||(s=n(l));try{o=await s,i=!0,a=!1}finally{s=void 0}return o};return t===void 0?async l=>((!i||l?.forceRefresh)&&(o=await c(l)),o):async l=>((!i||l?.forceRefresh)&&(o=await c(l)),a?o:r(o)?(t(o)&&await c(l),o):(a=!0,o))}});var uL=y(()=>{d();rL();cL();lL()});var mE={};He(mE,{DefaultIdentityProviderConfig:()=>ho,EXPIRATION_MS:()=>Wse,HttpApiKeyAuthSigner:()=>dE,HttpBearerAuthSigner:()=>lE,NoAuthSigner:()=>Lr,createIsIdentityExpiredFunction:()=>dL,createPaginator:()=>nM,doesIdentityRequireRefresh:()=>qu,getHttpAuthSchemeEndpointRuleSetPlugin:()=>ji,getHttpAuthSchemePlugin:()=>zre,getHttpSigningPlugin:()=>Hi,getSmithyContext:()=>Ire,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>FD,httpAuthSchemeMiddleware:()=>Bi,httpAuthSchemeMiddlewareOptions:()=>KD,httpSigningMiddleware:()=>n_,httpSigningMiddlewareOptions:()=>ZD,isIdentityExpired:()=>uE,memoizeIdentityProvider:()=>pE,normalizeProvider:()=>fn,requestBuilder:()=>na,setFeature:()=>Gse});var Lt=y(()=>{d();xD();YD();tM();rM();oM();eL();tL();uL()});var Gu=b((Hje,SL)=>{d();var zu=Object.defineProperty,Kse=Object.getOwnPropertyDescriptor,Jse=Object.getOwnPropertyNames,Yse=Object.prototype.hasOwnProperty,ne=(e,t)=>zu(e,"name",{value:t,configurable:!0}),Xse=(e,t)=>{for(var r in t)zu(e,r,{get:t[r],enumerable:!0})},Qse=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Jse(t))!Yse.call(e,o)&&o!==r&&zu(e,o,{get:()=>t[o],enumerable:!(n=Kse(t,o))||n.enumerable});return e},Zse=e=>Qse(zu({},"__esModule",{value:!0}),e),pL={};Xse(pL,{EndpointCache:()=>eie,EndpointError:()=>st,customEndpointFunctions:()=>hE,isIpAddress:()=>mL,isValidHostLabel:()=>yE,resolveEndpoint:()=>Eie});SL.exports=Zse(pL);var eie=class{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}static{ne(this,"EndpointCache")}get(e,t){let r=this.hash(e);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),o=0;for(;;){let{value:s,done:i}=n.next();if(this.data.delete(s),i||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(e){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let o=String(e[n]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},tie=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),mL=ne(e=>tie.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),rie=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),yE=ne((e,t=!1)=>{if(!t)return rie.test(e);let r=e.split(".");for(let n of r)if(!yE(n))return!1;return!0},"isValidHostLabel"),hE={},sa="endpoints";function Ur(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ur(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ur).join(", ")})`:JSON.stringify(e,null,2)}ne(Ur,"toDebugString");var st=class extends Error{static{ne(this,"EndpointError")}constructor(e){super(e),this.name="EndpointError"}},nie=ne((e,t)=>e===t,"booleanEquals"),oie=ne(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new st(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new st(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),fL=ne((e,t)=>oie(t).reduce((r,n)=>{if(typeof r!="object")throw new st(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),sie=ne(e=>e!=null,"isSet"),iie=ne(e=>!e,"not"),gE=or(),fE={[gE.EndpointURLScheme.HTTP]:80,[gE.EndpointURLScheme.HTTPS]:443},aie=ne(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:g,protocol:_="",path:E="",query:S={}}=e,v=new URL(`${_}//${h}${g?`:${g}`:""}${E}`);return v.search=Object.entries(S).map(([w,A])=>`${w}=${A}`).join("&"),v}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(gE.EndpointURLScheme).includes(c))return null;let l=mL(o),p=r.includes(`${n}:${fE[c]}`)||typeof e=="string"&&e.includes(`${n}:${fE[c]}`),f=`${n}${p?`:${fE[c]}`:""}`;return{scheme:c,authority:f,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),cie=ne((e,t)=>e===t,"stringEquals"),die=ne((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),lie=ne(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),uie={booleanEquals:nie,getAttr:fL,isSet:sie,isValidHostLabel:yE,not:iie,parseURL:aie,stringEquals:cie,substring:die,uriEncode:lie},hL=ne((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,l]=a.split("#");r.push(fL(n[c],l))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),pie=ne(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Vu=ne((e,t,r)=>{if(typeof e=="string")return hL(e,r);if(e.fn)return gL(e,r);if(e.ref)return pie(e,r);throw new st(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),gL=ne(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Vu(s,"arg",r)),o=e.split(".");return o[0]in hE&&o[1]!=null?hE[o[0]][o[1]](...n):uie[e](...n)},"callFunction"),mie=ne(({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new st(`'${e}' is already defined in Reference Record.`);let n=gL(t,r);return r.logger?.debug?.(`${sa} evaluateCondition: ${Ur(t)} = ${Ur(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},"evaluateCondition"),_E=ne((e=[],t)=>{let r={};for(let n of e){let{result:o,toAssign:s}=mie(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};s&&(r[s.name]=s.value,t.logger?.debug?.(`${sa} assign: ${s.name} := ${Ur(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),fie=ne((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Vu(s,"Header value entry",t);if(typeof i!="string")throw new st(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),yL=ne((e,t)=>{if(Array.isArray(e))return e.map(r=>yL(r,t));switch(typeof e){case"string":return hL(e,t);case"object":if(e===null)throw new st(`Unexpected endpoint property: ${e}`);return _L(e,t);case"boolean":return e;default:throw new st(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),_L=ne((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:yL(o,t)}),{}),"getEndpointProperties"),hie=ne((e,t)=>{let r=Vu(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new st(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),gie=ne((e,t)=>{let{conditions:r,endpoint:n}=e,{result:o,referenceRecord:s}=_E(r,t);if(!o)return;let i={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return t.logger?.debug?.(`${sa} Resolving endpoint from template: ${Ur(n)}`),{...l!=null&&{headers:fie(l,i)},...c!=null&&{properties:_L(c,i)},url:hie(a,i)}},"evaluateEndpointRule"),yie=ne((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=_E(r,t);if(o)throw new st(Vu(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),_ie=ne((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=_E(r,t);if(o)return EL(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),EL=ne((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=gie(r,t);if(n)return n}else if(r.type==="error")yie(r,t);else if(r.type==="tree"){let n=_ie(r,t);if(n)return n}else throw new st(`Unknown endpoint rule: ${r}`);throw new st("Rules evaluation failed")},"evaluateRules"),Eie=ne((e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:o,rules:s}=e;t.logger?.debug?.(`${sa} Initial EndpointParams: ${Ur(r)}`);let i=Object.entries(o).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(i.length>0)for(let[l,p]of i)r[l]=r[l]??p;let a=Object.entries(o).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new st(`Missing required parameter: '${l}'`);let c=EL(s,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${sa} Resolved endpoint: ${Ur(c)}`),c},"resolveEndpoint")});var TL=b((Vje,wL)=>{d();var Wu=Object.defineProperty,Sie=Object.getOwnPropertyDescriptor,vie=Object.getOwnPropertyNames,bie=Object.prototype.hasOwnProperty,wie=(e,t)=>Wu(e,"name",{value:t,configurable:!0}),Tie=(e,t)=>{for(var r in t)Wu(e,r,{get:t[r],enumerable:!0})},Cie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of vie(t))!bie.call(e,o)&&o!==r&&Wu(e,o,{get:()=>t[o],enumerable:!(n=Sie(t,o))||n.enumerable});return e},Pie=e=>Cie(Wu({},"__esModule",{value:!0}),e),vL={};Tie(vL,{parseQueryString:()=>bL});wL.exports=Pie(vL);function bL(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}wie(bL,"parseQueryString")});var us=b((Wje,IL)=>{d();var Ku=Object.defineProperty,Iie=Object.getOwnPropertyDescriptor,Aie=Object.getOwnPropertyNames,Rie=Object.prototype.hasOwnProperty,xie=(e,t)=>Ku(e,"name",{value:t,configurable:!0}),Oie=(e,t)=>{for(var r in t)Ku(e,r,{get:t[r],enumerable:!0})},Nie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Aie(t))!Rie.call(e,o)&&o!==r&&Ku(e,o,{get:()=>t[o],enumerable:!(n=Iie(t,o))||n.enumerable});return e},Die=e=>Nie(Ku({},"__esModule",{value:!0}),e),CL={};Oie(CL,{parseUrl:()=>PL});IL.exports=Die(CL);var Mie=TL(),PL=xie(e=>{if(typeof e=="string")return PL(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,Mie.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var Yu=b((Jje,FL)=>{"use strict";d();var Ju=Object.defineProperty,kie=Object.getOwnPropertyDescriptor,Lie=Object.getOwnPropertyNames,Uie=Object.prototype.hasOwnProperty,yn=(e,t)=>Ju(e,"name",{value:t,configurable:!0}),Fie=(e,t)=>{for(var r in t)Ju(e,r,{get:t[r],enumerable:!0})},Bie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Lie(t))!Uie.call(e,o)&&o!==r&&Ju(e,o,{get:()=>t[o],enumerable:!(n=kie(t,o))||n.enumerable});return e},jie=e=>Bie(Ju({},"__esModule",{value:!0}),e),RL={};Fie(RL,{ConditionObject:()=>de.ConditionObject,DeprecatedObject:()=>de.DeprecatedObject,EndpointError:()=>de.EndpointError,EndpointObject:()=>de.EndpointObject,EndpointObjectHeaders:()=>de.EndpointObjectHeaders,EndpointObjectProperties:()=>de.EndpointObjectProperties,EndpointParams:()=>de.EndpointParams,EndpointResolverOptions:()=>de.EndpointResolverOptions,EndpointRuleObject:()=>de.EndpointRuleObject,ErrorRuleObject:()=>de.ErrorRuleObject,EvaluateOptions:()=>de.EvaluateOptions,Expression:()=>de.Expression,FunctionArgv:()=>de.FunctionArgv,FunctionObject:()=>de.FunctionObject,FunctionReturn:()=>de.FunctionReturn,ParameterObject:()=>de.ParameterObject,ReferenceObject:()=>de.ReferenceObject,ReferenceRecord:()=>de.ReferenceRecord,RuleSetObject:()=>de.RuleSetObject,RuleSetRules:()=>de.RuleSetRules,TreeRuleObject:()=>de.TreeRuleObject,awsEndpointFunctions:()=>LL,getUserAgentPrefix:()=>zie,isIpAddress:()=>de.isIpAddress,partition:()=>ML,resolveDefaultAwsRegionalEndpointsConfig:()=>Gie,resolveEndpoint:()=>de.resolveEndpoint,setPartitionInfo:()=>kL,toEndpointV1:()=>UL,useDefaultPartitionInfo:()=>qie});FL.exports=jie(RL);var de=Gu(),xL=yn((e,t=!1)=>{if(t){for(let r of e.split("."))if(!xL(r))return!1;return!0}return!(!(0,de.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,de.isIpAddress)(e))},"isVirtualHostableS3Bucket"),AL=":",Hie="/",$ie=yn(e=>{let t=e.split(AL);if(t.length<6)return null;let[r,n,o,s,i,...a]=t;if(r!=="arn"||n===""||o===""||a.join(AL)==="")return null;let c=a.map(l=>l.split(Hie)).flat();return{partition:n,service:o,region:s,accountId:i,resourceId:c}},"parseArn"),OL={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},NL=OL,DL="",ML=yn(e=>{let{partitions:t}=NL;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),kL=yn((e,t="")=>{NL=e,DL=t},"setPartitionInfo"),qie=yn(()=>{kL(OL,"")},"useDefaultPartitionInfo"),zie=yn(()=>DL,"getUserAgentPrefix"),LL={isVirtualHostableS3Bucket:xL,parseArn:$ie,partition:ML};de.customEndpointFunctions.aws=LL;var Vie=us(),Gie=yn(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>UL(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),UL=yn(e=>(0,Vie.parseUrl)(e.url),"toEndpointV1")});var EE,ia,BL=y(()=>{d();EE={warningEmitted:!1},ia=e=>{e&&!EE.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(EE.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function go(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var jL=y(()=>{d()});function Wie(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var HL=y(()=>{d()});function Kie(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var $L=y(()=>{d()});var Xu=y(()=>{d();BL();jL();HL();$L()});var qL,SE,zL=y(()=>{d();qL=T(he()),SE=e=>qL.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var ps,vE=y(()=>{d();ps=e=>new Date(Date.now()+e)});var VL,GL=y(()=>{d();vE();VL=(e,t)=>Math.abs(ps(t).getTime()-e)>=3e5});var bE,WL=y(()=>{d();GL();bE=(e,t)=>{let r=Date.parse(e);return VL(r,t)?r-Date.now():t}});var wE=y(()=>{d();zL();vE();WL()});var KL,aa,ca,ut,JL,TE=y(()=>{d();KL=T(he());wE();aa=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ca=async e=>{let t=aa("context",e.context),r=aa("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],s=await aa("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,c=e?.signingName;return{config:r,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}},ut=class{async sign(t,r,n){if(!KL.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await ca(n),{config:s,signer:i}=o,{signingRegion:a,signingName:c}=o,l=n.context;if(l?.authSchemes?.length??!1){let[f,h]=l.authSchemes;f?.name==="sigv4a"&&h?.name==="sigv4"&&(a=h?.signingRegion??a,c=h?.signingName??c)}return await i.sign(t,{signingDate:ps(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??SE(r.$response);if(n){let o=aa("config",t.config),s=o.systemClockOffset;o.systemClockOffset=bE(n,o.systemClockOffset),o.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=SE(t);if(n){let o=aa("config",r.config);o.systemClockOffset=bE(n,o.systemClockOffset)}}},JL=ut});var YL,Qu,XL=y(()=>{d();YL=T(he());wE();TE();Qu=class extends ut{async sign(t,r,n){if(!YL.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingRegionSet:a,signingName:c}=await ca(n),p=(await o.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await s.sign(t,{signingDate:ps(o.systemClockOffset),signingRegion:p,signingService:c})}}});var CE,QL=y(()=>{d();CE=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var PE,IE=y(()=>{d();PE=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var ZL,eU,da,tU=y(()=>{d();QL();IE();ZL="AWS_AUTH_SCHEME_PREFERENCE",eU="auth_scheme_preference",da={environmentVariableSelector:(e,t)=>{if(t?.signingName&&PE(t.signingName)in e)return["httpBearerAuth"];if(ZL in e)return CE(e[ZL])},configFileSelector:e=>{if(eU in e)return CE(e[eU])},default:[]}});var la=b((HHe,iU)=>{d();var Zu=Object.defineProperty,Jie=Object.getOwnPropertyDescriptor,Yie=Object.getOwnPropertyNames,Xie=Object.prototype.hasOwnProperty,yo=(e,t)=>Zu(e,"name",{value:t,configurable:!0}),Qie=(e,t)=>{for(var r in t)Zu(e,r,{get:t[r],enumerable:!0})},Zie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Yie(t))!Xie.call(e,o)&&o!==r&&Zu(e,o,{get:()=>t[o],enumerable:!(n=Jie(t,o))||n.enumerable});return e},eae=e=>Zie(Zu({},"__esModule",{value:!0}),e),rU={};Qie(rU,{CredentialsProviderError:()=>tae,ProviderError:()=>ep,TokenProviderError:()=>rae,chain:()=>nae,fromStatic:()=>oae,memoize:()=>sae});iU.exports=eae(rU);var ep=class nU extends Error{constructor(t,r=!0){let n,o=!0;typeof r=="boolean"?(n=void 0,o=r):r!=null&&typeof r=="object"&&(n=r.logger,o=r.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=o,Object.setPrototypeOf(this,nU.prototype),n?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${t}`)}static{yo(this,"ProviderError")}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},tae=class oU extends ep{constructor(t,r=!0){super(t,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,oU.prototype)}static{yo(this,"CredentialsProviderError")}},rae=class sU extends ep{constructor(t,r=!0){super(t,r),this.name="TokenProviderError",Object.setPrototypeOf(this,sU.prototype)}static{yo(this,"TokenProviderError")}},nae=yo((...e)=>async()=>{if(e.length===0)throw new ep("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),oae=yo(e=>()=>Promise.resolve(e),"fromStatic"),sae=yo((e,t,r)=>{let n,o,s,i=!1,a=yo(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var AE,iae,aae,aU=y(()=>{d();Lt();AE=T(la()),iae=e=>(e.sigv4aSigningRegionSet=fn(e.sigv4aSigningRegionSet),e),aae={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new AE.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new AE.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var LU=b((GHe,kU)=>{d();var ap=Object.defineProperty,cae=Object.getOwnPropertyDescriptor,dae=Object.getOwnPropertyNames,lae=Object.prototype.hasOwnProperty,Le=(e,t)=>ap(e,"name",{value:t,configurable:!0}),uae=(e,t)=>{for(var r in t)ap(e,r,{get:t[r],enumerable:!0})},pae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dae(t))!lae.call(e,o)&&o!==r&&ap(e,o,{get:()=>t[o],enumerable:!(n=cae(t,o))||n.enumerable});return e},mae=e=>pae(ap({},"__esModule",{value:!0}),e),pU={};uae(pU,{ALGORITHM_IDENTIFIER:()=>tp,ALGORITHM_IDENTIFIER_V4A:()=>yae,ALGORITHM_QUERY_PARAM:()=>mU,ALWAYS_UNSIGNABLE_HEADERS:()=>vU,AMZ_DATE_HEADER:()=>LE,AMZ_DATE_QUERY_PARAM:()=>NE,AUTH_HEADER:()=>kE,CREDENTIAL_QUERY_PARAM:()=>fU,DATE_HEADER:()=>yU,EVENT_ALGORITHM_IDENTIFIER:()=>TU,EXPIRES_QUERY_PARAM:()=>gU,GENERATED_HEADERS:()=>_U,HOST_HEADER:()=>hae,KEY_TYPE_IDENTIFIER:()=>UE,MAX_CACHE_SIZE:()=>PU,MAX_PRESIGNED_TTL:()=>IU,PROXY_HEADER_PATTERN:()=>bU,REGION_SET_PARAM:()=>fae,SEC_HEADER_PATTERN:()=>wU,SHA256_HEADER:()=>ip,SIGNATURE_HEADER:()=>EU,SIGNATURE_QUERY_PARAM:()=>DE,SIGNED_HEADERS_QUERY_PARAM:()=>hU,SignatureV4:()=>Aae,SignatureV4Base:()=>MU,TOKEN_HEADER:()=>SU,TOKEN_QUERY_PARAM:()=>ME,UNSIGNABLE_PATTERNS:()=>gae,UNSIGNED_PAYLOAD:()=>CU,clearCredentialCache:()=>Eae,createScope:()=>np,getCanonicalHeaders:()=>RE,getCanonicalQuery:()=>DU,getPayloadHash:()=>op,getSigningKey:()=>AU,hasHeader:()=>xU,moveHeadersToQuery:()=>NU,prepareRequest:()=>OE,signatureV4aContainer:()=>Rae});kU.exports=mae(pU);var cU=Xe(),mU="X-Amz-Algorithm",fU="X-Amz-Credential",NE="X-Amz-Date",hU="X-Amz-SignedHeaders",gU="X-Amz-Expires",DE="X-Amz-Signature",ME="X-Amz-Security-Token",fae="X-Amz-Region-Set",kE="authorization",LE=NE.toLowerCase(),yU="date",_U=[kE,LE,yU],EU=DE.toLowerCase(),ip="x-amz-content-sha256",SU=ME.toLowerCase(),hae="host",vU={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},bU=/^proxy-/,wU=/^sec-/,gae=[/^proxy-/i,/^sec-/i],tp="AWS4-HMAC-SHA256",yae="AWS4-ECDSA-P256-SHA256",TU="AWS4-HMAC-SHA256-PAYLOAD",CU="UNSIGNED-PAYLOAD",PU=50,UE="aws4_request",IU=3600*24*7,_n=R_(),_ae=Xe(),ms={},rp=[],np=Le((e,t,r)=>`${e}/${t}/${r}/${UE}`,"createScope"),AU=Le(async(e,t,r,n,o)=>{let s=await dU(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,_n.toHex)(s)}:${t.sessionToken}`;if(i in ms)return ms[i];for(rp.push(i);rp.length>PU;)delete ms[rp.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,UE])a=await dU(e,a,c);return ms[i]=a},"getSigningKey"),Eae=Le(()=>{rp.length=0,Object.keys(ms).forEach(e=>{delete ms[e]})},"clearCredentialCache"),dU=Le((e,t,r)=>{let n=new e(t);return n.update((0,_ae.toUint8Array)(r)),n.digest()},"hmac"),RE=Le(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in vU||t?.has(s)||bU.test(s)||wU.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),Sae=s_(),vae=Xe(),op=Le(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ip)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,Sae.isArrayBuffer)(t)){let n=new r;return n.update((0,vae.toUint8Array)(t)),(0,_n.toHex)(await n.digest())}return CU},"getPayloadHash"),lU=Xe(),bae=class{static{Le(this,"HeaderFormatter")}format(e){let t=[];for(let o of Object.keys(e)){let s=(0,lU.fromUtf8)(o);t.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(e[o]))}let r=new Uint8Array(t.reduce((o,s)=>o+s.byteLength,0)),n=0;for(let o of t)r.set(o,n),n+=o.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":let i=(0,lU.fromUtf8)(e.value),a=new DataView(new ArrayBuffer(3+i.byteLength));a.setUint8(0,7),a.setUint16(1,i.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(i,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(Tae.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!wae.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,_n.fromHex)(e.value.replace(/\-/g,"")),1),p}}},wae=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Tae=class RU{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Le(this,"Int64")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&xE(r),new RU(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&xE(t),parseInt((0,_n.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function xE(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}Le(xE,"negate");var xU=Le((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),OU=he(),NU=Le((e,t={})=>{let{headers:r,query:n={}}=OU.HttpRequest.clone(e);for(let o of Object.keys(r)){let s=o.toLowerCase();(s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)||t.hoistableHeaders?.has(s))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},"moveHeadersToQuery"),OE=Le(e=>{e=OU.HttpRequest.clone(e);for(let t of Object.keys(e.headers))_U.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),uU=Or(),Cae=Xe(),sp=S_(),DU=Le(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===EU)continue;let o=(0,sp.escapeUri)(n);t.push(o);let s=e[n];typeof s=="string"?r[o]=`${o}=${(0,sp.escapeUri)(s)}`:Array.isArray(s)&&(r[o]=s.slice(0).reduce((i,a)=>i.concat([`${o}=${(0,sp.escapeUri)(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),Pae=Le(e=>Iae(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),Iae=Le(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),MU=class{static{Le(this,"SignatureV4Base")}constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){this.service=n,this.sha256=o,this.uriEscapePath=s,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=(0,uU.normalizeProvider)(r),this.credentialProvider=(0,uU.normalizeProvider)(t)}createCanonicalRequest(e,t,r){let n=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${DU(e)}
${n.map(o=>`${o}:${t[o]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(e,t,r,n){let o=new this.sha256;o.update((0,Cae.toUint8Array)(r));let s=await o.digest();return`${n}
${e}
${t}
${(0,_n.toHex)(s)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,sp.escapeUri)(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let t=Pae(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},Aae=class extends MU{constructor({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s=!0}){super({applyChecksum:e,credentials:t,region:r,service:n,sha256:o,uriEscapePath:s}),this.headerFormatter=new bae}static{Le(this,"SignatureV4")}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:o,unhoistableHeaders:s,signableHeaders:i,hoistableHeaders:a,signingRegion:c,signingService:l}=t,p=await this.credentialProvider();this.validateResolvedCredentials(p);let f=c??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(n>IU)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=np(g,f,l??this.service),E=NU(OE(e),{unhoistableHeaders:s,hoistableHeaders:a});p.sessionToken&&(E.query[ME]=p.sessionToken),E.query[mU]=tp,E.query[fU]=`${p.accessKeyId}/${_}`,E.query[NE]=h,E.query[gU]=n.toString(10);let S=RE(E,o,i);return E.query[hU]=this.getCanonicalHeaderList(S),E.query[DE]=await this.getSignature(h,_,this.getSigningKey(p,f,g,l),this.createCanonicalRequest(E,S,await op(e,this.sha256))),E}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:n,signingRegion:o,signingService:s}){let i=o??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=np(a,i,s??this.service),p=await op({headers:{},body:t},this.sha256),f=new this.sha256;f.update(e);let h=(0,_n.toHex)(await f.digest()),g=[TU,c,l,n,h,p].join(`
`);return this.signString(g,{signingDate:r,signingRegion:i,signingService:s})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:n,priorSignature:e.priorSignature}).then(s=>({message:e.message,signature:s}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:n}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let s=r??await this.regionProvider(),{shortDate:i}=this.formatDate(t),a=new this.sha256(await this.getSigningKey(o,s,i,n));return a.update((0,cU.toUint8Array)(e)),(0,_n.toHex)(await a.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:o,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let a=o??await this.regionProvider(),c=OE(e),{longDate:l,shortDate:p}=this.formatDate(t),f=np(p,a,s??this.service);c.headers[LE]=l,i.sessionToken&&(c.headers[SU]=i.sessionToken);let h=await op(c,this.sha256);!xU(ip,c.headers)&&this.applyChecksum&&(c.headers[ip]=h);let g=RE(c,n,r),_=await this.getSignature(l,f,this.getSigningKey(i,a,p,s),this.createCanonicalRequest(c,g,h));return c.headers[kE]=`${tp} Credential=${i.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${_}`,c}async getSignature(e,t,r,n){let o=await this.createStringToSign(e,t,n,tp),s=new this.sha256(await r);return s.update((0,cU.toUint8Array)(o)),(0,_n.toHex)(await s.digest())}getSigningKey(e,t,r,n){return AU(this.sha256,e,r,t,n||this.service)}},Rae={SignatureV4a:null}});function Oae(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=pE(t,uE,qu):r?n=fn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Nae(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var FE,fs,xae,UU=y(()=>{d();Xu();Lt();FE=T(LU()),fs=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=Oae(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=Nae(e,p);r&&!f.attributed?(n=async h=>f(h).then(g=>go(g,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=fn(e.signer):e.regionInfoProvider?a=()=>fn(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:h}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||h||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},_=e.signerConstructor||FE.SignatureV4;return new _(g)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fn(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o},g=e.signerConstructor||FE.SignatureV4;return new g(h)},Object.assign(e,{systemClockOffset:s,signingEscapePath:o,signer:a})},xae=fs});var FU=y(()=>{d();TE();XL();tU();aU();UU()});var BU=y(()=>{d();FU();IE()});var Dae,Mae,kae,jU=y(()=>{d();Dae=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},Mae=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},kae=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ua=b((f$e,qU)=>{d();var cp=Object.defineProperty,Lae=Object.getOwnPropertyDescriptor,Uae=Object.getOwnPropertyNames,Fae=Object.prototype.hasOwnProperty,Bae=(e,t)=>cp(e,"name",{value:t,configurable:!0}),jae=(e,t)=>{for(var r in t)cp(e,r,{get:t[r],enumerable:!0})},Hae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Uae(t))!Fae.call(e,o)&&o!==r&&cp(e,o,{get:()=>t[o],enumerable:!(n=Lae(t,o))||n.enumerable});return e},$ae=e=>Hae(cp({},"__esModule",{value:!0}),e),$U={};jae($U,{calculateBodyLength:()=>qae});qU.exports=$ae($U);var HU=typeof TextEncoder=="function"?new TextEncoder:null,qae=Bae(e=>{if(typeof e=="string"){if(HU)return HU.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){let n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var qe,En=y(()=>{d();qe=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function zU(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new ke(n,"bigDecimal"):BigInt(n)}return t}var VU=y(()=>{d();Pt()});var YU=b((v$e,JU)=>{d();var dp=Object.defineProperty,zae=Object.getOwnPropertyDescriptor,Vae=Object.getOwnPropertyNames,Gae=Object.prototype.hasOwnProperty,It=(e,t)=>dp(e,"name",{value:t,configurable:!0}),Wae=(e,t)=>{for(var r in t)dp(e,r,{get:t[r],enumerable:!0})},Kae=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vae(t))!Gae.call(e,o)&&o!==r&&dp(e,o,{get:()=>t[o],enumerable:!(n=zae(t,o))||n.enumerable});return e},Jae=e=>Kae(dp({},"__esModule",{value:!0}),e),KU={};Wae(KU,{constructStack:()=>BE});JU.exports=Jae(KU);var _o=It((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),Sn=It((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),BE=It(()=>{let e=[],t=[],r=!1,n=new Set,o=It(f=>f.sort((h,g)=>GU[g.step]-GU[h.step]||WU[g.priority||"normal"]-WU[h.priority||"normal"]),"sort"),s=It(f=>{let h=!1,g=It(_=>{let E=_o(_.name,_.aliases);if(E.includes(f)){h=!0;for(let S of E)n.delete(S);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByName"),i=It(f=>{let h=!1,g=It(_=>{if(_.middleware===f){h=!0;for(let E of _o(_.name,_.aliases))n.delete(E);return!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},"removeByReference"),a=It(f=>(e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),f.identifyOnResolve?.(p.identifyOnResolve()),f),"cloneTo"),c=It(f=>{let h=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?h.push(g):h.push(...c(g))}),h},"expandRelativeMiddlewareList"),l=It((f=!1)=>{let h=[],g=[],_={};return e.forEach(S=>{let v={...S,before:[],after:[]};for(let w of _o(v.name,v.aliases))_[w]=v;h.push(v)}),t.forEach(S=>{let v={...S,before:[],after:[]};for(let w of _o(v.name,v.aliases))_[w]=v;g.push(v)}),g.forEach(S=>{if(S.toMiddleware){let v=_[S.toMiddleware];if(v===void 0){if(f)return;throw new Error(`${S.toMiddleware} is not found when adding ${Sn(S.name,S.aliases)} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&v.after.push(S),S.relation==="before"&&v.before.push(S)}}),o(h).map(c).reduce((S,v)=>(S.push(...v),S),[])},"getMiddlewareList"),p={add:(f,h={})=>{let{name:g,override:_,aliases:E}=h,S={step:"initialize",priority:"normal",middleware:f,...h},v=_o(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${Sn(g,E)}'`);for(let w of v){let A=e.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=e[A];if(I.step!==S.step||S.priority!==I.priority)throw new Error(`"${Sn(I.name,I.aliases)}" middleware with ${I.priority} priority in ${I.step} step cannot be overridden by "${Sn(g,E)}" middleware with ${S.priority} priority in ${S.step} step.`);e.splice(A,1)}}for(let w of v)n.add(w)}e.push(S)},addRelativeTo:(f,h)=>{let{name:g,override:_,aliases:E}=h,S={middleware:f,...h},v=_o(g,E);if(v.length>0){if(v.some(w=>n.has(w))){if(!_)throw new Error(`Duplicate middleware name '${Sn(g,E)}'`);for(let w of v){let A=t.findIndex(C=>C.name===w||C.aliases?.some(k=>k===w));if(A===-1)continue;let I=t[A];if(I.toMiddleware!==S.toMiddleware||I.relation!==S.relation)throw new Error(`"${Sn(I.name,I.aliases)}" middleware ${I.relation} "${I.toMiddleware}" middleware cannot be overridden by "${Sn(g,E)}" middleware ${S.relation} "${S.toMiddleware}" middleware.`);t.splice(A,1)}}for(let w of v)n.add(w)}t.push(S)},clone:()=>a(BE()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?s(f):i(f),removeByTag:f=>{let h=!1,g=It(_=>{let{tags:E,name:S,aliases:v}=_;if(E&&E.includes(f)){let w=_o(S,v);for(let A of w)n.delete(A);return h=!0,!1}return!0},"filterCb");return e=e.filter(g),t=t.filter(g),h},concat:f=>{let h=a(BE());return h.use(f),h.identifyOnResolve(r||h.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),h},applyToStack:a,identify:()=>l(!0).map(f=>{let h=f.step??f.relation+" "+f.toMiddleware;return Sn(f.name,f.aliases)+" - "+h}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,h)=>{for(let g of l().map(_=>_.middleware).reverse())f=g(f,h);return r&&console.log(p.identify()),f}};return p},"constructStack"),GU={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},WU={high:3,normal:2,low:1}});var oe=b((w$e,GE)=>{d();var lp=Object.defineProperty,Yae=Object.getOwnPropertyDescriptor,Xae=Object.getOwnPropertyNames,Qae=Object.prototype.hasOwnProperty,ee=(e,t)=>lp(e,"name",{value:t,configurable:!0}),Zae=(e,t)=>{for(var r in t)lp(e,r,{get:t[r],enumerable:!0})},HE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xae(t))!Qae.call(e,o)&&o!==r&&lp(e,o,{get:()=>t[o],enumerable:!(n=Yae(t,o))||n.enumerable});return e},ece=(e,t,r)=>(HE(e,t,"default"),r&&HE(r,t,"default")),tce=e=>HE(lp({},"__esModule",{value:!0}),e),zE={};Zae(zE,{Client:()=>rce,Command:()=>ZU,NoOpLogger:()=>Ece,SENSITIVE_STRING:()=>oce,ServiceException:()=>ice,_json:()=>qE,collectBody:()=>jE.collectBody,convertMap:()=>Sce,createAggregatedClient:()=>sce,decorateServiceException:()=>eF,emitWarningIfUnsupportedVersion:()=>lce,extendedEncodeURIComponent:()=>jE.extendedEncodeURIComponent,getArrayIfSingleItem:()=>yce,getDefaultClientConfiguration:()=>hce,getDefaultExtensionConfiguration:()=>rF,getValueFromTextNode:()=>nF,isSerializableHeaderValue:()=>_ce,loadConfigsForDefaultMode:()=>dce,map:()=>VE,resolveDefaultRuntimeConfig:()=>gce,resolvedPath:()=>jE.resolvedPath,serializeDateTime:()=>Pce,serializeFloat:()=>Cce,take:()=>vce,throwDefaultError:()=>tF,withBaseException:()=>ace});GE.exports=tce(zE);var QU=YU(),rce=class{constructor(e){this.config=e,this.middlewareStack=(0,QU.constructStack)()}static{ee(this,"Client")}send(e,t,r){let n=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,s=n===void 0&&this.config.cacheMiddleware===!0,i;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(e.constructor)?i=a.get(e.constructor):(i=e.resolveMiddleware(this.middlewareStack,this.config,n),a.set(e.constructor,i))}else delete this.handlers,i=e.resolveMiddleware(this.middlewareStack,this.config,n);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},jE=(kr(),z(Zk)),$E=or(),ZU=class{constructor(){this.middlewareStack=(0,QU.constructStack)()}static{ee(this,"Command")}static classBuilder(){return new nce}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:p}){for(let E of n.bind(this)(p,e,t,r))this.middlewareStack.use(E);let f=e.concat(this.middlewareStack),{logger:h}=t,g={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[$E.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:_}=t;return f.resolve(E=>_.handle(E.request,r||{}),g)}},nce=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}static{ee(this,"ClassBuilder")}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=r=>r,t=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,t;return t=class extends ZU{constructor(...[r]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=r??{},e._init(this),this.schema=e._operationSchema}static{ee(this,"CommandRef")}static getEndpointParameterInstructions(){return e._ep}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}},oce="***SensitiveInformation***",sce=ee((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=ee(async function(i,a,c){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),ice=class pa extends Error{static{ee(this,"ServiceException")}constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return pa.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===pa?pa.isInstance(t):pa.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},eF=ee((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),tF=ee(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=cce(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw eF(i,t)},"throwDefaultError"),ace=ee(e=>({output:t,parsedBody:r,errorCode:n})=>{tF({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),cce=ee(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),dce=ee(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),XU=!1,lce=ee(e=>{e&&!XU&&parseInt(e.substring(1,e.indexOf(".")))<16&&(XU=!0)},"emitWarningIfUnsupportedVersion"),uce=ee(e=>{let t=[];for(let r in $E.AlgorithmId){let n=$E.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},"getChecksumConfiguration"),pce=ee(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),mce=ee(e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),"getRetryConfiguration"),fce=ee(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),rF=ee(e=>Object.assign(uce(e),mce(e)),"getDefaultExtensionConfiguration"),hce=rF,gce=ee(e=>Object.assign(pce(e),fce(e)),"resolveDefaultRuntimeConfig"),yce=ee(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),nF=ee(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=nF(e[r]));return e},"getValueFromTextNode"),_ce=ee(e=>e!=null,"isSerializableHeaderValue"),Ece=class{static{ee(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function VE(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,bce(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}oF(n,null,s,i)}return n}ee(VE,"map");var Sce=ee(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),vce=ee((e,t)=>{let r={};for(let n in t)oF(r,e,t,n);return r},"take"),bce=ee((e,t,r)=>VE(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),oF=ee((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=wce,c=Tce,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=c(t[l]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),wce=ee(e=>e!=null,"nonNullish"),Tce=ee(e=>e,"pass"),Cce=ee(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),Pce=ee(e=>e.toISOString().replace(".000Z","Z"),"serializeDateTime"),qE=ee(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(qE);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=qE(e[r]));return t}return e},"_json");ece(zE,(Pt(),z($k)),GE.exports)});var sF,up,WE=y(()=>{d();sF=T(oe()),up=(e,t)=>(0,sF.collectBody)(e,t).then(r=>t.utf8Encoder(r))});var hs,KE,Eo,ma=y(()=>{d();WE();hs=(e,t)=>up(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),KE=async(e,t)=>{let r=await hs(e,t);return r.message=r.message??r.Message,r},Eo=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t&&typeof t=="object"){let s=r(t,"code");if(s&&t[s]!==void 0)return n(t[s]);if(t.__type!==void 0)return n(t.__type)}}});var iF,fa,JE=y(()=>{d();Re();Pt();iF=T(lt());En();VU();ma();fa=class extends qe{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,zU):await hs(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",o=q.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let l of r)(c||l!=null)&&a.push(this._read(i,l));return a}else if(o.isMapSchema()&&n){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(c||p!=null)&&(a[l]=this._read(i,p));return a}else if(o.isStructSchema()&&n){let i={};for(let[a,c]of o.structIterator()){let l=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,p=this._read(c,r[l]);p!=null&&(i[a]=p)}return i}if(o.isBlobSchema()&&typeof r=="string")return(0,iF.fromBase64)(r);let s=o.getMergedTraits().mediaType;if(o.isStringSchema()&&typeof r=="string"&&s&&(s==="application/json"||s.endsWith("+json")))return Ze.from(r);if(o.isTimestampSchema()){let i=this.settings.timestampFormat;switch(i.useTrait?o.getSchema()===O.TIMESTAMP_DEFAULT?i.default:o.getSchema()??i.default:i.default){case O.TIMESTAMP_DATE_TIME:return Zi(r);case O.TIMESTAMP_HTTP_DATE:return ea(r);case O.TIMESTAMP_EPOCH_SECONDS:return ta(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}}if(o.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(o.isBigDecimalSchema()&&r!=null)return r instanceof ke?r:new ke(String(r),"bigDecimal");if(o.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}}});var aF,pp,cF=y(()=>{d();Pt();aF="\u039D",pp=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof ke){let n=`${aF+ +"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),o=`${aF+"b"+this.counter++}_`+n;return this.values.set(`"${o}"`,n),o}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var ha,YE=y(()=>{d();Re();Pt();Pt();En();cF();ha=class extends qe{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=q.of(t),this.buffer=this._write(this.rootSchema,r)}flush(){if(this.rootSchema?.isStructSchema()||this.rootSchema?.isDocumentSchema()){let t=new pp;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(t,r,n){let o=r!==null&&typeof r=="object",s=q.of(t);if(s.isListSchema()&&Array.isArray(r)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let p of r)(l||p!=null)&&c.push(this._write(a,p));return c}else if(s.isMapSchema()&&o){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[p,f]of Object.entries(r))(l||f!=null)&&(c[p]=this._write(a,f));return c}else if(s.isStructSchema()&&o){let a={};for(let[c,l]of s.structIterator()){let p=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,r[c],s);f!==void 0&&(a[p]=f)}return a}if(r===null&&n?.isStructSchema())return;if(s.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")){if(s===this.rootSchema)return r;if(!this.serdeContext?.base64Encoder)throw new Error("Missing base64Encoder in serdeContext");return this.serdeContext?.base64Encoder(r)}if(s.isTimestampSchema()&&r instanceof Date){let a=this.settings.timestampFormat;switch(a.useTrait?s.getSchema()===O.TIMESTAMP_DEFAULT?a.default:s.getSchema()??a.default:a.default){case O.TIMESTAMP_DATE_TIME:return r.toISOString().replace(".000Z","Z");case O.TIMESTAMP_HTTP_DATE:return Qi(r);case O.TIMESTAMP_EPOCH_SECONDS:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}}if(s.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);let i=s.getMergedTraits().mediaType;return s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json"))?Ze.from(r):r}}});var So,mp=y(()=>{d();En();JE();YE();So=class extends qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new ha(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new fa(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var dF,vo,fp=y(()=>{d();kr();Re();dF=T(ua());mp();ma();vo=class extends lo{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t}),this.codec=new So({timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer()}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":(this.getJsonRpcVersion()==="1.0"?"JsonRpc10.":"JsonProtocol.")+q.of(t).getName()}),(Mr(t.input)==="unit"||!o.body)&&(o.body="{}");try{o.headers["content-length"]=String((0,dF.calculateBodyLength)(o.body))}catch{}return o}getPayloadCodec(){return this.codec}async handleError(t,r,n,o,s){let i=Eo(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var XE,lF=y(()=>{d();fp();XE=class extends vo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}}});var QE,uF=y(()=>{d();fp();QE=class extends vo{constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}}});var pF,ZE,mF=y(()=>{d();kr();Re();pF=T(ua());mp();ma();ZE=class extends co{serializer;deserializer;codec;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_EPOCH_SECONDS},httpBindings:!0,jsonName:!0};this.codec=new So(r),this.serializer=new fo(this.codec.createSerializer(),r),this.deserializer=new mo(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=q.of(t.input),i=s.getMemberSchemas();if(!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/json"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/json")}if(o.headers["content-type"]&&!o.body&&(o.body="{}"),o.body)try{o.headers["content-length"]=String((0,pF.calculateBodyLength)(o.body))}catch{}return o}async handleError(t,r,n,o,s){let i=Eo(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().jsonName??E;_[E]=this.codec.createDeserializer().readObject(S,o[v])}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var fF,Ice,hF=y(()=>{d();fF=T(oe()),Ice=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,fF.expectUnion)(e)}});function hp(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r}function yF(e){return typeof e<"u"}var gF,Ace,Rce,xce,ga,gp=y(()=>{"use strict";d();gF=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ace=gF+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Rce="["+gF+"]["+Ace+"]*",xce=new RegExp("^"+Rce+"$");ga=function(e){let t=xce.exec(e);return!(t===null||typeof t>"u")}});function bF(e,t){t=Object.assign({},Oce,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=EF(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=SF(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!Bce(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",_e("InvalidTag",f,et(e,s))}let l=Mce(e,s);if(l===!1)return _e("InvalidAttr","Attributes for '"+c+"' have open quote.",et(e,s));let p=l.value;if(s=l.index,p[p.length-1]==="/"){let f=s-p.length;p=p.substring(0,p.length-1);let h=vF(p,t);if(h===!0)n=!0;else return _e(h.err.code,h.err.msg,et(e,f+h.err.line))}else if(a)if(l.tagClosed){if(p.trim().length>0)return _e("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",et(e,i));if(r.length===0)return _e("InvalidTag","Closing tag '"+c+"' has not been opened.",et(e,i));{let f=r.pop();if(c!==f.tagName){let h=et(e,f.tagStartPos);return _e("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",et(e,i))}r.length==0&&(o=!0)}}else return _e("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",et(e,s));else{let f=vF(p,t);if(f!==!0)return _e(f.err.code,f.err.msg,et(e,s-p.length+f.err.line));if(o===!0)return _e("InvalidXml","Multiple possible root nodes found.",et(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=SF(e,s);continue}else if(e[s+1]==="?"){if(s=EF(e,++s),s.err)return s}else break;else if(e[s]==="&"){let f=Uce(e,s);if(f==-1)return _e("InvalidChar","char '&' is not expected.",et(e,s));s=f}else if(o===!0&&!_F(e[s]))return _e("InvalidXml","Extra text at the end",et(e,s));e[s]==="<"&&s--}}else{if(_F(e[s]))continue;return _e("InvalidChar","char '"+e[s]+"' is not expected.",et(e,s))}if(n){if(r.length==1)return _e("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",et(e,r[0].tagStartPos));if(r.length>0)return _e("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return _e("InvalidXml","Start tag expected.",1);return!0}function _F(e){return e===" "||e==="	"||e===`
`||e==="\r"}function EF(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return _e("InvalidXml","XML declaration allowed only at the start of the document.",et(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function SF(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}function Mce(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Nce||e[t]===Dce)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}function vF(e,t){let r=hp(e,kce),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return _e("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",ya(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return _e("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",ya(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return _e("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",ya(r[o]));let s=r[o][2];if(!Fce(s))return _e("InvalidAttr","Attribute '"+s+"' is an invalid name.",ya(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return _e("InvalidAttr","Attribute '"+s+"' is repeated.",ya(r[o]))}return!0}function Lce(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Uce(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Lce(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function _e(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Fce(e){return ga(e)}function Bce(e){return ga(e)}function et(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ya(e){return e.startIndex+e[1].length}var Oce,Nce,Dce,kce,wF=y(()=>{"use strict";d();gp();Oce={allowBooleanAttributes:!1,unpairedTags:[]};Nce='"',Dce="'";kce=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g")});var jce,TF,CF=y(()=>{d();jce={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e},captureMetaData:!1},TF=function(e){return Object.assign({},jce,e)}});var yp,pt,_p=y(()=>{"use strict";d();typeof Symbol!="function"?yp="@@xmlMetadata":yp=Symbol("XML Node Metadata");pt=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t,r){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),r!==void 0&&(this.child[this.child.length-1][yp]={startIndex:r})}static getMetaDataSymbol(){return yp}}});function eS(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&bo(e,"!ENTITY",t)){t+=7;let a,c;[a,c,t]=Hce(e,t+1),c.indexOf("&")===-1&&(r[a]={regx:RegExp(`&${a};`,"g"),val:c})}else if(o&&bo(e,"!ELEMENT",t)){t+=8;let{index:a}=qce(e,t+1);t=a}else if(o&&bo(e,"!ATTLIST",t))t+=8;else if(o&&bo(e,"!NOTATION",t)){t+=9;let{index:a}=$ce(e,t+1);t=a}else if(bo(e,"!--",t))s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Hce(e,t){t=vn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t])&&e[t]!=='"'&&e[t]!=="'";)r+=e[t],t++;if(tS(r),t=vn(e,t),e.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(e[t]==="%")throw new Error("Parameter entities are not supported");let n="";return[t,n]=Ep(e,t,"entity"),t--,[r,n,t]}function $ce(e,t){t=vn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;tS(r),t=vn(e,t);let n=e.substring(t,t+6).toUpperCase();if(n!=="SYSTEM"&&n!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${n}"`);t+=n.length,t=vn(e,t);let o=null,s=null;if(n==="PUBLIC")[t,o]=Ep(e,t,"publicIdentifier"),t=vn(e,t),(e[t]==='"'||e[t]==="'")&&([t,s]=Ep(e,t,"systemIdentifier"));else if(n==="SYSTEM"&&([t,s]=Ep(e,t,"systemIdentifier"),!s))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:r,publicIdentifier:o,systemIdentifier:s,index:--t}}function Ep(e,t,r){let n="",o=e[t];if(o!=='"'&&o!=="'")throw new Error(`Expected quoted string, found "${o}"`);for(t++;t<e.length&&e[t]!==o;)n+=e[t],t++;if(e[t]!==o)throw new Error(`Unterminated ${r} value`);return t++,[t,n]}function qce(e,t){t=vn(e,t);let r="";for(;t<e.length&&!/\s/.test(e[t]);)r+=e[t],t++;if(!tS(r))throw new Error(`Invalid element name: "${r}"`);t=vn(e,t);let n="";if(e[t]==="E"&&bo(e,"MPTY",t))t+=4;else if(e[t]==="A"&&bo(e,"NY",t))t+=2;else if(e[t]==="("){for(t++;t<e.length&&e[t]!==")";)n+=e[t],t++;if(e[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${e[t]}"`);return{elementName:r,contentModel:n.trim(),index:t}}function bo(e,t,r){for(let n=0;n<t.length;n++)if(t[n]!==e[r+n+1])return!1;return!0}function tS(e){if(ga(e))return e;throw new Error(`Invalid entity name ${e}`)}var vn,PF=y(()=>{d();gp();vn=(e,t)=>{for(;t<e.length&&/\s/.test(e[t]);)t++;return t}});function rS(e,t={}){if(t=Object.assign({},Gce,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(e==="0")return 0;if(t.hex&&zce.test(r))return Yce(r,16);if(r.search(/.+[eE].+/)!==-1)return Kce(e,r,t);{let n=Vce.exec(r);if(n){let o=n[1]||"",s=n[2],i=Jce(n[3]),a=o?e[s.length+1]===".":e[s.length]===".";if(!t.leadingZeros&&(s.length>1||s.length===1&&!a))return e;{let c=Number(r),l=String(c);if(c===0)return c;if(l.search(/[eE]/)!==-1)return t.eNotation?c:e;if(r.indexOf(".")!==-1)return l==="0"||l===i||l===`${o}${i}`?c:e;let p=s?i:r;return s?p===l||o+p===l?c:e:p===l||p===o+l?c:e}}else return e}}function Kce(e,t,r){if(!r.eNotation)return e;let n=t.match(Wce);if(n){let o=n[1]||"",s=n[3].indexOf("e")===-1?"E":"e",i=n[2],a=o?e[i.length+1]===s:e[i.length]===s;return i.length>1&&a?e:i.length===1&&(n[3].startsWith(`.${s}`)||n[3][0]===s)?Number(t):r.leadingZeros&&!a?(t=(n[1]||"")+n[3],Number(t)):e}else return e}function Jce(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substring(0,e.length-1))),e}function Yce(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var zce,Vce,Gce,Wce,IF=y(()=>{d();zce=/^[-+]?0x[a-fA-F0-9]+$/,Vce=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Gce={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Wce=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/});function nS(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(let r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}var AF=y(()=>{d()});function Xce(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Qce(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?sS(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?sS(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Zce(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}function tde(e,t,r){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){let n=hp(e,ede),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]);if(this.ignoreAttributesFn(a,t))continue;let c=n[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let p=this.options.attributeValueProcessor(a,c,t);p==null?s[l]=c:typeof p!=typeof c||p!==c?s[l]=p:s[l]=sS(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}function nde(e,t,r,n){this.options.captureMetaData||(n=void 0);let o=this.options.updateTag(t.tagname,r,t[":@"]);o===!1||(typeof o=="string"&&(t.tagname=o),e.addChild(t,n))}function sde(e,t,r,n){return e&&(n===void 0&&(n=t.child.length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function ide(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function ade(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function wo(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function oS(e,t,r,n=">"){let o=ade(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let p=c;if(r){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1),l=c!==o.data.substr(f+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:l,rawTagName:p}}function cde(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=wo(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=wo(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=wo(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=wo(e,"]]>",r,"StopNode is not closed.")-2;else{let s=oS(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function sS(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:rS(e,r)}else return yF(e)?e:""}var _a,ede,rde,ode,RF=y(()=>{"use strict";d();gp();_p();PF();IF();AF();_a=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCodePoint(Number.parseInt(n,16))}},this.addExternalEntities=Xce,this.parseXml=rde,this.parseTextData=Qce,this.resolveNameSpace=Zce,this.buildAttributesMap=tde,this.isItStopNode=ide,this.replaceEntitiesValue=ode,this.readStopNodeData=cde,this.saveTextToParentTag=sde,this.addChild=nde,this.ignoreAttributesFn=nS(this.options.ignoreAttributes)}};ede=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");rde=function(e){e=e.replace(/\r\n?/g,`
`);let t=new pt("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=wo(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let f=c.indexOf(":");f!==-1&&(c=c.substr(f+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let l=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let p=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(p=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):p=o.lastIndexOf("."),o=o.substring(0,p),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=oS(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new pt(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o,s)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=wo(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=eS(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=wo(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);n=this.saveTextToParentTag(n,r,o);let l=this.parseTextData(c,r.tagname,o,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=oS(e,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,p=a.tagExp,f=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let g=r;g&&this.options.unpairedTags.indexOf(g.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c);let _=s;if(this.isItStopNode(this.options.stopNodes,o,c)){let E="";if(p.length>0&&p.lastIndexOf("/")===p.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let v=this.readStopNodeData(e,l,h+1);if(!v)throw new Error(`Unexpected end of ${l}`);s=v.i,E=v.tagContent}let S=new pt(c);c!==p&&f&&(S[":@"]=this.buildAttributesMap(p,o,c)),E&&(E=this.parseTextData(E,c,o,!0,f,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),S.add(this.options.textNodeName,E),this.addChild(r,S,o,_)}else{if(p.length>0&&p.lastIndexOf("/")===p.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),o=o.substr(0,o.length-1),p=c):p=p.substr(0,p.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let E=new pt(c);c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),o=o.substr(0,o.lastIndexOf("."))}else{let E=new pt(c);this.tagsNodeStack.push(r),c!==p&&f&&(E[":@"]=this.buildAttributesMap(p,o,c)),this.addChild(r,E,o,_),r=E}n="",s=h}}else n+=e[s];return t.child};ode=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e}});function aS(e,t){return xF(e,t)}function xF(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=dde(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=xF(i[a],t,c),p=ude(l,t);i[iS]!==void 0&&(l[iS]=i[iS]),i[":@"]?lde(l,i[":@"],c,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(l)):t.isArray(a,c,p)?o[a]=[l]:o[a]=l}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function dde(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function lde(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function ude(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}var iS,OF=y(()=>{"use strict";d();_p();iS=pt.getMetaDataSymbol()});var bn,NF=y(()=>{d();CF();RF();OF();wF();_p();bn=class{constructor(t){this.externalEntities={},this.options=TF(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=bF(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new _a(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:aS(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}static getMetaDataSymbol(){return pt.getMetaDataSymbol()}}});var cS=y(()=>{"use strict";d();NF()});var DF,MF,To,Sp=y(()=>{d();kr();Re();DF=T(oe()),MF=T(Xe());cS();En();To=class extends qe{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new po(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let o=q.of(t),s=o.getMemberSchemas();if(o.isStructSchema()&&o.isMemberSchema()&&!!Object.values(s).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(s)[0];return s[p].isBlobSchema()?l[p]=r:l[p]=this.read(s[p],r),l}let a=(this.serdeContext?.utf8Encoder??MF.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=q.of(t),o=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!o.sparse,i=!!o.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),l=[],p=c.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],h=Array.isArray(f)?f:[f];for(let g of h)(g!=null||s)&&l.push(this.readSchema(c,g));return l}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=c.getMergedTraits().xmlName??"key",h=l.getMergedTraits().xmlName??"value";for(let g of p){let _=g[f],E=g[h];(E!=null||s)&&(a[_]=this.readSchema(l,E))}return a}if(n.isStructSchema()){for(let[c,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??c;r[f]!=null&&(a[c]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r=new bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(a,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let n;try{n=r.parse(t,!0)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let o="#text",s=Object.keys(n)[0],i=n[s];return i[o]&&(i[s]=i[o],delete i[o]),(0,DF.getValueFromTextNode)(i)}return{}}}});var kF,LF,vp,UF=y(()=>{d();kr();Re();Pt();kF=T(oe()),LF=T(lt());En();vp=class extends qe{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let o=q.of(t);if(n&&!n.endsWith(".")&&(n+="."),o.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??LF.toBase64)(r)));else if(o.isBooleanSchema()||o.isNumericSchema()||o.isStringSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(o.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof ke?r.string:String(r)));else if(o.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),uo(o,this.settings)){case O.TIMESTAMP_DATE_TIME:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case O.TIMESTAMP_HTTP_DATE:this.writeValue((0,kF.dateToUtcString)(r));break;case O.TIMESTAMP_EPOCH_SECONDS:this.writeValue(String(r.getTime()/1e3));break}}else{if(o.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${o.getName(!0)}`);if(o.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let s=o.getValueSchema(),i=this.settings.flattenLists||o.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let l=this.getKey("member",s.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${l}.${a}`;this.write(s,c,p),++a}}}else if(o.isMapSchema()){if(r&&typeof r=="object"){let s=o.getKeySchema(),i=o.getValueSchema(),a=o.getMergedTraits().xmlFlattened,c=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let f=this.getKey("key",s.getMergedTraits().xmlName),h=a?`${n}${c}.${f}`:`${n}entry.${c}.${f}`,g=this.getKey("value",i.getMergedTraits().xmlName),_=a?`${n}${c}.${g}`:`${n}entry.${c}.${g}`;this.write(s,l,h),this.write(i,p,_),++c}}}else if(o.isStructSchema()){if(r&&typeof r=="object")for(let[s,i]of o.structIterator()){if(r[s]==null)continue;let a=this.getKey(s,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[s],c)}}else if(!o.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${o.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${cr(t)}=`}writeValue(t){this.buffer+=cr(t)}}});var FF,Ea,dS=y(()=>{d();kr();Re();FF=T(ua());Sp();UF();Ea=class extends lo{options;serializer;deserializer;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new vp(r),this.deserializer=new To(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n);o.path.endsWith("/")||(o.path+="/"),Object.assign(o.headers,{"content-type":"application/x-www-form-urlencoded"}),(Mr(t.input)==="unit"||!o.body)&&(o.body=""),o.body=`Action=${t.name.split("#")[1]}&Version=${this.options.version}`+o.body,o.body.endsWith("&")&&(o.body=o.body.slice(-1));try{o.headers["content-length"]=String((0,FF.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){let o=this.deserializer,s=q.of(t.output),i={};if(n.statusCode>=300){let p=await Ct(n.body,r);p.byteLength>0&&Object.assign(i,await o.read(O.DOCUMENT,p)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let p in n.headers){let f=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=f}let a=s.isStructSchema()&&this.useNestedResult()?t.name.split("#")[1]+"Result":void 0,c=await Ct(n.body,r);return c.byteLength>0&&Object.assign(i,await o.read(s,c,a)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,o,s){let i=this.loadQueryErrorCode(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=this.loadQueryError(o),p=Qe.for(a),f;try{f=p.find(S=>q.of(S).getMergedTraits().awsQueryError?.[0]===c),f||(f=p.getSchema(i))}catch{let v=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(v){let w=v.ctor;throw Object.assign(new w(c),l)}throw new Error(c)}let h=q.of(f),g=this.loadQueryErrorMessage(o),_=new f.ctor(g),E={};for(let[S,v]of h.structIterator()){let w=v.getMergedTraits().xmlName??S,A=l[w]??o[w];E[S]=this.deserializer.readSchema(v,A)}throw Object.assign(_,{$metadata:s,$response:n,$fault:h.getMergedTraits().error,message:g,...E}),_}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}}});var lS,BF=y(()=>{d();dS();lS=class extends Ea{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var jF,Sa,uS,pS,mS=y(()=>{d();jF=T(oe());cS();WE();Sa=(e,t)=>up(e,t).then(r=>{if(r.length){let n=new bn({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o;try{o=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,jF.getValueFromTextNode)(a)}return{}}),uS=async(e,t)=>{let r=await Sa(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},pS=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var At,fS,bp,va,hS=y(()=>{d();At=T(Ug());Re();Pt();fS=T(oe()),bp=T(lt());En();va=class extends qe{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=q.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??bp.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let o=t.getMergedTraits(),s=t.isMemberSchema()&&!o.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():o.xmlName??t.getName();if(!s||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=At.XmlNode.of(s),[a,c]=this.getXmlnsAttribute(t,n);c&&i.addAttribute(a,c);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,c);else if(p.isMapSchema())this.writeMap(p,f,i,c);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,c));else{let h=At.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,h,c),i.addChildNode(h)}}}return i}writeList(t,r,n,o){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let s=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,l=!!s.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,o),h=(g,_)=>{if(i.isListSchema())this.writeList(i,Array.isArray(_)?_:[_],g,f);else if(i.isMapSchema())this.writeMap(i,_,g,f);else if(i.isStructSchema()){let E=this.writeStruct(i,_,f);g.addChildNode(E.withName(l?s.xmlName??t.getMemberName():a.xmlName??"member"))}else{let E=At.XmlNode.of(l?s.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,_,E,f),g.addChildNode(E)}};if(l)for(let g of r)(c||g!=null)&&h(n,g);else{let g=At.XmlNode.of(s.xmlName??t.getMemberName());f&&g.addAttribute(p,f);for(let _ of r)(c||_!=null)&&h(g,_);n.addChildNode(g)}}writeMap(t,r,n,o,s=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),h=f.xmlName??"value",g=!!f.sparse,_=!!i.xmlFlattened,[E,S]=this.getXmlnsAttribute(t,o),v=(w,A,I)=>{let C=At.XmlNode.of(l,A),[k,Ve]=this.getXmlnsAttribute(a,S);Ve&&C.addAttribute(k,Ve),w.addChildNode(C);let se=At.XmlNode.of(h);p.isListSchema()?this.writeList(p,I,se,S):p.isMapSchema()?this.writeMap(p,I,se,S,!0):p.isStructSchema()?se=this.writeStruct(p,I,S):this.writeSimpleInto(p,I,se,S),w.addChildNode(se)};if(_){for(let[w,A]of Object.entries(r))if(g||A!=null){let I=At.XmlNode.of(i.xmlName??t.getMemberName());v(I,w,A),n.addChildNode(I)}}else{let w;s||(w=At.XmlNode.of(i.xmlName??t.getMemberName()),S&&w.addAttribute(E,S),n.addChildNode(w));for(let[A,I]of Object.entries(r))if(g||I!=null){let C=At.XmlNode.of("entry");v(C,A,I),(s?n:w).addChildNode(C)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=q.of(t),o=null;if(r&&typeof r=="object")if(n.isBlobSchema())o=(this.serdeContext?.base64Encoder??bp.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date){let s=this.settings.timestampFormat;switch(s.useTrait?n.getSchema()===O.TIMESTAMP_DEFAULT?s.default:n.getSchema()??s.default:s.default){case O.TIMESTAMP_DATE_TIME:o=r.toISOString().replace(".000Z","Z");break;case O.TIMESTAMP_HTTP_DATE:o=(0,fS.dateToUtcString)(r);break;case O.TIMESTAMP_EPOCH_SECONDS:o=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),o=(0,fS.dateToUtcString)(r);break}}else{if(n.isBigDecimalSchema()&&r)return r instanceof ke?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isStringSchema()||n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(o=String(r)),o===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return o}writeSimpleInto(t,r,n,o){let s=this.writeSimple(t,r),i=q.of(t),a=new At.XmlText(s),[c,l]=this.getXmlnsAttribute(i,o);l&&n.addAttribute(c,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[o,s]=n.xmlNamespace??[];return s&&s!==r?[o?`xmlns:${o}`:"xmlns",s]:[void 0,void 0]}}});var ba,gS=y(()=>{d();En();Sp();hS();ba=class extends qe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new va(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new To(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var HF,yS,$F=y(()=>{d();kr();Re();HF=T(ua());mS();gS();yS=class extends co{codec;serializer;deserializer;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:O.TIMESTAMP_DATE_TIME},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new ba(r),this.serializer=new fo(this.codec.createSerializer(),r),this.deserializer=new mo(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let o=await super.serializeRequest(t,r,n),s=q.of(t.input),i=s.getMemberSchemas();if(o.path=String(o.path).split("/").filter(a=>a!=="{Bucket}").join("/")||"/",!o.headers["content-type"]){let a=Object.values(i).find(c=>!!c.getMergedTraits().httpPayload);if(a){let c=a.getMergedTraits().mediaType;c?o.headers["content-type"]=c:a.isStringSchema()?o.headers["content-type"]="text/plain":a.isBlobSchema()?o.headers["content-type"]="application/octet-stream":o.headers["content-type"]="application/xml"}else s.isUnitSchema()||Object.values(i).find(l=>{let{httpQuery:p,httpQueryParams:f,httpHeader:h,httpLabel:g,httpPrefixHeaders:_}=l.getMergedTraits();return!p&&!f&&!h&&!g&&_===void 0})&&(o.headers["content-type"]="application/xml")}if(o.headers["content-type"]==="application/xml"&&typeof o.body=="string"&&(o.body='<?xml version="1.0" encoding="UTF-8"?>'+o.body),o.body)try{o.headers["content-length"]=String((0,HF.calculateBodyLength)(o.body))}catch{}return o}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,o,s){let i=pS(n,o)??"Unknown",a=this.options.defaultNamespace,c=i;i.includes("#")&&([a,c]=i.split("#"));let l=Qe.for(a),p;try{p=l.getSchema(i)}catch{let S=Qe.for("smithy.ts.sdk.synthetic."+a).getBaseException();if(S){let v=S.ctor;throw Object.assign(new v(c),o)}throw new Error(c)}let f=q.of(p),h=o.Error?.message??o.Error?.Message??o.message??o.Message??"Unknown",g=new p.ctor(h);await this.deserializeHttpMessage(p,r,n,o);let _={};for(let[E,S]of f.structIterator()){let v=S.getMergedTraits().xmlName??E,w=o.Error?.[v]??o[v];_[E]=this.codec.createDeserializer().readSchema(S,w)}throw Object.assign(g,{$metadata:s,$response:n,$fault:f.getMergedTraits().error,message:h,..._}),g}}});var qF=y(()=>{d();jU();lF();uF();fp();mF();mp();JE();YE();hF();ma();BF();dS();$F();gS();Sp();hS();mS()});var zF={};He(zF,{AWSSDKSigV4Signer:()=>JL,AwsEc2QueryProtocol:()=>lS,AwsJson1_0Protocol:()=>XE,AwsJson1_1Protocol:()=>QE,AwsJsonRpcProtocol:()=>vo,AwsQueryProtocol:()=>Ea,AwsRestJsonProtocol:()=>ZE,AwsRestXmlProtocol:()=>yS,AwsSdkSigV4ASigner:()=>Qu,AwsSdkSigV4Signer:()=>ut,JsonCodec:()=>So,JsonShapeDeserializer:()=>fa,JsonShapeSerializer:()=>ha,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>da,NODE_SIGV4A_CONFIG_OPTIONS:()=>aae,XmlCodec:()=>ba,XmlShapeDeserializer:()=>To,XmlShapeSerializer:()=>va,_toBool:()=>Mae,_toNum:()=>kae,_toStr:()=>Dae,awsExpectUnion:()=>Ice,emitWarningIfUnsupportedVersion:()=>ia,getBearerTokenEnvKey:()=>PE,loadRestJsonErrorCode:()=>Eo,loadRestXmlErrorCode:()=>pS,parseJsonBody:()=>hs,parseJsonErrorBody:()=>KE,parseXmlBody:()=>Sa,parseXmlErrorBody:()=>uS,resolveAWSSDKSigV4Config:()=>xae,resolveAwsSdkSigV4AConfig:()=>iae,resolveAwsSdkSigV4Config:()=>fs,setCredentialFeature:()=>go,setFeature:()=>Wie,setTokenFeature:()=>Kie,state:()=>EE,validateSigningProperties:()=>ca});var ur=y(()=>{d();Xu();BU();qF()});var Cp=b((hVe,rB)=>{"use strict";d();var Tp=Object.defineProperty,pde=Object.getOwnPropertyDescriptor,mde=Object.getOwnPropertyNames,fde=Object.prototype.hasOwnProperty,Fr=(e,t)=>Tp(e,"name",{value:t,configurable:!0}),hde=(e,t)=>{for(var r in t)Tp(e,r,{get:t[r],enumerable:!0})},gde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mde(t))!fde.call(e,o)&&o!==r&&Tp(e,o,{get:()=>t[o],enumerable:!(n=pde(t,o))||n.enumerable});return e},yde=e=>gde(Tp({},"__esModule",{value:!0}),e),KF={};hde(KF,{DEFAULT_UA_APP_ID:()=>JF,getUserAgentMiddlewareOptions:()=>tB,getUserAgentPlugin:()=>Cde,resolveUserAgentConfig:()=>XF,userAgentMiddleware:()=>eB});rB.exports=yde(KF);var _de=(Lt(),z(mE)),JF=void 0;function YF(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}Fr(YF,"isValidUserAgentAppId");function XF(e){let t=(0,_de.normalizeProvider)(e.userAgentAppId??JF),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Fr(async()=>{let n=await t();if(!YF(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Fr(XF,"resolveUserAgentConfig");var Ede=Yu(),Sde=he(),pr=(ur(),z(zF)),vde=/\d{12}\.ddb/;async function QF(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,pr.setFeature)(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let s=await t.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,pr.setFeature)(e,"RETRY_MODE_ADAPTIVE","F"):(0,pr.setFeature)(e,"RETRY_MODE_STANDARD","E"):(0,pr.setFeature)(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let s=e.endpointV2;switch(String(s?.url?.hostname).match(vde)&&(0,pr.setFeature)(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":(0,pr.setFeature)(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,pr.setFeature)(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,pr.setFeature)(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let o=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(o?.$source){let s=o;s.accountId&&(0,pr.setFeature)(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(s.$source??{}))(0,pr.setFeature)(e,i,a)}}Fr(QF,"checkFeatures");var VF="user-agent",_S="x-amz-user-agent",GF=" ",ES="/",bde=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,wde=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,WF="-",Tde=1024;function ZF(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Tde){t.length?t+=","+n:t+=n;continue}break}return t}Fr(ZF,"encodeFeatures");var eB=Fr(e=>(t,r)=>async n=>{let{request:o}=n;if(!Sde.HttpRequest.isInstance(o))return t(n);let{headers:s}=o,i=r?.userAgent?.map(wp)||[],a=(await e.defaultUserAgentProvider()).map(wp);await QF(r,e,n);let c=r;a.push(`m/${ZF(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(wp)||[],p=await e.userAgentAppId();p&&a.push(wp([`app/${p}`]));let f=(0,Ede.getUserAgentPrefix)(),h=(f?[f]:[]).concat([...a,...i,...l]).join(GF),g=[...a.filter(_=>_.startsWith("aws-sdk-")),...l].join(GF);return e.runtime!=="browser"?(g&&(s[_S]=s[_S]?`${s[VF]} ${g}`:g),s[VF]=h):s[_S]=h,t({...n,request:o})},"userAgentMiddleware"),wp=Fr(e=>{let t=e[0].split(ES).map(i=>i.replace(bde,WF)).join(ES),r=e[1]?.replace(wde,WF),n=t.indexOf(ES),o=t.substring(0,n),s=t.substring(n+1);return o==="api"&&(s=s.toLowerCase()),[o,s,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},"escapeUserAgent"),tB={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Cde=Fr(e=>({applyToStack:Fr(t=>{t.add(eB(e),tB)},"applyToStack")}),"getUserAgentPlugin")});var aB=b((yVe,iB)=>{d();var Pp=Object.defineProperty,Pde=Object.getOwnPropertyDescriptor,Ide=Object.getOwnPropertyNames,Ade=Object.prototype.hasOwnProperty,nB=(e,t)=>Pp(e,"name",{value:t,configurable:!0}),Rde=(e,t)=>{for(var r in t)Pp(e,r,{get:t[r],enumerable:!0})},xde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ide(t))!Ade.call(e,o)&&o!==r&&Pp(e,o,{get:()=>t[o],enumerable:!(n=Pde(t,o))||n.enumerable});return e},Ode=e=>xde(Pp({},"__esModule",{value:!0}),e),oB={};Rde(oB,{SelectorType:()=>sB,booleanSelector:()=>Nde,numberSelector:()=>Dde});iB.exports=Ode(oB);var Nde=nB((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),Dde=nB((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),sB=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(sB||{})});var gs=b((EVe,_B)=>{d();var Ap=Object.defineProperty,Mde=Object.getOwnPropertyDescriptor,kde=Object.getOwnPropertyNames,Lde=Object.prototype.hasOwnProperty,Ut=(e,t)=>Ap(e,"name",{value:t,configurable:!0}),Ude=(e,t)=>{for(var r in t)Ap(e,r,{get:t[r],enumerable:!0})},Fde=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kde(t))!Lde.call(e,o)&&o!==r&&Ap(e,o,{get:()=>t[o],enumerable:!(n=Mde(t,o))||n.enumerable});return e},Bde=e=>Fde(Ap({},"__esModule",{value:!0}),e),lB={};Ude(lB,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>pB,CONFIG_USE_FIPS_ENDPOINT:()=>fB,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>jde,DEFAULT_USE_FIPS_ENDPOINT:()=>$de,ENV_USE_DUALSTACK_ENDPOINT:()=>uB,ENV_USE_FIPS_ENDPOINT:()=>mB,NODE_REGION_CONFIG_FILE_OPTIONS:()=>Kde,NODE_REGION_CONFIG_OPTIONS:()=>Wde,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>Hde,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>qde,REGION_ENV_NAME:()=>hB,REGION_INI_NAME:()=>gB,getRegionInfo:()=>Zde,resolveCustomEndpointsConfig:()=>zde,resolveEndpointsConfig:()=>Gde,resolveRegionConfig:()=>Jde});_B.exports=Bde(lB);var wn=aB(),uB="AWS_USE_DUALSTACK_ENDPOINT",pB="use_dualstack_endpoint",jde=!1,Hde={environmentVariableSelector:e=>(0,wn.booleanSelector)(e,uB,wn.SelectorType.ENV),configFileSelector:e=>(0,wn.booleanSelector)(e,pB,wn.SelectorType.CONFIG),default:!1},mB="AWS_USE_FIPS_ENDPOINT",fB="use_fips_endpoint",$de=!1,qde={environmentVariableSelector:e=>(0,wn.booleanSelector)(e,mB,wn.SelectorType.ENV),configFileSelector:e=>(0,wn.booleanSelector)(e,fB,wn.SelectorType.CONFIG),default:!1},Ip=Or(),zde=Ut(e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:o}=e;return Object.assign(e,{tls:t??!0,endpoint:(0,Ip.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Ip.normalizeProvider)(o??!1)})},"resolveCustomEndpointsConfig"),Vde=Ut(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),Gde=Ut(e=>{let t=(0,Ip.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o,tls:s}=e;return Object.assign(e,{tls:s??!0,endpoint:r?(0,Ip.normalizeProvider)(typeof r=="string"?o(r):r):()=>Vde({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},"resolveEndpointsConfig"),hB="AWS_REGION",gB="region",Wde={environmentVariableSelector:e=>e[hB],configFileSelector:e=>e[gB],default:()=>{throw new Error("Region is missing")}},Kde={preferredFile:"credentials"},yB=Ut(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),cB=Ut(e=>yB(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Jde=Ut(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return cB(t);let n=await t();return cB(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return yB(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),dB=Ut((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),Yde=Ut((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),Xde=Ut((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),Qde=Ut((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),Zde=Ut((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{let i=Xde(e,{partitionHash:s}),a=e in o?e:s[i]?.endpoint??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},l=dB(o[a]?.variants,c),p=dB(s[i]?.variants,c),f=Yde(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let h=Qde(f,{signingRegion:o[a]?.signingRegion,regionRegex:s[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...h&&{signingRegion:h},...o[a]?.signingService&&{signingService:o[a].signingService}}},"getRegionInfo")});var vS=b((vVe,wB)=>{d();var Rp=Object.defineProperty,ele=Object.getOwnPropertyDescriptor,tle=Object.getOwnPropertyNames,rle=Object.prototype.hasOwnProperty,SB=(e,t)=>Rp(e,"name",{value:t,configurable:!0}),nle=(e,t)=>{for(var r in t)Rp(e,r,{get:t[r],enumerable:!0})},ole=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of tle(t))!rle.call(e,o)&&o!==r&&Rp(e,o,{get:()=>t[o],enumerable:!(n=ele(t,o))||n.enumerable});return e},sle=e=>ole(Rp({},"__esModule",{value:!0}),e),vB={};nle(vB,{contentLengthMiddleware:()=>SS,contentLengthMiddlewareOptions:()=>bB,getContentLengthPlugin:()=>ale});wB.exports=sle(vB);var ile=he(),EB="content-length";function SS(e){return t=>async r=>{let n=r.request;if(ile.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(EB)===-1)try{let i=e(o);n.headers={...n.headers,[EB]:String(i)}}catch{}}return t({...r,request:n})}}SB(SS,"contentLengthMiddleware");var bB={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ale=SB(e=>({applyToStack:t=>{t.add(SS(e.bodyLengthChecker),bB)}}),"getContentLengthPlugin")});var ys=b(xp=>{"use strict";d();Object.defineProperty(xp,"__esModule",{value:!0});xp.getHomeDir=void 0;var cle=M("os"),dle=M("path"),bS={},lle=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",ule=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${dle.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=lle();return bS[o]||(bS[o]=(0,cle.homedir)()),bS[o]};xp.getHomeDir=ule});var wS=b(Op=>{"use strict";d();Object.defineProperty(Op,"__esModule",{value:!0});Op.getSSOTokenFilepath=void 0;var ple=M("crypto"),mle=M("path"),fle=ys(),hle=e=>{let r=(0,ple.createHash)("sha1").update(e).digest("hex");return(0,mle.join)((0,fle.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Op.getSSOTokenFilepath=hle});var TB=b(Np=>{"use strict";d();Object.defineProperty(Np,"__esModule",{value:!0});Np.getSSOTokenFromFile=void 0;var gle=M("fs"),yle=wS(),{readFile:_le}=gle.promises,Ele=async e=>{let t=(0,yle.getSSOTokenFilepath)(e),r=await _le(t,"utf8");return JSON.parse(r)};Np.getSSOTokenFromFile=Ele});var CS=b(Dp=>{"use strict";d();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.slurpFile=void 0;var Sle=M("fs"),{readFile:vle}=Sle.promises,TS={},ble=(e,t)=>((!TS[e]||t?.ignoreCache)&&(TS[e]=vle(e,"utf8")),TS[e]);Dp.slurpFile=ble});var RS=b((OVe,Ta)=>{d();var Lp=Object.defineProperty,wle=Object.getOwnPropertyDescriptor,Tle=Object.getOwnPropertyNames,Cle=Object.prototype.hasOwnProperty,Rt=(e,t)=>Lp(e,"name",{value:t,configurable:!0}),Ple=(e,t)=>{for(var r in t)Lp(e,r,{get:t[r],enumerable:!0})},PS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Tle(t))!Cle.call(e,o)&&o!==r&&Lp(e,o,{get:()=>t[o],enumerable:!(n=wle(t,o))||n.enumerable});return e},AS=(e,t,r)=>(PS(e,t,"default"),r&&PS(r,t,"default")),Ile=e=>PS(Lp({},"__esModule",{value:!0}),e),wa={};Ple(wa,{CONFIG_PREFIX_SEPARATOR:()=>Co,DEFAULT_PROFILE:()=>AB,ENV_PROFILE:()=>IB,getProfileName:()=>Ale,loadSharedConfigFiles:()=>xB,loadSsoSessionData:()=>Hle,parseKnownFiles:()=>qle});Ta.exports=Ile(wa);AS(wa,ys(),Ta.exports);var IB="AWS_PROFILE",AB="default",Ale=Rt(e=>e.profile||process.env[IB]||AB,"getProfileName");AS(wa,wS(),Ta.exports);AS(wa,TB(),Ta.exports);var Mp=or(),Rle=Rt(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Co);return r===-1?!1:Object.values(Mp.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(Co),s=r.substring(0,o)===Mp.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),kp=M("path"),xle=ys(),Ole="AWS_CONFIG_FILE",RB=Rt(()=>process.env[Ole]||(0,kp.join)((0,xle.getHomeDir)(),".aws","config"),"getConfigFilepath"),Nle=ys(),Dle="AWS_SHARED_CREDENTIALS_FILE",Mle=Rt(()=>process.env[Dle]||(0,kp.join)((0,Nle.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),kle=ys(),Lle=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Ule=["__proto__","profile __proto__"],IS=Rt(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=Lle.exec(a);if(c){let[,l,,p]=c;Object.values(Mp.IniSectionType).includes(l)&&(r=[l,p].join(Co))}else r=a;if(Ule.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let p=n?[n,c].join(Co):c;t[r][p]=l}}}}return t},"parseIni"),CB=CS(),PB=Rt(()=>({}),"swallowError"),Co=".",xB=Rt(async(e={})=>{let{filepath:t=Mle(),configFilepath:r=RB()}=e,n=(0,kle.getHomeDir)(),o="~/",s=t;t.startsWith(o)&&(s=(0,kp.join)(n,t.slice(2)));let i=r;r.startsWith(o)&&(i=(0,kp.join)(n,r.slice(2)));let a=await Promise.all([(0,CB.slurpFile)(i,{ignoreCache:e.ignoreCache}).then(IS).then(Rle).catch(PB),(0,CB.slurpFile)(s,{ignoreCache:e.ignoreCache}).then(IS).catch(PB)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),Fle=Rt(e=>Object.entries(e).filter(([t])=>t.startsWith(Mp.IniSectionType.SSO_SESSION+Co)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Co)+1)]:n}),{}),"getSsoSessionData"),Ble=CS(),jle=Rt(()=>({}),"swallowError"),Hle=Rt(async(e={})=>(0,Ble.slurpFile)(e.configFilepath??RB()).then(IS).then(Fle).catch(jle),"loadSsoSessionData"),$le=Rt((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),qle=Rt(async e=>{let t=await xB(e);return $le(t.configFile,t.credentialsFile)},"parseKnownFiles")});var Es=b((DVe,DB)=>{d();var Up=Object.defineProperty,zle=Object.getOwnPropertyDescriptor,Vle=Object.getOwnPropertyNames,Gle=Object.prototype.hasOwnProperty,_s=(e,t)=>Up(e,"name",{value:t,configurable:!0}),Wle=(e,t)=>{for(var r in t)Up(e,r,{get:t[r],enumerable:!0})},Kle=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vle(t))!Gle.call(e,o)&&o!==r&&Up(e,o,{get:()=>t[o],enumerable:!(n=zle(t,o))||n.enumerable});return e},Jle=e=>Kle(Up({},"__esModule",{value:!0}),e),NB={};Wle(NB,{loadConfig:()=>eue});DB.exports=Jle(NB);var Ca=la();function xS(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}_s(xS,"getSelectorName");var Yle=_s((e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ca.CredentialsProviderError(r.message||`Not found in ENV: ${xS(e.toString())}`,{logger:t?.logger})}},"fromEnv"),OB=RS(),Xle=_s((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,OB.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,OB.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let p=e(c,t==="config"?o:s);if(p===void 0)throw new Error;return p}catch(l){throw new Ca.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${xS(e.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),Qle=_s(e=>typeof e=="function","isFunction"),Zle=_s(e=>Qle(e)?async()=>await e():(0,Ca.fromStatic)(e),"fromStatic"),eue=_s(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:o,logger:s}=n,i={signingName:o,logger:s};return(0,Ca.memoize)((0,Ca.chain)(Yle(e,i),Xle(t,n),Zle(r)))},"loadConfig")});var UB=b(Fp=>{"use strict";d();Object.defineProperty(Fp,"__esModule",{value:!0});Fp.getEndpointUrlConfig=void 0;var MB=RS(),kB="AWS_ENDPOINT_URL",LB="endpoint_url",tue=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[kB,...r].join("_")];if(n)return n;let o=t[kB];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(MB.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),LB].join(MB.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[LB];if(n)return n},default:void 0});Fp.getEndpointUrlConfig=tue});var OS=b(Bp=>{"use strict";d();Object.defineProperty(Bp,"__esModule",{value:!0});Bp.getEndpointFromConfig=void 0;var rue=Es(),nue=UB(),oue=async e=>(0,rue.loadConfig)((0,nue.getEndpointUrlConfig)(e??""))();Bp.getEndpointFromConfig=oue});var Ss=b((BVe,zB)=>{d();var Hp=Object.defineProperty,sue=Object.getOwnPropertyDescriptor,iue=Object.getOwnPropertyNames,aue=Object.prototype.hasOwnProperty,xt=(e,t)=>Hp(e,"name",{value:t,configurable:!0}),cue=(e,t)=>{for(var r in t)Hp(e,r,{get:t[r],enumerable:!0})},due=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iue(t))!aue.call(e,o)&&o!==r&&Hp(e,o,{get:()=>t[o],enumerable:!(n=sue(t,o))||n.enumerable});return e},lue=e=>due(Hp({},"__esModule",{value:!0}),e),BB={};cue(BB,{endpointMiddleware:()=>$B,endpointMiddlewareOptions:()=>qB,getEndpointFromInstructions:()=>jB,getEndpointPlugin:()=>vue,resolveEndpointConfig:()=>wue,resolveEndpointRequiredConfig:()=>Tue,resolveParams:()=>HB,toEndpointV1:()=>NS});zB.exports=lue(BB);var uue=xt(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),gue(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!hue(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),pue=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,mue=/(\d+\.){3}\d+/,fue=/\.\./,hue=xt(e=>pue.test(e)&&!mue.test(e)&&!fue.test(e),"isDnsCompatibleBucketName"),gue=xt(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),yue=xt((e,t,r)=>{let n=xt(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.accountId??o?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),_ue=OS(),FB=us(),NS=xt(e=>typeof e=="object"?"url"in e?(0,FB.parseUrl)(e.url):e:(0,FB.parseUrl)(e),"toEndpointV1"),jB=xt(async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await(0,_ue.getEndpointFromConfig)(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(NS(i)),r.isCustomEndpoint=!0)}let o=await HB(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),HB=xt(async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[s,i]of Object.entries(o))switch(i.type){case"staticContextParams":n[s]=i.value;break;case"contextParams":n[s]=e[i.name];break;case"clientContextParams":case"builtInParams":n[s]=await yue(i.name,s,r)();break;case"operationContextParams":n[s]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await uue(n),n},"resolveParams"),Eue=(Lt(),z(mE)),jp=Or(),$B=xt(({config:e,instructions:t})=>(r,n)=>async o=>{e.isCustomEndpoint&&(0,Eue.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await jB(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=(0,jp.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...o})},"endpointMiddleware"),Sue=ns(),qB={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Sue.serializerMiddlewareOption.name},vue=xt((e,t)=>({applyToStack:r=>{r.addRelativeTo($B({config:e,instructions:t}),qB)}}),"getEndpointPlugin"),bue=OS(),wue=xt(e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:o}=e,s=r!=null?async()=>NS(await(0,jp.normalizeProvider)(r)()):void 0,a=Object.assign(e,{endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,jp.normalizeProvider)(n??!1),useFipsEndpoint:(0,jp.normalizeProvider)(o??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=(0,bue.getEndpointFromConfig)(e.serviceId)),c),a},"resolveEndpointConfig"),Tue=xt(e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e},"resolveEndpointRequiredConfig")});import Cue from"crypto";function Pa(){return $p>qp.length-16&&(Cue.randomFillSync(qp),$p=0),qp.slice($p,$p+=16)}var qp,$p,DS=y(()=>{d();qp=new Uint8Array(256),$p=qp.length});var VB,GB=y(()=>{d();VB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Pue(e){return typeof e=="string"&&VB.test(e)}var Tn,Ia=y(()=>{d();GB();Tn=Pue});function Po(e,t=0){return Ue[e[t+0]]+Ue[e[t+1]]+Ue[e[t+2]]+Ue[e[t+3]]+"-"+Ue[e[t+4]]+Ue[e[t+5]]+"-"+Ue[e[t+6]]+Ue[e[t+7]]+"-"+Ue[e[t+8]]+Ue[e[t+9]]+"-"+Ue[e[t+10]]+Ue[e[t+11]]+Ue[e[t+12]]+Ue[e[t+13]]+Ue[e[t+14]]+Ue[e[t+15]]}function Iue(e,t=0){let r=Po(e,t);if(!Tn(r))throw TypeError("Stringified UUID is invalid");return r}var Ue,WB,Aa=y(()=>{d();Ia();Ue=[];for(let e=0;e<256;++e)Ue.push((e+256).toString(16).slice(1));WB=Iue});function Aue(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||KB,i=e.clockseq!==void 0?e.clockseq:MS;if(s==null||i==null){let h=e.random||(e.rng||Pa)();s==null&&(s=KB=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=MS=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:LS+1,l=a-kS+(c-LS)/1e4;if(l<0&&e.clockseq===void 0&&(i=i+1&16383),(l<0||a>kS)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kS=a,LS=c,MS=i,a+=122192928e5;let p=((a&268435455)*1e4+c)%4294967296;o[n++]=p>>>24&255,o[n++]=p>>>16&255,o[n++]=p>>>8&255,o[n++]=p&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let h=0;h<6;++h)o[n+h]=s[h];return t||Po(o)}var KB,MS,kS,LS,JB,YB=y(()=>{d();DS();Aa();kS=0,LS=0;JB=Aue});function Rue(e){if(!Tn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var zp,US=y(()=>{d();Ia();zp=Rue});function xue(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Ra(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=xue(o)),typeof s=="string"&&(s=zp(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+o.length);if(l.set(s),l.set(o,s.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,i){a=a||0;for(let p=0;p<16;++p)i[a+p]=l[p];return i}return Po(l)}try{n.name=e}catch{}return n.DNS=Oue,n.URL=Nue,n}var Oue,Nue,FS=y(()=>{d();Aa();US();Oue="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Nue="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import Due from"crypto";function Mue(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Due.createHash("md5").update(e).digest()}var XB,QB=y(()=>{d();XB=Mue});var kue,ZB,e1=y(()=>{d();FS();QB();kue=Ra("v3",48,XB),ZB=kue});import Lue from"crypto";var BS,t1=y(()=>{d();BS={randomUUID:Lue.randomUUID}});function Uue(e,t,r){if(BS.randomUUID&&!t&&!e)return BS.randomUUID();e=e||{};let n=e.random||(e.rng||Pa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Po(n)}var r1,n1=y(()=>{d();t1();DS();Aa();r1=Uue});import Fue from"crypto";function Bue(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Fue.createHash("sha1").update(e).digest()}var o1,s1=y(()=>{d();o1=Bue});var jue,i1,a1=y(()=>{d();FS();s1();jue=Ra("v5",80,o1),i1=jue});var c1,d1=y(()=>{d();c1="00000000-0000-0000-0000-000000000000"});function Hue(e){if(!Tn(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var l1,u1=y(()=>{d();Ia();l1=Hue});var p1={};He(p1,{NIL:()=>c1,parse:()=>zp,stringify:()=>WB,v1:()=>JB,v3:()=>ZB,v4:()=>r1,v5:()=>i1,validate:()=>Tn,version:()=>l1});var m1=y(()=>{d();YB();e1();n1();a1();d1();u1();Ia();Aa();US()});var HS=b((GGe,y1)=>{d();var Vp=Object.defineProperty,$ue=Object.getOwnPropertyDescriptor,que=Object.getOwnPropertyNames,zue=Object.prototype.hasOwnProperty,Io=(e,t)=>Vp(e,"name",{value:t,configurable:!0}),Vue=(e,t)=>{for(var r in t)Vp(e,r,{get:t[r],enumerable:!0})},Gue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of que(t))!zue.call(e,o)&&o!==r&&Vp(e,o,{get:()=>t[o],enumerable:!(n=$ue(t,o))||n.enumerable});return e},Wue=e=>Gue(Vp({},"__esModule",{value:!0}),e),f1={};Vue(f1,{isBrowserNetworkError:()=>g1,isClockSkewCorrectedError:()=>h1,isClockSkewError:()=>tpe,isRetryableByTrait:()=>epe,isServerError:()=>npe,isThrottlingError:()=>rpe,isTransientError:()=>jS});y1.exports=Wue(f1);var Kue=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Jue=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Yue=["TimeoutError","RequestTimeout","RequestTimeoutException"],Xue=[500,502,503,504],Que=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Zue=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],epe=Io(e=>e.$retryable!==void 0,"isRetryableByTrait"),tpe=Io(e=>Kue.includes(e.name),"isClockSkewError"),h1=Io(e=>e.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),g1=Io(e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},"isBrowserNetworkError"),rpe=Io(e=>e.$metadata?.httpStatusCode===429||Jue.includes(e.name)||e.$retryable?.throttling==!0,"isThrottlingError"),jS=Io((e,t=0)=>h1(e)||Yue.includes(e.name)||Que.includes(e?.code||"")||Zue.includes(e?.code||"")||Xue.includes(e.$metadata?.httpStatusCode||0)||g1(e)||e.cause!==void 0&&t<=10&&jS(e.cause,t+1),"isTransientError"),npe=Io(e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!jS(e)}return!1},"isServerError")});var Wp=b((KGe,I1)=>{d();var Gp=Object.defineProperty,ope=Object.getOwnPropertyDescriptor,spe=Object.getOwnPropertyNames,ipe=Object.prototype.hasOwnProperty,Ft=(e,t)=>Gp(e,"name",{value:t,configurable:!0}),ape=(e,t)=>{for(var r in t)Gp(e,r,{get:t[r],enumerable:!0})},cpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of spe(t))!ipe.call(e,o)&&o!==r&&Gp(e,o,{get:()=>t[o],enumerable:!(n=ope(t,o))||n.enumerable});return e},dpe=e=>cpe(Gp({},"__esModule",{value:!0}),e),E1={};ape(E1,{AdaptiveRetryStrategy:()=>hpe,ConfiguredRetryStrategy:()=>gpe,DEFAULT_MAX_ATTEMPTS:()=>$S,DEFAULT_RETRY_DELAY_BASE:()=>xa,DEFAULT_RETRY_MODE:()=>lpe,DefaultRateLimiter:()=>v1,INITIAL_RETRY_TOKENS:()=>qS,INVOCATION_ID_HEADER:()=>ppe,MAXIMUM_RETRY_DELAY:()=>zS,NO_RETRY_INCREMENT:()=>P1,REQUEST_HEADER:()=>mpe,RETRY_COST:()=>T1,RETRY_MODES:()=>S1,StandardRetryStrategy:()=>VS,THROTTLING_RETRY_DELAY_BASE:()=>w1,TIMEOUT_RETRY_COST:()=>C1});I1.exports=dpe(E1);var S1=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(S1||{}),$S=3,lpe="standard",upe=HS(),v1=class b1{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Ft(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>b1.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,upe.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},xa=100,zS=20*1e3,w1=500,qS=500,T1=5,C1=10,P1=1,ppe="amz-sdk-invocation-id",mpe="amz-sdk-request",fpe=Ft(()=>{let e=xa;return{computeNextBackoffDelay:Ft(n=>Math.floor(Math.min(zS,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Ft(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),_1=Ft(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Ft(()=>t,"getRetryCount"),getRetryDelay:Ft(()=>Math.min(zS,e),"getRetryDelay"),getRetryCost:Ft(()=>r,"getRetryCost")}),"createDefaultRetryToken"),VS=class{constructor(e){this.maxAttempts=e,this.mode="standard",this.capacity=qS,this.retryBackoffStrategy=fpe(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}static{Ft(this,"StandardRetryStrategy")}async acquireInitialRetryToken(e){return _1({retryDelay:xa,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let n=t.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?w1:xa);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),s=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,i=this.getCapacityCost(n);return this.capacity-=i,_1({retryDelay:s,retryCount:e.getRetryCount()+1,retryCost:i})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(qS,this.capacity+(e.getRetryCost()??P1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${$S}`),$S}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?C1:T1}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},hpe=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode="adaptive";let{rateLimiter:r}=t??{};this.rateLimiter=r??new v1,this.standardRetryStrategy=new VS(e)}static{Ft(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},gpe=class extends VS{static{Ft(this,"ConfiguredRetryStrategy")}constructor(e,t=xa){super(typeof e=="function"?e:async()=>e),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(e,t){let r=await super.refreshRetryTokenForRetry(e,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var A1=b(Kp=>{"use strict";d();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.isStreamingPayload=void 0;var ype=M("stream"),_pe=e=>e?.body instanceof ype.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Kp.isStreamingPayload=_pe});var Oa=b((t2e,q1)=>{d();var Jp=Object.defineProperty,Epe=Object.getOwnPropertyDescriptor,Spe=Object.getOwnPropertyNames,vpe=Object.prototype.hasOwnProperty,we=(e,t)=>Jp(e,"name",{value:t,configurable:!0}),bpe=(e,t)=>{for(var r in t)Jp(e,r,{get:t[r],enumerable:!0})},wpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Spe(t))!vpe.call(e,o)&&o!==r&&Jp(e,o,{get:()=>t[o],enumerable:!(n=Epe(t,o))||n.enumerable});return e},Tpe=e=>wpe(Jp({},"__esModule",{value:!0}),e),x1={};bpe(x1,{AdaptiveRetryStrategy:()=>Ipe,CONFIG_MAX_ATTEMPTS:()=>WS,CONFIG_RETRY_MODE:()=>U1,ENV_MAX_ATTEMPTS:()=>GS,ENV_RETRY_MODE:()=>L1,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>Ape,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>xpe,StandardRetryStrategy:()=>k1,defaultDelayDecider:()=>N1,defaultRetryDecider:()=>D1,getOmitRetryHeadersPlugin:()=>Ope,getRetryAfterHint:()=>$1,getRetryPlugin:()=>Upe,omitRetryHeadersMiddleware:()=>F1,omitRetryHeadersMiddlewareOptions:()=>B1,resolveRetryConfig:()=>Rpe,retryMiddleware:()=>j1,retryMiddlewareOptions:()=>H1});q1.exports=Tpe(x1);var vs=he(),O1=(m1(),z(p1)),ge=Wp(),Cpe=we((e,t)=>{let r=e,n=t?.noRetryIncrement??ge.NO_RETRY_INCREMENT,o=t?.retryCost??ge.RETRY_COST,s=t?.timeoutRetryCost??ge.TIMEOUT_RETRY_COST,i=e,a=we(f=>f.name==="TimeoutError"?s:o,"getCapacityAmount"),c=we(f=>a(f)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:we(f=>{if(!c(f))throw new Error("No retry token available");let h=a(f);return i-=h,h},"retrieveRetryTokens"),releaseRetryTokens:we(f=>{i+=f??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),N1=we((e,t)=>Math.floor(Math.min(ge.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Cn=HS(),D1=we(e=>e?(0,Cn.isRetryableByTrait)(e)||(0,Cn.isClockSkewError)(e)||(0,Cn.isThrottlingError)(e)||(0,Cn.isTransientError)(e):!1,"defaultRetryDecider"),M1=we(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),k1=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=ge.RETRY_MODES.STANDARD,this.retryDecider=t?.retryDecider??D1,this.delayDecider=t?.delayDecider??N1,this.retryQuota=t?.retryQuota??Cpe(ge.INITIAL_RETRY_TOKENS)}static{we(this,"StandardRetryStrategy")}shouldRetry(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=ge.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,t,r){let n,o=0,s=0,i=await this.getMaxAttempts(),{request:a}=t;for(vs.HttpRequest.isInstance(a)&&(a.headers[ge.INVOCATION_ID_HEADER]=(0,O1.v4)());;)try{vs.HttpRequest.isInstance(a)&&(a.headers[ge.REQUEST_HEADER]=`attempt=${o+1}; max=${i}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await e(t);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=M1(c);if(o++,this.shouldRetry(l,o,i)){n=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,Cn.isThrottlingError)(l)?ge.THROTTLING_RETRY_DELAY_BASE:ge.DEFAULT_RETRY_DELAY_BASE,o),f=Ppe(l.$response),h=Math.max(f||0,p);s+=h,await new Promise(g=>setTimeout(g,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=s,l}}},Ppe=we(e=>{if(!vs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),Ipe=class extends k1{static{we(this,"AdaptiveRetryStrategy")}constructor(e,t){let{rateLimiter:r,...n}=t??{};super(e,n),this.rateLimiter=r??new ge.DefaultRateLimiter,this.mode=ge.RETRY_MODES.ADAPTIVE}async retry(e,t){return super.retry(e,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},R1=Or(),GS="AWS_MAX_ATTEMPTS",WS="max_attempts",Ape={environmentVariableSelector:e=>{let t=e[GS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${GS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[WS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${WS} mast be a number, got "${t}"`);return r},default:ge.DEFAULT_MAX_ATTEMPTS},Rpe=we(e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,o=(0,R1.normalizeProvider)(n??ge.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await(0,R1.normalizeProvider)(r)()===ge.RETRY_MODES.ADAPTIVE?new ge.AdaptiveRetryStrategy(o):new ge.StandardRetryStrategy(o))})},"resolveRetryConfig"),L1="AWS_RETRY_MODE",U1="retry_mode",xpe={environmentVariableSelector:e=>e[L1],configFileSelector:e=>e[U1],default:ge.DEFAULT_RETRY_MODE},F1=we(()=>e=>async t=>{let{request:r}=t;return vs.HttpRequest.isInstance(r)&&(delete r.headers[ge.INVOCATION_ID_HEADER],delete r.headers[ge.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),B1={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},Ope=we(e=>({applyToStack:t=>{t.addRelativeTo(F1(),B1)}}),"getOmitRetryHeadersPlugin"),Npe=oe(),Dpe=A1(),j1=we(e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(Mpe(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:p}=n,f=vs.HttpRequest.isInstance(p);for(f&&(p.headers[ge.INVOCATION_ID_HEADER]=(0,O1.v4)());;)try{f&&(p.headers[ge.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:h,output:g}=await t(n);return o.recordSuccess(i),g.$metadata.attempts=c+1,g.$metadata.totalRetryDelay=l,{response:h,output:g}}catch(h){let g=kpe(h);if(a=M1(h),f&&(0,Dpe.isStreamingPayload)(p))throw(r.logger instanceof Npe.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await o.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=i.getRetryCount();let _=i.getRetryDelay();l+=_,await new Promise(E=>setTimeout(E,_))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)},"retryMiddleware"),Mpe=we(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),kpe=we(e=>{let t={error:e,errorType:Lpe(e)},r=$1(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),Lpe=we(e=>(0,Cn.isThrottlingError)(e)?"THROTTLING":(0,Cn.isTransientError)(e)?"TRANSIENT":(0,Cn.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),H1={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Upe=we(e=>({applyToStack:t=>{t.add(j1(e),H1)}}),"getRetryPlugin"),$1=we(e=>{if(!vs.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});function Fpe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Bpe(e){return{schemeId:"smithy.api#noAuth"}}var Na,z1,V1,G1,KS=y(()=>{d();ur();Na=T(Or()),z1=async(e,t,r)=>({operation:(0,Na.getSmithyContext)(t).operation,region:await(0,Na.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});V1=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(Bpe(e));break}default:t.push(Fpe(e))}return t},G1=e=>{let t=fs(e);return Object.assign(t,{authSchemePreference:(0,Na.normalizeProvider)(e.authSchemePreference??[])})}});var W1,K1,JS=y(()=>{d();W1=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),K1={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Yp,YS=y(()=>{Yp={name:"@aws-sdk/nested-clients",version:"3.848.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.846.0","@aws-sdk/middleware-host-header":"3.840.0","@aws-sdk/middleware-logger":"3.840.0","@aws-sdk/middleware-recursion-detection":"3.840.0","@aws-sdk/middleware-user-agent":"3.848.0","@aws-sdk/region-config-resolver":"3.840.0","@aws-sdk/types":"3.840.0","@aws-sdk/util-endpoints":"3.848.0","@aws-sdk/util-user-agent-browser":"3.840.0","@aws-sdk/util-user-agent-node":"3.848.0","@smithy/config-resolver":"^4.1.4","@smithy/core":"^3.7.0","@smithy/fetch-http-handler":"^5.1.0","@smithy/hash-node":"^4.0.4","@smithy/invalid-dependency":"^4.0.4","@smithy/middleware-content-length":"^4.0.4","@smithy/middleware-endpoint":"^4.1.15","@smithy/middleware-retry":"^4.1.16","@smithy/middleware-serde":"^4.0.8","@smithy/middleware-stack":"^4.0.4","@smithy/node-config-provider":"^4.1.3","@smithy/node-http-handler":"^4.1.0","@smithy/protocol-http":"^5.1.2","@smithy/smithy-client":"^4.4.7","@smithy/types":"^4.3.1","@smithy/url-parser":"^4.0.4","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.23","@smithy/util-defaults-mode-node":"^4.0.23","@smithy/util-endpoints":"^3.0.6","@smithy/util-middleware":"^4.0.4","@smithy/util-retry":"^4.0.6","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var QS=b((u2e,tj)=>{"use strict";d();var Qp=Object.defineProperty,Hpe=Object.getOwnPropertyDescriptor,$pe=Object.getOwnPropertyNames,qpe=Object.prototype.hasOwnProperty,Xp=(e,t)=>Qp(e,"name",{value:t,configurable:!0}),zpe=(e,t)=>{for(var r in t)Qp(e,r,{get:t[r],enumerable:!0})},Vpe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $pe(t))!qpe.call(e,o)&&o!==r&&Qp(e,o,{get:()=>t[o],enumerable:!(n=Hpe(t,o))||n.enumerable});return e},Gpe=e=>Vpe(Qp({},"__esModule",{value:!0}),e),Y1={};zpe(Y1,{NODE_APP_ID_CONFIG_OPTIONS:()=>Xpe,UA_APP_ID_ENV_NAME:()=>Z1,UA_APP_ID_INI_NAME:()=>ej,createDefaultUserAgentProvider:()=>Q1,crtAvailability:()=>X1,defaultUserAgent:()=>Kpe});tj.exports=Gpe(Y1);var J1=M("os"),XS=M("process"),X1={isCrtAvailable:!1},Wpe=Xp(()=>X1.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),Q1=Xp(({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,J1.platform)()}`,(0,J1.release)()],["lang/js"],["md/nodejs",`${XS.versions.node}`]],o=Wpe();o&&n.push(o),e&&n.push([`api/${e}`,t]),XS.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${XS.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),Kpe=Q1,Jpe=Cp(),Z1="AWS_SDK_UA_APP_ID",ej="sdk_ua_app_id",Ype="sdk-ua-app-id",Xpe={environmentVariableSelector:Xp(e=>e[Z1],"environmentVariableSelector"),configFileSelector:Xp(e=>e[ej]??e[Ype],"configFileSelector"),default:Jpe.DEFAULT_UA_APP_ID}});var tv=b((m2e,sj)=>{d();var Zp=Object.defineProperty,Qpe=Object.getOwnPropertyDescriptor,Zpe=Object.getOwnPropertyNames,eme=Object.prototype.hasOwnProperty,nj=(e,t)=>Zp(e,"name",{value:t,configurable:!0}),tme=(e,t)=>{for(var r in t)Zp(e,r,{get:t[r],enumerable:!0})},rme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zpe(t))!eme.call(e,o)&&o!==r&&Zp(e,o,{get:()=>t[o],enumerable:!(n=Qpe(t,o))||n.enumerable});return e},nme=e=>rme(Zp({},"__esModule",{value:!0}),e),oj={};tme(oj,{Hash:()=>ime});sj.exports=nme(oj);var ZS=os(),ome=Xe(),sme=M("buffer"),rj=M("crypto"),ime=class{static{nj(this,"Hash")}constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,ome.toUint8Array)(ev(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,rj.createHmac)(this.algorithmIdentifier,ev(this.secret)):(0,rj.createHash)(this.algorithmIdentifier)}};function ev(e,t){return sme.Buffer.isBuffer(e)?e:typeof e=="string"?(0,ZS.fromString)(e,t):ArrayBuffer.isView(e)?(0,ZS.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,ZS.fromArrayBuffer)(e)}nj(ev,"castSourceData")});var rv=b((g2e,cj)=>{d();var em=Object.defineProperty,ame=Object.getOwnPropertyDescriptor,cme=Object.getOwnPropertyNames,dme=Object.prototype.hasOwnProperty,lme=(e,t)=>em(e,"name",{value:t,configurable:!0}),ume=(e,t)=>{for(var r in t)em(e,r,{get:t[r],enumerable:!0})},pme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of cme(t))!dme.call(e,o)&&o!==r&&em(e,o,{get:()=>t[o],enumerable:!(n=ame(t,o))||n.enumerable});return e},mme=e=>pme(em({},"__esModule",{value:!0}),e),aj={};ume(aj,{calculateBodyLength:()=>fme});cj.exports=mme(aj);var ij=M("fs"),fme=lme(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,ij.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,ij.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var _j,Nt,dj,Da,bs,ws,Br,ov,sv,lj,uj,pj,Ej,Sj,Ot,mj,vj,fj,hj,gj,yj,hme,bj,wj=y(()=>{d();_j="required",Nt="argv",dj="isSet",Da="booleanEquals",bs="error",ws="endpoint",Br="tree",ov="PartitionResult",sv="getAttr",lj={[_j]:!1,type:"String"},uj={[_j]:!0,default:!1,type:"Boolean"},pj={ref:"Endpoint"},Ej={fn:Da,[Nt]:[{ref:"UseFIPS"},!0]},Sj={fn:Da,[Nt]:[{ref:"UseDualStack"},!0]},Ot={},mj={fn:sv,[Nt]:[{ref:ov},"supportsFIPS"]},vj={ref:ov},fj={fn:Da,[Nt]:[!0,{fn:sv,[Nt]:[vj,"supportsDualStack"]}]},hj=[Ej],gj=[Sj],yj=[{ref:"Region"}],hme={version:"1.0",parameters:{Region:lj,UseDualStack:uj,UseFIPS:uj,Endpoint:lj},rules:[{conditions:[{fn:dj,[Nt]:[pj]}],rules:[{conditions:hj,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bs},{conditions:gj,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bs},{endpoint:{url:pj,properties:Ot,headers:Ot},type:ws}],type:Br},{conditions:[{fn:dj,[Nt]:yj}],rules:[{conditions:[{fn:"aws.partition",[Nt]:yj,assign:ov}],rules:[{conditions:[Ej,Sj],rules:[{conditions:[{fn:Da,[Nt]:[!0,mj]},fj],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bs}],type:Br},{conditions:hj,rules:[{conditions:[{fn:Da,[Nt]:[mj,!0]}],rules:[{conditions:[{fn:"stringEquals",[Nt]:[{fn:sv,[Nt]:[vj,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ot,headers:Ot},type:ws},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br},{error:"FIPS is enabled but this partition does not support FIPS",type:bs}],type:Br},{conditions:gj,rules:[{conditions:[fj],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br},{error:"DualStack is enabled but this partition does not support DualStack",type:bs}],type:Br},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:ws}],type:Br}],type:Br},{error:"Invalid Configuration: Missing Region",type:bs}]},bj=hme});var Tj,Ts,gme,Cj,Pj=y(()=>{d();Tj=T(Yu()),Ts=T(Gu());wj();gme=new Ts.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Cj=(e,t={})=>gme.get(e,()=>(0,Ts.resolveEndpoint)(bj,{endpointParams:e,logger:t.logger}));Ts.customEndpointFunctions.aws=Tj.awsEndpointFunctions});var Ij,Aj,tm,rm,Rj,xj=y(()=>{d();ur();Lt();Ij=T(oe()),Aj=T(us()),tm=T(lt()),rm=T(Xe());KS();Pj();Rj=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??tm.fromBase64,base64Encoder:e?.base64Encoder??tm.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Cj,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??V1,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lr}],logger:e?.logger??new Ij.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Aj.parseUrl,utf8Decoder:e?.utf8Decoder??rm.fromUtf8,utf8Encoder:e?.utf8Encoder??rm.toUtf8})});var Vj=b((R2e,zj)=>{d();var sm=Object.defineProperty,yme=Object.getOwnPropertyDescriptor,_me=Object.getOwnPropertyNames,Eme=Object.prototype.hasOwnProperty,Te=(e,t)=>sm(e,"name",{value:t,configurable:!0}),Sme=(e,t)=>{for(var r in t)sm(e,r,{get:t[r],enumerable:!0})},vme=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _me(t))!Eme.call(e,o)&&o!==r&&sm(e,o,{get:()=>t[o],enumerable:!(n=yme(t,o))||n.enumerable});return e},bme=e=>vme(sm({},"__esModule",{value:!0}),e),Mj={};Sme(Mj,{DEFAULT_MAX_RETRIES:()=>Fj,DEFAULT_TIMEOUT:()=>Uj,ENV_CMDS_AUTH_TOKEN:()=>cv,ENV_CMDS_FULL_URI:()=>nm,ENV_CMDS_RELATIVE_URI:()=>om,Endpoint:()=>jj,fromContainerMetadata:()=>Pme,fromInstanceMetadata:()=>Wme,getInstanceMetadataEndpoint:()=>$j,httpRequest:()=>Cs,providerConfigFromInit:()=>dv});zj.exports=bme(Mj);var wme=M("url"),mr=la(),Tme=M("buffer"),Cme=M("http");function Cs(e){return new Promise((t,r)=>{let n=(0,Cme.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new mr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new mr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:s=400}=o;(s<200||300<=s)&&(r(Object.assign(new mr.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let i=[];o.on("data",a=>{i.push(a)}),o.on("end",()=>{t(Tme.Buffer.concat(i)),n.destroy()})}),n.end()})}Te(Cs,"httpRequest");var kj=Te(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),Lj=Te(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),"fromImdsCredentials"),Uj=1e3,Fj=0,dv=Te(({maxRetries:e=Fj,timeout:t=Uj})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),av=Te((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),nm="AWS_CONTAINER_CREDENTIALS_FULL_URI",om="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",cv="AWS_CONTAINER_AUTHORIZATION_TOKEN",Pme=Te((e={})=>{let{timeout:t,maxRetries:r}=dv(e);return()=>av(async()=>{let n=await Ome({logger:e.logger}),o=JSON.parse(await Ime(t,n));if(!kj(o))throw new mr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Lj(o)},r)},"fromContainerMetadata"),Ime=Te(async(e,t)=>(process.env[cv]&&(t.headers={...t.headers,Authorization:process.env[cv]}),(await Cs({...t,timeout:e})).toString()),"requestFromEcsImds"),Ame="169.254.170.2",Rme={localhost:!0,"127.0.0.1":!0},xme={"http:":!0,"https:":!0},Ome=Te(async({logger:e})=>{if(process.env[om])return{hostname:Ame,path:process.env[om]};if(process.env[nm]){let t=(0,wme.parse)(process.env[nm]);if(!t.hostname||!(t.hostname in Rme))throw new mr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in xme))throw new mr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new mr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${om} or ${nm} environment variable is set`,{tryNextLink:!1,logger:e})},"getCmdsUri"),Nme=class Bj extends mr.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,Bj.prototype)}static{Te(this,"InstanceMetadataV1FallbackError")}},lv=Es(),Dme=us(),jj=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(jj||{}),Mme="AWS_EC2_METADATA_SERVICE_ENDPOINT",kme="ec2_metadata_service_endpoint",Lme={environmentVariableSelector:e=>e[Mme],configFileSelector:e=>e[kme],default:void 0},Hj=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(Hj||{}),Ume="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",Fme="ec2_metadata_service_endpoint_mode",Bme={environmentVariableSelector:e=>e[Ume],configFileSelector:e=>e[Fme],default:"IPv4"},$j=Te(async()=>(0,Dme.parseUrl)(await jme()||await Hme()),"getInstanceMetadataEndpoint"),jme=Te(async()=>(0,lv.loadConfig)(Lme)(),"getFromEndpointConfig"),Hme=Te(async()=>{let e=await(0,lv.loadConfig)(Bme)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Hj)}`)}},"getFromEndpointModeConfig"),$me=300,qme=300,zme="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Oj=Te((e,t)=>{let r=$me+Math.floor(Math.random()*qme),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+zme);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),Vme=Te((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=Oj(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=Oj(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),qj="/latest/meta-data/iam/security-credentials/",Gme="/latest/api/token",iv="AWS_EC2_METADATA_V1_DISABLED",Nj="ec2_metadata_v1_disabled",Dj="x-aws-ec2-metadata-token",Wme=Te((e={})=>Vme(Kme(e),{logger:e.logger}),"fromInstanceMetadata"),Kme=Te((e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=dv(e),i=Te(async(a,c)=>{if(t||c.headers?.[Dj]==null){let f=!1,h=!1,g=await(0,lv.loadConfig)({environmentVariableSelector:_=>{let E=_[iv];if(h=!!E&&E!=="false",E===void 0)throw new mr.CredentialsProviderError(`${iv} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:_=>{let E=_[Nj];return f=!!E&&E!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||g){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&_.push(`config file profile (${Nj})`),h&&_.push(`process environment variable (${iv})`),new Nme(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let p=(await av(async()=>{let f;try{f=await Yme(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)).trim();return av(async()=>{let f;try{f=await Xme(p,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return f},a)},"getCredentials");return async()=>{let a=await $j();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await Jme({...a,timeout:o})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[Dj]:c},timeout:o})}}},"getInstanceMetadataProvider"),Jme=Te(async e=>Cs({...e,path:Gme,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),Yme=Te(async e=>(await Cs({...e,path:qj})).toString(),"getProfile"),Xme=Te(async(e,t,r)=>{let n=JSON.parse((await Cs({...t,path:qj+e})).toString());if(!kj(n))throw new mr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Lj(n)},"getCredentialsFromProfile")});var pv=b((O2e,Xj)=>{d();var Qme=Object.create,Ma=Object.defineProperty,Zme=Object.getOwnPropertyDescriptor,efe=Object.getOwnPropertyNames,tfe=Object.getPrototypeOf,rfe=Object.prototype.hasOwnProperty,uv=(e,t)=>Ma(e,"name",{value:t,configurable:!0}),nfe=(e,t)=>{for(var r in t)Ma(e,r,{get:t[r],enumerable:!0})},Jj=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of efe(t))!rfe.call(e,o)&&o!==r&&Ma(e,o,{get:()=>t[o],enumerable:!(n=Zme(t,o))||n.enumerable});return e},ofe=(e,t,r)=>(r=e!=null?Qme(tfe(e)):{},Jj(t||!e||!e.__esModule?Ma(r,"default",{value:e,enumerable:!0}):r,e)),sfe=e=>Jj(Ma({},"__esModule",{value:!0}),e),Yj={};nfe(Yj,{resolveDefaultsModeConfig:()=>hfe});Xj.exports=sfe(Yj);var ife=gs(),Gj=Es(),afe=la(),cfe="AWS_EXECUTION_ENV",Wj="AWS_REGION",Kj="AWS_DEFAULT_REGION",dfe="AWS_EC2_METADATA_DISABLED",lfe=["in-region","cross-region","mobile","standard","legacy"],ufe="/latest/meta-data/placement/region",pfe="AWS_DEFAULTS_MODE",mfe="defaults_mode",ffe={environmentVariableSelector:e=>e[pfe],configFileSelector:e=>e[mfe],default:"legacy"},hfe=uv(({region:e=(0,Gj.loadConfig)(ife.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,Gj.loadConfig)(ffe)}={})=>(0,afe.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return gfe(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${lfe.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),gfe=uv(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await yfe();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),yfe=uv(async()=>{if(process.env[cfe]&&(process.env[Wj]||process.env[Kj]))return process.env[Wj]??process.env[Kj];if(!process.env[dfe])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>ofe(Vj())),r=await e();return(await t({...r,path:ufe})).toString()}catch{}},"inferPhysicalRegion")});var im,In,Qj,am,Pn,cm,Zj,eH,tH,rH,nH,oH,sH=y(()=>{d();YS();ur();im=T(QS()),In=T(gs()),Qj=T(tv()),am=T(Oa()),Pn=T(Es()),cm=T(Pu()),Zj=T(rv()),eH=T(Wp());xj();tH=T(oe()),rH=T(pv()),nH=T(oe()),oH=e=>{(0,nH.emitWarningIfUnsupportedVersion)(process.version);let t=(0,rH.resolveDefaultsModeConfig)(e),r=()=>t().then(tH.loadConfigsForDefaultMode),n=Rj(e);ia(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Pn.loadConfig)(da,o),bodyLengthChecker:e?.bodyLengthChecker??Zj.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,im.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Yp.version}),maxAttempts:e?.maxAttempts??(0,Pn.loadConfig)(am.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Pn.loadConfig)(In.NODE_REGION_CONFIG_OPTIONS,{...In.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:cm.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Pn.loadConfig)({...am.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||eH.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Qj.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??cm.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Pn.loadConfig)(In.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Pn.loadConfig)(In.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Pn.loadConfig)(im.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var mv=b((F2e,uH)=>{"use strict";d();var dm=Object.defineProperty,_fe=Object.getOwnPropertyDescriptor,Efe=Object.getOwnPropertyNames,Sfe=Object.prototype.hasOwnProperty,fr=(e,t)=>dm(e,"name",{value:t,configurable:!0}),vfe=(e,t)=>{for(var r in t)dm(e,r,{get:t[r],enumerable:!0})},bfe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Efe(t))!Sfe.call(e,o)&&o!==r&&dm(e,o,{get:()=>t[o],enumerable:!(n=_fe(t,o))||n.enumerable});return e},wfe=e=>bfe(dm({},"__esModule",{value:!0}),e),aH={};vfe(aH,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>Ife,NODE_REGION_CONFIG_OPTIONS:()=>Pfe,REGION_ENV_NAME:()=>cH,REGION_INI_NAME:()=>dH,getAwsRegionExtensionConfiguration:()=>Tfe,resolveAwsRegionExtensionConfiguration:()=>Cfe,resolveRegionConfig:()=>Afe});uH.exports=wfe(aH);var Tfe=fr(e=>({setRegion(t){e.region=t},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),Cfe=fr(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),cH="AWS_REGION",dH="region",Pfe={environmentVariableSelector:fr(e=>e[cH],"environmentVariableSelector"),configFileSelector:fr(e=>e[dH],"configFileSelector"),default:fr(()=>{throw new Error("Region is missing")},"default")},Ife={preferredFile:"credentials"},lH=fr(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),iH=fr(e=>lH(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),Afe=fr(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:fr(async()=>{if(typeof t=="string")return iH(t);let n=await t();return iH(n)},"region"),useFipsEndpoint:fr(async()=>{let n=typeof t=="string"?t:await t();return lH(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var pH,mH,fH=y(()=>{d();pH=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},mH=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var lm,um,pm,hH,gH=y(()=>{d();lm=T(mv()),um=T(he()),pm=T(oe());fH();hH=(e,t)=>{let r=Object.assign((0,lm.getAwsRegionExtensionConfiguration)(e),(0,pm.getDefaultExtensionConfiguration)(e),(0,um.getHttpHandlerExtensionConfiguration)(e),pH(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,lm.resolveAwsRegionExtensionConfiguration)(r),(0,pm.resolveDefaultRuntimeConfig)(r),(0,um.resolveHttpHandlerRuntimeConfig)(r),mH(r))}});var mm,yH,_H,fm,EH,SH,vH,hm,fv,ka,hv=y(()=>{d();mm=T(Yy()),yH=T(Qy()),_H=T(e_()),fm=T(Cp()),EH=T(gs());Lt();SH=T(vS()),vH=T(Ss()),hm=T(Oa()),fv=T(oe());KS();JS();sH();gH();ka=class extends fv.Client{config;constructor(...[t]){let r=oH(t||{});super(r),this.initConfig=r;let n=W1(r),o=(0,fm.resolveUserAgentConfig)(n),s=(0,hm.resolveRetryConfig)(o),i=(0,EH.resolveRegionConfig)(s),a=(0,mm.resolveHostHeaderConfig)(i),c=(0,vH.resolveEndpointConfig)(a),l=G1(c),p=hH(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,fm.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,hm.getRetryPlugin)(this.config)),this.middlewareStack.use((0,SH.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,mm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,yH.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,_H.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ji(this.config,{httpAuthSchemeParametersProvider:z1,identityProviderConfigProvider:async f=>new ho({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Hi(this.config))}destroy(){super.destroy()}}});var bH,xe,gm=y(()=>{d();bH=T(oe()),xe=class e extends bH.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ao,La,Ua,gv,yv,Fa,Ba,ja,Ha,$a,qa,za,Va,Ga,ym=y(()=>{d();Ao=T(oe());gm();La=class e extends xe{name="AccessDeniedException";$fault="client";error;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ua=class e extends xe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},gv=e=>({...e,...e.clientSecret&&{clientSecret:Ao.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Ao.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Ao.SENSITIVE_STRING}}),yv=e=>({...e,...e.accessToken&&{accessToken:Ao.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Ao.SENSITIVE_STRING},...e.idToken&&{idToken:Ao.SENSITIVE_STRING}}),Fa=class e extends xe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ba=class e extends xe{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ja=class e extends xe{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ha=class e extends xe{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},$a=class e extends xe{name="InvalidRequestException";$fault="client";error;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qa=class e extends xe{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},za=class e extends xe{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Va=class e extends xe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ga=class e extends xe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var R,wH,TH,Rfe,xfe,Ofe,Nfe,Dfe,Mfe,kfe,Lfe,Ufe,Ffe,Bfe,jfe,Hfe,Dt,CH=y(()=>{d();ur();Lt();R=T(oe());ym();gm();wH=async(e,t)=>{let r=na(e,t),n={"content-type":"application/json"};r.bp("/token");let o;return o=JSON.stringify((0,R.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,R._json)(s)})),r.m("POST").h(n).b(o),r.build()},TH=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rfe(e,t);let r=(0,R.map)({$metadata:Dt(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await hs(e.body,t)),"body"),o=(0,R.take)(n,{accessToken:R.expectString,expiresIn:R.expectInt32,idToken:R.expectString,refreshToken:R.expectString,tokenType:R.expectString});return Object.assign(r,o),r},Rfe=async(e,t)=>{let r={...e,body:await KE(e.body,t)},n=Eo(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Ofe(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Nfe(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Dfe(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Mfe(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await kfe(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Lfe(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Ufe(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Ffe(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Bfe(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await jfe(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Hfe(r,t);default:let o=r.body;return xfe({output:e,parsedBody:o,errorCode:n})}},xfe=(0,R.withBaseException)(xe),Ofe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new La({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Nfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Ua({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Dfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Fa({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Mfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Ba({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},kfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new ja({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Lfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Ha({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Ufe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new $a({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Ffe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new qa({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Bfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new za({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},jfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Va({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Hfe=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{error:R.expectString,error_description:R.expectString});Object.assign(r,o);let s=new Ga({$metadata:Dt(e),...r});return(0,R.decorateServiceException)(s,e.body)},Dt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var PH,IH,_v,Wa,Ev=y(()=>{d();PH=T(Ss()),IH=T(ns()),_v=T(oe());JS();ym();CH();Wa=class extends _v.Command.classBuilder().ep(K1).m(function(t,r,n,o){return[(0,IH.getSerdePlugin)(n,this.serialize,this.deserialize),(0,PH.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(gv,yv).ser(wH).de(TH).build(){}});var AH,$fe,_m,RH=y(()=>{d();AH=T(oe());Ev();hv();$fe={CreateTokenCommand:Wa},_m=class extends ka{};(0,AH.createAggregatedClient)($fe,_m)});var xH=y(()=>{d();Ev()});var OH=y(()=>{d();ym()});var Sv={};He(Sv,{$Command:()=>_v.Command,AccessDeniedException:()=>La,AuthorizationPendingException:()=>Ua,CreateTokenCommand:()=>Wa,CreateTokenRequestFilterSensitiveLog:()=>gv,CreateTokenResponseFilterSensitiveLog:()=>yv,ExpiredTokenException:()=>Fa,InternalServerException:()=>Ba,InvalidClientException:()=>ja,InvalidGrantException:()=>Ha,InvalidRequestException:()=>$a,InvalidScopeException:()=>qa,SSOOIDC:()=>_m,SSOOIDCClient:()=>ka,SSOOIDCServiceException:()=>xe,SlowDownException:()=>za,UnauthorizedClientException:()=>Va,UnsupportedGrantTypeException:()=>Ga,__Client:()=>fv.Client});var vv=y(()=>{d();hv();RH();xH();OH();gm()});var BH=b((x3e,FH)=>{"use strict";d();var qfe=Object.create,Ja=Object.defineProperty,zfe=Object.getOwnPropertyDescriptor,Vfe=Object.getOwnPropertyNames,Gfe=Object.getPrototypeOf,Wfe=Object.prototype.hasOwnProperty,jr=(e,t)=>Ja(e,"name",{value:t,configurable:!0}),Kfe=(e,t)=>{for(var r in t)Ja(e,r,{get:t[r],enumerable:!0})},MH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Vfe(t))!Wfe.call(e,o)&&o!==r&&Ja(e,o,{get:()=>t[o],enumerable:!(n=zfe(t,o))||n.enumerable});return e},kH=(e,t,r)=>(r=e!=null?qfe(Gfe(e)):{},MH(t||!e||!e.__esModule?Ja(r,"default",{value:e,enumerable:!0}):r,e)),Jfe=e=>MH(Ja({},"__esModule",{value:!0}),e),LH={};Kfe(LH,{fromEnvSigningName:()=>Qfe,fromSso:()=>UH,fromStatic:()=>she,nodeProvider:()=>ihe});FH.exports=Jfe(LH);var Yfe=(Qt(),z(Qr)),Xfe=(dg(),z(yA)),mt=Je(),Qfe=jr(({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new mt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=(0,Xfe.getBearerTokenEnvKey)(t);if(!(r in process.env))throw new mt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return(0,Yfe.setTokenFeature)(n,"BEARER_SERVICE_ENV_VARS","3"),n},"fromEnvSigningName"),Zfe=300*1e3,bv="To refresh this SSO session run 'aws sso login' with the corresponding profile.",ehe=jr(async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>kH((vv(),z(Sv))));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},"getSsoOidcClient"),the=jr(async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>kH((vv(),z(Sv))));return(await ehe(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),NH=jr(e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new mt.TokenProviderError(`Token is expired. ${bv}`,!1)},"validateTokenExpiry"),Ro=jr((e,t,r=!1)=>{if(typeof t>"u")throw new mt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${bv}`,!1)},"validateTokenKey"),Ka=ln(),rhe=M("fs"),{writeFile:nhe}=rhe.promises,ohe=jr((e,t)=>{let r=(0,Ka.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return nhe(r,n)},"writeSSOTokenToFile"),DH=new Date(0),UH=jr((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,Ka.parseKnownFiles)(r),o=(0,Ka.getProfileName)({profile:r.profile??t?.profile}),s=n[o];if(s){if(!s.sso_session)throw new mt.TokenProviderError(`Profile '${o}' is missing required property 'sso_session'.`)}else throw new mt.TokenProviderError(`Profile '${o}' could not be found in shared credentials file.`,!1);let i=s.sso_session,c=(await(0,Ka.loadSsoSessionData)(r))[i];if(!c)throw new mt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!c[E])throw new mt.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);let l=c.sso_start_url,p=c.sso_region,f;try{f=await(0,Ka.getSSOTokenFromFile)(i)}catch{throw new mt.TokenProviderError(`The SSO session token associated with profile=${o} was not found or is invalid. ${bv}`,!1)}Ro("accessToken",f.accessToken),Ro("expiresAt",f.expiresAt);let{accessToken:h,expiresAt:g}=f,_={token:h,expiration:new Date(g)};if(_.expiration.getTime()-Date.now()>Zfe)return _;if(Date.now()-DH.getTime()<30*1e3)return NH(_),_;Ro("clientId",f.clientId,!0),Ro("clientSecret",f.clientSecret,!0),Ro("refreshToken",f.refreshToken,!0);try{DH.setTime(Date.now());let E=await the(f,p,r);Ro("accessToken",E.accessToken),Ro("expiresIn",E.expiresIn);let S=new Date(Date.now()+E.expiresIn*1e3);try{await ohe(i,{...f,accessToken:E.accessToken,expiresAt:S.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:S}}catch{return NH(_),_}},"fromSso"),she=jr(({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new mt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},"fromStatic"),ihe=jr((e={})=>(0,mt.memoize)((0,mt.chain)(UH(e),async()=>{throw new mt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),"nodeProvider")});var Tv=b((N3e,KH)=>{"use strict";d();var Sm=Object.defineProperty,ahe=Object.getOwnPropertyDescriptor,$H=Object.getOwnPropertyNames,che=Object.prototype.hasOwnProperty,vm=(e,t)=>Sm(e,"name",{value:t,configurable:!0}),dhe=(e,t)=>function(){return e&&(t=(0,e[$H(e)[0]])(e=0)),t},qH=(e,t)=>{for(var r in t)Sm(e,r,{get:t[r],enumerable:!0})},lhe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of $H(t))!che.call(e,o)&&o!==r&&Sm(e,o,{get:()=>t[o],enumerable:!(n=ahe(t,o))||n.enumerable});return e},uhe=e=>lhe(Sm({},"__esModule",{value:!0}),e),zH={};qH(zH,{GetRoleCredentialsCommand:()=>wv.GetRoleCredentialsCommand,SSOClient:()=>wv.SSOClient});var wv,phe=dhe({"src/loadSso.ts"(){"use strict";wv=rD()}}),VH={};qH(VH,{fromSSO:()=>fhe,isSsoProfile:()=>GH,validateSsoProfile:()=>WH});KH.exports=uhe(VH);var GH=vm(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),jH=(Qt(),z(Qr)),mhe=BH(),Bt=Je(),Em=ln(),Ya=!1,HH=vm(async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,clientConfig:i,parentClientConfig:a,profile:c,logger:l})=>{let p,f="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let se=await(0,mhe.fromSso)({profile:c})();p={accessToken:se.token,expiresAt:new Date(se.expiration).toISOString()}}catch(se){throw new Bt.CredentialsProviderError(se.message,{tryNextLink:Ya,logger:l})}else try{p=await(0,Em.getSSOTokenFromFile)(e)}catch{throw new Bt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${f}`,{tryNextLink:Ya,logger:l})}if(new Date(p.expiresAt).getTime()-Date.now()<=0)throw new Bt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${f}`,{tryNextLink:Ya,logger:l});let{accessToken:h}=p,{SSOClient:g,GetRoleCredentialsCommand:_}=await Promise.resolve().then(()=>(phe(),zH)),E=s||new g(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),S;try{S=await E.send(new _({accountId:r,roleName:o,accessToken:h}))}catch(se){throw new Bt.CredentialsProviderError(se,{tryNextLink:Ya,logger:l})}let{roleCredentials:{accessKeyId:v,secretAccessKey:w,sessionToken:A,expiration:I,credentialScope:C,accountId:k}={}}=S;if(!v||!w||!A||!I)throw new Bt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Ya,logger:l});let Ve={accessKeyId:v,secretAccessKey:w,sessionToken:A,expiration:new Date(I),...C&&{credentialScope:C},...k&&{accountId:k}};return t?(0,jH.setCredentialFeature)(Ve,"CREDENTIALS_SSO","s"):(0,jH.setCredentialFeature)(Ve,"CREDENTIALS_SSO_LEGACY","u"),Ve},"resolveSSOCredentials"),WH=vm((e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:o,sso_role_name:s}=e;if(!r||!n||!o||!s)throw new Bt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},"validateSsoProfile"),fhe=vm((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoSession:i}=e,{ssoClient:a}=e,c=(0,Em.getProfileName)({profile:e.profile??t?.profile});if(!r&&!n&&!o&&!s&&!i){let p=(await(0,Em.parseKnownFiles)(e))[c];if(!p)throw new Bt.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!GH(p))throw new Bt.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(p?.sso_session){let v=(await(0,Em.loadSsoSessionData)(e))[p.sso_session],w=` configurations in profile ${c} and sso-session ${p.sso_session}`;if(o&&o!==v.sso_region)throw new Bt.CredentialsProviderError("Conflicting SSO region"+w,{tryNextLink:!1,logger:e.logger});if(r&&r!==v.sso_start_url)throw new Bt.CredentialsProviderError("Conflicting SSO start_url"+w,{tryNextLink:!1,logger:e.logger});p.sso_region=v.sso_region,p.sso_start_url=v.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:g,sso_role_name:_,sso_session:E}=WH(p,e.logger);return HH({ssoStartUrl:f,ssoSession:E,ssoAccountId:h,ssoRegion:g,ssoRoleName:_,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}else{if(!r||!n||!o||!s)throw new Bt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return HH({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:o,ssoRoleName:s,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c})}},"fromSSO")});function hhe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function ghe(e){return{schemeId:"smithy.api#noAuth"}}var Xa,JH,YH,yhe,XH,Cv=y(()=>{d();ur();Xa=T(Or());Qa();JH=async(e,t,r)=>({operation:(0,Xa.getSmithyContext)(t).operation,region:await(0,Xa.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});YH=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(ghe(e));break}default:t.push(hhe(e))}return t},yhe=e=>Object.assign(e,{stsClientCtor:hr}),XH=e=>{let t=yhe(e),r=fs(t);return Object.assign(r,{authSchemePreference:(0,Xa.normalizeProvider)(e.authSchemePreference??[])})}});var QH,bm,wm=y(()=>{d();QH=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),bm={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var d$,W,te,An,Fe,l$,u$,ue,ZH,gr,Ps,Iv,e$,Pv,p$,t$,Be,r$,m$,f$,ze,ft,n$,h$,g$,o$,y$,s$,i$,a$,c$,_he,_$,E$=y(()=>{d();d$="required",W="type",te="argv",An="booleanEquals",Fe="stringEquals",l$="sigv4",u$="us-east-1",ue="endpoint",ZH="https://sts.{Region}.{PartitionResult#dnsSuffix}",gr="tree",Ps="error",Iv="getAttr",e$={[d$]:!1,[W]:"String"},Pv={[d$]:!0,default:!1,[W]:"Boolean"},p$={ref:"Endpoint"},t$={fn:"isSet",[te]:[{ref:"Region"}]},Be={ref:"Region"},r$={fn:"aws.partition",[te]:[Be],assign:"PartitionResult"},m$={ref:"UseFIPS"},f$={ref:"UseDualStack"},ze={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:l$,signingName:"sts",signingRegion:u$}]},headers:{}},ft={},n$={conditions:[{fn:Fe,[te]:[Be,"aws-global"]}],[ue]:ze,[W]:ue},h$={fn:An,[te]:[m$,!0]},g$={fn:An,[te]:[f$,!0]},o$={fn:Iv,[te]:[{ref:"PartitionResult"},"supportsFIPS"]},y$={ref:"PartitionResult"},s$={fn:An,[te]:[!0,{fn:Iv,[te]:[y$,"supportsDualStack"]}]},i$=[{fn:"isSet",[te]:[p$]}],a$=[h$],c$=[g$],_he={version:"1.0",parameters:{Region:e$,UseDualStack:Pv,UseFIPS:Pv,Endpoint:e$,UseGlobalEndpoint:Pv},rules:[{conditions:[{fn:An,[te]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[te]:i$},t$,r$,{fn:An,[te]:[m$,!1]},{fn:An,[te]:[f$,!1]}],rules:[{conditions:[{fn:Fe,[te]:[Be,"ap-northeast-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"ap-south-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"ap-southeast-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"ap-southeast-2"]}],endpoint:ze,[W]:ue},n$,{conditions:[{fn:Fe,[te]:[Be,"ca-central-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-central-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-north-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-west-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-west-2"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"eu-west-3"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"sa-east-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,u$]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"us-east-2"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"us-west-1"]}],endpoint:ze,[W]:ue},{conditions:[{fn:Fe,[te]:[Be,"us-west-2"]}],endpoint:ze,[W]:ue},{endpoint:{url:ZH,properties:{authSchemes:[{name:l$,signingName:"sts",signingRegion:"{Region}"}]},headers:ft},[W]:ue}],[W]:gr},{conditions:i$,rules:[{conditions:a$,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:Ps},{conditions:c$,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:Ps},{endpoint:{url:p$,properties:ft,headers:ft},[W]:ue}],[W]:gr},{conditions:[t$],rules:[{conditions:[r$],rules:[{conditions:[h$,g$],rules:[{conditions:[{fn:An,[te]:[!0,o$]},s$],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:gr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:Ps}],[W]:gr},{conditions:a$,rules:[{conditions:[{fn:An,[te]:[o$,!0]}],rules:[{conditions:[{fn:Fe,[te]:[{fn:Iv,[te]:[y$,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:ft,headers:ft},[W]:ue},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:gr},{error:"FIPS is enabled but this partition does not support FIPS",[W]:Ps}],[W]:gr},{conditions:c$,rules:[{conditions:[s$],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},[W]:ue}],[W]:gr},{error:"DualStack is enabled but this partition does not support DualStack",[W]:Ps}],[W]:gr},n$,{endpoint:{url:ZH,properties:ft,headers:ft},[W]:ue}],[W]:gr}],[W]:gr},{error:"Invalid Configuration: Missing Region",[W]:Ps}]},_$=_he});var S$,Is,Ehe,v$,b$=y(()=>{d();S$=T(Yu()),Is=T(Gu());E$();Ehe=new Is.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),v$=(e,t={})=>Ehe.get(e,()=>(0,Is.resolveEndpoint)(_$,{endpointParams:e,logger:t.logger}));Is.customEndpointFunctions.aws=S$.awsEndpointFunctions});var w$,T$,Tm,Cm,C$,P$=y(()=>{d();ur();Lt();w$=T(oe()),T$=T(us()),Tm=T(lt()),Cm=T(Xe());Cv();b$();C$=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Tm.fromBase64,base64Encoder:e?.base64Encoder??Tm.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??v$,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??YH,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lr}],logger:e?.logger??new w$.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??T$.parseUrl,utf8Decoder:e?.utf8Decoder??Cm.fromUtf8,utf8Encoder:e?.utf8Encoder??Cm.toUtf8})});var Pm,xn,I$,Im,Rn,Am,A$,R$,x$,O$,N$,D$,M$=y(()=>{d();YS();ur();Pm=T(QS()),xn=T(gs());Lt();I$=T(tv()),Im=T(Oa()),Rn=T(Es()),Am=T(Pu()),A$=T(rv()),R$=T(Wp());P$();x$=T(oe()),O$=T(pv()),N$=T(oe()),D$=e=>{(0,N$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,O$.resolveDefaultsModeConfig)(e),r=()=>t().then(x$.loadConfigsForDefaultMode),n=C$(e);ia(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Rn.loadConfig)(da,o),bodyLengthChecker:e?.bodyLengthChecker??A$.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Pm.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Yp.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new ut},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Lr}],maxAttempts:e?.maxAttempts??(0,Rn.loadConfig)(Im.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Rn.loadConfig)(xn.NODE_REGION_CONFIG_OPTIONS,{...xn.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Am.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Rn.loadConfig)({...Im.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||R$.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??I$.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Am.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Rn.loadConfig)(xn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,Rn.loadConfig)(xn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,Rn.loadConfig)(Pm.NODE_APP_ID_CONFIG_OPTIONS,o)}}});var k$,L$,U$=y(()=>{d();k$=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},L$=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Rm,xm,Om,F$,B$=y(()=>{d();Rm=T(mv()),xm=T(he()),Om=T(oe());U$();F$=(e,t)=>{let r=Object.assign((0,Rm.getAwsRegionExtensionConfiguration)(e),(0,Om.getDefaultExtensionConfiguration)(e),(0,xm.getHttpHandlerExtensionConfiguration)(e),k$(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Rm.resolveAwsRegionExtensionConfiguration)(r),(0,Om.resolveDefaultRuntimeConfig)(r),(0,xm.resolveHttpHandlerRuntimeConfig)(r),L$(r))}});var Nm,j$,H$,Dm,$$,q$,z$,Mm,Av,hr,Qa=y(()=>{d();Nm=T(Yy()),j$=T(Qy()),H$=T(e_()),Dm=T(Cp()),$$=T(gs());Lt();q$=T(vS()),z$=T(Ss()),Mm=T(Oa()),Av=T(oe());Cv();wm();M$();B$();hr=class extends Av.Client{config;constructor(...[t]){let r=D$(t||{});super(r),this.initConfig=r;let n=QH(r),o=(0,Dm.resolveUserAgentConfig)(n),s=(0,Mm.resolveRetryConfig)(o),i=(0,$$.resolveRegionConfig)(s),a=(0,Nm.resolveHostHeaderConfig)(i),c=(0,z$.resolveEndpointConfig)(a),l=XH(c),p=F$(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,Dm.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Mm.getRetryPlugin)(this.config)),this.middlewareStack.use((0,q$.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Nm.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,j$.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,H$.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ji(this.config,{httpAuthSchemeParametersProvider:JH,identityProviderConfigProvider:async f=>new ho({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Hi(this.config))}destroy(){super.destroy()}}});var V$,it,km=y(()=>{d();V$=T(oe()),it=class e extends V$.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Rv,xv,Ov,Za,ec,tc,rc,nc,oc,Nv,Dv,sc,ic=y(()=>{d();Rv=T(oe());km();xv=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Rv.SENSITIVE_STRING}}),Ov=e=>({...e,...e.Credentials&&{Credentials:xv(e.Credentials)}}),Za=class e extends it{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ec=class e extends it{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tc=class e extends it{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rc=class e extends it{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nc=class e extends it{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oc=class e extends it{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Nv=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Rv.SENSITIVE_STRING}}),Dv=e=>({...e,...e.Credentials&&{Credentials:xv(e.Credentials)}}),sc=class e extends it{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var G$,K,W$,K$,J$,Y$,X$,She,vhe,bhe,whe,The,Che,Phe,Ihe,Ahe,Q$,Rhe,xhe,Ohe,Nhe,Dhe,Mhe,Z$,khe,Lhe,eq,Uhe,Fhe,Bhe,jhe,Hhe,$he,qhe,$r,zhe,tq,rq,nq,oq,Mv,Vhe,kv,As,Ghe,Lv,Uv,Rs,Fv,xs,Bv,jv,Hv,Os,Ns,$v,qv,zv,Ds,Vv,Ms,ks,Gv,Wv,Hr,Kv,Jv,Yv,Xv,Qv,sq,Zv,eb,tb,Ee,iq,Whe,rb=y(()=>{d();ur();G$=T(he()),K=T(oe());ic();km();W$=async(e,t)=>{let r=rq,n;return n=iq({...Ihe(e,t),[oq]:Vhe,[sq]:nq}),tq(t,r,"/",void 0,n)},K$=async(e,t)=>{let r=rq,n;return n=iq({...Ahe(e,t),[oq]:Ghe,[sq]:nq}),tq(t,r,"/",void 0,n)},J$=async(e,t)=>{if(e.statusCode>=300)return X$(e,t);let r=await Sa(e.body,t),n={};return n=khe(r.AssumeRoleResult,t),{$metadata:$r(e),...n}},Y$=async(e,t)=>{if(e.statusCode>=300)return X$(e,t);let r=await Sa(e.body,t),n={};return n=Lhe(r.AssumeRoleWithWebIdentityResult,t),{$metadata:$r(e),...n}},X$=async(e,t)=>{let r={...e,body:await uS(e.body,t)},n=Whe(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await She(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await The(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Che(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Phe(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await vhe(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await bhe(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await whe(r,t);default:let o=r.body;return zhe({output:e,parsedBody:o.Error,errorCode:n})}},She=async(e,t)=>{let r=e.body,n=Uhe(r.Error,t),o=new Za({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},vhe=async(e,t)=>{let r=e.body,n=Fhe(r.Error,t),o=new sc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},bhe=async(e,t)=>{let r=e.body,n=Bhe(r.Error,t),o=new nc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},whe=async(e,t)=>{let r=e.body,n=jhe(r.Error,t),o=new oc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},The=async(e,t)=>{let r=e.body,n=Hhe(r.Error,t),o=new ec({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},Che=async(e,t)=>{let r=e.body,n=$he(r.Error,t),o=new tc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},Phe=async(e,t)=>{let r=e.body,n=qhe(r.Error,t),o=new rc({$metadata:$r(e),...n});return(0,K.decorateServiceException)(o,r)},Ihe=(e,t)=>{let r={};if(e[Ms]!=null&&(r[Ms]=e[Ms]),e[ks]!=null&&(r[ks]=e[ks]),e[Ns]!=null){let n=Q$(e[Ns],t);e[Ns]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[Os]!=null&&(r[Os]=e[Os]),e[xs]!=null&&(r[xs]=e[xs]),e[Yv]!=null){let n=Mhe(e[Yv],t);e[Yv]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[Qv]!=null){let n=Dhe(e[Qv],t);e[Qv]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[jv]!=null&&(r[jv]=e[jv]),e[Kv]!=null&&(r[Kv]=e[Kv]),e[Xv]!=null&&(r[Xv]=e[Xv]),e[Hr]!=null&&(r[Hr]=e[Hr]),e[qv]!=null){let n=Ohe(e[qv],t);e[qv]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},Ahe=(e,t)=>{let r={};if(e[Ms]!=null&&(r[Ms]=e[Ms]),e[ks]!=null&&(r[ks]=e[ks]),e[eb]!=null&&(r[eb]=e[eb]),e[zv]!=null&&(r[zv]=e[zv]),e[Ns]!=null){let n=Q$(e[Ns],t);e[Ns]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[Os]!=null&&(r[Os]=e[Os]),e[xs]!=null&&(r[xs]=e[xs]),r},Q$=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=Rhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Rhe=(e,t)=>{let r={};return e[tb]!=null&&(r[tb]=e[tb]),r},xhe=(e,t)=>{let r={};return e[$v]!=null&&(r[$v]=e[$v]),e[Fv]!=null&&(r[Fv]=e[Fv]),r},Ohe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=xhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Nhe=(e,t)=>{let r={};return e[Hv]!=null&&(r[Hv]=e[Hv]),e[Zv]!=null&&(r[Zv]=e[Zv]),r},Dhe=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},Mhe=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=Nhe(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Z$=(e,t)=>{let r={};return e[kv]!=null&&(r[kv]=(0,K.expectString)(e[kv])),e[Lv]!=null&&(r[Lv]=(0,K.expectString)(e[Lv])),r},khe=(e,t)=>{let r={};return e[Rs]!=null&&(r[Rs]=eq(e[Rs],t)),e[As]!=null&&(r[As]=Z$(e[As],t)),e[Ds]!=null&&(r[Ds]=(0,K.strictParseInt32)(e[Ds])),e[Hr]!=null&&(r[Hr]=(0,K.expectString)(e[Hr])),r},Lhe=(e,t)=>{let r={};return e[Rs]!=null&&(r[Rs]=eq(e[Rs],t)),e[Wv]!=null&&(r[Wv]=(0,K.expectString)(e[Wv])),e[As]!=null&&(r[As]=Z$(e[As],t)),e[Ds]!=null&&(r[Ds]=(0,K.strictParseInt32)(e[Ds])),e[Vv]!=null&&(r[Vv]=(0,K.expectString)(e[Vv])),e[Uv]!=null&&(r[Uv]=(0,K.expectString)(e[Uv])),e[Hr]!=null&&(r[Hr]=(0,K.expectString)(e[Hr])),r},eq=(e,t)=>{let r={};return e[Mv]!=null&&(r[Mv]=(0,K.expectString)(e[Mv])),e[Gv]!=null&&(r[Gv]=(0,K.expectString)(e[Gv])),e[Jv]!=null&&(r[Jv]=(0,K.expectString)(e[Jv])),e[Bv]!=null&&(r[Bv]=(0,K.expectNonNull)((0,K.parseRfc3339DateTimeWithOffset)(e[Bv]))),r},Uhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Fhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Bhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},jhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},Hhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},$he=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},qhe=(e,t)=>{let r={};return e[Ee]!=null&&(r[Ee]=(0,K.expectString)(e[Ee])),r},$r=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),zhe=(0,K.withBaseException)(it),tq=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new G$.HttpRequest(l)},rq={"content-type":"application/x-www-form-urlencoded"},nq="2011-06-15",oq="Action",Mv="AccessKeyId",Vhe="AssumeRole",kv="AssumedRoleId",As="AssumedRoleUser",Ghe="AssumeRoleWithWebIdentity",Lv="Arn",Uv="Audience",Rs="Credentials",Fv="ContextAssertion",xs="DurationSeconds",Bv="Expiration",jv="ExternalId",Hv="Key",Os="Policy",Ns="PolicyArns",$v="ProviderArn",qv="ProvidedContexts",zv="ProviderId",Ds="PackedPolicySize",Vv="Provider",Ms="RoleArn",ks="RoleSessionName",Gv="SecretAccessKey",Wv="SubjectFromWebIdentityToken",Hr="SourceIdentity",Kv="SerialNumber",Jv="SessionToken",Yv="Tags",Xv="TokenCode",Qv="TransitiveTagKeys",sq="Version",Zv="Value",eb="WebIdentityToken",tb="arn",Ee="message",iq=e=>Object.entries(e).map(([t,r])=>(0,K.extendedEncodeURIComponent)(t)+"="+(0,K.extendedEncodeURIComponent)(r)).join("&"),Whe=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var aq,cq,dq,xo,Lm=y(()=>{d();aq=T(Ss()),cq=T(ns()),dq=T(oe());wm();ic();rb();xo=class extends dq.Command.classBuilder().ep(bm).m(function(t,r,n,o){return[(0,cq.getSerdePlugin)(n,this.serialize,this.deserialize),(0,aq.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Ov).ser(W$).de(J$).build(){}});var lq,uq,pq,Oo,Um=y(()=>{d();lq=T(Ss()),uq=T(ns()),pq=T(oe());wm();ic();rb();Oo=class extends pq.Command.classBuilder().ep(bm).m(function(t,r,n,o){return[(0,uq.getSerdePlugin)(n,this.serialize,this.deserialize),(0,lq.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Nv,Dv).ser(K$).de(Y$).build(){}});var mq,Khe,Fm,fq=y(()=>{d();mq=T(oe());Lm();Um();Qa();Khe={AssumeRoleCommand:xo,AssumeRoleWithWebIdentityCommand:Oo},Fm=class extends hr{};(0,mq.createAggregatedClient)(Khe,Fm)});var hq=y(()=>{d();Lm();Um()});var gq=y(()=>{d();ic()});var yq,_q,Eq,Sq,vq,bq,wq=y(()=>{d();Xu();Lm();Um();yq="us-east-1",_q=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},Eq=async(e,t,r)=>{let n=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${o} (parent client)`,`${yq} (STS default)`),n??o??yq},Sq=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:p=e?.parentClientConfig?.logger,region:f,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,_=await Eq(f,e?.parentClientConfig?.region,g),E=!bq(h);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:_,requestHandler:E?h:void 0,logger:p})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new xo(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=_q(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return go(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},vq=(e,t)=>{let r;return async n=>{if(!r){let{logger:c=e?.parentClientConfig?.logger,region:l,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,h=await Eq(l,e?.parentClientConfig?.region,f),g=!bq(p);r=new t({profile:e?.parentClientConfig?.profile,region:h,requestHandler:g?p:void 0,logger:c})}let{Credentials:o,AssumedRoleUser:s}=await r.send(new Oo(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=_q(s),a={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...i&&{accountId:i}};return i&&go(a,"RESOLVED_ACCOUNT_ID","T"),go(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},bq=e=>e?.metadata?.handlerProtocol==="h2"});var Tq,Cq,Pq,Jhe,Iq=y(()=>{d();wq();Qa();Tq=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,Cq=(e={},t)=>Sq(e,Tq(hr,t)),Pq=(e={},t)=>vq(e,Tq(hr,t)),Jhe=e=>t=>e({roleAssumer:Cq(t),roleAssumerWithWebIdentity:Pq(t),...t})});var nb={};He(nb,{AssumeRoleCommand:()=>xo,AssumeRoleResponseFilterSensitiveLog:()=>Ov,AssumeRoleWithWebIdentityCommand:()=>Oo,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Nv,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Dv,CredentialsFilterSensitiveLog:()=>xv,ExpiredTokenException:()=>Za,IDPCommunicationErrorException:()=>sc,IDPRejectedClaimException:()=>nc,InvalidIdentityTokenException:()=>oc,MalformedPolicyDocumentException:()=>ec,PackedPolicyTooLargeException:()=>tc,RegionDisabledException:()=>rc,STS:()=>Fm,STSClient:()=>hr,STSServiceException:()=>it,__Client:()=>Av.Client,decorateDefaultCredentialProvider:()=>Jhe,getDefaultRoleAssumer:()=>Cq,getDefaultRoleAssumerWithWebIdentity:()=>Pq});var ob=y(()=>{d();Qa();fq();hq();gq();Iq();km()});var ab=b((lWe,xq)=>{"use strict";d();var Bm=Object.defineProperty,Yhe=Object.getOwnPropertyDescriptor,Xhe=Object.getOwnPropertyNames,Qhe=Object.prototype.hasOwnProperty,ib=(e,t)=>Bm(e,"name",{value:t,configurable:!0}),Zhe=(e,t)=>{for(var r in t)Bm(e,r,{get:t[r],enumerable:!0})},ege=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xhe(t))!Qhe.call(e,o)&&o!==r&&Bm(e,o,{get:()=>t[o],enumerable:!(n=Yhe(t,o))||n.enumerable});return e},tge=e=>ege(Bm({},"__esModule",{value:!0}),e),Rq={};Zhe(Rq,{fromProcess:()=>age});xq.exports=tge(Rq);var Aq=ln(),sb=Je(),rge=M("child_process"),nge=M("util"),oge=(Qt(),z(Qr)),sge=ib((e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let s=new Date;if(new Date(t.Expiration)<s)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let o={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return(0,oge.setCredentialFeature)(o,"CREDENTIALS_PROCESS","w"),o},"getValidatedProcessCredentials"),ige=ib(async(e,t,r)=>{let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let s=(0,nge.promisify)(rge.exec);try{let{stdout:i}=await s(o),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return sge(e,a,t)}catch(i){throw new sb.CredentialsProviderError(i.message,{logger:r})}}else throw new sb.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new sb.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),age=ib((e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,Aq.parseKnownFiles)(e);return ige((0,Aq.getProfileName)({profile:e.profile??t?.profile}),r,e.logger)},"fromProcess")});var cb=b(yr=>{"use strict";d();var cge=yr&&yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dge=yr&&yr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lge=yr&&yr.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),o=0;o<n.length;o++)n[o]!=="default"&&cge(r,t,n[o]);return dge(r,t),r}}();Object.defineProperty(yr,"__esModule",{value:!0});yr.fromWebToken=void 0;var uge=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:o,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>lge((ob(),z(nb))));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:o,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})};yr.fromWebToken=uge});var Nq=b(jm=>{"use strict";d();Object.defineProperty(jm,"__esModule",{value:!0});jm.fromTokenFile=void 0;var pge=(Qt(),z(Qr)),mge=Je(),fge=M("fs"),hge=cb(),Oq="AWS_WEB_IDENTITY_TOKEN_FILE",gge="AWS_ROLE_ARN",yge="AWS_ROLE_SESSION_NAME",_ge=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[Oq],r=e?.roleArn??process.env[gge],n=e?.roleSessionName??process.env[yge];if(!t||!r)throw new mge.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,hge.fromWebToken)({...e,webIdentityToken:(0,fge.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[Oq]&&(0,pge.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};jm.fromTokenFile=_ge});var ub=b((gWe,Hm)=>{"use strict";d();var Dq=Object.defineProperty,Ege=Object.getOwnPropertyDescriptor,Sge=Object.getOwnPropertyNames,vge=Object.prototype.hasOwnProperty,db=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sge(t))!vge.call(e,o)&&o!==r&&Dq(e,o,{get:()=>t[o],enumerable:!(n=Ege(t,o))||n.enumerable});return e},Mq=(e,t,r)=>(db(e,t,"default"),r&&db(r,t,"default")),bge=e=>db(Dq({},"__esModule",{value:!0}),e),lb={};Hm.exports=bge(lb);Mq(lb,Nq(),Hm.exports);Mq(lb,cb(),Hm.exports)});var $q=b((_We,Hq)=>{"use strict";d();var wge=Object.create,cc=Object.defineProperty,Tge=Object.getOwnPropertyDescriptor,Cge=Object.getOwnPropertyNames,Pge=Object.getPrototypeOf,Ige=Object.prototype.hasOwnProperty,Ce=(e,t)=>cc(e,"name",{value:t,configurable:!0}),Age=(e,t)=>{for(var r in t)cc(e,r,{get:t[r],enumerable:!0})},Fq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Cge(t))!Ige.call(e,o)&&o!==r&&cc(e,o,{get:()=>t[o],enumerable:!(n=Tge(t,o))||n.enumerable});return e},On=(e,t,r)=>(r=e!=null?wge(Pge(e)):{},Fq(t||!e||!e.__esModule?cc(r,"default",{value:e,enumerable:!0}):r,e)),Rge=e=>Fq(cc({},"__esModule",{value:!0}),e),Bq={};Age(Bq,{fromIni:()=>Hge});Hq.exports=Rge(Bq);var mb=ln(),Nn=(Qt(),z(Qr)),ac=Je(),xge=Ce((e,t,r)=>{let n={EcsContainer:Ce(async o=>{let{fromHttp:s}=await Promise.resolve().then(()=>On(Ny())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>On(Mi()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,ac.chain)(s(o??{}),i(o))().then(pb)},"EcsContainer"),Ec2InstanceMetadata:Ce(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>On(Mi()));return async()=>s(o)().then(pb)},"Ec2InstanceMetadata"),Environment:Ce(async o=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>On(Cy()));return async()=>s(o)().then(pb)},"Environment")};if(e in n)return n[e];throw new ac.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),pb=Ce(e=>(0,Nn.setCredentialFeature)(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),Oge=Ce((e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(Nge(e,{profile:t,logger:r})||Dge(e,{profile:t,logger:r})),"isAssumeRoleProfile"),Nge=Ce((e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},"isAssumeRoleWithSourceProfile"),Dge=Ce((e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},"isCredentialSourceProfile"),Mge=Ce(async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:s,region:i}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>On((ob(),z(nb))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new ac.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,mb.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${e}]`}`);let a=s?jq(s,t,r,{...n,[s]:!0},kq(t[s]??{})):(await xge(o.credential_source,e,r.logger)(r))();if(kq(o))return a.then(c=>(0,Nn.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:l}=o;if(l){if(!r.mfaCodeProvider)throw new ac.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,c).then(f=>(0,Nn.setCredentialFeature)(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),kq=Ce(e=>!e.role_arn&&!!e.credential_source,"isCredentialSourceWithoutRoleArn"),kge=Ce(e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string","isProcessProfile"),Lge=Ce(async(e,t)=>Promise.resolve().then(()=>On(ab())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>(0,Nn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),Uge=Ce(async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>On(Tv()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(o=>t.sso_session?(0,Nn.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO","r"):(0,Nn.setCredentialFeature)(o,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),Fge=Ce(e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),"isSsoProfile"),Lq=Ce(e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,"isStaticCredsProfile"),Uq=Ce(async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return(0,Nn.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),Bge=Ce(e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,"isWebIdentityProfile"),jge=Ce(async(e,t)=>Promise.resolve().then(()=>On(ub())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>(0,Nn.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),jq=Ce(async(e,t,r,n={},o=!1)=>{let s=t[e];if(Object.keys(n).length>0&&Lq(s))return Uq(s,r);if(o||Oge(s,{profile:e,logger:r.logger}))return Mge(e,t,r,n);if(Lq(s))return Uq(s,r);if(Bge(s))return jge(s,r);if(kge(s))return Lge(r,e);if(Fge(s))return await Uge(e,s,r);throw new ac.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),Hge=Ce((e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,mb.parseKnownFiles)(r);return jq((0,mb.getProfileName)({profile:e.profile??t?.profile}),n,r)},"fromIni")});var Yq=b((SWe,Jq)=>{"use strict";d();var $ge=Object.create,dc=Object.defineProperty,qge=Object.getOwnPropertyDescriptor,zge=Object.getOwnPropertyNames,Vge=Object.getPrototypeOf,Gge=Object.prototype.hasOwnProperty,$m=(e,t)=>dc(e,"name",{value:t,configurable:!0}),Wge=(e,t)=>{for(var r in t)dc(e,r,{get:t[r],enumerable:!0})},Vq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of zge(t))!Gge.call(e,o)&&o!==r&&dc(e,o,{get:()=>t[o],enumerable:!(n=qge(t,o))||n.enumerable});return e},Ls=(e,t,r)=>(r=e!=null?$ge(Vge(e)):{},Vq(t||!e||!e.__esModule?dc(r,"default",{value:e,enumerable:!0}):r,e)),Kge=e=>Vq(dc({},"__esModule",{value:!0}),e),Gq={};Wge(Gq,{credentialsTreatedAsExpired:()=>Kq,credentialsWillNeedRefresh:()=>Wq,defaultProvider:()=>Xge});Jq.exports=Kge(Gq);var fb=Cy(),Jge=ln(),No=Je(),qq="AWS_EC2_METADATA_DISABLED",Yge=$m(async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:o}=await Promise.resolve().then(()=>Ls(Mi()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>Ls(Ny()));return(0,No.chain)(s(e),n(e))}return process.env[qq]&&process.env[qq]!=="false"?async()=>{throw new No.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},"remoteProvider"),zq=!1,Xge=$m((e={})=>(0,No.memoize)((0,No.chain)(async()=>{if(e.profile??process.env[Jge.ENV_PROFILE])throw process.env[fb.ENV_KEY]&&process.env[fb.ENV_SECRET]&&(zq||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),zq=!0)),new No.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,fb.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoSession:s}=e;if(!t&&!r&&!n&&!o&&!s)throw new No.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>Ls(Tv()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>Ls($q()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>Ls(ab()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>Ls(ub()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await Yge(e))()),async()=>{throw new No.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),Kq,Wq),"defaultProvider"),Wq=$m(e=>e?.expiration!==void 0,"credentialsWillNeedRefresh"),Kq=$m(e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var Sz=b(Km=>{"use strict";d();Object.defineProperty(Km,"__esModule",{value:!0});Km.ruleSet=void 0;var Eb="required",V="type",Y="fn",X="argv",Ie="ref",Dn="properties",Mn="headers",Xq=!1,Do="isSet",je="error",_r="endpoint",Pe="tree",Wm="PartitionResult",kn="stringEquals",yz="dynamodb",Ln="getAttr",Qq="aws.parseArn",Us="ParsedArn",Sb="isValidHostLabel",Zq="FirstArn",lc={[Eb]:!1,[V]:"String"},ez={[Eb]:!0,default:!1,[V]:"Boolean"},vb={[Y]:"booleanEquals",[X]:[{[Ie]:"UseFIPS"},!0]},bb={[Y]:"booleanEquals",[X]:[{[Ie]:"UseDualStack"},!0]},jt={},_z={[Ie]:"Region"},tz={[Y]:"booleanEquals",[X]:[{[Y]:Ln,[X]:[{[Ie]:Wm},"supportsFIPS"]},!0]},rz={[Y]:"booleanEquals",[X]:[{[Y]:Ln,[X]:[{[Ie]:Wm},"supportsDualStack"]},!0]},hb={conditions:[{[Y]:Do,[X]:[{[Ie]:"AccountIdEndpointMode"}]},{[Y]:kn,[X]:[{[Ie]:"AccountIdEndpointMode"},"required"]}],rules:[{[je]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:je}],[V]:Pe},Vm={[Y]:Do,[X]:[{[Ie]:"AccountIdEndpointMode"}]},nz={[je]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[V]:je},Ez={[Y]:Ln,[X]:[{[Ie]:Wm},"name"]},oz={[_r]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Dn]:{},[Mn]:{}},[V]:_r},Gm={[Y]:"not",[X]:[vb]},sz={[je]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[V]:je},gb={[Y]:"not",[X]:[{[Y]:kn,[X]:[{[Ie]:"AccountIdEndpointMode"},"disabled"]}]},qm={[Y]:kn,[X]:[Ez,"aws"]},zm={[Y]:"not",[X]:[bb]},iz={[Y]:kn,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"service"]},yz]},az={[Y]:Sb,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"region"]},!1]},cz={[Y]:kn,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"region"]},"{Region}"]},dz={[Y]:Sb,[X]:[{[Y]:Ln,[X]:[{[Ie]:Us},"accountId"]},!1]},lz={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Dn]:{},[Mn]:{}},uz={[Ie]:"ResourceArnList"},pz={[Ie]:"AccountId"},yb=[vb],_b=[bb],mz=[_z],fz=[Vm,{[Y]:kn,[X]:[{[Ie]:"AccountIdEndpointMode"},"required"]}],hz=[Gm],gz=[{[Ie]:"ResourceArn"}],Qge={version:"1.0",parameters:{Region:lc,UseDualStack:ez,UseFIPS:ez,Endpoint:lc,AccountId:lc,AccountIdEndpointMode:lc,ResourceArn:lc,ResourceArnList:{[Eb]:Xq,[V]:"stringArray"}},rules:[{conditions:[{[Y]:Do,[X]:[{[Ie]:"Endpoint"}]}],rules:[{conditions:yb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:je},{conditions:_b,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:je},{endpoint:{url:"{Endpoint}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{conditions:[{[Y]:Do,[X]:mz}],rules:[{conditions:[{[Y]:"aws.partition",[X]:mz,assign:Wm}],rules:[{conditions:[{[Y]:kn,[X]:[_z,"local"]}],rules:[{conditions:yb,error:"Invalid Configuration: FIPS and local endpoint are not supported",[V]:je},{conditions:_b,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[V]:je},{endpoint:{url:"http://localhost:8000",[Dn]:{authSchemes:[{signingRegion:"us-east-1",signingName:yz,name:"sigv4"}]},[Mn]:jt},[V]:_r}],[V]:Pe},{conditions:[vb,bb],rules:[{conditions:[tz,rz],rules:[hb,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:je}],[V]:Pe},{conditions:yb,rules:[{conditions:[tz],rules:[{conditions:[{[Y]:kn,[X]:[Ez,"aws-us-gov"]}],rules:[hb,oz],[V]:Pe},hb,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"FIPS is enabled but this partition does not support FIPS",[V]:je}],[V]:Pe},{conditions:_b,rules:[{conditions:[rz],rules:[{conditions:fz,rules:[{conditions:hz,rules:[sz],[V]:Pe},nz],[V]:Pe},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"DualStack is enabled but this partition does not support DualStack",[V]:je}],[V]:Pe},{conditions:[Vm,gb,qm,Gm,zm,{[Y]:Do,[X]:gz},{[Y]:Qq,[X]:gz,assign:Us},iz,az,cz,dz],endpoint:lz,[V]:_r},{conditions:[Vm,gb,qm,Gm,zm,{[Y]:Do,[X]:[uz]},{[Y]:Ln,[X]:[uz,"[0]"],assign:Zq},{[Y]:Qq,[X]:[{[Ie]:Zq}],assign:Us},iz,az,cz,dz],endpoint:lz,[V]:_r},{conditions:[Vm,gb,qm,Gm,zm,{[Y]:Do,[X]:[pz]}],rules:[{conditions:[{[Y]:Sb,[X]:[pz,Xq]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Dn]:jt,[Mn]:jt},[V]:_r}],[V]:Pe},{error:"Credentials-sourced account ID parameter is invalid",[V]:je}],[V]:Pe},{conditions:fz,rules:[{conditions:hz,rules:[{conditions:[zm],rules:[{conditions:[qm],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[V]:je}],[V]:Pe},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[V]:je}],[V]:Pe},sz],[V]:Pe},nz],[V]:Pe},oz],[V]:Pe}],[V]:Pe},{error:"Invalid Configuration: Missing Region",[V]:je}]};Km.ruleSet=Qge});var vz=b(Jm=>{"use strict";d();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.defaultEndpointResolver=void 0;var Zge=gd(),wb=pd(),eye=Sz(),tye=new wb.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),rye=(e,t={})=>tye.get(e,()=>(0,wb.resolveEndpoint)(eye.ruleSet,{endpointParams:e,logger:t.logger}));Jm.defaultEndpointResolver=rye;wb.customEndpointFunctions.aws=Zge.awsEndpointFunctions});var Tz=b(Ym=>{"use strict";d();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.getRuntimeConfig=void 0;var nye=(er(),z(Zt)),oye=De(),sye=$o(),bz=ct(),wz=Ge(),iye=ly(),aye=vz(),cye=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??bz.fromBase64,base64Encoder:e?.base64Encoder??bz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??aye.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??iye.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new nye.AwsSdkSigV4Signer}],logger:e?.logger??new oye.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??sye.parseUrl,utf8Decoder:e?.utf8Decoder??wz.fromUtf8,utf8Encoder:e?.utf8Encoder??wz.toUtf8});Ym.getRuntimeConfig=cye});var Rz=b(Qm=>{"use strict";d();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.getRuntimeConfig=void 0;var dye=(Cl(),z(Tl)),lye=dye.__importDefault(QO()),Cz=(er(),z(Zt)),uye=(df(),z(cf)),pye=Yq(),mye=yf(),Pz=Ly(),Xm=Go(),fye=By(),Iz=xi(),qr=Yo(),Az=Ks(),hye=jy(),gye=il(),yye=Tz(),_ye=De(),Eye=Vy(),Sye=De(),vye=e=>{(0,Sye.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Eye.resolveDefaultsModeConfig)(e),r=()=>t().then(_ye.loadConfigsForDefaultMode),n=(0,yye.getRuntimeConfig)(e);(0,Cz.emitWarningIfUnsupportedVersion)(process.version);let o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,qr.loadConfig)(uye.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,o),authSchemePreference:e?.authSchemePreference??(0,qr.loadConfig)(Cz.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,o),bodyLengthChecker:e?.bodyLengthChecker??hye.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??pye.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Pz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:lye.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,qr.loadConfig)(mye.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,o),maxAttempts:e?.maxAttempts??(0,qr.loadConfig)(Iz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,qr.loadConfig)(Xm.NODE_REGION_CONFIG_OPTIONS,{...Xm.NODE_REGION_CONFIG_FILE_OPTIONS,...o}),requestHandler:Az.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,qr.loadConfig)({...Iz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||gye.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??fye.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Az.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,qr.loadConfig)(Xm.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,o),useFipsEndpoint:e?.useFipsEndpoint??(0,qr.loadConfig)(Xm.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,o),userAgentAppId:e?.userAgentAppId??(0,qr.loadConfig)(Pz.NODE_APP_ID_CONFIG_OPTIONS,o)}};Qm.getRuntimeConfig=vye});var Lz=b((xWe,kz)=>{d();var Zm=Object.defineProperty,bye=Object.getOwnPropertyDescriptor,wye=Object.getOwnPropertyNames,Tye=Object.prototype.hasOwnProperty,Er=(e,t)=>Zm(e,"name",{value:t,configurable:!0}),Cye=(e,t)=>{for(var r in t)Zm(e,r,{get:t[r],enumerable:!0})},Pye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wye(t))!Tye.call(e,o)&&o!==r&&Zm(e,o,{get:()=>t[o],enumerable:!(n=bye(t,o))||n.enumerable});return e},Iye=e=>Pye(Zm({},"__esModule",{value:!0}),e),Nz={};Cye(Nz,{WaiterState:()=>Mz,checkExceptions:()=>Rye,createWaiter:()=>Mye,waiterServiceDefaults:()=>Dz});kz.exports=Iye(Nz);var Aye=Er(e=>new Promise(t=>setTimeout(t,e*1e3)),"sleep"),Dz={minDelay:2,maxDelay:120},Mz=(e=>(e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT",e))(Mz||{}),Rye=Er(e=>{if(e.state==="ABORTED"){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state==="TIMEOUT"){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!=="SUCCESS")throw new Error(`${JSON.stringify(e)}`);return e},"checkExceptions"),xye=Er((e,t,r,n)=>{if(n>r)return t;let o=e*2**(n-1);return Oye(e,o)},"exponentialBackoffWithJitter"),Oye=Er((e,t)=>e+Math.random()*(t-e),"randomInRange"),Nye=Er(async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:o,abortSignal:s},i,a)=>{let c={},{state:l,reason:p}=await a(o,i);if(p){let _=xz(p);c[_]|=0,c[_]+=1}if(l!=="RETRY")return{state:l,reason:p,observedResponses:c};let f=1,h=Date.now()+r*1e3,g=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let v="AbortController signal aborted.";return c[v]|=0,c[v]+=1,{state:"ABORTED",observedResponses:c}}let _=xye(e,t,g,f);if(Date.now()+_*1e3>h)return{state:"TIMEOUT",observedResponses:c};await Aye(_);let{state:E,reason:S}=await a(o,i);if(S){let v=xz(S);c[v]|=0,c[v]+=1}if(E!=="RETRY")return{state:E,reason:S,observedResponses:c};f+=1}},"runPolling"),xz=Er(e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),"createMessageFromResponse"),Dye=Er(e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},"validateWaiterOptions"),Oz=Er(e=>{let t,r=new Promise(n=>{t=Er(()=>n({state:"ABORTED"}),"onAbort"),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},"abortTimeout"),Mye=Er(async(e,t,r)=>{let n={...Dz,...e};Dye(n);let o=[Nye(n,t,r)],s=[];if(e.abortSignal){let{aborted:i,clearListener:a}=Oz(e.abortSignal);s.push(a),o.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=Oz(e.abortController.signal);s.push(a),o.push(i)}return Promise.race(o).then(i=>{for(let a of s)a();return i})},"createWaiter")});var v2=b((NWe,S2)=>{"use strict";d();var tf=Object.defineProperty,kye=Object.getOwnPropertyDescriptor,Lye=Object.getOwnPropertyNames,Uye=Object.prototype.hasOwnProperty,u=(e,t)=>tf(e,"name",{value:t,configurable:!0}),Fye=(e,t)=>{for(var r in t)tf(e,r,{get:t[r],enumerable:!0})},Bye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Lye(t))!Uye.call(e,o)&&o!==r&&tf(e,o,{get:()=>t[o],enumerable:!(n=kye(t,o))||n.enumerable});return e},jye=e=>Bye(tf({},"__esModule",{value:!0}),e),qz={};Fye(qz,{ApproximateCreationDateTimePrecision:()=>Kye,AttributeAction:()=>Jye,AttributeValue:()=>ef,BackupInUseException:()=>Vz,BackupNotFoundException:()=>Wz,BackupStatus:()=>Xye,BackupType:()=>Qye,BackupTypeFilter:()=>i_e,BatchExecuteStatementCommand:()=>bG,BatchGetItemCommand:()=>wG,BatchStatementErrorCodeEnum:()=>d_e,BatchWriteItemCommand:()=>TG,BillingMode:()=>Zye,ComparisonOperator:()=>u_e,ConditionalCheckFailedException:()=>tG,ConditionalOperator:()=>p_e,ContinuousBackupsStatus:()=>m_e,ContinuousBackupsUnavailableException:()=>dV,ContributorInsightsAction:()=>h_e,ContributorInsightsStatus:()=>g_e,CreateBackupCommand:()=>CG,CreateGlobalTableCommand:()=>PG,CreateTableCommand:()=>IG,DeleteBackupCommand:()=>AG,DeleteItemCommand:()=>RG,DeleteResourcePolicyCommand:()=>xG,DeleteTableCommand:()=>OG,DescribeBackupCommand:()=>NG,DescribeContinuousBackupsCommand:()=>DG,DescribeContributorInsightsCommand:()=>MG,DescribeEndpointsCommand:()=>Ob,DescribeExportCommand:()=>kG,DescribeGlobalTableCommand:()=>LG,DescribeGlobalTableSettingsCommand:()=>UG,DescribeImportCommand:()=>FG,DescribeKinesisStreamingDestinationCommand:()=>BG,DescribeLimitsCommand:()=>jG,DescribeTableCommand:()=>sf,DescribeTableReplicaAutoScalingCommand:()=>HG,DescribeTimeToLiveCommand:()=>$G,DestinationStatus:()=>D_e,DisableKinesisStreamingDestinationCommand:()=>qG,DuplicateItemException:()=>OV,DynamoDB:()=>y2,DynamoDBClient:()=>jn,DynamoDBServiceException:()=>Q,EnableKinesisStreamingDestinationCommand:()=>zG,ExecuteStatementCommand:()=>VG,ExecuteTransactionCommand:()=>GG,ExportConflictException:()=>UV,ExportFormat:()=>C_e,ExportNotFoundException:()=>CV,ExportStatus:()=>P_e,ExportTableToPointInTimeCommand:()=>WG,ExportType:()=>I_e,ExportViewType:()=>A_e,GetItemCommand:()=>KG,GetResourcePolicyCommand:()=>JG,GlobalTableAlreadyExistsException:()=>yV,GlobalTableNotFoundException:()=>IV,GlobalTableStatus:()=>y_e,IdempotentParameterMismatchException:()=>DV,ImportConflictException:()=>qV,ImportNotFoundException:()=>RV,ImportStatus:()=>x_e,ImportTableCommand:()=>YG,IndexNotFoundException:()=>ZV,IndexStatus:()=>__e,InputCompressionType:()=>O_e,InputFormat:()=>N_e,InternalServerError:()=>Jz,InvalidEndpointException:()=>Zz,InvalidExportTimeException:()=>BV,InvalidRestoreTimeException:()=>WV,ItemCollectionSizeLimitExceededException:()=>sV,KeyType:()=>e_e,LimitExceededException:()=>uV,ListBackupsCommand:()=>XG,ListContributorInsightsCommand:()=>Nb,ListExportsCommand:()=>Db,ListGlobalTablesCommand:()=>QG,ListImportsCommand:()=>Mb,ListTablesCommand:()=>kb,ListTagsOfResourceCommand:()=>ZG,MultiRegionConsistency:()=>w_e,PointInTimeRecoveryStatus:()=>f_e,PointInTimeRecoveryUnavailableException:()=>HV,PolicyNotFoundException:()=>wV,ProjectionType:()=>t_e,ProvisionedThroughputExceededException:()=>tV,PutItemCommand:()=>e2,PutResourcePolicyCommand:()=>t2,QueryCommand:()=>Lb,ReplicaAlreadyExistsException:()=>JV,ReplicaNotFoundException:()=>XV,ReplicaStatus:()=>E_e,ReplicatedWriteConflictException:()=>aV,RequestLimitExceeded:()=>Xz,ResourceInUseException:()=>EV,ResourceNotFoundException:()=>nV,RestoreTableFromBackupCommand:()=>r2,RestoreTableToPointInTimeCommand:()=>n2,ReturnConsumedCapacity:()=>a_e,ReturnItemCollectionMetrics:()=>l_e,ReturnValue:()=>T_e,ReturnValuesOnConditionCheckFailure:()=>c_e,S3SseAlgorithm:()=>R_e,SSEStatus:()=>n_e,SSEType:()=>r_e,ScalarAttributeType:()=>Yye,ScanCommand:()=>Ub,Select:()=>M_e,StreamViewType:()=>o_e,TableAlreadyExistsException:()=>VV,TableClass:()=>S_e,TableInUseException:()=>mV,TableNotFoundException:()=>hV,TableStatus:()=>v_e,TagResourceCommand:()=>o2,TimeToLiveStatus:()=>s_e,TransactGetItemsCommand:()=>s2,TransactWriteItemsCommand:()=>i2,TransactionCanceledException:()=>nG,TransactionConflictException:()=>vV,TransactionInProgressException:()=>kV,UntagResourceCommand:()=>a2,UpdateContinuousBackupsCommand:()=>c2,UpdateContributorInsightsCommand:()=>d2,UpdateGlobalTableCommand:()=>l2,UpdateGlobalTableSettingsCommand:()=>u2,UpdateItemCommand:()=>p2,UpdateKinesisStreamingDestinationCommand:()=>m2,UpdateTableCommand:()=>f2,UpdateTableReplicaAutoScalingCommand:()=>h2,UpdateTimeToLiveCommand:()=>g2,WitnessStatus:()=>b_e,__Client:()=>m.Client,paginateListContributorInsights:()=>mTe,paginateListExports:()=>hTe,paginateListImports:()=>yTe,paginateListTables:()=>ETe,paginateQuery:()=>vTe,paginateScan:()=>wTe,waitForTableExists:()=>TTe,waitForTableNotExists:()=>PTe,waitUntilTableExists:()=>CTe,waitUntilTableNotExists:()=>ITe});S2.exports=jye(qz);var Hye=(df(),z(cf)),$ye=yf(),Uz=Ef(),qye=vf(),zye=wf(),Fz=Yd(),Vye=Go(),Tb=(rt(),z(yt)),Gye=Vg(),Bz=xi(),jz=ly(),L=vy(),F=Gs(),Wye=u(e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),B={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},D=(er(),z(Zt)),Cb=me(),rf=(ey(),z(Zg)),m=De(),Q=class zz extends m.ServiceException{static{u(this,"DynamoDBServiceException")}constructor(t){super(t),Object.setPrototypeOf(this,zz.prototype)}},Kye={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Jye={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},Yye={B:"B",N:"N",S:"S"},Xye={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Qye={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Zye={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},e_e={HASH:"HASH",RANGE:"RANGE"},t_e={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},r_e={AES256:"AES256",KMS:"KMS"},n_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},o_e={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},s_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Vz=class Gz extends Q{static{u(this,"BackupInUseException")}name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,Gz.prototype)}},Wz=class Kz extends Q{static{u(this,"BackupNotFoundException")}name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,Kz.prototype)}},i_e={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},a_e={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},c_e={ALL_OLD:"ALL_OLD",NONE:"NONE"},d_e={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},Jz=class Yz extends Q{static{u(this,"InternalServerError")}name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,Yz.prototype)}},Xz=class Qz extends Q{static{u(this,"RequestLimitExceeded")}name="RequestLimitExceeded";$fault="client";constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,Qz.prototype)}},Zz=class eV extends Q{static{u(this,"InvalidEndpointException")}name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,eV.prototype),this.Message=t.Message}},tV=class rV extends Q{static{u(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,rV.prototype)}},nV=class oV extends Q{static{u(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,oV.prototype)}},l_e={NONE:"NONE",SIZE:"SIZE"},sV=class iV extends Q{static{u(this,"ItemCollectionSizeLimitExceededException")}name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,iV.prototype)}},aV=class cV extends Q{static{u(this,"ReplicatedWriteConflictException")}name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,cV.prototype)}},u_e={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},p_e={AND:"AND",OR:"OR"},m_e={DISABLED:"DISABLED",ENABLED:"ENABLED"},f_e={DISABLED:"DISABLED",ENABLED:"ENABLED"},dV=class lV extends Q{static{u(this,"ContinuousBackupsUnavailableException")}name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,lV.prototype)}},h_e={DISABLE:"DISABLE",ENABLE:"ENABLE"},g_e={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},uV=class pV extends Q{static{u(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,pV.prototype)}},mV=class fV extends Q{static{u(this,"TableInUseException")}name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,fV.prototype)}},hV=class gV extends Q{static{u(this,"TableNotFoundException")}name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,gV.prototype)}},y_e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},__e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},E_e={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},S_e={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},v_e={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},yV=class _V extends Q{static{u(this,"GlobalTableAlreadyExistsException")}name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,_V.prototype)}},b_e={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},w_e={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},EV=class SV extends Q{static{u(this,"ResourceInUseException")}name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,SV.prototype)}},T_e={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},vV=class bV extends Q{static{u(this,"TransactionConflictException")}name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,bV.prototype)}},wV=class TV extends Q{static{u(this,"PolicyNotFoundException")}name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,TV.prototype)}},C_e={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},P_e={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},I_e={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},A_e={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},R_e={AES256:"AES256",KMS:"KMS"},CV=class PV extends Q{static{u(this,"ExportNotFoundException")}name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,PV.prototype)}},IV=class AV extends Q{static{u(this,"GlobalTableNotFoundException")}name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,AV.prototype)}},x_e={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},O_e={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},N_e={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},RV=class xV extends Q{static{u(this,"ImportNotFoundException")}name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,xV.prototype)}},D_e={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},OV=class NV extends Q{static{u(this,"DuplicateItemException")}name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,NV.prototype)}},DV=class MV extends Q{static{u(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,MV.prototype),this.Message=t.Message}},kV=class LV extends Q{static{u(this,"TransactionInProgressException")}name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,LV.prototype),this.Message=t.Message}},UV=class FV extends Q{static{u(this,"ExportConflictException")}name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,FV.prototype)}},BV=class jV extends Q{static{u(this,"InvalidExportTimeException")}name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,jV.prototype)}},HV=class $V extends Q{static{u(this,"PointInTimeRecoveryUnavailableException")}name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,$V.prototype)}},qV=class zV extends Q{static{u(this,"ImportConflictException")}name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,zV.prototype)}},M_e={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},VV=class GV extends Q{static{u(this,"TableAlreadyExistsException")}name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,GV.prototype)}},WV=class KV extends Q{static{u(this,"InvalidRestoreTimeException")}name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,KV.prototype)}},JV=class YV extends Q{static{u(this,"ReplicaAlreadyExistsException")}name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,YV.prototype)}},XV=class QV extends Q{static{u(this,"ReplicaNotFoundException")}name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,QV.prototype)}},ZV=class eG extends Q{static{u(this,"IndexNotFoundException")}name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,eG.prototype)}},ef;(e=>{e.visit=u((t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]),"visit")})(ef||(ef={}));var tG=class rG extends Q{static{u(this,"ConditionalCheckFailedException")}name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,rG.prototype),this.Item=t.Item}},nG=class oG extends Q{static{u(this,"TransactionCanceledException")}name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,oG.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},k_e=u(async(e,t)=>{let r=U("BatchExecuteStatement"),n;return n=JSON.stringify(Cve(e,t)),H(t,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),L_e=u(async(e,t)=>{let r=U("BatchGetItem"),n;return n=JSON.stringify(Pve(e,t)),H(t,r,"/",void 0,n)},"se_BatchGetItemCommand"),U_e=u(async(e,t)=>{let r=U("BatchWriteItem"),n;return n=JSON.stringify(Rve(e,t)),H(t,r,"/",void 0,n)},"se_BatchWriteItemCommand"),F_e=u(async(e,t)=>{let r=U("CreateBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateBackupCommand"),B_e=u(async(e,t)=>{let r=U("CreateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),j_e=u(async(e,t)=>{let r=U("CreateTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_CreateTableCommand"),H_e=u(async(e,t)=>{let r=U("DeleteBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteBackupCommand"),$_e=u(async(e,t)=>{let r=U("DeleteItem"),n;return n=JSON.stringify(Mve(e,t)),H(t,r,"/",void 0,n)},"se_DeleteItemCommand"),q_e=u(async(e,t)=>{let r=U("DeleteResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),z_e=u(async(e,t)=>{let r=U("DeleteTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DeleteTableCommand"),V_e=u(async(e,t)=>{let r=U("DescribeBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeBackupCommand"),G_e=u(async(e,t)=>{let r=U("DescribeContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),W_e=u(async(e,t)=>{let r=U("DescribeContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),K_e=u(async(e,t)=>{let r=U("DescribeEndpoints"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),J_e=u(async(e,t)=>{let r=U("DescribeExport"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeExportCommand"),Y_e=u(async(e,t)=>{let r=U("DescribeGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),X_e=u(async(e,t)=>{let r=U("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),Q_e=u(async(e,t)=>{let r=U("DescribeImport"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeImportCommand"),Z_e=u(async(e,t)=>{let r=U("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),eEe=u(async(e,t)=>{let r=U("DescribeLimits"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeLimitsCommand"),tEe=u(async(e,t)=>{let r=U("DescribeTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTableCommand"),rEe=u(async(e,t)=>{let r=U("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),nEe=u(async(e,t)=>{let r=U("DescribeTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),oEe=u(async(e,t)=>{let r=U("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),sEe=u(async(e,t)=>{let r=U("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),iEe=u(async(e,t)=>{let r=U("ExecuteStatement"),n;return n=JSON.stringify(Lve(e,t)),H(t,r,"/",void 0,n)},"se_ExecuteStatementCommand"),aEe=u(async(e,t)=>{let r=U("ExecuteTransaction"),n;return n=JSON.stringify(Uve(e,t)),H(t,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),cEe=u(async(e,t)=>{let r=U("ExportTableToPointInTime"),n;return n=JSON.stringify(Bve(e,t)),H(t,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),dEe=u(async(e,t)=>{let r=U("GetItem"),n;return n=JSON.stringify(Hve(e,t)),H(t,r,"/",void 0,n)},"se_GetItemCommand"),lEe=u(async(e,t)=>{let r=U("GetResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),uEe=u(async(e,t)=>{let r=U("ImportTable"),n;return n=JSON.stringify(Gve(e,t)),H(t,r,"/",void 0,n)},"se_ImportTableCommand"),pEe=u(async(e,t)=>{let r=U("ListBackups"),n;return n=JSON.stringify(Qve(e,t)),H(t,r,"/",void 0,n)},"se_ListBackupsCommand"),mEe=u(async(e,t)=>{let r=U("ListContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),fEe=u(async(e,t)=>{let r=U("ListExports"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListExportsCommand"),hEe=u(async(e,t)=>{let r=U("ListGlobalTables"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),gEe=u(async(e,t)=>{let r=U("ListImports"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListImportsCommand"),yEe=u(async(e,t)=>{let r=U("ListTables"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListTablesCommand"),_Ee=u(async(e,t)=>{let r=U("ListTagsOfResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),EEe=u(async(e,t)=>{let r=U("PutItem"),n;return n=JSON.stringify(obe(e,t)),H(t,r,"/",void 0,n)},"se_PutItemCommand"),SEe=u(async(e,t)=>{let r=U("PutResourcePolicy"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),vEe=u(async(e,t)=>{let r=U("Query"),n;return n=JSON.stringify(ibe(e,t)),H(t,r,"/",void 0,n)},"se_QueryCommand"),bEe=u(async(e,t)=>{let r=U("RestoreTableFromBackup"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),wEe=u(async(e,t)=>{let r=U("RestoreTableToPointInTime"),n;return n=JSON.stringify(hbe(e,t)),H(t,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),TEe=u(async(e,t)=>{let r=U("Scan"),n;return n=JSON.stringify(gbe(e,t)),H(t,r,"/",void 0,n)},"se_ScanCommand"),CEe=u(async(e,t)=>{let r=U("TagResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_TagResourceCommand"),PEe=u(async(e,t)=>{let r=U("TransactGetItems"),n;return n=JSON.stringify(Ebe(e,t)),H(t,r,"/",void 0,n)},"se_TransactGetItemsCommand"),IEe=u(async(e,t)=>{let r=U("TransactWriteItems"),n;return n=JSON.stringify(bbe(e,t)),H(t,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),AEe=u(async(e,t)=>{let r=U("UntagResource"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UntagResourceCommand"),REe=u(async(e,t)=>{let r=U("UpdateContinuousBackups"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),xEe=u(async(e,t)=>{let r=U("UpdateContributorInsights"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),OEe=u(async(e,t)=>{let r=U("UpdateGlobalTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),NEe=u(async(e,t)=>{let r=U("UpdateGlobalTableSettings"),n;return n=JSON.stringify(Tbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),DEe=u(async(e,t)=>{let r=U("UpdateItem"),n;return n=JSON.stringify(Cbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateItemCommand"),MEe=u(async(e,t)=>{let r=U("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),kEe=u(async(e,t)=>{let r=U("UpdateTable"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateTableCommand"),LEe=u(async(e,t)=>{let r=U("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(Pbe(e,t)),H(t,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),UEe=u(async(e,t)=>{let r=U("UpdateTimeToLive"),n;return n=JSON.stringify((0,m._json)(e)),H(t,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),FEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=kbe(r,t),{$metadata:P(e),...n}},"de_BatchExecuteStatementCommand"),BEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Lbe(r,t),{$metadata:P(e),...n}},"de_BatchGetItemCommand"),jEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Hbe(r,t),{$metadata:P(e),...n}},"de_BatchWriteItemCommand"),HEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Wbe(r,t),{$metadata:P(e),...n}},"de_CreateBackupCommand"),$Ee=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Kbe(r,t),{$metadata:P(e),...n}},"de_CreateGlobalTableCommand"),qEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Jbe(r,t),{$metadata:P(e),...n}},"de_CreateTableCommand"),zEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Ybe(r,t),{$metadata:P(e),...n}},"de_DeleteBackupCommand"),VEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Xbe(r,t),{$metadata:P(e),...n}},"de_DeleteItemCommand"),GEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DeleteResourcePolicyCommand"),WEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Zbe(r,t),{$metadata:P(e),...n}},"de_DeleteTableCommand"),KEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=ewe(r,t),{$metadata:P(e),...n}},"de_DescribeBackupCommand"),JEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=twe(r,t),{$metadata:P(e),...n}},"de_DescribeContinuousBackupsCommand"),YEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=rwe(r,t),{$metadata:P(e),...n}},"de_DescribeContributorInsightsCommand"),XEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeEndpointsCommand"),QEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=nwe(r,t),{$metadata:P(e),...n}},"de_DescribeExportCommand"),ZEe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=owe(r,t),{$metadata:P(e),...n}},"de_DescribeGlobalTableCommand"),eSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=swe(r,t),{$metadata:P(e),...n}},"de_DescribeGlobalTableSettingsCommand"),tSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=iwe(r,t),{$metadata:P(e),...n}},"de_DescribeImportCommand"),rSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeKinesisStreamingDestinationCommand"),nSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeLimitsCommand"),oSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=awe(r,t),{$metadata:P(e),...n}},"de_DescribeTableCommand"),sSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=cwe(r,t),{$metadata:P(e),...n}},"de_DescribeTableReplicaAutoScalingCommand"),iSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DescribeTimeToLiveCommand"),aSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_DisableKinesisStreamingDestinationCommand"),cSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_EnableKinesisStreamingDestinationCommand"),dSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=dwe(r,t),{$metadata:P(e),...n}},"de_ExecuteStatementCommand"),lSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=lwe(r,t),{$metadata:P(e),...n}},"de_ExecuteTransactionCommand"),uSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=uwe(r,t),{$metadata:P(e),...n}},"de_ExportTableToPointInTimeCommand"),pSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=pwe(r,t),{$metadata:P(e),...n}},"de_GetItemCommand"),mSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_GetResourcePolicyCommand"),fSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=ywe(r,t),{$metadata:P(e),...n}},"de_ImportTableCommand"),hSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Pwe(r,t),{$metadata:P(e),...n}},"de_ListBackupsCommand"),gSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListContributorInsightsCommand"),ySe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListExportsCommand"),_Se=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListGlobalTablesCommand"),ESe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Iwe(r,t),{$metadata:P(e),...n}},"de_ListImportsCommand"),SSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListTablesCommand"),vSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_ListTagsOfResourceCommand"),bSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Nwe(r,t),{$metadata:P(e),...n}},"de_PutItemCommand"),wSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_PutResourcePolicyCommand"),TSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Mwe(r,t),{$metadata:P(e),...n}},"de_QueryCommand"),CSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=zwe(r,t),{$metadata:P(e),...n}},"de_RestoreTableFromBackupCommand"),PSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Vwe(r,t),{$metadata:P(e),...n}},"de_RestoreTableToPointInTimeCommand"),ISe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Gwe(r,t),{$metadata:P(e),...n}},"de_ScanCommand"),ASe=u(async(e,t)=>e.statusCode>=300?j(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:P(e)}),"de_TagResourceCommand"),RSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Jwe(r,t),{$metadata:P(e),...n}},"de_TransactGetItemsCommand"),xSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Xwe(r,t),{$metadata:P(e),...n}},"de_TransactWriteItemsCommand"),OSe=u(async(e,t)=>e.statusCode>=300?j(e,t):(await(0,m.collectBody)(e.body,t),{$metadata:P(e)}),"de_UntagResourceCommand"),NSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Qwe(r,t),{$metadata:P(e),...n}},"de_UpdateContinuousBackupsCommand"),DSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateContributorInsightsCommand"),MSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=Zwe(r,t),{$metadata:P(e),...n}},"de_UpdateGlobalTableCommand"),kSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=eTe(r,t),{$metadata:P(e),...n}},"de_UpdateGlobalTableSettingsCommand"),LSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=tTe(r,t),{$metadata:P(e),...n}},"de_UpdateItemCommand"),USe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateKinesisStreamingDestinationCommand"),FSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=rTe(r,t),{$metadata:P(e),...n}},"de_UpdateTableCommand"),BSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=nTe(r,t),{$metadata:P(e),...n}},"de_UpdateTableReplicaAutoScalingCommand"),jSe=u(async(e,t)=>{if(e.statusCode>=300)return j(e,t);let r=await(0,D.parseJsonBody)(e.body,t),n={};return n=(0,m._json)(r),{$metadata:P(e),...n}},"de_UpdateTimeToLiveCommand"),j=u(async(e,t)=>{let r={...e,body:await(0,D.parseJsonErrorBody)(e.body,t)},n=(0,D.loadRestJsonErrorCode)(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await eve(r,t);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await pve(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await tve(r,t);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await cve(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await fve(r,t);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await ove(r,t);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await uve(r,t);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await HSe(r,t);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await zSe(r,t);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await sve(r,t);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await gve(r,t);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await yve(r,t);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await KSe(r,t);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await mve(r,t);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await $Se(r,t);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await qSe(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await Eve(r,t);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await ave(r,t);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await WSe(r,t);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await JSe(r,t);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await QSe(r,t);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await VSe(r,t);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await YSe(r,t);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await _ve(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Sve(r,t);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await GSe(r,t);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await rve(r,t);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await ive(r,t);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await XSe(r,t);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await hve(r,t);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await nve(r,t);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await dve(r,t);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await lve(r,t);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await ZSe(r,t);default:let o=r.body;return iTe({output:e,parsedBody:o,errorCode:n})}},"de_CommandError"),HSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Vz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupInUseExceptionRes"),$Se=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Wz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_BackupNotFoundExceptionRes"),qSe=u(async(e,t)=>{let r=e.body,n=Gbe(r,t),o=new tG({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ConditionalCheckFailedExceptionRes"),zSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new dV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ContinuousBackupsUnavailableExceptionRes"),VSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new OV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_DuplicateItemExceptionRes"),GSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new UV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportConflictExceptionRes"),WSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new CV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ExportNotFoundExceptionRes"),KSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new yV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableAlreadyExistsExceptionRes"),JSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new IV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_GlobalTableNotFoundExceptionRes"),YSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new DV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IdempotentParameterMismatchExceptionRes"),XSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new qV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportConflictExceptionRes"),QSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new RV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ImportNotFoundExceptionRes"),ZSe=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new ZV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_IndexNotFoundExceptionRes"),eve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Jz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InternalServerErrorRes"),tve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Zz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidEndpointExceptionRes"),rve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new BV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidExportTimeExceptionRes"),nve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new WV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_InvalidRestoreTimeExceptionRes"),ove=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new sV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),sve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new uV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_LimitExceededExceptionRes"),ive=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new HV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),ave=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new wV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_PolicyNotFoundExceptionRes"),cve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new tV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ProvisionedThroughputExceededExceptionRes"),dve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new JV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaAlreadyExistsExceptionRes"),lve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new XV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicaNotFoundExceptionRes"),uve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new aV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ReplicatedWriteConflictExceptionRes"),pve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new Xz({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_RequestLimitExceededRes"),mve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new EV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceInUseExceptionRes"),fve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new nV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_ResourceNotFoundExceptionRes"),hve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new VV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableAlreadyExistsExceptionRes"),gve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new mV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableInUseExceptionRes"),yve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new hV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TableNotFoundExceptionRes"),_ve=u(async(e,t)=>{let r=e.body,n=Ywe(r,t),o=new nG({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionCanceledExceptionRes"),Eve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new vV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionConflictExceptionRes"),Sve=u(async(e,t)=>{let r=e.body,n=(0,m._json)(r),o=new kV({$metadata:P(e),...n});return(0,m.decorateServiceException)(o,r)},"de_TransactionInProgressExceptionRes"),vve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=bve(o,t)),r),{}),"se_AttributeUpdates"),zr=u((e,t)=>ef.visit(e,{B:u(r=>({B:t.base64Encoder(r)}),"B"),BOOL:u(r=>({BOOL:r}),"BOOL"),BS:u(r=>({BS:Ove(r,t)}),"BS"),L:u(r=>({L:Xve(r,t)}),"L"),M:u(r=>({M:Zve(r,t)}),"M"),N:u(r=>({N:r}),"N"),NS:u(r=>({NS:(0,m._json)(r)}),"NS"),NULL:u(r=>({NULL:r}),"NULL"),S:u(r=>({S:r}),"S"),SS:u(r=>({SS:(0,m._json)(r)}),"SS"),_:u((r,n)=>({[r]:n}),"_")}),"se_AttributeValue"),sG=u((e,t)=>e.filter(r=>r!=null).map(r=>zr(r,t)),"se_AttributeValueList"),bve=u((e,t)=>(0,m.take)(e,{Action:[],Value:u(r=>zr(r,t),"Value")}),"se_AttributeValueUpdate"),wve=u((e,t)=>(0,m.take)(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:u(r=>Tve(r,t),"TargetTrackingScalingPolicyConfiguration")}),"se_AutoScalingPolicyUpdate"),Fn=u((e,t)=>(0,m.take)(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:u(r=>wve(r,t),"ScalingPolicyUpdate")}),"se_AutoScalingSettingsUpdate"),Tve=u((e,t)=>(0,m.take)(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:m.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),Cve=u((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],Statements:u(r=>rbe(r,t),"Statements")}),"se_BatchExecuteStatementInput"),Pve=u((e,t)=>(0,m.take)(e,{RequestItems:u(r=>Ive(r,t),"RequestItems"),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),Ive=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Yve(o,t)),r),{}),"se_BatchGetRequestMap"),Ave=u((e,t)=>(0,m.take)(e,{ConsistentRead:[],Parameters:u(r=>Ib(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),Rve=u((e,t)=>(0,m.take)(e,{RequestItems:u(r=>xve(r,t),"RequestItems"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),xve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Abe(o,t)),r),{}),"se_BatchWriteItemRequestMap"),Ove=u((e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),"se_BinarySetAttributeValue"),iG=u((e,t)=>(0,m.take)(e,{AttributeValueList:u(r=>sG(r,t),"AttributeValueList"),ComparisonOperator:[]}),"se_Condition"),Nve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),Dve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),Mve=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Pb(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),kve=u((e,t)=>(0,m.take)(e,{Key:u(r=>$t(r,t),"Key")}),"se_DeleteRequest"),Lve=u((e,t)=>(0,m.take)(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:u(r=>Ib(r,t),"Parameters"),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),Uve=u((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,rf.v4)()],ReturnConsumedCapacity:[],TransactStatements:u(r=>tbe(r,t),"TransactStatements")}),"se_ExecuteTransactionInput"),Pb=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fve(o,t)),r),{}),"se_ExpectedAttributeMap"),Fve=u((e,t)=>(0,m.take)(e,{AttributeValueList:u(r=>sG(r,t),"AttributeValueList"),ComparisonOperator:[],Exists:[],Value:u(r=>zr(r,t),"Value")}),"se_ExpectedAttributeValue"),Bve=u((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,rf.v4)()],ExportFormat:[],ExportTime:u(r=>r.getTime()/1e3,"ExportTime"),ExportType:[],IncrementalExportSpecification:u(r=>Wve(r,t),"IncrementalExportSpecification"),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),Vr=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_ExpressionAttributeValueMap"),aG=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=iG(o,t)),r),{}),"se_FilterConditionMap"),jve=u((e,t)=>(0,m.take)(e,{ExpressionAttributeNames:m._json,Key:u(r=>$t(r,t),"Key"),ProjectionExpression:[],TableName:[]}),"se_Get"),Hve=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Key:u(r=>$t(r,t),"Key"),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),$ve=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate")}),"se_GlobalSecondaryIndexAutoScalingUpdate"),qve=u((e,t)=>e.filter(r=>r!=null).map(r=>$ve(r,t)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),zve=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingSettingsUpdate"),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),Vve=u((e,t)=>e.filter(r=>r!=null).map(r=>zve(r,t)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),Gve=u((e,t)=>(0,m.take)(e,{ClientToken:[!0,r=>r??(0,rf.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:m._json,S3BucketSource:m._json,TableCreationParameters:m._json}),"se_ImportTableInput"),Wve=u((e,t)=>(0,m.take)(e,{ExportFromTime:u(r=>r.getTime()/1e3,"ExportFromTime"),ExportToTime:u(r=>r.getTime()/1e3,"ExportToTime"),ExportViewType:[]}),"se_IncrementalExportSpecification"),$t=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_Key"),Kve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=iG(o,t)),r),{}),"se_KeyConditions"),Jve=u((e,t)=>e.filter(r=>r!=null).map(r=>$t(r,t)),"se_KeyList"),Yve=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:[],ExpressionAttributeNames:m._json,Keys:u(r=>Jve(r,t),"Keys"),ProjectionExpression:[]}),"se_KeysAndAttributes"),Xve=u((e,t)=>e.filter(r=>r!=null).map(r=>zr(r,t)),"se_ListAttributeValue"),Qve=u((e,t)=>(0,m.take)(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:u(r=>r.getTime()/1e3,"TimeRangeLowerBound"),TimeRangeUpperBound:u(r=>r.getTime()/1e3,"TimeRangeUpperBound")}),"se_ListBackupsInput"),Zve=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_MapAttributeValue"),ebe=u((e,t)=>(0,m.take)(e,{Parameters:u(r=>Ib(r,t),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),tbe=u((e,t)=>e.filter(r=>r!=null).map(r=>ebe(r,t)),"se_ParameterizedStatements"),rbe=u((e,t)=>e.filter(r=>r!=null).map(r=>Ave(r,t)),"se_PartiQLBatchRequest"),Ib=u((e,t)=>e.filter(r=>r!=null).map(r=>zr(r,t)),"se_PreparedStatementParameters"),nbe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Item:u(r=>Ab(r,t),"Item"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),obe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Pb(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Item:u(r=>Ab(r,t),"Item"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),Ab=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=zr(o,t)),r),{}),"se_PutItemInputAttributeMap"),sbe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Ab(r,t),"Item")}),"se_PutRequest"),ibe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>$t(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:u(r=>Kve(r,t),"KeyConditions"),Limit:[],ProjectionExpression:[],QueryFilter:u(r=>aG(r,t),"QueryFilter"),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),abe=u((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:u(r=>lbe(r,t),"ReplicaGlobalSecondaryIndexUpdates"),ReplicaProvisionedReadCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ReplicaProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaAutoScalingUpdate"),cbe=u((e,t)=>e.filter(r=>r!=null).map(r=>abe(r,t)),"se_ReplicaAutoScalingUpdateList"),dbe=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),lbe=u((e,t)=>e.filter(r=>r!=null).map(r=>dbe(r,t)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),ube=u((e,t)=>(0,m.take)(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"ProvisionedReadCapacityAutoScalingSettingsUpdate"),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),pbe=u((e,t)=>e.filter(r=>r!=null).map(r=>ube(r,t)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),mbe=u((e,t)=>(0,m.take)(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:u(r=>pbe(r,t),"ReplicaGlobalSecondaryIndexSettingsUpdate"),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate"),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),fbe=u((e,t)=>e.filter(r=>r!=null).map(r=>mbe(r,t)),"se_ReplicaSettingsUpdateList"),hbe=u((e,t)=>(0,m.take)(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:m._json,LocalSecondaryIndexOverride:m._json,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RestoreDateTime:u(r=>r.getTime()/1e3,"RestoreDateTime"),SSESpecificationOverride:m._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),gbe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>$t(r,t),"ExclusiveStartKey"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:u(r=>aG(r,t),"ScanFilter"),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),ybe=u((e,t)=>(0,m.take)(e,{Get:u(r=>jve(r,t),"Get")}),"se_TransactGetItem"),_be=u((e,t)=>e.filter(r=>r!=null).map(r=>ybe(r,t)),"se_TransactGetItemList"),Ebe=u((e,t)=>(0,m.take)(e,{ReturnConsumedCapacity:[],TransactItems:u(r=>_be(r,t),"TransactItems")}),"se_TransactGetItemsInput"),Sbe=u((e,t)=>(0,m.take)(e,{ConditionCheck:u(r=>Nve(r,t),"ConditionCheck"),Delete:u(r=>Dve(r,t),"Delete"),Put:u(r=>nbe(r,t),"Put"),Update:u(r=>wbe(r,t),"Update")}),"se_TransactWriteItem"),vbe=u((e,t)=>e.filter(r=>r!=null).map(r=>Sbe(r,t)),"se_TransactWriteItemList"),bbe=u((e,t)=>(0,m.take)(e,{ClientRequestToken:[!0,r=>r??(0,rf.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:u(r=>vbe(r,t),"TransactItems")}),"se_TransactWriteItemsInput"),wbe=u((e,t)=>(0,m.take)(e,{ConditionExpression:[],ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),Tbe=u((e,t)=>(0,m.take)(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:u(r=>Vve(r,t),"GlobalTableGlobalSecondaryIndexSettingsUpdate"),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Fn(r,t),"GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate"),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:u(r=>fbe(r,t),"ReplicaSettingsUpdate")}),"se_UpdateGlobalTableSettingsInput"),Cbe=u((e,t)=>(0,m.take)(e,{AttributeUpdates:u(r=>vve(r,t),"AttributeUpdates"),ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Pb(r,t),"Expected"),ExpressionAttributeNames:m._json,ExpressionAttributeValues:u(r=>Vr(r,t),"ExpressionAttributeValues"),Key:u(r=>$t(r,t),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),Pbe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexUpdates:u(r=>qve(r,t),"GlobalSecondaryIndexUpdates"),ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Fn(r,t),"ProvisionedWriteCapacityAutoScalingUpdate"),ReplicaUpdates:u(r=>cbe(r,t),"ReplicaUpdates"),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),Ibe=u((e,t)=>(0,m.take)(e,{DeleteRequest:u(r=>kve(r,t),"DeleteRequest"),PutRequest:u(r=>sbe(r,t),"PutRequest")}),"se_WriteRequest"),Abe=u((e,t)=>e.filter(r=>r!=null).map(r=>Ibe(r,t)),"se_WriteRequests"),Rbe=u((e,t)=>(0,m.take)(e,{ArchivalBackupArn:m.expectString,ArchivalDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ArchivalDateTime"),ArchivalReason:m.expectString}),"de_ArchivalSummary"),Sr=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_AttributeMap"),Fs=u((e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:(0,m.expectBoolean)(e.BOOL)!==void 0?{BOOL:(0,m.expectBoolean)(e.BOOL)}:e.BS!=null?{BS:qbe(e.BS,t)}:e.L!=null?{L:Cwe(e.L,t)}:e.M!=null?{M:Awe(e.M,t)}:(0,m.expectString)(e.N)!==void 0?{N:(0,m.expectString)(e.N)}:e.NS!=null?{NS:(0,m._json)(e.NS)}:(0,m.expectBoolean)(e.NULL)!==void 0?{NULL:(0,m.expectBoolean)(e.NULL)}:(0,m.expectString)(e.S)!==void 0?{S:(0,m.expectString)(e.S)}:e.SS!=null?{SS:(0,m._json)(e.SS)}:{$unknown:Object.entries(e)[0]},"de_AttributeValue"),xbe=u((e,t)=>(0,m.take)(e,{PolicyName:m.expectString,TargetTrackingScalingPolicyConfiguration:u(r=>Nbe(r,t),"TargetTrackingScalingPolicyConfiguration")}),"de_AutoScalingPolicyDescription"),Obe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>xbe(n,t)),"de_AutoScalingPolicyDescriptionList"),Un=u((e,t)=>(0,m.take)(e,{AutoScalingDisabled:m.expectBoolean,AutoScalingRoleArn:m.expectString,MaximumUnits:m.expectLong,MinimumUnits:m.expectLong,ScalingPolicies:u(r=>Obe(r,t),"ScalingPolicies")}),"de_AutoScalingSettingsDescription"),Nbe=u((e,t)=>(0,m.take)(e,{DisableScaleIn:m.expectBoolean,ScaleInCooldown:m.expectInt32,ScaleOutCooldown:m.expectInt32,TargetValue:m.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),cG=u((e,t)=>(0,m.take)(e,{BackupDetails:u(r=>dG(r,t),"BackupDetails"),SourceTableDetails:u(r=>Wwe(r,t),"SourceTableDetails"),SourceTableFeatureDetails:u(r=>Kwe(r,t),"SourceTableFeatureDetails")}),"de_BackupDescription"),dG=u((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString}),"de_BackupDetails"),Dbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Mbe(n,t)),"de_BackupSummaries"),Mbe=u((e,t)=>(0,m.take)(e,{BackupArn:m.expectString,BackupCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:m.expectString,BackupSizeBytes:m.expectLong,BackupStatus:m.expectString,BackupType:m.expectString,TableArn:m.expectString,TableId:m.expectString,TableName:m.expectString}),"de_BackupSummary"),kbe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>Rwe(r,t),"Responses")}),"de_BatchExecuteStatementOutput"),Lbe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>Fbe(r,t),"Responses"),UnprocessedKeys:u(r=>Ube(r,t),"UnprocessedKeys")}),"de_BatchGetItemOutput"),Ube=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Twe(o,t)),r),{}),"de_BatchGetRequestMap"),Fbe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=of(o,t)),r),{}),"de_BatchGetResponseMap"),Bbe=u((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:u(r=>Sr(r,t),"Item"),Message:m.expectString}),"de_BatchStatementError"),jbe=u((e,t)=>(0,m.take)(e,{Error:u(r=>Bbe(r,t),"Error"),Item:u(r=>Sr(r,t),"Item"),TableName:m.expectString}),"de_BatchStatementResponse"),Hbe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>hG(r,t),"ItemCollectionMetrics"),UnprocessedItems:u(r=>$be(r,t),"UnprocessedItems")}),"de_BatchWriteItemOutput"),$be=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=sTe(o,t)),r),{}),"de_BatchWriteItemRequestMap"),lG=u((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,LastUpdateToPayPerRequestDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateToPayPerRequestDateTime")}),"de_BillingModeSummary"),qbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),"de_BinarySetAttributeValue"),zbe=u((e,t)=>(0,m.take)(e,{Code:m.expectString,Item:u(r=>Sr(r,t),"Item"),Message:m.expectString}),"de_CancellationReason"),Vbe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>zbe(n,t)),"de_CancellationReasonList"),uG=u((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,ReadCapacityUnits:m.limitedParseDouble,WriteCapacityUnits:m.limitedParseDouble}),"de_Capacity"),Gbe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Sr(r,t),"Item"),message:m.expectString}),"de_ConditionalCheckFailedException"),Bn=u((e,t)=>(0,m.take)(e,{CapacityUnits:m.limitedParseDouble,GlobalSecondaryIndexes:u(r=>Hz(r,t),"GlobalSecondaryIndexes"),LocalSecondaryIndexes:u(r=>Hz(r,t),"LocalSecondaryIndexes"),ReadCapacityUnits:m.limitedParseDouble,Table:u(r=>uG(r,t),"Table"),TableName:m.expectString,WriteCapacityUnits:m.limitedParseDouble}),"de_ConsumedCapacity"),Bs=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Bn(n,t)),"de_ConsumedCapacityMultiple"),pG=u((e,t)=>(0,m.take)(e,{ContinuousBackupsStatus:m.expectString,PointInTimeRecoveryDescription:u(r=>xwe(r,t),"PointInTimeRecoveryDescription")}),"de_ContinuousBackupsDescription"),Wbe=u((e,t)=>(0,m.take)(e,{BackupDetails:u(r=>dG(r,t),"BackupDetails")}),"de_CreateBackupOutput"),Kbe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_CreateGlobalTableOutput"),Jbe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_CreateTableOutput"),Ybe=u((e,t)=>(0,m.take)(e,{BackupDescription:u(r=>cG(r,t),"BackupDescription")}),"de_DeleteBackupOutput"),Xbe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>Sr(r,t),"Attributes"),ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>nf(r,t),"ItemCollectionMetrics")}),"de_DeleteItemOutput"),Qbe=u((e,t)=>(0,m.take)(e,{Key:u(r=>uc(r,t),"Key")}),"de_DeleteRequest"),Zbe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_DeleteTableOutput"),ewe=u((e,t)=>(0,m.take)(e,{BackupDescription:u(r=>cG(r,t),"BackupDescription")}),"de_DescribeBackupOutput"),twe=u((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:u(r=>pG(r,t),"ContinuousBackupsDescription")}),"de_DescribeContinuousBackupsOutput"),rwe=u((e,t)=>(0,m.take)(e,{ContributorInsightsRuleList:m._json,ContributorInsightsStatus:m.expectString,FailureException:m._json,IndexName:m.expectString,LastUpdateDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableName:m.expectString}),"de_DescribeContributorInsightsOutput"),nwe=u((e,t)=>(0,m.take)(e,{ExportDescription:u(r=>mG(r,t),"ExportDescription")}),"de_DescribeExportOutput"),owe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_DescribeGlobalTableOutput"),swe=u((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:u(r=>EG(r,t),"ReplicaSettings")}),"de_DescribeGlobalTableSettingsOutput"),iwe=u((e,t)=>(0,m.take)(e,{ImportTableDescription:u(r=>fG(r,t),"ImportTableDescription")}),"de_DescribeImportOutput"),awe=u((e,t)=>(0,m.take)(e,{Table:u(r=>js(r,t),"Table")}),"de_DescribeTableOutput"),cwe=u((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:u(r=>vG(r,t),"TableAutoScalingDescription")}),"de_DescribeTableReplicaAutoScalingOutput"),dwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Items:u(r=>of(r,t),"Items"),LastEvaluatedKey:u(r=>uc(r,t),"LastEvaluatedKey"),NextToken:m.expectString}),"de_ExecuteStatementOutput"),lwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>gG(r,t),"Responses")}),"de_ExecuteTransactionOutput"),mG=u((e,t)=>(0,m.take)(e,{BilledSizeBytes:m.expectLong,ClientToken:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ExportArn:m.expectString,ExportFormat:m.expectString,ExportManifest:m.expectString,ExportStatus:m.expectString,ExportTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportTime"),ExportType:m.expectString,FailureCode:m.expectString,FailureMessage:m.expectString,IncrementalExportSpecification:u(r=>_we(r,t),"IncrementalExportSpecification"),ItemCount:m.expectLong,S3Bucket:m.expectString,S3BucketOwner:m.expectString,S3Prefix:m.expectString,S3SseAlgorithm:m.expectString,S3SseKmsKeyId:m.expectString,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableId:m.expectString}),"de_ExportDescription"),uwe=u((e,t)=>(0,m.take)(e,{ExportDescription:u(r=>mG(r,t),"ExportDescription")}),"de_ExportTableToPointInTimeOutput"),pwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Item:u(r=>Sr(r,t),"Item")}),"de_GetItemOutput"),mwe=u((e,t)=>(0,m.take)(e,{Backfilling:m.expectBoolean,IndexArn:m.expectString,IndexName:m.expectString,IndexSizeBytes:m.expectLong,IndexStatus:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,Projection:m._json,ProvisionedThroughput:u(r=>yG(r,t),"ProvisionedThroughput"),WarmThroughput:m._json}),"de_GlobalSecondaryIndexDescription"),fwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>mwe(n,t)),"de_GlobalSecondaryIndexDescriptionList"),Rb=u((e,t)=>(0,m.take)(e,{CreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),GlobalTableArn:m.expectString,GlobalTableName:m.expectString,GlobalTableStatus:m.expectString,ReplicationGroup:u(r=>_G(r,t),"ReplicationGroup")}),"de_GlobalTableDescription"),hwe=u((e,t)=>(0,m.take)(e,{CloudWatchLogGroupArn:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ImportArn:m.expectString,ImportStatus:m.expectString,InputFormat:m.expectString,S3BucketSource:m._json,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString}),"de_ImportSummary"),gwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>hwe(n,t)),"de_ImportSummaryList"),fG=u((e,t)=>(0,m.take)(e,{ClientToken:m.expectString,CloudWatchLogGroupArn:m.expectString,EndTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EndTime"),ErrorCount:m.expectLong,FailureCode:m.expectString,FailureMessage:m.expectString,ImportArn:m.expectString,ImportStatus:m.expectString,ImportedItemCount:m.expectLong,InputCompressionType:m.expectString,InputFormat:m.expectString,InputFormatOptions:m._json,ProcessedItemCount:m.expectLong,ProcessedSizeBytes:m.expectLong,S3BucketSource:m._json,StartTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"StartTime"),TableArn:m.expectString,TableCreationParameters:m._json,TableId:m.expectString}),"de_ImportTableDescription"),ywe=u((e,t)=>(0,m.take)(e,{ImportTableDescription:u(r=>fG(r,t),"ImportTableDescription")}),"de_ImportTableOutput"),_we=u((e,t)=>(0,m.take)(e,{ExportFromTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportFromTime"),ExportToTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ExportToTime"),ExportViewType:m.expectString}),"de_IncrementalExportSpecification"),Ewe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_ItemCollectionKeyAttributeMap"),nf=u((e,t)=>(0,m.take)(e,{ItemCollectionKey:u(r=>Ewe(r,t),"ItemCollectionKey"),SizeEstimateRangeGB:u(r=>vwe(r,t),"SizeEstimateRangeGB")}),"de_ItemCollectionMetrics"),Swe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>nf(n,t)),"de_ItemCollectionMetricsMultiple"),hG=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Swe(o,t)),r),{}),"de_ItemCollectionMetricsPerTable"),vwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,m.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),of=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Sr(n,t)),"de_ItemList"),bwe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Sr(r,t),"Item")}),"de_ItemResponse"),gG=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>bwe(n,t)),"de_ItemResponseList"),uc=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_Key"),wwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>uc(n,t)),"de_KeyList"),Twe=u((e,t)=>(0,m.take)(e,{AttributesToGet:m._json,ConsistentRead:m.expectBoolean,ExpressionAttributeNames:m._json,Keys:u(r=>wwe(r,t),"Keys"),ProjectionExpression:m.expectString}),"de_KeysAndAttributes"),Cwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fs((0,D.awsExpectUnion)(n),t)),"de_ListAttributeValue"),Pwe=u((e,t)=>(0,m.take)(e,{BackupSummaries:u(r=>Dbe(r,t),"BackupSummaries"),LastEvaluatedBackupArn:m.expectString}),"de_ListBackupsOutput"),Iwe=u((e,t)=>(0,m.take)(e,{ImportSummaryList:u(r=>gwe(r,t),"ImportSummaryList"),NextToken:m.expectString}),"de_ListImportsOutput"),Awe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_MapAttributeValue"),Rwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>jbe(n,t)),"de_PartiQLBatchResponse"),xwe=u((e,t)=>(0,m.take)(e,{EarliestRestorableDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"EarliestRestorableDateTime"),LatestRestorableDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LatestRestorableDateTime"),PointInTimeRecoveryStatus:m.expectString,RecoveryPeriodInDays:m.expectInt32}),"de_PointInTimeRecoveryDescription"),yG=u((e,t)=>(0,m.take)(e,{LastDecreaseDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastDecreaseDateTime"),LastIncreaseDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastIncreaseDateTime"),NumberOfDecreasesToday:m.expectLong,ReadCapacityUnits:m.expectLong,WriteCapacityUnits:m.expectLong}),"de_ProvisionedThroughputDescription"),Owe=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Fs((0,D.awsExpectUnion)(o),t)),r),{}),"de_PutItemInputAttributeMap"),Nwe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>Sr(r,t),"Attributes"),ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>nf(r,t),"ItemCollectionMetrics")}),"de_PutItemOutput"),Dwe=u((e,t)=>(0,m.take)(e,{Item:u(r=>Owe(r,t),"Item")}),"de_PutRequest"),Mwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:u(r=>of(r,t),"Items"),LastEvaluatedKey:u(r=>uc(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_QueryOutput"),kwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:u(r=>Bwe(r,t),"GlobalSecondaryIndexes"),RegionName:m.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaStatus:m.expectString}),"de_ReplicaAutoScalingDescription"),Lwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>kwe(n,t)),"de_ReplicaAutoScalingDescriptionList"),Uwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,KMSMasterKeyId:m.expectString,OnDemandThroughputOverride:m._json,ProvisionedThroughputOverride:m._json,RegionName:m.expectString,ReplicaInaccessibleDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"ReplicaInaccessibleDateTime"),ReplicaStatus:m.expectString,ReplicaStatusDescription:m.expectString,ReplicaStatusPercentProgress:m.expectString,ReplicaTableClassSummary:u(r=>xb(r,t),"ReplicaTableClassSummary"),WarmThroughput:m._json}),"de_ReplicaDescription"),_G=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Uwe(n,t)),"de_ReplicaDescriptionList"),Fwe=u((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedWriteCapacityAutoScalingSettings")}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),Bwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>Fwe(n,t)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),jwe=u((e,t)=>(0,m.take)(e,{IndexName:m.expectString,IndexStatus:m.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedReadCapacityUnits:m.expectLong,ProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ProvisionedWriteCapacityAutoScalingSettings"),ProvisionedWriteCapacityUnits:m.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),Hwe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>jwe(n,t)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),$we=u((e,t)=>(0,m.take)(e,{RegionName:m.expectString,ReplicaBillingModeSummary:u(r=>lG(r,t),"ReplicaBillingModeSummary"),ReplicaGlobalSecondaryIndexSettings:u(r=>Hwe(r,t),"ReplicaGlobalSecondaryIndexSettings"),ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedReadCapacityUnits:m.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Un(r,t),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityUnits:m.expectLong,ReplicaStatus:m.expectString,ReplicaTableClassSummary:u(r=>xb(r,t),"ReplicaTableClassSummary")}),"de_ReplicaSettingsDescription"),EG=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>$we(n,t)),"de_ReplicaSettingsDescriptionList"),qwe=u((e,t)=>(0,m.take)(e,{RestoreDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"RestoreDateTime"),RestoreInProgress:m.expectBoolean,SourceBackupArn:m.expectString,SourceTableArn:m.expectString}),"de_RestoreSummary"),zwe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_RestoreTableFromBackupOutput"),Vwe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_RestoreTableToPointInTimeOutput"),Gwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),Count:m.expectInt32,Items:u(r=>of(r,t),"Items"),LastEvaluatedKey:u(r=>uc(r,t),"LastEvaluatedKey"),ScannedCount:m.expectInt32}),"de_ScanOutput"),Hz=u((e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=uG(o,t)),r),{}),"de_SecondaryIndexesCapacityMap"),Wwe=u((e,t)=>(0,m.take)(e,{BillingMode:m.expectString,ItemCount:m.expectLong,KeySchema:m._json,OnDemandThroughput:m._json,ProvisionedThroughput:m._json,TableArn:m.expectString,TableCreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"TableCreationDateTime"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong}),"de_SourceTableDetails"),Kwe=u((e,t)=>(0,m.take)(e,{GlobalSecondaryIndexes:m._json,LocalSecondaryIndexes:m._json,SSEDescription:u(r=>SG(r,t),"SSEDescription"),StreamDescription:m._json,TimeToLiveDescription:m._json}),"de_SourceTableFeatureDetails"),SG=u((e,t)=>(0,m.take)(e,{InaccessibleEncryptionDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"InaccessibleEncryptionDateTime"),KMSMasterKeyArn:m.expectString,SSEType:m.expectString,Status:m.expectString}),"de_SSEDescription"),vG=u((e,t)=>(0,m.take)(e,{Replicas:u(r=>Lwe(r,t),"Replicas"),TableName:m.expectString,TableStatus:m.expectString}),"de_TableAutoScalingDescription"),xb=u((e,t)=>(0,m.take)(e,{LastUpdateDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"LastUpdateDateTime"),TableClass:m.expectString}),"de_TableClassSummary"),js=u((e,t)=>(0,m.take)(e,{ArchivalSummary:u(r=>Rbe(r,t),"ArchivalSummary"),AttributeDefinitions:m._json,BillingModeSummary:u(r=>lG(r,t),"BillingModeSummary"),CreationDateTime:u(r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),"CreationDateTime"),DeletionProtectionEnabled:m.expectBoolean,GlobalSecondaryIndexes:u(r=>fwe(r,t),"GlobalSecondaryIndexes"),GlobalTableVersion:m.expectString,GlobalTableWitnesses:m._json,ItemCount:m.expectLong,KeySchema:m._json,LatestStreamArn:m.expectString,LatestStreamLabel:m.expectString,LocalSecondaryIndexes:m._json,MultiRegionConsistency:m.expectString,OnDemandThroughput:m._json,ProvisionedThroughput:u(r=>yG(r,t),"ProvisionedThroughput"),Replicas:u(r=>_G(r,t),"Replicas"),RestoreSummary:u(r=>qwe(r,t),"RestoreSummary"),SSEDescription:u(r=>SG(r,t),"SSEDescription"),StreamSpecification:m._json,TableArn:m.expectString,TableClassSummary:u(r=>xb(r,t),"TableClassSummary"),TableId:m.expectString,TableName:m.expectString,TableSizeBytes:m.expectLong,TableStatus:m.expectString,WarmThroughput:m._json}),"de_TableDescription"),Jwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),Responses:u(r=>gG(r,t),"Responses")}),"de_TransactGetItemsOutput"),Ywe=u((e,t)=>(0,m.take)(e,{CancellationReasons:u(r=>Vbe(r,t),"CancellationReasons"),Message:m.expectString}),"de_TransactionCanceledException"),Xwe=u((e,t)=>(0,m.take)(e,{ConsumedCapacity:u(r=>Bs(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>hG(r,t),"ItemCollectionMetrics")}),"de_TransactWriteItemsOutput"),Qwe=u((e,t)=>(0,m.take)(e,{ContinuousBackupsDescription:u(r=>pG(r,t),"ContinuousBackupsDescription")}),"de_UpdateContinuousBackupsOutput"),Zwe=u((e,t)=>(0,m.take)(e,{GlobalTableDescription:u(r=>Rb(r,t),"GlobalTableDescription")}),"de_UpdateGlobalTableOutput"),eTe=u((e,t)=>(0,m.take)(e,{GlobalTableName:m.expectString,ReplicaSettings:u(r=>EG(r,t),"ReplicaSettings")}),"de_UpdateGlobalTableSettingsOutput"),tTe=u((e,t)=>(0,m.take)(e,{Attributes:u(r=>Sr(r,t),"Attributes"),ConsumedCapacity:u(r=>Bn(r,t),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>nf(r,t),"ItemCollectionMetrics")}),"de_UpdateItemOutput"),rTe=u((e,t)=>(0,m.take)(e,{TableDescription:u(r=>js(r,t),"TableDescription")}),"de_UpdateTableOutput"),nTe=u((e,t)=>(0,m.take)(e,{TableAutoScalingDescription:u(r=>vG(r,t),"TableAutoScalingDescription")}),"de_UpdateTableReplicaAutoScalingOutput"),oTe=u((e,t)=>(0,m.take)(e,{DeleteRequest:u(r=>Qbe(r,t),"DeleteRequest"),PutRequest:u(r=>Dwe(r,t),"PutRequest")}),"de_WriteRequest"),sTe=u((e,t)=>(e||[]).filter(n=>n!=null).map(n=>oTe(n,t)),"de_WriteRequests"),P=u(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),iTe=(0,m.withBaseException)(Q),H=u(async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),l={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new Cb.HttpRequest(l)},"buildHttpRpcRequest");function U(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}u(U,"sharedHeaders");var Ob=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(K_e).de(XEe).build(){static{u(this,"DescribeEndpointsCommand")}},aTe=Rz(),$z=Gy(),cTe=u(e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),dTe=u(e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),"resolveHttpAuthRuntimeConfig"),lTe=u((e,t)=>{let r=Object.assign((0,$z.getAwsRegionExtensionConfiguration)(e),(0,m.getDefaultExtensionConfiguration)(e),(0,Cb.getHttpHandlerExtensionConfiguration)(e),cTe(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,$z.resolveAwsRegionExtensionConfiguration)(r),(0,m.resolveDefaultRuntimeConfig)(r),(0,Cb.resolveHttpHandlerRuntimeConfig)(r),dTe(r))},"resolveRuntimeExtensions"),jn=class extends m.Client{static{u(this,"DynamoDBClient")}config;constructor(...[e]){let t=(0,aTe.getRuntimeConfig)(e||{});super(t),this.initConfig=t;let r=Wye(t),n=(0,Hye.resolveAccountIdEndpointModeConfig)(r),o=(0,Fz.resolveUserAgentConfig)(n),s=(0,Bz.resolveRetryConfig)(o),i=(0,Vye.resolveRegionConfig)(s),a=(0,Uz.resolveHostHeaderConfig)(i),c=(0,L.resolveEndpointConfig)(a),l=(0,jz.resolveHttpAuthSchemeConfig)(c),p=(0,$ye.resolveEndpointDiscoveryConfig)(l,{endpointDiscoveryCommandCtor:Ob}),f=lTe(p,e?.extensions||[]);this.config=f,this.middlewareStack.use((0,Fz.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Bz.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Gye.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Uz.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,qye.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,zye.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Tb.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:jz.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:u(async h=>new Tb.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Tb.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},bG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(k_e).de(FEe).build(){static{u(this,"BatchExecuteStatementCommand")}},wG=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(L_e).de(BEe).build(){static{u(this,"BatchGetItemCommand")}},TG=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>Object.keys(e?.RequestItems??{}),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(U_e).de(jEe).build(){static{u(this,"BatchWriteItemCommand")}},CG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(F_e).de(HEe).build(){static{u(this,"CreateBackupCommand")}},PG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(B_e).de($Ee).build(){static{u(this,"CreateGlobalTableCommand")}},IG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(j_e).de(qEe).build(){static{u(this,"CreateTableCommand")}},AG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(H_e).de(zEe).build(){static{u(this,"DeleteBackupCommand")}},RG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser($_e).de(VEe).build(){static{u(this,"DeleteItemCommand")}},xG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(q_e).de(GEe).build(){static{u(this,"DeleteResourcePolicyCommand")}},OG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(z_e).de(WEe).build(){static{u(this,"DeleteTableCommand")}},NG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(V_e).de(KEe).build(){static{u(this,"DescribeBackupCommand")}},DG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(G_e).de(JEe).build(){static{u(this,"DescribeContinuousBackupsCommand")}},MG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(W_e).de(YEe).build(){static{u(this,"DescribeContributorInsightsCommand")}},kG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(J_e).de(QEe).build(){static{u(this,"DescribeExportCommand")}},LG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(Y_e).de(ZEe).build(){static{u(this,"DescribeGlobalTableCommand")}},UG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(X_e).de(eSe).build(){static{u(this,"DescribeGlobalTableSettingsCommand")}},FG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(Q_e).de(tSe).build(){static{u(this,"DescribeImportCommand")}},BG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Z_e).de(rSe).build(){static{u(this,"DescribeKinesisStreamingDestinationCommand")}},jG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(eEe).de(nSe).build(){static{u(this,"DescribeLimitsCommand")}},sf=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(tEe).de(oSe).build(){static{u(this,"DescribeTableCommand")}},HG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(rEe).de(sSe).build(){static{u(this,"DescribeTableReplicaAutoScalingCommand")}},$G=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(nEe).de(iSe).build(){static{u(this,"DescribeTimeToLiveCommand")}},qG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(oEe).de(aSe).build(){static{u(this,"DisableKinesisStreamingDestinationCommand")}},zG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(sEe).de(cSe).build(){static{u(this,"EnableKinesisStreamingDestinationCommand")}},VG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(iEe).de(dSe).build(){static{u(this,"ExecuteStatementCommand")}},GG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(aEe).de(lSe).build(){static{u(this,"ExecuteTransactionCommand")}},WG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(cEe).de(uSe).build(){static{u(this,"ExportTableToPointInTimeCommand")}},KG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(dEe).de(pSe).build(){static{u(this,"GetItemCommand")}},JG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(lEe).de(mSe).build(){static{u(this,"GetResourcePolicyCommand")}},YG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"operationContextParams",get:u(e=>e?.TableCreationParameters?.TableName,"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(uEe).de(fSe).build(){static{u(this,"ImportTableCommand")}},XG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(pEe).de(hSe).build(){static{u(this,"ListBackupsCommand")}},Nb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(mEe).de(gSe).build(){static{u(this,"ListContributorInsightsCommand")}},Db=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(fEe).de(ySe).build(){static{u(this,"ListExportsCommand")}},QG=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(hEe).de(_Se).build(){static{u(this,"ListGlobalTablesCommand")}},Mb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(gEe).de(ESe).build(){static{u(this,"ListImportsCommand")}},kb=class extends m.Command.classBuilder().ep(B).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(yEe).de(SSe).build(){static{u(this,"ListTablesCommand")}},ZG=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(_Ee).de(vSe).build(){static{u(this,"ListTagsOfResourceCommand")}},e2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(EEe).de(bSe).build(){static{u(this,"PutItemCommand")}},t2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(SEe).de(wSe).build(){static{u(this,"PutResourcePolicyCommand")}},Lb=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(vEe).de(TSe).build(){static{u(this,"QueryCommand")}},r2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(bEe).de(CSe).build(){static{u(this,"RestoreTableFromBackupCommand")}},n2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(wEe).de(PSe).build(){static{u(this,"RestoreTableToPointInTimeCommand")}},Ub=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(TEe).de(ISe).build(){static{u(this,"ScanCommand")}},o2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(CEe).de(ASe).build(){static{u(this,"TagResourceCommand")}},s2=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>e?.TransactItems?.map(t=>t?.Get?.TableName),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(PEe).de(RSe).build(){static{u(this,"TransactGetItemsCommand")}},i2=class extends m.Command.classBuilder().ep({...B,ResourceArnList:{type:"operationContextParams",get:u(e=>e?.TransactItems?.map(t=>[t?.ConditionCheck?.TableName,t?.Put?.TableName,t?.Delete?.TableName,t?.Update?.TableName].filter(r=>r)).flat(),"get")}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(IEe).de(xSe).build(){static{u(this,"TransactWriteItemsCommand")}},a2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(AEe).de(OSe).build(){static{u(this,"UntagResourceCommand")}},c2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(REe).de(NSe).build(){static{u(this,"UpdateContinuousBackupsCommand")}},d2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(xEe).de(DSe).build(){static{u(this,"UpdateContributorInsightsCommand")}},l2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(OEe).de(MSe).build(){static{u(this,"UpdateGlobalTableCommand")}},u2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(NEe).de(kSe).build(){static{u(this,"UpdateGlobalTableSettingsCommand")}},p2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(DEe).de(LSe).build(){static{u(this,"UpdateItemCommand")}},m2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(MEe).de(USe).build(){static{u(this,"UpdateKinesisStreamingDestinationCommand")}},f2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(kEe).de(FSe).build(){static{u(this,"UpdateTableCommand")}},h2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(LEe).de(BSe).build(){static{u(this,"UpdateTableReplicaAutoScalingCommand")}},g2=class extends m.Command.classBuilder().ep({...B,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,t,r,n){return[(0,F.getSerdePlugin)(r,this.serialize,this.deserialize),(0,L.getEndpointPlugin)(r,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(UEe).de(jSe).build(){static{u(this,"UpdateTimeToLiveCommand")}},uTe={BatchExecuteStatementCommand:bG,BatchGetItemCommand:wG,BatchWriteItemCommand:TG,CreateBackupCommand:CG,CreateGlobalTableCommand:PG,CreateTableCommand:IG,DeleteBackupCommand:AG,DeleteItemCommand:RG,DeleteResourcePolicyCommand:xG,DeleteTableCommand:OG,DescribeBackupCommand:NG,DescribeContinuousBackupsCommand:DG,DescribeContributorInsightsCommand:MG,DescribeEndpointsCommand:Ob,DescribeExportCommand:kG,DescribeGlobalTableCommand:LG,DescribeGlobalTableSettingsCommand:UG,DescribeImportCommand:FG,DescribeKinesisStreamingDestinationCommand:BG,DescribeLimitsCommand:jG,DescribeTableCommand:sf,DescribeTableReplicaAutoScalingCommand:HG,DescribeTimeToLiveCommand:$G,DisableKinesisStreamingDestinationCommand:qG,EnableKinesisStreamingDestinationCommand:zG,ExecuteStatementCommand:VG,ExecuteTransactionCommand:GG,ExportTableToPointInTimeCommand:WG,GetItemCommand:KG,GetResourcePolicyCommand:JG,ImportTableCommand:YG,ListBackupsCommand:XG,ListContributorInsightsCommand:Nb,ListExportsCommand:Db,ListGlobalTablesCommand:QG,ListImportsCommand:Mb,ListTablesCommand:kb,ListTagsOfResourceCommand:ZG,PutItemCommand:e2,PutResourcePolicyCommand:t2,QueryCommand:Lb,RestoreTableFromBackupCommand:r2,RestoreTableToPointInTimeCommand:n2,ScanCommand:Ub,TagResourceCommand:o2,TransactGetItemsCommand:s2,TransactWriteItemsCommand:i2,UntagResourceCommand:a2,UpdateContinuousBackupsCommand:c2,UpdateContributorInsightsCommand:d2,UpdateGlobalTableCommand:l2,UpdateGlobalTableSettingsCommand:u2,UpdateItemCommand:p2,UpdateKinesisStreamingDestinationCommand:m2,UpdateTableCommand:f2,UpdateTableReplicaAutoScalingCommand:h2,UpdateTimeToLiveCommand:g2},y2=class extends jn{static{u(this,"DynamoDB")}};(0,m.createAggregatedClient)(uTe,y2);var pTe=(rt(),z(yt)),mTe=(0,pTe.createPaginator)(jn,Nb,"NextToken","NextToken","MaxResults"),fTe=(rt(),z(yt)),hTe=(0,fTe.createPaginator)(jn,Db,"NextToken","NextToken","MaxResults"),gTe=(rt(),z(yt)),yTe=(0,gTe.createPaginator)(jn,Mb,"NextToken","NextToken","PageSize"),_Te=(rt(),z(yt)),ETe=(0,_Te.createPaginator)(jn,kb,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),STe=(rt(),z(yt)),vTe=(0,STe.createPaginator)(jn,Lb,"ExclusiveStartKey","LastEvaluatedKey","Limit"),bTe=(rt(),z(yt)),wTe=(0,bTe.createPaginator)(jn,Ub,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Ht=Lz(),_2=u(async(e,t)=>{let r;try{let n=await e.send(new sf(t));r=n;try{if(u(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:Ht.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Ht.WaiterState.RETRY,reason:r}}return{state:Ht.WaiterState.RETRY,reason:r}},"checkState"),TTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Ht.createWaiter)({...r,...e},t,_2)},"waitForTableExists"),CTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Ht.createWaiter)({...r,...e},t,_2);return(0,Ht.checkExceptions)(n)},"waitUntilTableExists"),E2=u(async(e,t)=>{let r;try{r=await e.send(new sf(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Ht.WaiterState.SUCCESS,reason:r}}return{state:Ht.WaiterState.RETRY,reason:r}},"checkState"),PTe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120};return(0,Ht.createWaiter)({...r,...e},t,E2)},"waitForTableNotExists"),ITe=u(async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await(0,Ht.createWaiter)({...r,...e},t,E2);return(0,Ht.checkExceptions)(n)},"waitUntilTableNotExists")});d();var Hs=T(v2(),1),b2=new Hs.DynamoDBClient({region:process.env.AWS_REGION}),B8e=async e=>{try{let{gameId:t,userId:r,year:n}=e.queryStringParameters||{};if(!t||!r||!n)return{statusCode:400,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!1,message:"Missing required parameters: gameId, userId, year"})};let o=`GAME#${n}`,s=await b2.send(new Hs.GetItemCommand({TableName:process.env.DYNAMODB_TABLE_NAME,Key:{PK:{S:`${o}#METADATA`},SK:{S:t}}}));if(!s.Item)return{statusCode:404,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!1,message:"Game not found"})};let a=(await b2.send(new Hs.QueryCommand({TableName:process.env.DYNAMODB_TABLE_NAME,KeyConditionExpression:"PK = :pk AND begins_with(SK, :sk)",ExpressionAttributeValues:{":pk":{S:o},":sk":{S:"USER#"}}}))).Items?.filter(p=>p.game_id?.S===t)||[],c=a.map(p=>({userId:p.user_id?.S||"",nickname:p.nickname?.S||"",points:parseInt(p.points?.N||"0"),bonusPoints:parseInt(p.bonus_points?.N||"0"),jinglebells:parseInt(p.jinglebells?.N||"0"),nameplateStyle:p.nameplate_style?.S||"default",challengeStatus:JSON.parse(p.challenge_status?.S||"{}"),subscriptionStatus:p.subscription_status?.S||"trial",rank:0})).sort((p,f)=>f.points+f.bonusPoints-(p.points+p.bonusPoints));c.forEach((p,f)=>{p.rank=f+1});let l=c.find(p=>p.userId===r);return{statusCode:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!0,gameData:{gameId:t,gameName:s.Item.game_name?.S||"",startDate:s.Item.start_date?.S||"",adminMode:s.Item.admin_mode?.BOOL||!1,participantCount:a.length,customChallenges:JSON.parse(s.Item.custom_challenges?.S||"[]")},leaderboard:c,currentUser:l,message:"Game data retrieved successfully"})}}catch(t){return console.error("Error getting game data:",t),{statusCode:500,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization"},body:JSON.stringify({success:!1,message:"Failed to get game data"})}}};export{B8e as handler};
//# sourceMappingURL=index.mjs.map
